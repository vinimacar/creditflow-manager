var tOe=Object.defineProperty;var Bee=t=>{throw TypeError(t)};var rOe=(t,e,r)=>e in t?tOe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Le=(t,e,r)=>rOe(t,typeof e!="symbol"?e+"":e,r),Z7=(t,e,r)=>e.has(t)||Bee("Cannot "+r);var y=(t,e,r)=>(Z7(t,e,"read from private field"),r?r.call(t):e.get(t)),Q=(t,e,r)=>e.has(t)?Bee("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),H=(t,e,r,n)=>(Z7(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ie=(t,e,r)=>(Z7(t,e,"access private method"),r);var qs=(t,e,r,n)=>({set _(i){H(t,e,i,r)},get _(){return y(t,e,n)}});function nOe(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var t3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ki(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mpe={exports:{}},M6={},gpe={exports:{}},Pn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AO=Symbol.for("react.element"),iOe=Symbol.for("react.portal"),sOe=Symbol.for("react.fragment"),aOe=Symbol.for("react.strict_mode"),oOe=Symbol.for("react.profiler"),lOe=Symbol.for("react.provider"),cOe=Symbol.for("react.context"),uOe=Symbol.for("react.forward_ref"),dOe=Symbol.for("react.suspense"),hOe=Symbol.for("react.memo"),fOe=Symbol.for("react.lazy"),$ee=Symbol.iterator;function pOe(t){return t===null||typeof t!="object"?null:(t=$ee&&t[$ee]||t["@@iterator"],typeof t=="function"?t:null)}var vpe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ype=Object.assign,xpe={};function nC(t,e,r){this.props=t,this.context=e,this.refs=xpe,this.updater=r||vpe}nC.prototype.isReactComponent={};nC.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nC.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bpe(){}bpe.prototype=nC.prototype;function ZG(t,e,r){this.props=t,this.context=e,this.refs=xpe,this.updater=r||vpe}var QG=ZG.prototype=new bpe;QG.constructor=ZG;ype(QG,nC.prototype);QG.isPureReactComponent=!0;var Vee=Array.isArray,wpe=Object.prototype.hasOwnProperty,JG={current:null},_pe={key:!0,ref:!0,__self:!0,__source:!0};function Spe(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)wpe.call(e,n)&&!_pe.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:AO,type:t,key:s,ref:a,props:i,_owner:JG.current}}function mOe(t,e){return{$$typeof:AO,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function eK(t){return typeof t=="object"&&t!==null&&t.$$typeof===AO}function gOe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Uee=/\/+/g;function Q7(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gOe(""+t.key):e.toString(36)}function VD(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case AO:case iOe:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Q7(a,0):n,Vee(i)?(r="",t!=null&&(r=t.replace(Uee,"$&/")+"/"),VD(i,e,r,"",function(c){return c})):i!=null&&(eK(i)&&(i=mOe(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Uee,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",Vee(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+Q7(s,o);a+=VD(s,e,r,l,i)}else if(l=pOe(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+Q7(s,o++),a+=VD(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function r3(t,e,r){if(t==null)return t;var n=[],i=0;return VD(t,n,"","",function(s){return e.call(r,s,i++)}),n}function vOe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ec={current:null},UD={transition:null},yOe={ReactCurrentDispatcher:Ec,ReactCurrentBatchConfig:UD,ReactCurrentOwner:JG};function Ape(){throw Error("act(...) is not supported in production builds of React.")}Pn.Children={map:r3,forEach:function(t,e,r){r3(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return r3(t,function(){e++}),e},toArray:function(t){return r3(t,function(e){return e})||[]},only:function(t){if(!eK(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pn.Component=nC;Pn.Fragment=sOe;Pn.Profiler=oOe;Pn.PureComponent=ZG;Pn.StrictMode=aOe;Pn.Suspense=dOe;Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yOe;Pn.act=Ape;Pn.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ype({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=JG.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)wpe.call(e,l)&&!_pe.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:AO,type:t.type,key:i,ref:s,props:n,_owner:a}};Pn.createContext=function(t){return t={$$typeof:cOe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lOe,_context:t},t.Consumer=t};Pn.createElement=Spe;Pn.createFactory=function(t){var e=Spe.bind(null,t);return e.type=t,e};Pn.createRef=function(){return{current:null}};Pn.forwardRef=function(t){return{$$typeof:uOe,render:t}};Pn.isValidElement=eK;Pn.lazy=function(t){return{$$typeof:fOe,_payload:{_status:-1,_result:t},_init:vOe}};Pn.memo=function(t,e){return{$$typeof:hOe,type:t,compare:e===void 0?null:e}};Pn.startTransition=function(t){var e=UD.transition;UD.transition={};try{t()}finally{UD.transition=e}};Pn.unstable_act=Ape;Pn.useCallback=function(t,e){return Ec.current.useCallback(t,e)};Pn.useContext=function(t){return Ec.current.useContext(t)};Pn.useDebugValue=function(){};Pn.useDeferredValue=function(t){return Ec.current.useDeferredValue(t)};Pn.useEffect=function(t,e){return Ec.current.useEffect(t,e)};Pn.useId=function(){return Ec.current.useId()};Pn.useImperativeHandle=function(t,e,r){return Ec.current.useImperativeHandle(t,e,r)};Pn.useInsertionEffect=function(t,e){return Ec.current.useInsertionEffect(t,e)};Pn.useLayoutEffect=function(t,e){return Ec.current.useLayoutEffect(t,e)};Pn.useMemo=function(t,e){return Ec.current.useMemo(t,e)};Pn.useReducer=function(t,e,r){return Ec.current.useReducer(t,e,r)};Pn.useRef=function(t){return Ec.current.useRef(t)};Pn.useState=function(t){return Ec.current.useState(t)};Pn.useSyncExternalStore=function(t,e,r){return Ec.current.useSyncExternalStore(t,e,r)};Pn.useTransition=function(){return Ec.current.useTransition()};Pn.version="18.3.1";gpe.exports=Pn;var O=gpe.exports;const Ae=ki(O),tK=nOe({__proto__:null,default:Ae},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xOe=O,bOe=Symbol.for("react.element"),wOe=Symbol.for("react.fragment"),_Oe=Object.prototype.hasOwnProperty,SOe=xOe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AOe={key:!0,ref:!0,__self:!0,__source:!0};function Epe(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)_Oe.call(e,n)&&!AOe.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:bOe,type:t,key:s,ref:a,props:i,_owner:SOe.current}}M6.Fragment=wOe;M6.jsx=Epe;M6.jsxs=Epe;mpe.exports=M6;var p=mpe.exports,Tpe={exports:{}},bd={},Cpe={exports:{}},kpe={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,B){var re=G.length;G.push(B);e:for(;0<re;){var ae=re-1>>>1,R=G[ae];if(0<i(R,B))G[ae]=B,G[re]=R,re=ae;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var B=G[0],re=G.pop();if(re!==B){G[0]=re;e:for(var ae=0,R=G.length,j=R>>>1;ae<j;){var V=2*(ae+1)-1,K=G[V],ne=V+1,J=G[ne];if(0>i(K,re))ne<R&&0>i(J,K)?(G[ae]=J,G[ne]=re,ae=ne):(G[ae]=K,G[V]=re,ae=V);else if(ne<R&&0>i(J,re))G[ae]=J,G[ne]=re,ae=ne;else break e}}return B}function i(G,B){var re=G.sortIndex-B.sortIndex;return re!==0?re:G.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,f=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(G){for(var B=r(c);B!==null;){if(B.callback===null)n(c);else if(B.startTime<=G)n(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=r(c)}}function _(G){if(m=!1,b(G),!g)if(r(l)!==null)g=!0,X(S);else{var B=r(c);B!==null&&W(_,B.startTime-G)}}function S(G,B){g=!1,m&&(m=!1,x(C),C=-1),f=!0;var re=h;try{for(b(B),d=r(l);d!==null&&(!(d.expirationTime>B)||G&&!A());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,h=d.priorityLevel;var R=ae(d.expirationTime<=B);B=t.unstable_now(),typeof R=="function"?d.callback=R:d===r(l)&&n(l),b(B)}else n(l);d=r(l)}if(d!==null)var j=!0;else{var V=r(c);V!==null&&W(_,V.startTime-B),j=!1}return j}finally{d=null,h=re,f=!1}}var T=!1,E=null,C=-1,N=5,F=-1;function A(){return!(t.unstable_now()-F<N)}function I(){if(E!==null){var G=t.unstable_now();F=G;var B=!0;try{B=E(!0,G)}finally{B?M():(T=!1,E=null)}}else T=!1}var M;if(typeof w=="function")M=function(){w(I)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Y=U.port2;U.port1.onmessage=I,M=function(){Y.postMessage(null)}}else M=function(){v(I,0)};function X(G){E=G,T||(T=!0,M())}function W(G,B){C=v(function(){G(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,X(S))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(G){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var re=h;h=B;try{return G()}finally{h=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,B){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var re=h;h=G;try{return B()}finally{h=re}},t.unstable_scheduleCallback=function(G,B,re){var ae=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ae+re:ae):re=ae,G){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=re+R,G={id:u++,callback:B,priorityLevel:G,startTime:re,expirationTime:R,sortIndex:-1},re>ae?(G.sortIndex=re,e(c,G),r(l)===null&&G===r(c)&&(m?(x(C),C=-1):m=!0,W(_,re-ae))):(G.sortIndex=R,e(l,G),g||f||(g=!0,X(S))),G},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(G){var B=h;return function(){var re=h;h=B;try{return G.apply(this,arguments)}finally{h=re}}}})(kpe);Cpe.exports=kpe;var EOe=Cpe.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TOe=O,md=EOe;function Ot(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ppe=new Set,kP={};function W_(t,e){tT(t,e),tT(t+"Capture",e)}function tT(t,e){for(kP[t]=e,t=0;t<e.length;t++)Ppe.add(e[t])}var Tg=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aU=Object.prototype.hasOwnProperty,COe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zee={},Hee={};function kOe(t){return aU.call(Hee,t)?!0:aU.call(zee,t)?!1:COe.test(t)?Hee[t]=!0:(zee[t]=!0,!1)}function POe(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NOe(t,e,r,n){if(e===null||typeof e>"u"||POe(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tc(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var sl={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){sl[t]=new Tc(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];sl[e]=new Tc(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){sl[t]=new Tc(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){sl[t]=new Tc(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){sl[t]=new Tc(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){sl[t]=new Tc(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){sl[t]=new Tc(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){sl[t]=new Tc(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){sl[t]=new Tc(t,5,!1,t.toLowerCase(),null,!1,!1)});var rK=/[\-:]([a-z])/g;function nK(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rK,nK);sl[e]=new Tc(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rK,nK);sl[e]=new Tc(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rK,nK);sl[e]=new Tc(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){sl[t]=new Tc(t,1,!1,t.toLowerCase(),null,!1,!1)});sl.xlinkHref=new Tc("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){sl[t]=new Tc(t,1,!1,t.toLowerCase(),null,!0,!0)});function iK(t,e,r,n){var i=sl.hasOwnProperty(e)?sl[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NOe(e,r,i,n)&&(r=null),n||i===null?kOe(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Zg=TOe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,n3=Symbol.for("react.element"),vS=Symbol.for("react.portal"),yS=Symbol.for("react.fragment"),sK=Symbol.for("react.strict_mode"),oU=Symbol.for("react.profiler"),Npe=Symbol.for("react.provider"),Ipe=Symbol.for("react.context"),aK=Symbol.for("react.forward_ref"),lU=Symbol.for("react.suspense"),cU=Symbol.for("react.suspense_list"),oK=Symbol.for("react.memo"),Vv=Symbol.for("react.lazy"),Ope=Symbol.for("react.offscreen"),Wee=Symbol.iterator;function hk(t){return t===null||typeof t!="object"?null:(t=Wee&&t[Wee]||t["@@iterator"],typeof t=="function"?t:null)}var Vs=Object.assign,J7;function Xk(t){if(J7===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);J7=e&&e[1]||""}return`
`+J7+t}var e$=!1;function t$(t,e){if(!t||e$)return"";e$=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{e$=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Xk(t):""}function IOe(t){switch(t.tag){case 5:return Xk(t.type);case 16:return Xk("Lazy");case 13:return Xk("Suspense");case 19:return Xk("SuspenseList");case 0:case 2:case 15:return t=t$(t.type,!1),t;case 11:return t=t$(t.type.render,!1),t;case 1:return t=t$(t.type,!0),t;default:return""}}function uU(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yS:return"Fragment";case vS:return"Portal";case oU:return"Profiler";case sK:return"StrictMode";case lU:return"Suspense";case cU:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ipe:return(t.displayName||"Context")+".Consumer";case Npe:return(t._context.displayName||"Context")+".Provider";case aK:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case oK:return e=t.displayName||null,e!==null?e:uU(t.type)||"Memo";case Vv:e=t._payload,t=t._init;try{return uU(t(e))}catch{}}return null}function OOe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uU(e);case 8:return e===sK?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oy(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rpe(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ROe(t){var e=Rpe(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function i3(t){t._valueTracker||(t._valueTracker=ROe(t))}function Dpe(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Rpe(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function uF(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dU(t,e){var r=e.checked;return Vs({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function qee(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Oy(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Mpe(t,e){e=e.checked,e!=null&&iK(t,"checked",e,!1)}function hU(t,e){Mpe(t,e);var r=Oy(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fU(t,e.type,r):e.hasOwnProperty("defaultValue")&&fU(t,e.type,Oy(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Gee(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function fU(t,e,r){(e!=="number"||uF(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Zk=Array.isArray;function $S(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Oy(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function pU(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ot(91));return Vs({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Kee(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ot(92));if(Zk(r)){if(1<r.length)throw Error(Ot(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Oy(r)}}function Fpe(t,e){var r=Oy(e.value),n=Oy(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Yee(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jpe(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mU(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jpe(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var s3,Lpe=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(s3=s3||document.createElement("div"),s3.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=s3.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function PP(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var V5={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DOe=["Webkit","ms","Moz","O"];Object.keys(V5).forEach(function(t){DOe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),V5[e]=V5[t]})});function Bpe(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||V5.hasOwnProperty(t)&&V5[t]?(""+e).trim():e+"px"}function $pe(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Bpe(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var MOe=Vs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gU(t,e){if(e){if(MOe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ot(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ot(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ot(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ot(62))}}function vU(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yU=null;function lK(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xU=null,VS=null,US=null;function Xee(t){if(t=CO(t)){if(typeof xU!="function")throw Error(Ot(280));var e=t.stateNode;e&&(e=$6(e),xU(t.stateNode,t.type,e))}}function Vpe(t){VS?US?US.push(t):US=[t]:VS=t}function Upe(){if(VS){var t=VS,e=US;if(US=VS=null,Xee(t),e)for(t=0;t<e.length;t++)Xee(e[t])}}function zpe(t,e){return t(e)}function Hpe(){}var r$=!1;function Wpe(t,e,r){if(r$)return t(e,r);r$=!0;try{return zpe(t,e,r)}finally{r$=!1,(VS!==null||US!==null)&&(Hpe(),Upe())}}function NP(t,e){var r=t.stateNode;if(r===null)return null;var n=$6(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ot(231,e,typeof r));return r}var bU=!1;if(Tg)try{var fk={};Object.defineProperty(fk,"passive",{get:function(){bU=!0}}),window.addEventListener("test",fk,fk),window.removeEventListener("test",fk,fk)}catch{bU=!1}function FOe(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var U5=!1,dF=null,hF=!1,wU=null,jOe={onError:function(t){U5=!0,dF=t}};function LOe(t,e,r,n,i,s,a,o,l){U5=!1,dF=null,FOe.apply(jOe,arguments)}function BOe(t,e,r,n,i,s,a,o,l){if(LOe.apply(this,arguments),U5){if(U5){var c=dF;U5=!1,dF=null}else throw Error(Ot(198));hF||(hF=!0,wU=c)}}function q_(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function qpe(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zee(t){if(q_(t)!==t)throw Error(Ot(188))}function $Oe(t){var e=t.alternate;if(!e){if(e=q_(t),e===null)throw Error(Ot(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Zee(i),t;if(s===n)return Zee(i),e;s=s.sibling}throw Error(Ot(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Ot(189))}}if(r.alternate!==n)throw Error(Ot(190))}if(r.tag!==3)throw Error(Ot(188));return r.stateNode.current===r?t:e}function Gpe(t){return t=$Oe(t),t!==null?Kpe(t):null}function Kpe(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Kpe(t);if(e!==null)return e;t=t.sibling}return null}var Ype=md.unstable_scheduleCallback,Qee=md.unstable_cancelCallback,VOe=md.unstable_shouldYield,UOe=md.unstable_requestPaint,ga=md.unstable_now,zOe=md.unstable_getCurrentPriorityLevel,cK=md.unstable_ImmediatePriority,Xpe=md.unstable_UserBlockingPriority,fF=md.unstable_NormalPriority,HOe=md.unstable_LowPriority,Zpe=md.unstable_IdlePriority,F6=null,cm=null;function WOe(t){if(cm&&typeof cm.onCommitFiberRoot=="function")try{cm.onCommitFiberRoot(F6,t,void 0,(t.current.flags&128)===128)}catch{}}var Af=Math.clz32?Math.clz32:KOe,qOe=Math.log,GOe=Math.LN2;function KOe(t){return t>>>=0,t===0?32:31-(qOe(t)/GOe|0)|0}var a3=64,o3=4194304;function Qk(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pF(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Qk(o):(s&=a,s!==0&&(n=Qk(s)))}else a=r&~i,a!==0?n=Qk(a):s!==0&&(n=Qk(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Af(e),i=1<<r,n|=t[r],e&=~i;return n}function YOe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XOe(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Af(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=YOe(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function _U(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qpe(){var t=a3;return a3<<=1,!(a3&4194240)&&(a3=64),t}function n$(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function EO(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Af(e),t[e]=r}function ZOe(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Af(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function uK(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Af(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ci=0;function Jpe(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eme,dK,tme,rme,nme,SU=!1,l3=[],dy=null,hy=null,fy=null,IP=new Map,OP=new Map,Wv=[],QOe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jee(t,e){switch(t){case"focusin":case"focusout":dy=null;break;case"dragenter":case"dragleave":hy=null;break;case"mouseover":case"mouseout":fy=null;break;case"pointerover":case"pointerout":IP.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":OP.delete(e.pointerId)}}function pk(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=CO(e),e!==null&&dK(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function JOe(t,e,r,n,i){switch(e){case"focusin":return dy=pk(dy,t,e,r,n,i),!0;case"dragenter":return hy=pk(hy,t,e,r,n,i),!0;case"mouseover":return fy=pk(fy,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return IP.set(s,pk(IP.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,OP.set(s,pk(OP.get(s)||null,t,e,r,n,i)),!0}return!1}function ime(t){var e=ab(t.target);if(e!==null){var r=q_(e);if(r!==null){if(e=r.tag,e===13){if(e=qpe(r),e!==null){t.blockedOn=e,nme(t.priority,function(){tme(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zD(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=AU(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);yU=n,r.target.dispatchEvent(n),yU=null}else return e=CO(r),e!==null&&dK(e),t.blockedOn=r,!1;e.shift()}return!0}function ete(t,e,r){zD(t)&&r.delete(e)}function eRe(){SU=!1,dy!==null&&zD(dy)&&(dy=null),hy!==null&&zD(hy)&&(hy=null),fy!==null&&zD(fy)&&(fy=null),IP.forEach(ete),OP.forEach(ete)}function mk(t,e){t.blockedOn===e&&(t.blockedOn=null,SU||(SU=!0,md.unstable_scheduleCallback(md.unstable_NormalPriority,eRe)))}function RP(t){function e(i){return mk(i,t)}if(0<l3.length){mk(l3[0],t);for(var r=1;r<l3.length;r++){var n=l3[r];n.blockedOn===t&&(n.blockedOn=null)}}for(dy!==null&&mk(dy,t),hy!==null&&mk(hy,t),fy!==null&&mk(fy,t),IP.forEach(e),OP.forEach(e),r=0;r<Wv.length;r++)n=Wv[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Wv.length&&(r=Wv[0],r.blockedOn===null);)ime(r),r.blockedOn===null&&Wv.shift()}var zS=Zg.ReactCurrentBatchConfig,mF=!0;function tRe(t,e,r,n){var i=Ci,s=zS.transition;zS.transition=null;try{Ci=1,hK(t,e,r,n)}finally{Ci=i,zS.transition=s}}function rRe(t,e,r,n){var i=Ci,s=zS.transition;zS.transition=null;try{Ci=4,hK(t,e,r,n)}finally{Ci=i,zS.transition=s}}function hK(t,e,r,n){if(mF){var i=AU(t,e,r,n);if(i===null)f$(t,e,n,gF,r),Jee(t,n);else if(JOe(i,t,e,r,n))n.stopPropagation();else if(Jee(t,n),e&4&&-1<QOe.indexOf(t)){for(;i!==null;){var s=CO(i);if(s!==null&&eme(s),s=AU(t,e,r,n),s===null&&f$(t,e,n,gF,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else f$(t,e,n,null,r)}}var gF=null;function AU(t,e,r,n){if(gF=null,t=lK(n),t=ab(t),t!==null)if(e=q_(t),e===null)t=null;else if(r=e.tag,r===13){if(t=qpe(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gF=t,null}function sme(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zOe()){case cK:return 1;case Xpe:return 4;case fF:case HOe:return 16;case Zpe:return 536870912;default:return 16}default:return 16}}var X1=null,fK=null,HD=null;function ame(){if(HD)return HD;var t,e=fK,r=e.length,n,i="value"in X1?X1.value:X1.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return HD=i.slice(t,1<n?1-n:void 0)}function WD(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function c3(){return!0}function tte(){return!1}function wd(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?c3:tte,this.isPropagationStopped=tte,this}return Vs(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=c3)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=c3)},persist:function(){},isPersistent:c3}),e}var iC={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pK=wd(iC),TO=Vs({},iC,{view:0,detail:0}),nRe=wd(TO),i$,s$,gk,j6=Vs({},TO,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mK,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gk&&(gk&&t.type==="mousemove"?(i$=t.screenX-gk.screenX,s$=t.screenY-gk.screenY):s$=i$=0,gk=t),i$)},movementY:function(t){return"movementY"in t?t.movementY:s$}}),rte=wd(j6),iRe=Vs({},j6,{dataTransfer:0}),sRe=wd(iRe),aRe=Vs({},TO,{relatedTarget:0}),a$=wd(aRe),oRe=Vs({},iC,{animationName:0,elapsedTime:0,pseudoElement:0}),lRe=wd(oRe),cRe=Vs({},iC,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uRe=wd(cRe),dRe=Vs({},iC,{data:0}),nte=wd(dRe),hRe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fRe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pRe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mRe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pRe[t])?!!e[t]:!1}function mK(){return mRe}var gRe=Vs({},TO,{key:function(t){if(t.key){var e=hRe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=WD(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fRe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mK,charCode:function(t){return t.type==="keypress"?WD(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?WD(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vRe=wd(gRe),yRe=Vs({},j6,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ite=wd(yRe),xRe=Vs({},TO,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mK}),bRe=wd(xRe),wRe=Vs({},iC,{propertyName:0,elapsedTime:0,pseudoElement:0}),_Re=wd(wRe),SRe=Vs({},j6,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ARe=wd(SRe),ERe=[9,13,27,32],gK=Tg&&"CompositionEvent"in window,z5=null;Tg&&"documentMode"in document&&(z5=document.documentMode);var TRe=Tg&&"TextEvent"in window&&!z5,ome=Tg&&(!gK||z5&&8<z5&&11>=z5),ste=" ",ate=!1;function lme(t,e){switch(t){case"keyup":return ERe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cme(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xS=!1;function CRe(t,e){switch(t){case"compositionend":return cme(e);case"keypress":return e.which!==32?null:(ate=!0,ste);case"textInput":return t=e.data,t===ste&&ate?null:t;default:return null}}function kRe(t,e){if(xS)return t==="compositionend"||!gK&&lme(t,e)?(t=ame(),HD=fK=X1=null,xS=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ome&&e.locale!=="ko"?null:e.data;default:return null}}var PRe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ote(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PRe[t.type]:e==="textarea"}function ume(t,e,r,n){Vpe(n),e=vF(e,"onChange"),0<e.length&&(r=new pK("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var H5=null,DP=null;function NRe(t){wme(t,0)}function L6(t){var e=_S(t);if(Dpe(e))return t}function IRe(t,e){if(t==="change")return e}var dme=!1;if(Tg){var o$;if(Tg){var l$="oninput"in document;if(!l$){var lte=document.createElement("div");lte.setAttribute("oninput","return;"),l$=typeof lte.oninput=="function"}o$=l$}else o$=!1;dme=o$&&(!document.documentMode||9<document.documentMode)}function cte(){H5&&(H5.detachEvent("onpropertychange",hme),DP=H5=null)}function hme(t){if(t.propertyName==="value"&&L6(DP)){var e=[];ume(e,DP,t,lK(t)),Wpe(NRe,e)}}function ORe(t,e,r){t==="focusin"?(cte(),H5=e,DP=r,H5.attachEvent("onpropertychange",hme)):t==="focusout"&&cte()}function RRe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return L6(DP)}function DRe(t,e){if(t==="click")return L6(e)}function MRe(t,e){if(t==="input"||t==="change")return L6(e)}function FRe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nf=typeof Object.is=="function"?Object.is:FRe;function MP(t,e){if(Nf(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!aU.call(e,i)||!Nf(t[i],e[i]))return!1}return!0}function ute(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dte(t,e){var r=ute(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ute(r)}}function fme(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fme(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pme(){for(var t=window,e=uF();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=uF(t.document)}return e}function vK(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jRe(t){var e=pme(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&fme(r.ownerDocument.documentElement,r)){if(n!==null&&vK(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=dte(r,s);var a=dte(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LRe=Tg&&"documentMode"in document&&11>=document.documentMode,bS=null,EU=null,W5=null,TU=!1;function hte(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;TU||bS==null||bS!==uF(n)||(n=bS,"selectionStart"in n&&vK(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),W5&&MP(W5,n)||(W5=n,n=vF(EU,"onSelect"),0<n.length&&(e=new pK("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=bS)))}function u3(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var wS={animationend:u3("Animation","AnimationEnd"),animationiteration:u3("Animation","AnimationIteration"),animationstart:u3("Animation","AnimationStart"),transitionend:u3("Transition","TransitionEnd")},c$={},mme={};Tg&&(mme=document.createElement("div").style,"AnimationEvent"in window||(delete wS.animationend.animation,delete wS.animationiteration.animation,delete wS.animationstart.animation),"TransitionEvent"in window||delete wS.transitionend.transition);function B6(t){if(c$[t])return c$[t];if(!wS[t])return t;var e=wS[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in mme)return c$[t]=e[r];return t}var gme=B6("animationend"),vme=B6("animationiteration"),yme=B6("animationstart"),xme=B6("transitionend"),bme=new Map,fte="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nx(t,e){bme.set(t,e),W_(e,[t])}for(var u$=0;u$<fte.length;u$++){var d$=fte[u$],BRe=d$.toLowerCase(),$Re=d$[0].toUpperCase()+d$.slice(1);nx(BRe,"on"+$Re)}nx(gme,"onAnimationEnd");nx(vme,"onAnimationIteration");nx(yme,"onAnimationStart");nx("dblclick","onDoubleClick");nx("focusin","onFocus");nx("focusout","onBlur");nx(xme,"onTransitionEnd");tT("onMouseEnter",["mouseout","mouseover"]);tT("onMouseLeave",["mouseout","mouseover"]);tT("onPointerEnter",["pointerout","pointerover"]);tT("onPointerLeave",["pointerout","pointerover"]);W_("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));W_("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));W_("onBeforeInput",["compositionend","keypress","textInput","paste"]);W_("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));W_("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));W_("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jk="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VRe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jk));function pte(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,BOe(n,e,void 0,t),t.currentTarget=null}function wme(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;pte(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;pte(i,o,c),s=l}}}if(hF)throw t=wU,hF=!1,wU=null,t}function ps(t,e){var r=e[IU];r===void 0&&(r=e[IU]=new Set);var n=t+"__bubble";r.has(n)||(_me(e,t,2,!1),r.add(n))}function h$(t,e,r){var n=0;e&&(n|=4),_me(r,t,n,e)}var d3="_reactListening"+Math.random().toString(36).slice(2);function FP(t){if(!t[d3]){t[d3]=!0,Ppe.forEach(function(r){r!=="selectionchange"&&(VRe.has(r)||h$(r,!1,t),h$(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[d3]||(e[d3]=!0,h$("selectionchange",!1,e))}}function _me(t,e,r,n){switch(sme(e)){case 1:var i=tRe;break;case 4:i=rRe;break;default:i=hK}r=i.bind(null,e,r,t),i=void 0,!bU||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function f$(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ab(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}Wpe(function(){var c=s,u=lK(r),d=[];e:{var h=bme.get(t);if(h!==void 0){var f=pK,g=t;switch(t){case"keypress":if(WD(r)===0)break e;case"keydown":case"keyup":f=vRe;break;case"focusin":g="focus",f=a$;break;case"focusout":g="blur",f=a$;break;case"beforeblur":case"afterblur":f=a$;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=rte;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=sRe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=bRe;break;case gme:case vme:case yme:f=lRe;break;case xme:f=_Re;break;case"scroll":f=nRe;break;case"wheel":f=ARe;break;case"copy":case"cut":case"paste":f=uRe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=ite}var m=(e&4)!==0,v=!m&&t==="scroll",x=m?h!==null?h+"Capture":null:h;m=[];for(var w=c,b;w!==null;){b=w;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,x!==null&&(_=NP(w,x),_!=null&&m.push(jP(w,_,b)))),v)break;w=w.return}0<m.length&&(h=new f(h,g,null,r,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&r!==yU&&(g=r.relatedTarget||r.fromElement)&&(ab(g)||g[Cg]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=r.relatedTarget||r.toElement,f=c,g=g?ab(g):null,g!==null&&(v=q_(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=c),f!==g)){if(m=rte,_="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(m=ite,_="onPointerLeave",x="onPointerEnter",w="pointer"),v=f==null?h:_S(f),b=g==null?h:_S(g),h=new m(_,w+"leave",f,r,u),h.target=v,h.relatedTarget=b,_=null,ab(u)===c&&(m=new m(x,w+"enter",g,r,u),m.target=b,m.relatedTarget=v,_=m),v=_,f&&g)t:{for(m=f,x=g,w=0,b=m;b;b=D2(b))w++;for(b=0,_=x;_;_=D2(_))b++;for(;0<w-b;)m=D2(m),w--;for(;0<b-w;)x=D2(x),b--;for(;w--;){if(m===x||x!==null&&m===x.alternate)break t;m=D2(m),x=D2(x)}m=null}else m=null;f!==null&&mte(d,h,f,m,!1),g!==null&&v!==null&&mte(d,v,g,m,!0)}}e:{if(h=c?_S(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=IRe;else if(ote(h))if(dme)S=MRe;else{S=RRe;var T=ORe}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=DRe);if(S&&(S=S(t,c))){ume(d,S,r,u);break e}T&&T(t,h,c),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&fU(h,"number",h.value)}switch(T=c?_S(c):window,t){case"focusin":(ote(T)||T.contentEditable==="true")&&(bS=T,EU=c,W5=null);break;case"focusout":W5=EU=bS=null;break;case"mousedown":TU=!0;break;case"contextmenu":case"mouseup":case"dragend":TU=!1,hte(d,r,u);break;case"selectionchange":if(LRe)break;case"keydown":case"keyup":hte(d,r,u)}var E;if(gK)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else xS?lme(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(ome&&r.locale!=="ko"&&(xS||C!=="onCompositionStart"?C==="onCompositionEnd"&&xS&&(E=ame()):(X1=u,fK="value"in X1?X1.value:X1.textContent,xS=!0)),T=vF(c,C),0<T.length&&(C=new nte(C,t,null,r,u),d.push({event:C,listeners:T}),E?C.data=E:(E=cme(r),E!==null&&(C.data=E)))),(E=TRe?CRe(t,r):kRe(t,r))&&(c=vF(c,"onBeforeInput"),0<c.length&&(u=new nte("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=E))}wme(d,e)})}function jP(t,e,r){return{instance:t,listener:e,currentTarget:r}}function vF(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=NP(t,r),s!=null&&n.unshift(jP(t,s,i)),s=NP(t,e),s!=null&&n.push(jP(t,s,i))),t=t.return}return n}function D2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mte(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=NP(r,s),l!=null&&a.unshift(jP(r,l,o))):i||(l=NP(r,s),l!=null&&a.push(jP(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var URe=/\r\n?/g,zRe=/\u0000|\uFFFD/g;function gte(t){return(typeof t=="string"?t:""+t).replace(URe,`
`).replace(zRe,"")}function h3(t,e,r){if(e=gte(e),gte(t)!==e&&r)throw Error(Ot(425))}function yF(){}var CU=null,kU=null;function PU(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var NU=typeof setTimeout=="function"?setTimeout:void 0,HRe=typeof clearTimeout=="function"?clearTimeout:void 0,vte=typeof Promise=="function"?Promise:void 0,WRe=typeof queueMicrotask=="function"?queueMicrotask:typeof vte<"u"?function(t){return vte.resolve(null).then(t).catch(qRe)}:NU;function qRe(t){setTimeout(function(){throw t})}function p$(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),RP(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);RP(e)}function py(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yte(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var sC=Math.random().toString(36).slice(2),Xp="__reactFiber$"+sC,LP="__reactProps$"+sC,Cg="__reactContainer$"+sC,IU="__reactEvents$"+sC,GRe="__reactListeners$"+sC,KRe="__reactHandles$"+sC;function ab(t){var e=t[Xp];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Cg]||r[Xp]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=yte(t);t!==null;){if(r=t[Xp])return r;t=yte(t)}return e}t=r,r=t.parentNode}return null}function CO(t){return t=t[Xp]||t[Cg],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _S(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ot(33))}function $6(t){return t[LP]||null}var OU=[],SS=-1;function ix(t){return{current:t}}function _s(t){0>SS||(t.current=OU[SS],OU[SS]=null,SS--)}function os(t,e){SS++,OU[SS]=t.current,t.current=e}var Ry={},$l=ix(Ry),au=ix(!1),a_=Ry;function rT(t,e){var r=t.type.contextTypes;if(!r)return Ry;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ou(t){return t=t.childContextTypes,t!=null}function xF(){_s(au),_s($l)}function xte(t,e,r){if($l.current!==Ry)throw Error(Ot(168));os($l,e),os(au,r)}function Sme(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Ot(108,OOe(t)||"Unknown",i));return Vs({},r,n)}function bF(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ry,a_=$l.current,os($l,t),os(au,au.current),!0}function bte(t,e,r){var n=t.stateNode;if(!n)throw Error(Ot(169));r?(t=Sme(t,e,a_),n.__reactInternalMemoizedMergedChildContext=t,_s(au),_s($l),os($l,t)):_s(au),os(au,r)}var h0=null,V6=!1,m$=!1;function Ame(t){h0===null?h0=[t]:h0.push(t)}function YRe(t){V6=!0,Ame(t)}function sx(){if(!m$&&h0!==null){m$=!0;var t=0,e=Ci;try{var r=h0;for(Ci=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}h0=null,V6=!1}catch(i){throw h0!==null&&(h0=h0.slice(t+1)),Ype(cK,sx),i}finally{Ci=e,m$=!1}}return null}var AS=[],ES=0,wF=null,_F=0,sh=[],ah=0,o_=null,tg=1,rg="";function Vx(t,e){AS[ES++]=_F,AS[ES++]=wF,wF=t,_F=e}function Eme(t,e,r){sh[ah++]=tg,sh[ah++]=rg,sh[ah++]=o_,o_=t;var n=tg;t=rg;var i=32-Af(n)-1;n&=~(1<<i),r+=1;var s=32-Af(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,tg=1<<32-Af(e)+i|r<<i|n,rg=s+t}else tg=1<<s|r<<i|n,rg=t}function yK(t){t.return!==null&&(Vx(t,1),Eme(t,1,0))}function xK(t){for(;t===wF;)wF=AS[--ES],AS[ES]=null,_F=AS[--ES],AS[ES]=null;for(;t===o_;)o_=sh[--ah],sh[ah]=null,rg=sh[--ah],sh[ah]=null,tg=sh[--ah],sh[ah]=null}var dd=null,od=null,Ps=!1,mf=null;function Tme(t,e){var r=dh(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function wte(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dd=t,od=py(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dd=t,od=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=o_!==null?{id:tg,overflow:rg}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=dh(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,dd=t,od=null,!0):!1;default:return!1}}function RU(t){return(t.mode&1)!==0&&(t.flags&128)===0}function DU(t){if(Ps){var e=od;if(e){var r=e;if(!wte(t,e)){if(RU(t))throw Error(Ot(418));e=py(r.nextSibling);var n=dd;e&&wte(t,e)?Tme(n,r):(t.flags=t.flags&-4097|2,Ps=!1,dd=t)}}else{if(RU(t))throw Error(Ot(418));t.flags=t.flags&-4097|2,Ps=!1,dd=t}}}function _te(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dd=t}function f3(t){if(t!==dd)return!1;if(!Ps)return _te(t),Ps=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!PU(t.type,t.memoizedProps)),e&&(e=od)){if(RU(t))throw Cme(),Error(Ot(418));for(;e;)Tme(t,e),e=py(e.nextSibling)}if(_te(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ot(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){od=py(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}od=null}}else od=dd?py(t.stateNode.nextSibling):null;return!0}function Cme(){for(var t=od;t;)t=py(t.nextSibling)}function nT(){od=dd=null,Ps=!1}function bK(t){mf===null?mf=[t]:mf.push(t)}var XRe=Zg.ReactCurrentBatchConfig;function vk(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ot(309));var n=r.stateNode}if(!n)throw Error(Ot(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ot(284));if(!r._owner)throw Error(Ot(290,t))}return t}function p3(t,e){throw t=Object.prototype.toString.call(e),Error(Ot(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ste(t){var e=t._init;return e(t._payload)}function kme(t){function e(x,w){if(t){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function r(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=yy(x,w),x.index=0,x.sibling=null,x}function s(x,w,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,w,b,_){return w===null||w.tag!==6?(w=_$(b,x.mode,_),w.return=x,w):(w=i(w,b),w.return=x,w)}function l(x,w,b,_){var S=b.type;return S===yS?u(x,w,b.props.children,_,b.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vv&&Ste(S)===w.type)?(_=i(w,b.props),_.ref=vk(x,w,b),_.return=x,_):(_=QD(b.type,b.key,b.props,null,x.mode,_),_.ref=vk(x,w,b),_.return=x,_)}function c(x,w,b,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=S$(b,x.mode,_),w.return=x,w):(w=i(w,b.children||[]),w.return=x,w)}function u(x,w,b,_,S){return w===null||w.tag!==7?(w=qw(b,x.mode,_,S),w.return=x,w):(w=i(w,b),w.return=x,w)}function d(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=_$(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case n3:return b=QD(w.type,w.key,w.props,null,x.mode,b),b.ref=vk(x,null,w),b.return=x,b;case vS:return w=S$(w,x.mode,b),w.return=x,w;case Vv:var _=w._init;return d(x,_(w._payload),b)}if(Zk(w)||hk(w))return w=qw(w,x.mode,b,null),w.return=x,w;p3(x,w)}return null}function h(x,w,b,_){var S=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:o(x,w,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case n3:return b.key===S?l(x,w,b,_):null;case vS:return b.key===S?c(x,w,b,_):null;case Vv:return S=b._init,h(x,w,S(b._payload),_)}if(Zk(b)||hk(b))return S!==null?null:u(x,w,b,_,null);p3(x,b)}return null}function f(x,w,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(b)||null,o(w,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case n3:return x=x.get(_.key===null?b:_.key)||null,l(w,x,_,S);case vS:return x=x.get(_.key===null?b:_.key)||null,c(w,x,_,S);case Vv:var T=_._init;return f(x,w,b,T(_._payload),S)}if(Zk(_)||hk(_))return x=x.get(b)||null,u(w,x,_,S,null);p3(w,_)}return null}function g(x,w,b,_){for(var S=null,T=null,E=w,C=w=0,N=null;E!==null&&C<b.length;C++){E.index>C?(N=E,E=null):N=E.sibling;var F=h(x,E,b[C],_);if(F===null){E===null&&(E=N);break}t&&E&&F.alternate===null&&e(x,E),w=s(F,w,C),T===null?S=F:T.sibling=F,T=F,E=N}if(C===b.length)return r(x,E),Ps&&Vx(x,C),S;if(E===null){for(;C<b.length;C++)E=d(x,b[C],_),E!==null&&(w=s(E,w,C),T===null?S=E:T.sibling=E,T=E);return Ps&&Vx(x,C),S}for(E=n(x,E);C<b.length;C++)N=f(E,x,C,b[C],_),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?C:N.key),w=s(N,w,C),T===null?S=N:T.sibling=N,T=N);return t&&E.forEach(function(A){return e(x,A)}),Ps&&Vx(x,C),S}function m(x,w,b,_){var S=hk(b);if(typeof S!="function")throw Error(Ot(150));if(b=S.call(b),b==null)throw Error(Ot(151));for(var T=S=null,E=w,C=w=0,N=null,F=b.next();E!==null&&!F.done;C++,F=b.next()){E.index>C?(N=E,E=null):N=E.sibling;var A=h(x,E,F.value,_);if(A===null){E===null&&(E=N);break}t&&E&&A.alternate===null&&e(x,E),w=s(A,w,C),T===null?S=A:T.sibling=A,T=A,E=N}if(F.done)return r(x,E),Ps&&Vx(x,C),S;if(E===null){for(;!F.done;C++,F=b.next())F=d(x,F.value,_),F!==null&&(w=s(F,w,C),T===null?S=F:T.sibling=F,T=F);return Ps&&Vx(x,C),S}for(E=n(x,E);!F.done;C++,F=b.next())F=f(E,x,C,F.value,_),F!==null&&(t&&F.alternate!==null&&E.delete(F.key===null?C:F.key),w=s(F,w,C),T===null?S=F:T.sibling=F,T=F);return t&&E.forEach(function(I){return e(x,I)}),Ps&&Vx(x,C),S}function v(x,w,b,_){if(typeof b=="object"&&b!==null&&b.type===yS&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case n3:e:{for(var S=b.key,T=w;T!==null;){if(T.key===S){if(S=b.type,S===yS){if(T.tag===7){r(x,T.sibling),w=i(T,b.props.children),w.return=x,x=w;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vv&&Ste(S)===T.type){r(x,T.sibling),w=i(T,b.props),w.ref=vk(x,T,b),w.return=x,x=w;break e}r(x,T);break}else e(x,T);T=T.sibling}b.type===yS?(w=qw(b.props.children,x.mode,_,b.key),w.return=x,x=w):(_=QD(b.type,b.key,b.props,null,x.mode,_),_.ref=vk(x,w,b),_.return=x,x=_)}return a(x);case vS:e:{for(T=b.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(x,w.sibling),w=i(w,b.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else e(x,w);w=w.sibling}w=S$(b,x.mode,_),w.return=x,x=w}return a(x);case Vv:return T=b._init,v(x,w,T(b._payload),_)}if(Zk(b))return g(x,w,b,_);if(hk(b))return m(x,w,b,_);p3(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(x,w.sibling),w=i(w,b),w.return=x,x=w):(r(x,w),w=_$(b,x.mode,_),w.return=x,x=w),a(x)):r(x,w)}return v}var iT=kme(!0),Pme=kme(!1),SF=ix(null),AF=null,TS=null,wK=null;function _K(){wK=TS=AF=null}function SK(t){var e=SF.current;_s(SF),t._currentValue=e}function MU(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function HS(t,e){AF=t,wK=TS=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ru=!0),t.firstContext=null)}function wh(t){var e=t._currentValue;if(wK!==t)if(t={context:t,memoizedValue:e,next:null},TS===null){if(AF===null)throw Error(Ot(308));TS=t,AF.dependencies={lanes:0,firstContext:t}}else TS=TS.next=t;return e}var ob=null;function AK(t){ob===null?ob=[t]:ob.push(t)}function Nme(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,AK(e)):(r.next=i.next,i.next=r),e.interleaved=r,kg(t,n)}function kg(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Uv=!1;function EK(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ime(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hg(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function my(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Gn&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,kg(t,r)}return i=n.interleaved,i===null?(e.next=e,AK(n)):(e.next=i.next,i.next=e),n.interleaved=e,kg(t,r)}function qD(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,uK(t,r)}}function Ate(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function EF(t,e,r,n){var i=t.updateQueue;Uv=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,u=c=l=null,o=s;do{var h=o.lane,f=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,m=o;switch(h=e,f=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=Vs({},d,h);break e;case 2:Uv=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);c_|=a,t.lanes=a,t.memoizedState=d}}function Ete(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ot(191,i));i.call(n)}}}var kO={},um=ix(kO),BP=ix(kO),$P=ix(kO);function lb(t){if(t===kO)throw Error(Ot(174));return t}function TK(t,e){switch(os($P,e),os(BP,t),os(um,kO),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mU(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mU(e,t)}_s(um),os(um,e)}function sT(){_s(um),_s(BP),_s($P)}function Ome(t){lb($P.current);var e=lb(um.current),r=mU(e,t.type);e!==r&&(os(BP,t),os(um,r))}function CK(t){BP.current===t&&(_s(um),_s(BP))}var Ds=ix(0);function TF(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var g$=[];function kK(){for(var t=0;t<g$.length;t++)g$[t]._workInProgressVersionPrimary=null;g$.length=0}var GD=Zg.ReactCurrentDispatcher,v$=Zg.ReactCurrentBatchConfig,l_=0,Bs=null,no=null,No=null,CF=!1,q5=!1,VP=0,ZRe=0;function ul(){throw Error(Ot(321))}function PK(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Nf(t[r],e[r]))return!1;return!0}function NK(t,e,r,n,i,s){if(l_=s,Bs=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,GD.current=t===null||t.memoizedState===null?t3e:r3e,t=r(n,i),q5){s=0;do{if(q5=!1,VP=0,25<=s)throw Error(Ot(301));s+=1,No=no=null,e.updateQueue=null,GD.current=n3e,t=r(n,i)}while(q5)}if(GD.current=kF,e=no!==null&&no.next!==null,l_=0,No=no=Bs=null,CF=!1,e)throw Error(Ot(300));return t}function IK(){var t=VP!==0;return VP=0,t}function bp(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return No===null?Bs.memoizedState=No=t:No=No.next=t,No}function _h(){if(no===null){var t=Bs.alternate;t=t!==null?t.memoizedState:null}else t=no.next;var e=No===null?Bs.memoizedState:No.next;if(e!==null)No=e,no=t;else{if(t===null)throw Error(Ot(310));no=t,t={memoizedState:no.memoizedState,baseState:no.baseState,baseQueue:no.baseQueue,queue:no.queue,next:null},No===null?Bs.memoizedState=No=t:No=No.next=t}return No}function UP(t,e){return typeof e=="function"?e(t):e}function y$(t){var e=_h(),r=e.queue;if(r===null)throw Error(Ot(311));r.lastRenderedReducer=t;var n=no,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((l_&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=n):l=l.next=d,Bs.lanes|=u,c_|=u}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,Nf(n,e.memoizedState)||(ru=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Bs.lanes|=s,c_|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function x$(t){var e=_h(),r=e.queue;if(r===null)throw Error(Ot(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Nf(s,e.memoizedState)||(ru=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function Rme(){}function Dme(t,e){var r=Bs,n=_h(),i=e(),s=!Nf(n.memoizedState,i);if(s&&(n.memoizedState=i,ru=!0),n=n.queue,OK(jme.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||No!==null&&No.memoizedState.tag&1){if(r.flags|=2048,zP(9,Fme.bind(null,r,n,i,e),void 0,null),Do===null)throw Error(Ot(349));l_&30||Mme(r,e,i)}return i}function Mme(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Bs.updateQueue,e===null?(e={lastEffect:null,stores:null},Bs.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Fme(t,e,r,n){e.value=r,e.getSnapshot=n,Lme(e)&&Bme(t)}function jme(t,e,r){return r(function(){Lme(e)&&Bme(t)})}function Lme(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Nf(t,r)}catch{return!0}}function Bme(t){var e=kg(t,1);e!==null&&Ef(e,t,1,-1)}function Tte(t){var e=bp();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:UP,lastRenderedState:t},e.queue=t,t=t.dispatch=e3e.bind(null,Bs,t),[e.memoizedState,t]}function zP(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Bs.updateQueue,e===null?(e={lastEffect:null,stores:null},Bs.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function $me(){return _h().memoizedState}function KD(t,e,r,n){var i=bp();Bs.flags|=t,i.memoizedState=zP(1|e,r,void 0,n===void 0?null:n)}function U6(t,e,r,n){var i=_h();n=n===void 0?null:n;var s=void 0;if(no!==null){var a=no.memoizedState;if(s=a.destroy,n!==null&&PK(n,a.deps)){i.memoizedState=zP(e,r,s,n);return}}Bs.flags|=t,i.memoizedState=zP(1|e,r,s,n)}function Cte(t,e){return KD(8390656,8,t,e)}function OK(t,e){return U6(2048,8,t,e)}function Vme(t,e){return U6(4,2,t,e)}function Ume(t,e){return U6(4,4,t,e)}function zme(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Hme(t,e,r){return r=r!=null?r.concat([t]):null,U6(4,4,zme.bind(null,e,t),r)}function RK(){}function Wme(t,e){var r=_h();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&PK(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function qme(t,e){var r=_h();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&PK(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Gme(t,e,r){return l_&21?(Nf(r,e)||(r=Qpe(),Bs.lanes|=r,c_|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ru=!0),t.memoizedState=r)}function QRe(t,e){var r=Ci;Ci=r!==0&&4>r?r:4,t(!0);var n=v$.transition;v$.transition={};try{t(!1),e()}finally{Ci=r,v$.transition=n}}function Kme(){return _h().memoizedState}function JRe(t,e,r){var n=vy(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Yme(t))Xme(e,r);else if(r=Nme(t,e,r,n),r!==null){var i=xc();Ef(r,t,n,i),Zme(r,e,n)}}function e3e(t,e,r){var n=vy(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yme(t))Xme(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Nf(o,a)){var l=e.interleaved;l===null?(i.next=i,AK(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=Nme(t,e,i,n),r!==null&&(i=xc(),Ef(r,t,n,i),Zme(r,e,n))}}function Yme(t){var e=t.alternate;return t===Bs||e!==null&&e===Bs}function Xme(t,e){q5=CF=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Zme(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,uK(t,r)}}var kF={readContext:wh,useCallback:ul,useContext:ul,useEffect:ul,useImperativeHandle:ul,useInsertionEffect:ul,useLayoutEffect:ul,useMemo:ul,useReducer:ul,useRef:ul,useState:ul,useDebugValue:ul,useDeferredValue:ul,useTransition:ul,useMutableSource:ul,useSyncExternalStore:ul,useId:ul,unstable_isNewReconciler:!1},t3e={readContext:wh,useCallback:function(t,e){return bp().memoizedState=[t,e===void 0?null:e],t},useContext:wh,useEffect:Cte,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,KD(4194308,4,zme.bind(null,e,t),r)},useLayoutEffect:function(t,e){return KD(4194308,4,t,e)},useInsertionEffect:function(t,e){return KD(4,2,t,e)},useMemo:function(t,e){var r=bp();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=bp();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=JRe.bind(null,Bs,t),[n.memoizedState,t]},useRef:function(t){var e=bp();return t={current:t},e.memoizedState=t},useState:Tte,useDebugValue:RK,useDeferredValue:function(t){return bp().memoizedState=t},useTransition:function(){var t=Tte(!1),e=t[0];return t=QRe.bind(null,t[1]),bp().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Bs,i=bp();if(Ps){if(r===void 0)throw Error(Ot(407));r=r()}else{if(r=e(),Do===null)throw Error(Ot(349));l_&30||Mme(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Cte(jme.bind(null,n,s,t),[t]),n.flags|=2048,zP(9,Fme.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=bp(),e=Do.identifierPrefix;if(Ps){var r=rg,n=tg;r=(n&~(1<<32-Af(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=VP++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=ZRe++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},r3e={readContext:wh,useCallback:Wme,useContext:wh,useEffect:OK,useImperativeHandle:Hme,useInsertionEffect:Vme,useLayoutEffect:Ume,useMemo:qme,useReducer:y$,useRef:$me,useState:function(){return y$(UP)},useDebugValue:RK,useDeferredValue:function(t){var e=_h();return Gme(e,no.memoizedState,t)},useTransition:function(){var t=y$(UP)[0],e=_h().memoizedState;return[t,e]},useMutableSource:Rme,useSyncExternalStore:Dme,useId:Kme,unstable_isNewReconciler:!1},n3e={readContext:wh,useCallback:Wme,useContext:wh,useEffect:OK,useImperativeHandle:Hme,useInsertionEffect:Vme,useLayoutEffect:Ume,useMemo:qme,useReducer:x$,useRef:$me,useState:function(){return x$(UP)},useDebugValue:RK,useDeferredValue:function(t){var e=_h();return no===null?e.memoizedState=t:Gme(e,no.memoizedState,t)},useTransition:function(){var t=x$(UP)[0],e=_h().memoizedState;return[t,e]},useMutableSource:Rme,useSyncExternalStore:Dme,useId:Kme,unstable_isNewReconciler:!1};function Xh(t,e){if(t&&t.defaultProps){e=Vs({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function FU(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Vs({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var z6={isMounted:function(t){return(t=t._reactInternals)?q_(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=xc(),i=vy(t),s=hg(n,i);s.payload=e,r!=null&&(s.callback=r),e=my(t,s,i),e!==null&&(Ef(e,t,i,n),qD(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=xc(),i=vy(t),s=hg(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=my(t,s,i),e!==null&&(Ef(e,t,i,n),qD(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=xc(),n=vy(t),i=hg(r,n);i.tag=2,e!=null&&(i.callback=e),e=my(t,i,n),e!==null&&(Ef(e,t,n,r),qD(e,t,n))}};function kte(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!MP(r,n)||!MP(i,s):!0}function Qme(t,e,r){var n=!1,i=Ry,s=e.contextType;return typeof s=="object"&&s!==null?s=wh(s):(i=ou(e)?a_:$l.current,n=e.contextTypes,s=(n=n!=null)?rT(t,i):Ry),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=z6,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Pte(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&z6.enqueueReplaceState(e,e.state,null)}function jU(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},EK(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wh(s):(s=ou(e)?a_:$l.current,i.context=rT(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(FU(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&z6.enqueueReplaceState(i,i.state,null),EF(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function aT(t,e){try{var r="",n=e;do r+=IOe(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function b$(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function LU(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var i3e=typeof WeakMap=="function"?WeakMap:Map;function Jme(t,e,r){r=hg(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){NF||(NF=!0,KU=n),LU(t,e)},r}function e0e(t,e,r){r=hg(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){LU(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){LU(t,e),typeof n!="function"&&(gy===null?gy=new Set([this]):gy.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Nte(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new i3e;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=y3e.bind(null,t,e,r),e.then(t,t))}function Ite(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ote(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=hg(-1,1),e.tag=2,my(r,e,1))),r.lanes|=1),t)}var s3e=Zg.ReactCurrentOwner,ru=!1;function cc(t,e,r,n){e.child=t===null?Pme(e,null,r,n):iT(e,t.child,r,n)}function Rte(t,e,r,n,i){r=r.render;var s=e.ref;return HS(e,i),n=NK(t,e,r,n,s,i),r=IK(),t!==null&&!ru?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pg(t,e,i)):(Ps&&r&&yK(e),e.flags|=1,cc(t,e,n,i),e.child)}function Dte(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!VK(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,t0e(t,e,s,n,i)):(t=QD(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:MP,r(a,n)&&t.ref===e.ref)return Pg(t,e,i)}return e.flags|=1,t=yy(s,n),t.ref=e.ref,t.return=e,e.child=t}function t0e(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(MP(s,n)&&t.ref===e.ref)if(ru=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(ru=!0);else return e.lanes=t.lanes,Pg(t,e,i)}return BU(t,e,r,n,i)}function r0e(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},os(kS,Yu),Yu|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,os(kS,Yu),Yu|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,os(kS,Yu),Yu|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,os(kS,Yu),Yu|=n;return cc(t,e,i,r),e.child}function n0e(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function BU(t,e,r,n,i){var s=ou(r)?a_:$l.current;return s=rT(e,s),HS(e,i),r=NK(t,e,r,n,s,i),n=IK(),t!==null&&!ru?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pg(t,e,i)):(Ps&&n&&yK(e),e.flags|=1,cc(t,e,r,i),e.child)}function Mte(t,e,r,n,i){if(ou(r)){var s=!0;bF(e)}else s=!1;if(HS(e,i),e.stateNode===null)YD(t,e),Qme(e,r,n),jU(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=wh(c):(c=ou(r)?a_:$l.current,c=rT(e,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&Pte(e,a,n,c),Uv=!1;var h=e.memoizedState;a.state=h,EF(e,n,a,i),l=e.memoizedState,o!==n||h!==l||au.current||Uv?(typeof u=="function"&&(FU(e,r,u,n),l=e.memoizedState),(o=Uv||kte(e,r,o,n,h,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Ime(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Xh(e.type,o),a.props=c,d=e.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=wh(l):(l=ou(r)?a_:$l.current,l=rT(e,l));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&Pte(e,a,n,l),Uv=!1,h=e.memoizedState,a.state=h,EF(e,n,a,i);var g=e.memoizedState;o!==d||h!==g||au.current||Uv?(typeof f=="function"&&(FU(e,r,f,n),g=e.memoizedState),(c=Uv||kte(e,r,c,n,h,g,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return $U(t,e,r,n,s,i)}function $U(t,e,r,n,i,s){n0e(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&bte(e,r,!1),Pg(t,e,s);n=e.stateNode,s3e.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=iT(e,t.child,null,s),e.child=iT(e,null,o,s)):cc(t,e,o,s),e.memoizedState=n.state,i&&bte(e,r,!0),e.child}function i0e(t){var e=t.stateNode;e.pendingContext?xte(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xte(t,e.context,!1),TK(t,e.containerInfo)}function Fte(t,e,r,n,i){return nT(),bK(i),e.flags|=256,cc(t,e,r,n),e.child}var VU={dehydrated:null,treeContext:null,retryLane:0};function UU(t){return{baseLanes:t,cachePool:null,transitions:null}}function s0e(t,e,r){var n=e.pendingProps,i=Ds.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),os(Ds,i&1),t===null)return DU(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=q6(a,n,0,null),t=qw(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=UU(r),e.memoizedState=VU,t):DK(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return a3e(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=yy(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=yy(o,s):(s=qw(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?UU(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=VU,n}return s=t.child,t=s.sibling,n=yy(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function DK(t,e){return e=q6({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function m3(t,e,r,n){return n!==null&&bK(n),iT(e,t.child,null,r),t=DK(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function a3e(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=b$(Error(Ot(422))),m3(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=q6({mode:"visible",children:n.children},i,0,null),s=qw(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&iT(e,t.child,null,a),e.child.memoizedState=UU(a),e.memoizedState=VU,s);if(!(e.mode&1))return m3(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Ot(419)),n=b$(s,n,void 0),m3(t,e,a,n)}if(o=(a&t.childLanes)!==0,ru||o){if(n=Do,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,kg(t,i),Ef(n,t,i,-1))}return $K(),n=b$(Error(Ot(421))),m3(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=x3e.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,od=py(i.nextSibling),dd=e,Ps=!0,mf=null,t!==null&&(sh[ah++]=tg,sh[ah++]=rg,sh[ah++]=o_,tg=t.id,rg=t.overflow,o_=e),e=DK(e,n.children),e.flags|=4096,e)}function jte(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),MU(t.return,e,r)}function w$(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function a0e(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(cc(t,e,n.children,r),n=Ds.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jte(t,r,e);else if(t.tag===19)jte(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(os(Ds,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&TF(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),w$(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&TF(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}w$(e,!0,r,null,s);break;case"together":w$(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function YD(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pg(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),c_|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ot(153));if(e.child!==null){for(t=e.child,r=yy(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=yy(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function o3e(t,e,r){switch(e.tag){case 3:i0e(e),nT();break;case 5:Ome(e);break;case 1:ou(e.type)&&bF(e);break;case 4:TK(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;os(SF,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(os(Ds,Ds.current&1),e.flags|=128,null):r&e.child.childLanes?s0e(t,e,r):(os(Ds,Ds.current&1),t=Pg(t,e,r),t!==null?t.sibling:null);os(Ds,Ds.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return a0e(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),os(Ds,Ds.current),n)break;return null;case 22:case 23:return e.lanes=0,r0e(t,e,r)}return Pg(t,e,r)}var o0e,zU,l0e,c0e;o0e=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zU=function(){};l0e=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,lb(um.current);var s=null;switch(r){case"input":i=dU(t,i),n=dU(t,n),s=[];break;case"select":i=Vs({},i,{value:void 0}),n=Vs({},n,{value:void 0}),s=[];break;case"textarea":i=pU(t,i),n=pU(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=yF)}gU(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(kP.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(kP.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ps("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};c0e=function(t,e,r,n){r!==n&&(e.flags|=4)};function yk(t,e){if(!Ps)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function dl(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function l3e(t,e,r){var n=e.pendingProps;switch(xK(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dl(e),null;case 1:return ou(e.type)&&xF(),dl(e),null;case 3:return n=e.stateNode,sT(),_s(au),_s($l),kK(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(f3(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mf!==null&&(ZU(mf),mf=null))),zU(t,e),dl(e),null;case 5:CK(e);var i=lb($P.current);if(r=e.type,t!==null&&e.stateNode!=null)l0e(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ot(166));return dl(e),null}if(t=lb(um.current),f3(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Xp]=e,n[LP]=s,t=(e.mode&1)!==0,r){case"dialog":ps("cancel",n),ps("close",n);break;case"iframe":case"object":case"embed":ps("load",n);break;case"video":case"audio":for(i=0;i<Jk.length;i++)ps(Jk[i],n);break;case"source":ps("error",n);break;case"img":case"image":case"link":ps("error",n),ps("load",n);break;case"details":ps("toggle",n);break;case"input":qee(n,s),ps("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ps("invalid",n);break;case"textarea":Kee(n,s),ps("invalid",n)}gU(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&h3(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&h3(n.textContent,o,t),i=["children",""+o]):kP.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ps("scroll",n)}switch(r){case"input":i3(n),Gee(n,s,!0);break;case"textarea":i3(n),Yee(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=yF)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jpe(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Xp]=e,t[LP]=n,o0e(t,e,!1,!1),e.stateNode=t;e:{switch(a=vU(r,n),r){case"dialog":ps("cancel",t),ps("close",t),i=n;break;case"iframe":case"object":case"embed":ps("load",t),i=n;break;case"video":case"audio":for(i=0;i<Jk.length;i++)ps(Jk[i],t);i=n;break;case"source":ps("error",t),i=n;break;case"img":case"image":case"link":ps("error",t),ps("load",t),i=n;break;case"details":ps("toggle",t),i=n;break;case"input":qee(t,n),i=dU(t,n),ps("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Vs({},n,{value:void 0}),ps("invalid",t);break;case"textarea":Kee(t,n),i=pU(t,n),ps("invalid",t);break;default:i=n}gU(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?$pe(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Lpe(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&PP(t,l):typeof l=="number"&&PP(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(kP.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ps("scroll",t):l!=null&&iK(t,s,l,a))}switch(r){case"input":i3(t),Gee(t,n,!1);break;case"textarea":i3(t),Yee(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Oy(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?$S(t,!!n.multiple,s,!1):n.defaultValue!=null&&$S(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yF)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dl(e),null;case 6:if(t&&e.stateNode!=null)c0e(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ot(166));if(r=lb($P.current),lb(um.current),f3(e)){if(n=e.stateNode,r=e.memoizedProps,n[Xp]=e,(s=n.nodeValue!==r)&&(t=dd,t!==null))switch(t.tag){case 3:h3(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&h3(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xp]=e,e.stateNode=n}return dl(e),null;case 13:if(_s(Ds),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ps&&od!==null&&e.mode&1&&!(e.flags&128))Cme(),nT(),e.flags|=98560,s=!1;else if(s=f3(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Ot(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ot(317));s[Xp]=e}else nT(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dl(e),s=!1}else mf!==null&&(ZU(mf),mf=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ds.current&1?so===0&&(so=3):$K())),e.updateQueue!==null&&(e.flags|=4),dl(e),null);case 4:return sT(),zU(t,e),t===null&&FP(e.stateNode.containerInfo),dl(e),null;case 10:return SK(e.type._context),dl(e),null;case 17:return ou(e.type)&&xF(),dl(e),null;case 19:if(_s(Ds),s=e.memoizedState,s===null)return dl(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)yk(s,!1);else{if(so!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=TF(t),a!==null){for(e.flags|=128,yk(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return os(Ds,Ds.current&1|2),e.child}t=t.sibling}s.tail!==null&&ga()>oT&&(e.flags|=128,n=!0,yk(s,!1),e.lanes=4194304)}else{if(!n)if(t=TF(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),yk(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ps)return dl(e),null}else 2*ga()-s.renderingStartTime>oT&&r!==1073741824&&(e.flags|=128,n=!0,yk(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ga(),e.sibling=null,r=Ds.current,os(Ds,n?r&1|2:r&1),e):(dl(e),null);case 22:case 23:return BK(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Yu&1073741824&&(dl(e),e.subtreeFlags&6&&(e.flags|=8192)):dl(e),null;case 24:return null;case 25:return null}throw Error(Ot(156,e.tag))}function c3e(t,e){switch(xK(e),e.tag){case 1:return ou(e.type)&&xF(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sT(),_s(au),_s($l),kK(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return CK(e),null;case 13:if(_s(Ds),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ot(340));nT()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _s(Ds),null;case 4:return sT(),null;case 10:return SK(e.type._context),null;case 22:case 23:return BK(),null;case 24:return null;default:return null}}var g3=!1,Il=!1,u3e=typeof WeakSet=="function"?WeakSet:Set,cr=null;function CS(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ta(t,e,n)}else r.current=null}function HU(t,e,r){try{r()}catch(n){ta(t,e,n)}}var Lte=!1;function d3e(t,e){if(CU=mF,t=pme(),vK(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==r||i!==0&&d.nodeType!==3||(o=a+i),d!==s||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===r&&++c===i&&(o=a),h===s&&++u===n&&(l=a),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(kU={focusedElem:t,selectionRange:r},mF=!1,cr=e;cr!==null;)if(e=cr,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,cr=t;else for(;cr!==null;){e=cr;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?m:Xh(e.type,m),v);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ot(163))}}catch(_){ta(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,cr=t;break}cr=e.return}return g=Lte,Lte=!1,g}function G5(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&HU(e,r,s)}i=i.next}while(i!==n)}}function H6(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function WU(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function u0e(t){var e=t.alternate;e!==null&&(t.alternate=null,u0e(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xp],delete e[LP],delete e[IU],delete e[GRe],delete e[KRe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function d0e(t){return t.tag===5||t.tag===3||t.tag===4}function Bte(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d0e(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qU(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=yF));else if(n!==4&&(t=t.child,t!==null))for(qU(t,e,r),t=t.sibling;t!==null;)qU(t,e,r),t=t.sibling}function GU(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(GU(t,e,r),t=t.sibling;t!==null;)GU(t,e,r),t=t.sibling}var Go=null,ff=!1;function Cv(t,e,r){for(r=r.child;r!==null;)h0e(t,e,r),r=r.sibling}function h0e(t,e,r){if(cm&&typeof cm.onCommitFiberUnmount=="function")try{cm.onCommitFiberUnmount(F6,r)}catch{}switch(r.tag){case 5:Il||CS(r,e);case 6:var n=Go,i=ff;Go=null,Cv(t,e,r),Go=n,ff=i,Go!==null&&(ff?(t=Go,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Go.removeChild(r.stateNode));break;case 18:Go!==null&&(ff?(t=Go,r=r.stateNode,t.nodeType===8?p$(t.parentNode,r):t.nodeType===1&&p$(t,r),RP(t)):p$(Go,r.stateNode));break;case 4:n=Go,i=ff,Go=r.stateNode.containerInfo,ff=!0,Cv(t,e,r),Go=n,ff=i;break;case 0:case 11:case 14:case 15:if(!Il&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&HU(r,e,a),i=i.next}while(i!==n)}Cv(t,e,r);break;case 1:if(!Il&&(CS(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ta(r,e,o)}Cv(t,e,r);break;case 21:Cv(t,e,r);break;case 22:r.mode&1?(Il=(n=Il)||r.memoizedState!==null,Cv(t,e,r),Il=n):Cv(t,e,r);break;default:Cv(t,e,r)}}function $te(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new u3e),e.forEach(function(n){var i=b3e.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Vh(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Go=o.stateNode,ff=!1;break e;case 3:Go=o.stateNode.containerInfo,ff=!0;break e;case 4:Go=o.stateNode.containerInfo,ff=!0;break e}o=o.return}if(Go===null)throw Error(Ot(160));h0e(s,a,i),Go=null,ff=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ta(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)f0e(e,t),e=e.sibling}function f0e(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vh(e,t),ap(t),n&4){try{G5(3,t,t.return),H6(3,t)}catch(m){ta(t,t.return,m)}try{G5(5,t,t.return)}catch(m){ta(t,t.return,m)}}break;case 1:Vh(e,t),ap(t),n&512&&r!==null&&CS(r,r.return);break;case 5:if(Vh(e,t),ap(t),n&512&&r!==null&&CS(r,r.return),t.flags&32){var i=t.stateNode;try{PP(i,"")}catch(m){ta(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Mpe(i,s),vU(o,a);var c=vU(o,s);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?$pe(i,d):u==="dangerouslySetInnerHTML"?Lpe(i,d):u==="children"?PP(i,d):iK(i,u,d,c)}switch(o){case"input":hU(i,s);break;case"textarea":Fpe(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?$S(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?$S(i,!!s.multiple,s.defaultValue,!0):$S(i,!!s.multiple,s.multiple?[]:"",!1))}i[LP]=s}catch(m){ta(t,t.return,m)}}break;case 6:if(Vh(e,t),ap(t),n&4){if(t.stateNode===null)throw Error(Ot(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){ta(t,t.return,m)}}break;case 3:if(Vh(e,t),ap(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{RP(e.containerInfo)}catch(m){ta(t,t.return,m)}break;case 4:Vh(e,t),ap(t);break;case 13:Vh(e,t),ap(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jK=ga())),n&4&&$te(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Il=(c=Il)||u,Vh(e,t),Il=c):Vh(e,t),ap(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(cr=t,u=t.child;u!==null;){for(d=cr=u;cr!==null;){switch(h=cr,f=h.child,h.tag){case 0:case 11:case 14:case 15:G5(4,h,h.return);break;case 1:CS(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){ta(n,r,m)}}break;case 5:CS(h,h.return);break;case 22:if(h.memoizedState!==null){Ute(d);continue}}f!==null?(f.return=h,cr=f):Ute(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Bpe("display",a))}catch(m){ta(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){ta(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Vh(e,t),ap(t),n&4&&$te(t);break;case 21:break;default:Vh(e,t),ap(t)}}function ap(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(d0e(r)){var n=r;break e}r=r.return}throw Error(Ot(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(PP(i,""),n.flags&=-33);var s=Bte(t);GU(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Bte(t);qU(t,o,a);break;default:throw Error(Ot(161))}}catch(l){ta(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function h3e(t,e,r){cr=t,p0e(t)}function p0e(t,e,r){for(var n=(t.mode&1)!==0;cr!==null;){var i=cr,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||g3;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Il;o=g3;var c=Il;if(g3=a,(Il=l)&&!c)for(cr=i;cr!==null;)a=cr,l=a.child,a.tag===22&&a.memoizedState!==null?zte(i):l!==null?(l.return=a,cr=l):zte(i);for(;s!==null;)cr=s,p0e(s),s=s.sibling;cr=i,g3=o,Il=c}Vte(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,cr=s):Vte(t)}}function Vte(t){for(;cr!==null;){var e=cr;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Il||H6(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Il)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Xh(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ete(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ete(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&RP(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ot(163))}Il||e.flags&512&&WU(e)}catch(h){ta(e,e.return,h)}}if(e===t){cr=null;break}if(r=e.sibling,r!==null){r.return=e.return,cr=r;break}cr=e.return}}function Ute(t){for(;cr!==null;){var e=cr;if(e===t){cr=null;break}var r=e.sibling;if(r!==null){r.return=e.return,cr=r;break}cr=e.return}}function zte(t){for(;cr!==null;){var e=cr;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{H6(4,e)}catch(l){ta(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){ta(e,i,l)}}var s=e.return;try{WU(e)}catch(l){ta(e,s,l)}break;case 5:var a=e.return;try{WU(e)}catch(l){ta(e,a,l)}}}catch(l){ta(e,e.return,l)}if(e===t){cr=null;break}var o=e.sibling;if(o!==null){o.return=e.return,cr=o;break}cr=e.return}}var f3e=Math.ceil,PF=Zg.ReactCurrentDispatcher,MK=Zg.ReactCurrentOwner,ph=Zg.ReactCurrentBatchConfig,Gn=0,Do=null,Fa=null,nl=0,Yu=0,kS=ix(0),so=0,HP=null,c_=0,W6=0,FK=0,K5=null,Jc=null,jK=0,oT=1/0,c0=null,NF=!1,KU=null,gy=null,v3=!1,Z1=null,IF=0,Y5=0,YU=null,XD=-1,ZD=0;function xc(){return Gn&6?ga():XD!==-1?XD:XD=ga()}function vy(t){return t.mode&1?Gn&2&&nl!==0?nl&-nl:XRe.transition!==null?(ZD===0&&(ZD=Qpe()),ZD):(t=Ci,t!==0||(t=window.event,t=t===void 0?16:sme(t.type)),t):1}function Ef(t,e,r,n){if(50<Y5)throw Y5=0,YU=null,Error(Ot(185));EO(t,r,n),(!(Gn&2)||t!==Do)&&(t===Do&&(!(Gn&2)&&(W6|=r),so===4&&qv(t,nl)),lu(t,n),r===1&&Gn===0&&!(e.mode&1)&&(oT=ga()+500,V6&&sx()))}function lu(t,e){var r=t.callbackNode;XOe(t,e);var n=pF(t,t===Do?nl:0);if(n===0)r!==null&&Qee(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Qee(r),e===1)t.tag===0?YRe(Hte.bind(null,t)):Ame(Hte.bind(null,t)),WRe(function(){!(Gn&6)&&sx()}),r=null;else{switch(Jpe(n)){case 1:r=cK;break;case 4:r=Xpe;break;case 16:r=fF;break;case 536870912:r=Zpe;break;default:r=fF}r=_0e(r,m0e.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function m0e(t,e){if(XD=-1,ZD=0,Gn&6)throw Error(Ot(327));var r=t.callbackNode;if(WS()&&t.callbackNode!==r)return null;var n=pF(t,t===Do?nl:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=OF(t,n);else{e=n;var i=Gn;Gn|=2;var s=v0e();(Do!==t||nl!==e)&&(c0=null,oT=ga()+500,Ww(t,e));do try{g3e();break}catch(o){g0e(t,o)}while(!0);_K(),PF.current=s,Gn=i,Fa!==null?e=0:(Do=null,nl=0,e=so)}if(e!==0){if(e===2&&(i=_U(t),i!==0&&(n=i,e=XU(t,i))),e===1)throw r=HP,Ww(t,0),qv(t,n),lu(t,ga()),r;if(e===6)qv(t,n);else{if(i=t.current.alternate,!(n&30)&&!p3e(i)&&(e=OF(t,n),e===2&&(s=_U(t),s!==0&&(n=s,e=XU(t,s))),e===1))throw r=HP,Ww(t,0),qv(t,n),lu(t,ga()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Ot(345));case 2:Ux(t,Jc,c0);break;case 3:if(qv(t,n),(n&130023424)===n&&(e=jK+500-ga(),10<e)){if(pF(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){xc(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=NU(Ux.bind(null,t,Jc,c0),e);break}Ux(t,Jc,c0);break;case 4:if(qv(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Af(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=ga()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*f3e(n/1960))-n,10<n){t.timeoutHandle=NU(Ux.bind(null,t,Jc,c0),n);break}Ux(t,Jc,c0);break;case 5:Ux(t,Jc,c0);break;default:throw Error(Ot(329))}}}return lu(t,ga()),t.callbackNode===r?m0e.bind(null,t):null}function XU(t,e){var r=K5;return t.current.memoizedState.isDehydrated&&(Ww(t,e).flags|=256),t=OF(t,e),t!==2&&(e=Jc,Jc=r,e!==null&&ZU(e)),t}function ZU(t){Jc===null?Jc=t:Jc.push.apply(Jc,t)}function p3e(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Nf(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qv(t,e){for(e&=~FK,e&=~W6,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Af(e),n=1<<r;t[r]=-1,e&=~n}}function Hte(t){if(Gn&6)throw Error(Ot(327));WS();var e=pF(t,0);if(!(e&1))return lu(t,ga()),null;var r=OF(t,e);if(t.tag!==0&&r===2){var n=_U(t);n!==0&&(e=n,r=XU(t,n))}if(r===1)throw r=HP,Ww(t,0),qv(t,e),lu(t,ga()),r;if(r===6)throw Error(Ot(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ux(t,Jc,c0),lu(t,ga()),null}function LK(t,e){var r=Gn;Gn|=1;try{return t(e)}finally{Gn=r,Gn===0&&(oT=ga()+500,V6&&sx())}}function u_(t){Z1!==null&&Z1.tag===0&&!(Gn&6)&&WS();var e=Gn;Gn|=1;var r=ph.transition,n=Ci;try{if(ph.transition=null,Ci=1,t)return t()}finally{Ci=n,ph.transition=r,Gn=e,!(Gn&6)&&sx()}}function BK(){Yu=kS.current,_s(kS)}function Ww(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,HRe(r)),Fa!==null)for(r=Fa.return;r!==null;){var n=r;switch(xK(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xF();break;case 3:sT(),_s(au),_s($l),kK();break;case 5:CK(n);break;case 4:sT();break;case 13:_s(Ds);break;case 19:_s(Ds);break;case 10:SK(n.type._context);break;case 22:case 23:BK()}r=r.return}if(Do=t,Fa=t=yy(t.current,null),nl=Yu=e,so=0,HP=null,FK=W6=c_=0,Jc=K5=null,ob!==null){for(e=0;e<ob.length;e++)if(r=ob[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}ob=null}return t}function g0e(t,e){do{var r=Fa;try{if(_K(),GD.current=kF,CF){for(var n=Bs.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}CF=!1}if(l_=0,No=no=Bs=null,q5=!1,VP=0,MK.current=null,r===null||r.return===null){so=1,HP=e,Fa=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=nl,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Ite(a);if(f!==null){f.flags&=-257,Ote(f,a,o,s,e),f.mode&1&&Nte(s,c,e),e=f,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){Nte(s,c,e),$K();break e}l=Error(Ot(426))}}else if(Ps&&o.mode&1){var v=Ite(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Ote(v,a,o,s,e),bK(aT(l,o));break e}}s=l=aT(l,o),so!==4&&(so=2),K5===null?K5=[s]:K5.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=Jme(s,l,e);Ate(s,x);break e;case 1:o=l;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(gy===null||!gy.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=e0e(s,o,e);Ate(s,_);break e}}s=s.return}while(s!==null)}x0e(r)}catch(S){e=S,Fa===r&&r!==null&&(Fa=r=r.return);continue}break}while(!0)}function v0e(){var t=PF.current;return PF.current=kF,t===null?kF:t}function $K(){(so===0||so===3||so===2)&&(so=4),Do===null||!(c_&268435455)&&!(W6&268435455)||qv(Do,nl)}function OF(t,e){var r=Gn;Gn|=2;var n=v0e();(Do!==t||nl!==e)&&(c0=null,Ww(t,e));do try{m3e();break}catch(i){g0e(t,i)}while(!0);if(_K(),Gn=r,PF.current=n,Fa!==null)throw Error(Ot(261));return Do=null,nl=0,so}function m3e(){for(;Fa!==null;)y0e(Fa)}function g3e(){for(;Fa!==null&&!VOe();)y0e(Fa)}function y0e(t){var e=w0e(t.alternate,t,Yu);t.memoizedProps=t.pendingProps,e===null?x0e(t):Fa=e,MK.current=null}function x0e(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=c3e(r,e),r!==null){r.flags&=32767,Fa=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{so=6,Fa=null;return}}else if(r=l3e(r,e,Yu),r!==null){Fa=r;return}if(e=e.sibling,e!==null){Fa=e;return}Fa=e=t}while(e!==null);so===0&&(so=5)}function Ux(t,e,r){var n=Ci,i=ph.transition;try{ph.transition=null,Ci=1,v3e(t,e,r,n)}finally{ph.transition=i,Ci=n}return null}function v3e(t,e,r,n){do WS();while(Z1!==null);if(Gn&6)throw Error(Ot(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ot(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(ZOe(t,s),t===Do&&(Fa=Do=null,nl=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||v3||(v3=!0,_0e(fF,function(){return WS(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ph.transition,ph.transition=null;var a=Ci;Ci=1;var o=Gn;Gn|=4,MK.current=null,d3e(t,r),f0e(r,t),jRe(kU),mF=!!CU,kU=CU=null,t.current=r,h3e(r),UOe(),Gn=o,Ci=a,ph.transition=s}else t.current=r;if(v3&&(v3=!1,Z1=t,IF=i),s=t.pendingLanes,s===0&&(gy=null),WOe(r.stateNode),lu(t,ga()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(NF)throw NF=!1,t=KU,KU=null,t;return IF&1&&t.tag!==0&&WS(),s=t.pendingLanes,s&1?t===YU?Y5++:(Y5=0,YU=t):Y5=0,sx(),null}function WS(){if(Z1!==null){var t=Jpe(IF),e=ph.transition,r=Ci;try{if(ph.transition=null,Ci=16>t?16:t,Z1===null)var n=!1;else{if(t=Z1,Z1=null,IF=0,Gn&6)throw Error(Ot(331));var i=Gn;for(Gn|=4,cr=t.current;cr!==null;){var s=cr,a=s.child;if(cr.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(cr=c;cr!==null;){var u=cr;switch(u.tag){case 0:case 11:case 15:G5(8,u,s)}var d=u.child;if(d!==null)d.return=u,cr=d;else for(;cr!==null;){u=cr;var h=u.sibling,f=u.return;if(u0e(u),u===c){cr=null;break}if(h!==null){h.return=f,cr=h;break}cr=f}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}cr=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,cr=a;else e:for(;cr!==null;){if(s=cr,s.flags&2048)switch(s.tag){case 0:case 11:case 15:G5(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,cr=x;break e}cr=s.return}}var w=t.current;for(cr=w;cr!==null;){a=cr;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,cr=b;else e:for(a=w;cr!==null;){if(o=cr,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:H6(9,o)}}catch(S){ta(o,o.return,S)}if(o===a){cr=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,cr=_;break e}cr=o.return}}if(Gn=i,sx(),cm&&typeof cm.onPostCommitFiberRoot=="function")try{cm.onPostCommitFiberRoot(F6,t)}catch{}n=!0}return n}finally{Ci=r,ph.transition=e}}return!1}function Wte(t,e,r){e=aT(r,e),e=Jme(t,e,1),t=my(t,e,1),e=xc(),t!==null&&(EO(t,1,e),lu(t,e))}function ta(t,e,r){if(t.tag===3)Wte(t,t,r);else for(;e!==null;){if(e.tag===3){Wte(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(gy===null||!gy.has(n))){t=aT(r,t),t=e0e(e,t,1),e=my(e,t,1),t=xc(),e!==null&&(EO(e,1,t),lu(e,t));break}}e=e.return}}function y3e(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=xc(),t.pingedLanes|=t.suspendedLanes&r,Do===t&&(nl&r)===r&&(so===4||so===3&&(nl&130023424)===nl&&500>ga()-jK?Ww(t,0):FK|=r),lu(t,e)}function b0e(t,e){e===0&&(t.mode&1?(e=o3,o3<<=1,!(o3&130023424)&&(o3=4194304)):e=1);var r=xc();t=kg(t,e),t!==null&&(EO(t,e,r),lu(t,r))}function x3e(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),b0e(t,r)}function b3e(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ot(314))}n!==null&&n.delete(e),b0e(t,r)}var w0e;w0e=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||au.current)ru=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ru=!1,o3e(t,e,r);ru=!!(t.flags&131072)}else ru=!1,Ps&&e.flags&1048576&&Eme(e,_F,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;YD(t,e),t=e.pendingProps;var i=rT(e,$l.current);HS(e,r),i=NK(null,e,n,t,i,r);var s=IK();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ou(n)?(s=!0,bF(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,EK(e),i.updater=z6,e.stateNode=i,i._reactInternals=e,jU(e,n,t,r),e=$U(null,e,n,!0,s,r)):(e.tag=0,Ps&&s&&yK(e),cc(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(YD(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=_3e(n),t=Xh(n,t),i){case 0:e=BU(null,e,n,t,r);break e;case 1:e=Mte(null,e,n,t,r);break e;case 11:e=Rte(null,e,n,t,r);break e;case 14:e=Dte(null,e,n,Xh(n.type,t),r);break e}throw Error(Ot(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Xh(n,i),BU(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Xh(n,i),Mte(t,e,n,i,r);case 3:e:{if(i0e(e),t===null)throw Error(Ot(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Ime(t,e),EF(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=aT(Error(Ot(423)),e),e=Fte(t,e,n,r,i);break e}else if(n!==i){i=aT(Error(Ot(424)),e),e=Fte(t,e,n,r,i);break e}else for(od=py(e.stateNode.containerInfo.firstChild),dd=e,Ps=!0,mf=null,r=Pme(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(nT(),n===i){e=Pg(t,e,r);break e}cc(t,e,n,r)}e=e.child}return e;case 5:return Ome(e),t===null&&DU(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,PU(n,i)?a=null:s!==null&&PU(n,s)&&(e.flags|=32),n0e(t,e),cc(t,e,a,r),e.child;case 6:return t===null&&DU(e),null;case 13:return s0e(t,e,r);case 4:return TK(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=iT(e,null,n,r):cc(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Xh(n,i),Rte(t,e,n,i,r);case 7:return cc(t,e,e.pendingProps,r),e.child;case 8:return cc(t,e,e.pendingProps.children,r),e.child;case 12:return cc(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,os(SF,n._currentValue),n._currentValue=a,s!==null)if(Nf(s.value,a)){if(s.children===i.children&&!au.current){e=Pg(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=hg(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),MU(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ot(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),MU(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}cc(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,HS(e,r),i=wh(i),n=n(i),e.flags|=1,cc(t,e,n,r),e.child;case 14:return n=e.type,i=Xh(n,e.pendingProps),i=Xh(n.type,i),Dte(t,e,n,i,r);case 15:return t0e(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Xh(n,i),YD(t,e),e.tag=1,ou(n)?(t=!0,bF(e)):t=!1,HS(e,r),Qme(e,n,i),jU(e,n,i,r),$U(null,e,n,!0,t,r);case 19:return a0e(t,e,r);case 22:return r0e(t,e,r)}throw Error(Ot(156,e.tag))};function _0e(t,e){return Ype(t,e)}function w3e(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dh(t,e,r,n){return new w3e(t,e,r,n)}function VK(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _3e(t){if(typeof t=="function")return VK(t)?1:0;if(t!=null){if(t=t.$$typeof,t===aK)return 11;if(t===oK)return 14}return 2}function yy(t,e){var r=t.alternate;return r===null?(r=dh(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function QD(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")VK(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case yS:return qw(r.children,i,s,e);case sK:a=8,i|=8;break;case oU:return t=dh(12,r,e,i|2),t.elementType=oU,t.lanes=s,t;case lU:return t=dh(13,r,e,i),t.elementType=lU,t.lanes=s,t;case cU:return t=dh(19,r,e,i),t.elementType=cU,t.lanes=s,t;case Ope:return q6(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Npe:a=10;break e;case Ipe:a=9;break e;case aK:a=11;break e;case oK:a=14;break e;case Vv:a=16,n=null;break e}throw Error(Ot(130,t==null?t:typeof t,""))}return e=dh(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function qw(t,e,r,n){return t=dh(7,t,n,e),t.lanes=r,t}function q6(t,e,r,n){return t=dh(22,t,n,e),t.elementType=Ope,t.lanes=r,t.stateNode={isHidden:!1},t}function _$(t,e,r){return t=dh(6,t,null,e),t.lanes=r,t}function S$(t,e,r){return e=dh(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function S3e(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=n$(0),this.expirationTimes=n$(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=n$(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function UK(t,e,r,n,i,s,a,o,l){return t=new S3e(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=dh(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},EK(s),t}function A3e(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vS,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function S0e(t){if(!t)return Ry;t=t._reactInternals;e:{if(q_(t)!==t||t.tag!==1)throw Error(Ot(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ou(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ot(171))}if(t.tag===1){var r=t.type;if(ou(r))return Sme(t,r,e)}return e}function A0e(t,e,r,n,i,s,a,o,l){return t=UK(r,n,!0,t,i,s,a,o,l),t.context=S0e(null),r=t.current,n=xc(),i=vy(r),s=hg(n,i),s.callback=e??null,my(r,s,i),t.current.lanes=i,EO(t,i,n),lu(t,n),t}function G6(t,e,r,n){var i=e.current,s=xc(),a=vy(i);return r=S0e(r),e.context===null?e.context=r:e.pendingContext=r,e=hg(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=my(i,e,a),t!==null&&(Ef(t,i,a,s),qD(t,i,a)),a}function RF(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qte(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function zK(t,e){qte(t,e),(t=t.alternate)&&qte(t,e)}function E3e(){return null}var E0e=typeof reportError=="function"?reportError:function(t){console.error(t)};function HK(t){this._internalRoot=t}K6.prototype.render=HK.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ot(409));G6(t,e,null,null)};K6.prototype.unmount=HK.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;u_(function(){G6(null,t,null,null)}),e[Cg]=null}};function K6(t){this._internalRoot=t}K6.prototype.unstable_scheduleHydration=function(t){if(t){var e=rme();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Wv.length&&e!==0&&e<Wv[r].priority;r++);Wv.splice(r,0,t),r===0&&ime(t)}};function WK(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Y6(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Gte(){}function T3e(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=RF(a);s.call(c)}}var a=A0e(e,n,t,0,null,!1,!1,"",Gte);return t._reactRootContainer=a,t[Cg]=a.current,FP(t.nodeType===8?t.parentNode:t),u_(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=RF(l);o.call(c)}}var l=UK(t,0,!1,null,null,!1,!1,"",Gte);return t._reactRootContainer=l,t[Cg]=l.current,FP(t.nodeType===8?t.parentNode:t),u_(function(){G6(e,l,r,n)}),l}function X6(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=RF(a);o.call(l)}}G6(e,a,t,i)}else a=T3e(r,e,t,i,n);return RF(a)}eme=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Qk(e.pendingLanes);r!==0&&(uK(e,r|1),lu(e,ga()),!(Gn&6)&&(oT=ga()+500,sx()))}break;case 13:u_(function(){var n=kg(t,1);if(n!==null){var i=xc();Ef(n,t,1,i)}}),zK(t,1)}};dK=function(t){if(t.tag===13){var e=kg(t,134217728);if(e!==null){var r=xc();Ef(e,t,134217728,r)}zK(t,134217728)}};tme=function(t){if(t.tag===13){var e=vy(t),r=kg(t,e);if(r!==null){var n=xc();Ef(r,t,e,n)}zK(t,e)}};rme=function(){return Ci};nme=function(t,e){var r=Ci;try{return Ci=t,e()}finally{Ci=r}};xU=function(t,e,r){switch(e){case"input":if(hU(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=$6(n);if(!i)throw Error(Ot(90));Dpe(n),hU(n,i)}}}break;case"textarea":Fpe(t,r);break;case"select":e=r.value,e!=null&&$S(t,!!r.multiple,e,!1)}};zpe=LK;Hpe=u_;var C3e={usingClientEntryPoint:!1,Events:[CO,_S,$6,Vpe,Upe,LK]},xk={findFiberByHostInstance:ab,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k3e={bundleType:xk.bundleType,version:xk.version,rendererPackageName:xk.rendererPackageName,rendererConfig:xk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zg.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Gpe(t),t===null?null:t.stateNode},findFiberByHostInstance:xk.findFiberByHostInstance||E3e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var y3=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!y3.isDisabled&&y3.supportsFiber)try{F6=y3.inject(k3e),cm=y3}catch{}}bd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C3e;bd.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!WK(e))throw Error(Ot(200));return A3e(t,e,null,r)};bd.createRoot=function(t,e){if(!WK(t))throw Error(Ot(299));var r=!1,n="",i=E0e;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=UK(t,1,!1,null,null,r,!1,n,i),t[Cg]=e.current,FP(t.nodeType===8?t.parentNode:t),new HK(e)};bd.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ot(188)):(t=Object.keys(t).join(","),Error(Ot(268,t)));return t=Gpe(e),t=t===null?null:t.stateNode,t};bd.flushSync=function(t){return u_(t)};bd.hydrate=function(t,e,r){if(!Y6(e))throw Error(Ot(200));return X6(null,t,e,!0,r)};bd.hydrateRoot=function(t,e,r){if(!WK(t))throw Error(Ot(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=E0e;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=A0e(e,null,t,1,r??null,i,!1,s,a),t[Cg]=e.current,FP(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new K6(e)};bd.render=function(t,e,r){if(!Y6(e))throw Error(Ot(200));return X6(null,t,e,!1,r)};bd.unmountComponentAtNode=function(t){if(!Y6(t))throw Error(Ot(40));return t._reactRootContainer?(u_(function(){X6(null,null,t,!1,function(){t._reactRootContainer=null,t[Cg]=null})}),!0):!1};bd.unstable_batchedUpdates=LK;bd.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Y6(r))throw Error(Ot(200));if(t==null||t._reactInternals===void 0)throw Error(Ot(38));return X6(t,e,r,!1,n)};bd.version="18.3.1-next-f1338f8080-20240426";function T0e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T0e)}catch(t){console.error(t)}}T0e(),Tpe.exports=bd;var G_=Tpe.exports;const C0e=ki(G_);var k0e,Kte=G_;k0e=Kte.createRoot,Kte.hydrateRoot;const P3e=1,N3e=1e6;let A$=0;function I3e(){return A$=(A$+1)%Number.MAX_SAFE_INTEGER,A$.toString()}const E$=new Map,Yte=t=>{if(E$.has(t))return;const e=setTimeout(()=>{E$.delete(t),X5({type:"REMOVE_TOAST",toastId:t})},N3e);E$.set(t,e)},O3e=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,P3e)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Yte(r):t.toasts.forEach(n=>{Yte(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},JD=[];let eM={toasts:[]};function X5(t){eM=O3e(eM,t),JD.forEach(e=>{e(eM)})}function R3e({...t}){const e=I3e(),r=i=>X5({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>X5({type:"DISMISS_TOAST",toastId:e});return X5({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function D3e(){const[t,e]=O.useState(eM);return O.useEffect(()=>(JD.push(e),()=>{const r=JD.indexOf(e);r>-1&&JD.splice(r,1)}),[t]),{...t,toast:R3e,dismiss:r=>X5({type:"DISMISS_TOAST",toastId:r})}}function Ut(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Xte(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ng(...t){return e=>{let r=!1;const n=t.map(i=>{const s=Xte(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():Xte(t[i],null)}}}}function kn(...t){return O.useCallback(Ng(...t),t)}function M3e(t,e){const r=O.createContext(e),n=s=>{const{children:a,...o}=s,l=O.useMemo(()=>o,Object.values(o));return p.jsx(r.Provider,{value:l,children:a})};n.displayName=t+"Provider";function i(s){const a=O.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function Cc(t,e=[]){let r=[];function n(s,a){const o=O.createContext(a),l=r.length;r=[...r,a];const c=d=>{var x;const{scope:h,children:f,...g}=d,m=((x=h==null?void 0:h[t])==null?void 0:x[l])||o,v=O.useMemo(()=>g,Object.values(g));return p.jsx(m.Provider,{value:v,children:f})};c.displayName=s+"Provider";function u(d,h){var m;const f=((m=h==null?void 0:h[t])==null?void 0:m[l])||o,g=O.useContext(f);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=r.map(a=>O.createContext(a));return function(o){const l=(o==null?void 0:o[t])||s;return O.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,F3e(i,...e)]}function F3e(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((o,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...o,...d}},{});return O.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function Dy(t){const e=L3e(t),r=O.forwardRef((n,i)=>{const{children:s,...a}=n,o=O.Children.toArray(s),l=o.find(B3e);if(l){const c=l.props.children,u=o.map(d=>d===l?O.Children.count(c)>1?O.Children.only(null):O.isValidElement(c)?c.props.children:null:d);return p.jsx(e,{...a,ref:i,children:O.isValidElement(c)?O.cloneElement(c,void 0,u):null})}return p.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var j3e=Dy("Slot");function L3e(t){const e=O.forwardRef((r,n)=>{const{children:i,...s}=r;if(O.isValidElement(i)){const a=V3e(i),o=$3e(s,i.props);return i.type!==O.Fragment&&(o.ref=n?Ng(n,a):a),O.cloneElement(i,o)}return O.Children.count(i)>1?O.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var P0e=Symbol("radix.slottable");function N0e(t){const e=({children:r})=>p.jsx(p.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=P0e,e}function B3e(t){return O.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===P0e}function $3e(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function V3e(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Z6(t){const e=t+"CollectionProvider",[r,n]=Cc(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:v,children:x}=m,w=Ae.useRef(null),b=Ae.useRef(new Map).current;return p.jsx(i,{scope:v,itemMap:b,collectionRef:w,children:x})};a.displayName=e;const o=t+"CollectionSlot",l=Dy(o),c=Ae.forwardRef((m,v)=>{const{scope:x,children:w}=m,b=s(o,x),_=kn(v,b.collectionRef);return p.jsx(l,{ref:_,children:w})});c.displayName=o;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=Dy(u),f=Ae.forwardRef((m,v)=>{const{scope:x,children:w,...b}=m,_=Ae.useRef(null),S=kn(v,_),T=s(u,x);return Ae.useEffect(()=>(T.itemMap.set(_,{ref:_,...b}),()=>void T.itemMap.delete(_))),p.jsx(h,{[d]:"",ref:S,children:w})});f.displayName=u;function g(m){const v=s(t+"CollectionConsumer",m);return Ae.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((T,E)=>b.indexOf(T.ref.current)-b.indexOf(E.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:c,ItemSlot:f},g,n]}var U3e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pr=U3e.reduce((t,e)=>{const r=Dy(`Primitive.${e}`),n=O.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function qK(t,e){t&&G_.flushSync(()=>t.dispatchEvent(e))}function Sc(t){const e=O.useRef(t);return O.useEffect(()=>{e.current=t}),O.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function z3e(t,e=globalThis==null?void 0:globalThis.document){const r=Sc(t);O.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var H3e="DismissableLayer",QU="dismissableLayer.update",W3e="dismissableLayer.pointerDownOutside",q3e="dismissableLayer.focusOutside",Zte,I0e=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),K_=O.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,c=O.useContext(I0e),[u,d]=O.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=O.useState({}),g=kn(e,E=>d(E)),m=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),w=u?m.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,_=w>=x,S=K3e(E=>{const C=E.target,N=[...c.branches].some(F=>F.contains(C));!_||N||(i==null||i(E),a==null||a(E),E.defaultPrevented||o==null||o())},h),T=Y3e(E=>{const C=E.target;[...c.branches].some(F=>F.contains(C))||(s==null||s(E),a==null||a(E),E.defaultPrevented||o==null||o())},h);return z3e(E=>{w===c.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},h),O.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Zte=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Qte(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Zte)}},[u,h,r,c]),O.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Qte())},[u,c]),O.useEffect(()=>{const E=()=>f({});return document.addEventListener(QU,E),()=>document.removeEventListener(QU,E)},[]),p.jsx(pr.div,{...l,ref:g,style:{pointerEvents:b?_?"auto":"none":void 0,...t.style},onFocusCapture:Ut(t.onFocusCapture,T.onFocusCapture),onBlurCapture:Ut(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ut(t.onPointerDownCapture,S.onPointerDownCapture)})});K_.displayName=H3e;var G3e="DismissableLayerBranch",O0e=O.forwardRef((t,e)=>{const r=O.useContext(I0e),n=O.useRef(null),i=kn(e,n);return O.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),p.jsx(pr.div,{...t,ref:i})});O0e.displayName=G3e;function K3e(t,e=globalThis==null?void 0:globalThis.document){const r=Sc(t),n=O.useRef(!1),i=O.useRef(()=>{});return O.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let l=function(){R0e(W3e,r,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Y3e(t,e=globalThis==null?void 0:globalThis.document){const r=Sc(t),n=O.useRef(!1);return O.useEffect(()=>{const i=s=>{s.target&&!n.current&&R0e(q3e,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Qte(){const t=new CustomEvent(QU);document.dispatchEvent(t)}function R0e(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?qK(i,s):i.dispatchEvent(s)}var X3e=K_,Z3e=O0e,qa=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{},Q3e="Portal",aC=O.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,s]=O.useState(!1);qa(()=>s(!0),[]);const a=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?C0e.createPortal(p.jsx(pr.div,{...n,ref:e}),a):null});aC.displayName=Q3e;function J3e(t,e){return O.useReducer((r,n)=>e[r][n]??r,t)}var _d=t=>{const{present:e,children:r}=t,n=eDe(e),i=typeof r=="function"?r({present:n.isPresent}):O.Children.only(r),s=kn(n.ref,tDe(i));return typeof r=="function"||n.isPresent?O.cloneElement(i,{ref:s}):null};_d.displayName="Presence";function eDe(t){const[e,r]=O.useState(),n=O.useRef(null),i=O.useRef(t),s=O.useRef("none"),a=t?"mounted":"unmounted",[o,l]=J3e(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const c=x3(n.current);s.current=o==="mounted"?c:"none"},[o]),qa(()=>{const c=n.current,u=i.current;if(u!==t){const h=s.current,f=x3(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),qa(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=f=>{const m=x3(n.current).includes(f.animationName);if(f.target===e&&m&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=f=>{f.target===e&&(s.current=x3(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:O.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function x3(t){return(t==null?void 0:t.animationName)||"none"}function tDe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var rDe=tK[" useInsertionEffect ".trim().toString()]||qa;function Ig({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,a]=nDe({defaultProp:e,onChange:r}),o=t!==void 0,l=o?t:i;{const u=O.useRef(t!==void 0);O.useEffect(()=>{const d=u.current;d!==o&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,n])}const c=O.useCallback(u=>{var d;if(o){const h=iDe(u)?u(t):u;h!==t&&((d=a.current)==null||d.call(a,h))}else s(u)},[o,t,s,a]);return[l,c]}function nDe({defaultProp:t,onChange:e}){const[r,n]=O.useState(t),i=O.useRef(r),s=O.useRef(e);return rDe(()=>{s.current=e},[e]),O.useEffect(()=>{var a;i.current!==r&&((a=s.current)==null||a.call(s,r),i.current=r)},[r,i]),[r,n,s]}function iDe(t){return typeof t=="function"}var D0e=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sDe="VisuallyHidden",Q6=O.forwardRef((t,e)=>p.jsx(pr.span,{...t,ref:e,style:{...D0e,...t.style}}));Q6.displayName=sDe;var aDe=Q6,GK="ToastProvider",[KK,oDe,lDe]=Z6("Toast"),[M0e,Uzt]=Cc("Toast",[lDe]),[cDe,J6]=M0e(GK),F0e=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[o,l]=O.useState(null),[c,u]=O.useState(0),d=O.useRef(!1),h=O.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${GK}\`. Expected non-empty \`string\`.`),p.jsx(KK.Provider,{scope:e,children:p.jsx(cDe,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:O.useCallback(()=>u(f=>f+1),[]),onToastRemove:O.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:a})})};F0e.displayName=GK;var j0e="ToastViewport",uDe=["F8"],JU="toast.viewportPause",ez="toast.viewportResume",L0e=O.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=uDe,label:i="Notifications ({hotkey})",...s}=t,a=J6(j0e,r),o=oDe(r),l=O.useRef(null),c=O.useRef(null),u=O.useRef(null),d=O.useRef(null),h=kn(e,d,a.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;O.useEffect(()=>{const v=x=>{var b;n.length!==0&&n.every(_=>x[_]||x.code===_)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),O.useEffect(()=>{const v=l.current,x=d.current;if(g&&v&&x){const w=()=>{if(!a.isClosePausedRef.current){const T=new CustomEvent(JU);x.dispatchEvent(T),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const T=new CustomEvent(ez);x.dispatchEvent(T),a.isClosePausedRef.current=!1}},_=T=>{!v.contains(T.relatedTarget)&&b()},S=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",w),v.addEventListener("focusout",_),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",S),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[g,a.isClosePausedRef]);const m=O.useCallback(({tabbingDirection:v})=>{const w=o().map(b=>{const _=b.ref.current,S=[_,...SDe(_)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?w.reverse():w).flat()},[o]);return O.useEffect(()=>{const v=d.current;if(v){const x=w=>{var S,T,E;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const C=document.activeElement,N=w.shiftKey;if(w.target===v&&N){(S=c.current)==null||S.focus();return}const I=m({tabbingDirection:N?"backwards":"forwards"}),M=I.findIndex(U=>U===C);T$(I.slice(M+1))?w.preventDefault():N?(T=c.current)==null||T.focus():(E=u.current)==null||E.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[o,m]),p.jsxs(Z3e,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&p.jsx(tz,{ref:c,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});T$(v)}}),p.jsx(KK.Slot,{scope:r,children:p.jsx(pr.ol,{tabIndex:-1,...s,ref:h})}),g&&p.jsx(tz,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});T$(v)}})]})});L0e.displayName=j0e;var B0e="ToastFocusProxy",tz=O.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=J6(B0e,r);return p.jsx(Q6,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var c;const o=a.relatedTarget;!((c=s.viewport)!=null&&c.contains(o))&&n()}})});tz.displayName=B0e;var PO="Toast",dDe="toast.swipeStart",hDe="toast.swipeMove",fDe="toast.swipeCancel",pDe="toast.swipeEnd",$0e=O.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...a}=t,[o,l]=Ig({prop:n,defaultProp:i??!0,onChange:s,caller:PO});return p.jsx(_d,{present:r||o,children:p.jsx(vDe,{open:o,...a,ref:e,onClose:()=>l(!1),onPause:Sc(t.onPause),onResume:Sc(t.onResume),onSwipeStart:Ut(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ut(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Ut(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ut(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});$0e.displayName=PO;var[mDe,gDe]=M0e(PO,{onClose(){}}),vDe=O.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...g}=t,m=J6(PO,r),[v,x]=O.useState(null),w=kn(e,U=>x(U)),b=O.useRef(null),_=O.useRef(null),S=i||m.duration,T=O.useRef(0),E=O.useRef(S),C=O.useRef(0),{onToastAdd:N,onToastRemove:F}=m,A=Sc(()=>{var Y;(v==null?void 0:v.contains(document.activeElement))&&((Y=m.viewport)==null||Y.focus()),a()}),I=O.useCallback(U=>{!U||U===1/0||(window.clearTimeout(C.current),T.current=new Date().getTime(),C.current=window.setTimeout(A,U))},[A]);O.useEffect(()=>{const U=m.viewport;if(U){const Y=()=>{I(E.current),c==null||c()},X=()=>{const W=new Date().getTime()-T.current;E.current=E.current-W,window.clearTimeout(C.current),l==null||l()};return U.addEventListener(JU,X),U.addEventListener(ez,Y),()=>{U.removeEventListener(JU,X),U.removeEventListener(ez,Y)}}},[m.viewport,S,l,c,I]),O.useEffect(()=>{s&&!m.isClosePausedRef.current&&I(S)},[s,S,m.isClosePausedRef,I]),O.useEffect(()=>(N(),()=>F()),[N,F]);const M=O.useMemo(()=>v?G0e(v):null,[v]);return m.viewport?p.jsxs(p.Fragment,{children:[M&&p.jsx(yDe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),p.jsx(mDe,{scope:r,onClose:A,children:G_.createPortal(p.jsx(KK.ItemSlot,{scope:r,children:p.jsx(X3e,{asChild:!0,onEscapeKeyDown:Ut(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||A(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(pr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ut(t.onKeyDown,U=>{U.key==="Escape"&&(o==null||o(U.nativeEvent),U.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:Ut(t.onPointerDown,U=>{U.button===0&&(b.current={x:U.clientX,y:U.clientY})}),onPointerMove:Ut(t.onPointerMove,U=>{if(!b.current)return;const Y=U.clientX-b.current.x,X=U.clientY-b.current.y,W=!!_.current,G=["left","right"].includes(m.swipeDirection),B=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,re=G?B(0,Y):0,ae=G?0:B(0,X),R=U.pointerType==="touch"?10:2,j={x:re,y:ae},V={originalEvent:U,delta:j};W?(_.current=j,b3(hDe,d,V,{discrete:!1})):Jte(j,m.swipeDirection,R)?(_.current=j,b3(dDe,u,V,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(Y)>R||Math.abs(X)>R)&&(b.current=null)}),onPointerUp:Ut(t.onPointerUp,U=>{const Y=_.current,X=U.target;if(X.hasPointerCapture(U.pointerId)&&X.releasePointerCapture(U.pointerId),_.current=null,b.current=null,Y){const W=U.currentTarget,G={originalEvent:U,delta:Y};Jte(Y,m.swipeDirection,m.swipeThreshold)?b3(pDe,f,G,{discrete:!0}):b3(fDe,h,G,{discrete:!0}),W.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),yDe=t=>{const{__scopeToast:e,children:r,...n}=t,i=J6(PO,e),[s,a]=O.useState(!1),[o,l]=O.useState(!1);return wDe(()=>a(!0)),O.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:p.jsx(aC,{asChild:!0,children:p.jsx(Q6,{...n,children:s&&p.jsxs(p.Fragment,{children:[i.label," ",r]})})})},xDe="ToastTitle",V0e=O.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return p.jsx(pr.div,{...n,ref:e})});V0e.displayName=xDe;var bDe="ToastDescription",U0e=O.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return p.jsx(pr.div,{...n,ref:e})});U0e.displayName=bDe;var z0e="ToastAction",H0e=O.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?p.jsx(q0e,{altText:r,asChild:!0,children:p.jsx(YK,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${z0e}\`. Expected non-empty \`string\`.`),null)});H0e.displayName=z0e;var W0e="ToastClose",YK=O.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=gDe(W0e,r);return p.jsx(q0e,{asChild:!0,children:p.jsx(pr.button,{type:"button",...n,ref:e,onClick:Ut(t.onClick,i.onClose)})})});YK.displayName=W0e;var q0e=O.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return p.jsx(pr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function G0e(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),_De(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...G0e(n))}}),e}function b3(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?qK(i,s):i.dispatchEvent(s)}var Jte=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function wDe(t=()=>{}){const e=Sc(t);qa(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function _De(t){return t.nodeType===t.ELEMENT_NODE}function SDe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function T$(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var ADe=F0e,K0e=L0e,Y0e=$0e,X0e=V0e,Z0e=U0e,Q0e=H0e,J0e=YK;function ege(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=ege(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function zn(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=ege(t))&&(n&&(n+=" "),n+=e);return n}const ere=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,tre=zn,NO=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return tre(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(c=>{const u=r==null?void 0:r[c],d=s==null?void 0:s[c];if(u===null)return null;const h=ere(u)||ere(d);return i[c][h]}),o=r&&Object.entries(r).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...s,...o}[m]):{...s,...o}[m]===v})?[...c,d,h]:c},[]);return tre(t,a,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EDe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tge=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TDe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CDe=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>O.createElement("svg",{ref:l,...TDe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:tge("lucide",i),...o},[...a.map(([c,u])=>O.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=(t,e)=>{const r=O.forwardRef(({className:n,...i},s)=>O.createElement(CDe,{ref:s,iconNode:e,className:tge(`lucide-${EDe(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rge=mr("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=mr("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kDe=mr("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=mr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=mr("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=mr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nge=mr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=mr("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=mr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PDe=mr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NDe=mr("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IDe=mr("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=mr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ODe=mr("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=mr("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=mr("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RDe=mr("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DDe=mr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=mr("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=mr("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=mr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MDe=mr("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FDe=mr("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ige=mr("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=mr("FileChartColumnIncreasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=mr("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=mr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jDe=mr("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LDe=mr("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sge=mr("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BDe=mr("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=mr("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=mr("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const age=mr("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oge=mr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lge=mr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $De=mr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VDe=mr("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=mr("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UDe=mr("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zDe=mr("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=mr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HDe=mr("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=mr("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=mr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WDe=mr("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=mr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qDe=mr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cge=mr("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uge=mr("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=mr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dge=mr("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=mr("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=mr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=mr("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=mr("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=mr("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=mr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=mr("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=mr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=mr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GDe=mr("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=mr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),rY="-",KDe=t=>{const e=XDe(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const o=a.split(rY);return o[0]===""&&o.length!==1&&o.shift(),hge(o,e)||YDe(a)},getConflictingClassGroupIds:(a,o)=>{const l=r[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},hge=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?hge(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(rY);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},are=/^\[(.+)\]$/,YDe=t=>{if(are.test(t)){const e=are.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},XDe=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return QDe(Object.entries(t.classGroups),r).forEach(([s,a])=>{sz(a,n,s,e)}),n},sz=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:ore(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(ZDe(i)){sz(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{sz(a,ore(e,s),r,n)})})},ore=(t,e)=>{let r=t;return e.split(rY).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},ZDe=t=>t.isThemeGetter,QDe=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[r,i]}):t,JDe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},fge="!",eMe=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let c=0,u=0,d;for(let v=0;v<o.length;v++){let x=o[v];if(c===0){if(x===i&&(n||o.slice(v,v+s)===e)){l.push(o.slice(u,v)),u=v+s;continue}if(x==="/"){d=v;continue}}x==="["?c++:x==="]"&&c--}const h=l.length===0?o:o.substring(u),f=h.startsWith(fge),g=f?h.substring(1):h,m=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:m}};return r?o=>r({className:o,parseClassName:a}):a},tMe=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},rMe=t=>({cache:JDe(t.cacheSize),parseClassName:eMe(t),...KDe(t)}),nMe=/\s+/,iMe=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(nMe);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=r(c);let g=!!f,m=n(g?h.substring(0,f):h);if(!m){if(!g){o=c+(o.length>0?" "+o:o);continue}if(m=n(h),!m){o=c+(o.length>0?" "+o:o);continue}g=!1}const v=tMe(u).join(":"),x=d?v+fge:v,w=x+m;if(s.includes(w))continue;s.push(w);const b=i(m,g);for(let _=0;_<b.length;++_){const S=b[_];s.push(x+S)}o=c+(o.length>0?" "+o:o)}return o};function sMe(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=pge(e))&&(n&&(n+=" "),n+=r);return n}const pge=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=pge(t[n]))&&(r&&(r+=" "),r+=e);return r};function aMe(t,...e){let r,n,i,s=a;function a(l){const c=e.reduce((u,d)=>d(u),t());return r=rMe(c),n=r.cache.get,i=r.cache.set,s=o,o(l)}function o(l){const c=n(l);if(c)return c;const u=iMe(l,r);return i(l,u),u}return function(){return s(sMe.apply(null,arguments))}}const fs=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},mge=/^\[(?:([a-z-]+):)?(.+)\]$/i,oMe=/^\d+\/\d+$/,lMe=new Set(["px","full","screen"]),cMe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uMe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dMe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hMe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fMe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xm=t=>qS(t)||lMe.has(t)||oMe.test(t),kv=t=>lC(t,"length",wMe),qS=t=>!!t&&!Number.isNaN(Number(t)),C$=t=>lC(t,"number",qS),bk=t=>!!t&&Number.isInteger(Number(t)),pMe=t=>t.endsWith("%")&&qS(t.slice(0,-1)),dn=t=>mge.test(t),Pv=t=>cMe.test(t),mMe=new Set(["length","size","percentage"]),gMe=t=>lC(t,mMe,gge),vMe=t=>lC(t,"position",gge),yMe=new Set(["image","url"]),xMe=t=>lC(t,yMe,SMe),bMe=t=>lC(t,"",_Me),wk=()=>!0,lC=(t,e,r)=>{const n=mge.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},wMe=t=>uMe.test(t)&&!dMe.test(t),gge=()=>!1,_Me=t=>hMe.test(t),SMe=t=>fMe.test(t),AMe=()=>{const t=fs("colors"),e=fs("spacing"),r=fs("blur"),n=fs("brightness"),i=fs("borderColor"),s=fs("borderRadius"),a=fs("borderSpacing"),o=fs("borderWidth"),l=fs("contrast"),c=fs("grayscale"),u=fs("hueRotate"),d=fs("invert"),h=fs("gap"),f=fs("gradientColorStops"),g=fs("gradientColorStopPositions"),m=fs("inset"),v=fs("margin"),x=fs("opacity"),w=fs("padding"),b=fs("saturate"),_=fs("scale"),S=fs("sepia"),T=fs("skew"),E=fs("space"),C=fs("translate"),N=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",dn,e],I=()=>[dn,e],M=()=>["",Xm,kv],U=()=>["auto",qS,dn],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",dn],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[qS,dn];return{cacheSize:500,separator:":",theme:{colors:[wk],spacing:[Xm,kv],blur:["none","",Pv,dn],brightness:ae(),borderColor:[t],borderRadius:["none","","full",Pv,dn],borderSpacing:I(),borderWidth:M(),contrast:ae(),grayscale:B(),hueRotate:ae(),invert:B(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[pMe,kv],inset:A(),margin:A(),opacity:ae(),padding:I(),saturate:ae(),scale:ae(),sepia:B(),skew:ae(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",dn]}],container:["container"],columns:[{columns:[Pv]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),dn]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bk,dn]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",dn]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",bk,dn]}],"grid-cols":[{"grid-cols":[wk]}],"col-start-end":[{col:["auto",{span:["full",bk,dn]},dn]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[wk]}],"row-start-end":[{row:["auto",{span:[bk,dn]},dn]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",dn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",dn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",dn,e]}],"min-w":[{"min-w":[dn,e,"min","max","fit"]}],"max-w":[{"max-w":[dn,e,"none","full","min","max","fit","prose",{screen:[Pv]},Pv]}],h:[{h:[dn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[dn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[dn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[dn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Pv,kv]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",C$]}],"font-family":[{font:[wk]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",dn]}],"line-clamp":[{"line-clamp":["none",qS,C$]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xm,dn]}],"list-image":[{"list-image":["none",dn]}],"list-style-type":[{list:["none","disc","decimal",dn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xm,kv]}],"underline-offset":[{"underline-offset":["auto",Xm,dn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),vMe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gMe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xMe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[Xm,dn]}],"outline-w":[{outline:[Xm,kv]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Xm,kv]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Pv,bMe]}],"shadow-color":[{shadow:[wk]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Pv,dn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",dn]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",dn]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",dn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[bk,dn]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",dn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xm,kv,C$]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},EMe=aMe(AMe);function Pt(...t){return EMe(zn(t))}const TMe=ADe,vge=O.forwardRef(({className:t,...e},r)=>p.jsx(K0e,{ref:r,className:Pt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));vge.displayName=K0e.displayName;const CMe=NO("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),yge=O.forwardRef(({className:t,variant:e,...r},n)=>p.jsx(Y0e,{ref:n,className:Pt(CMe({variant:e}),t),...r}));yge.displayName=Y0e.displayName;const kMe=O.forwardRef(({className:t,...e},r)=>p.jsx(Q0e,{ref:r,className:Pt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));kMe.displayName=Q0e.displayName;const xge=O.forwardRef(({className:t,...e},r)=>p.jsx(J0e,{ref:r,className:Pt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(Y_,{className:"h-4 w-4"})}));xge.displayName=J0e.displayName;const bge=O.forwardRef(({className:t,...e},r)=>p.jsx(X0e,{ref:r,className:Pt("text-sm font-semibold",t),...e}));bge.displayName=X0e.displayName;const wge=O.forwardRef(({className:t,...e},r)=>p.jsx(Z0e,{ref:r,className:Pt("text-sm opacity-90",t),...e}));wge.displayName=Z0e.displayName;function PMe(){const{toasts:t}=D3e();return p.jsxs(TMe,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return p.jsxs(yge,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[r&&p.jsx(bge,{children:r}),n&&p.jsx(wge,{children:n})]}),i,p.jsx(xge,{})]},e)}),p.jsx(vge,{})]})}var lre=["light","dark"],NMe="(prefers-color-scheme: dark)",IMe=O.createContext(void 0),OMe={setTheme:t=>{},themes:[]},RMe=()=>{var t;return(t=O.useContext(IMe))!=null?t:OMe};O.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:a,attrs:o,nonce:l})=>{let c=s==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=i?lre.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,m=!1,v=!0)=>{let x=a?a[g]:g,w=m?g+"|| ''":`'${x}'`,b="";return i&&v&&!m&&lre.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),r==="class"?m||x?b+=`c.add(${w})`:b+="null":x&&(b+=`d[s](n,${w})`),b},f=t?`!function(){${u}${h(t)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${NMe}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${c?"":"else{"+h(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${d}}catch(t){}}();`;return O.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var DMe=t=>{switch(t){case"success":return jMe;case"info":return BMe;case"warning":return LMe;case"error":return $Me;default:return null}},MMe=Array(12).fill(0),FMe=({visible:t,className:e})=>Ae.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ae.createElement("div",{className:"sonner-spinner"},MMe.map((r,n)=>Ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),jMe=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),LMe=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),BMe=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$Me=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),VMe=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),UMe=()=>{let[t,e]=Ae.useState(document.hidden);return Ae.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},az=1,zMe=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:az++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:o,title:n}):l):this.addToast({title:n,...i,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let i=e instanceof Promise?e:e(),s=n!==void 0,a,o=i.then(async c=>{if(a=["resolve",c],Ae.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(WMe(c)&&!c.ok){s=!1;let u=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,d=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description;this.create({id:n,type:"error",message:u,description:d})}else if(r.success!==void 0){s=!1;let u=typeof r.success=="function"?await r.success(c):r.success,d=typeof r.description=="function"?await r.description(c):r.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],r.error!==void 0){s=!1;let u=typeof r.error=="function"?await r.error(c):r.error,d=typeof r.description=="function"?await r.description(c):r.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=r.finally)==null||c.call(r)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||az++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Yc=new zMe,HMe=(t,e)=>{let r=(e==null?void 0:e.id)||az++;return Yc.addToast({title:t,...e,id:r}),r},WMe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",qMe=HMe,GMe=()=>Yc.toasts,KMe=()=>Yc.getActiveToasts(),Be=Object.assign(qMe,{success:Yc.success,info:Yc.info,warning:Yc.warning,error:Yc.error,custom:Yc.custom,message:Yc.message,promise:Yc.promise,dismiss:Yc.dismiss,loading:Yc.loading},{getHistory:GMe,getToasts:KMe});function YMe(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}YMe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function w3(t){return t.label!==void 0}var XMe=3,ZMe="32px",QMe="16px",cre=4e3,JMe=356,eFe=14,tFe=20,rFe=200;function Uh(...t){return t.filter(Boolean).join(" ")}function nFe(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var iFe=t=>{var e,r,n,i,s,a,o,l,c,u,d;let{invert:h,toast:f,unstyled:g,interacting:m,setHeights:v,visibleToasts:x,heights:w,index:b,toasts:_,expanded:S,removeToast:T,defaultRichColors:E,closeButton:C,style:N,cancelButtonStyle:F,actionButtonStyle:A,className:I="",descriptionClassName:M="",duration:U,position:Y,gap:X,loadingIcon:W,expandByDefault:G,classNames:B,icons:re,closeButtonAriaLabel:ae="Close toast",pauseWhenPageIsHidden:R}=t,[j,V]=Ae.useState(null),[K,ne]=Ae.useState(null),[J,me]=Ae.useState(!1),[ce,he]=Ae.useState(!1),[_e,ee]=Ae.useState(!1),[je,Ue]=Ae.useState(!1),[pe,Me]=Ae.useState(!1),[Ye,xt]=Ae.useState(0),[Ke,be]=Ae.useState(0),Pe=Ae.useRef(f.duration||U||cre),De=Ae.useRef(null),Je=Ae.useRef(null),it=b===0,rt=b+1<=x,st=f.type,Dt=f.dismissible!==!1,kt=f.className||"",Nt=f.descriptionClassName||"",At=Ae.useMemo(()=>w.findIndex(tr=>tr.toastId===f.id)||0,[w,f.id]),Tt=Ae.useMemo(()=>{var tr;return(tr=f.closeButton)!=null?tr:C},[f.closeButton,C]),Ur=Ae.useMemo(()=>f.duration||U||cre,[f.duration,U]),Yt=Ae.useRef(0),sr=Ae.useRef(0),Cr=Ae.useRef(0),jr=Ae.useRef(null),[Ne,Gt]=Y.split("-"),Ve=Ae.useMemo(()=>w.reduce((tr,Sr,qr)=>qr>=At?tr:tr+Sr.height,0),[w,At]),Qt=UMe(),Ht=f.invert||h,gt=st==="loading";sr.current=Ae.useMemo(()=>At*X+Ve,[At,Ve]),Ae.useEffect(()=>{Pe.current=Ur},[Ur]),Ae.useEffect(()=>{me(!0)},[]),Ae.useEffect(()=>{let tr=Je.current;if(tr){let Sr=tr.getBoundingClientRect().height;return be(Sr),v(qr=>[{toastId:f.id,height:Sr,position:f.position},...qr]),()=>v(qr=>qr.filter(Nn=>Nn.toastId!==f.id))}},[v,f.id]),Ae.useLayoutEffect(()=>{if(!J)return;let tr=Je.current,Sr=tr.style.height;tr.style.height="auto";let qr=tr.getBoundingClientRect().height;tr.style.height=Sr,be(qr),v(Nn=>Nn.find(Jt=>Jt.toastId===f.id)?Nn.map(Jt=>Jt.toastId===f.id?{...Jt,height:qr}:Jt):[{toastId:f.id,height:qr,position:f.position},...Nn])},[J,f.title,f.description,v,f.id]);let ft=Ae.useCallback(()=>{he(!0),xt(sr.current),v(tr=>tr.filter(Sr=>Sr.toastId!==f.id)),setTimeout(()=>{T(f)},rFe)},[f,T,v,sr]);Ae.useEffect(()=>{if(f.promise&&st==="loading"||f.duration===1/0||f.type==="loading")return;let tr;return S||m||R&&Qt?(()=>{if(Cr.current<Yt.current){let Sr=new Date().getTime()-Yt.current;Pe.current=Pe.current-Sr}Cr.current=new Date().getTime()})():Pe.current!==1/0&&(Yt.current=new Date().getTime(),tr=setTimeout(()=>{var Sr;(Sr=f.onAutoClose)==null||Sr.call(f,f),ft()},Pe.current)),()=>clearTimeout(tr)},[S,m,f,st,R,Qt,ft]),Ae.useEffect(()=>{f.delete&&ft()},[ft,f.delete]);function ar(){var tr,Sr,qr;return re!=null&&re.loading?Ae.createElement("div",{className:Uh(B==null?void 0:B.loader,(tr=f==null?void 0:f.classNames)==null?void 0:tr.loader,"sonner-loader"),"data-visible":st==="loading"},re.loading):W?Ae.createElement("div",{className:Uh(B==null?void 0:B.loader,(Sr=f==null?void 0:f.classNames)==null?void 0:Sr.loader,"sonner-loader"),"data-visible":st==="loading"},W):Ae.createElement(FMe,{className:Uh(B==null?void 0:B.loader,(qr=f==null?void 0:f.classNames)==null?void 0:qr.loader),visible:st==="loading"})}return Ae.createElement("li",{tabIndex:0,ref:Je,className:Uh(I,kt,B==null?void 0:B.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,B==null?void 0:B.default,B==null?void 0:B[st],(r=f==null?void 0:f.classNames)==null?void 0:r[st]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:E,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":J,"data-promise":!!f.promise,"data-swiped":pe,"data-removed":ce,"data-visible":rt,"data-y-position":Ne,"data-x-position":Gt,"data-index":b,"data-front":it,"data-swiping":_e,"data-dismissible":Dt,"data-type":st,"data-invert":Ht,"data-swipe-out":je,"data-swipe-direction":K,"data-expanded":!!(S||G&&J),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${ce?Ye:sr.current}px`,"--initial-height":G?"auto":`${Ke}px`,...N,...f.style},onDragEnd:()=>{ee(!1),V(null),jr.current=null},onPointerDown:tr=>{gt||!Dt||(De.current=new Date,xt(sr.current),tr.target.setPointerCapture(tr.pointerId),tr.target.tagName!=="BUTTON"&&(ee(!0),jr.current={x:tr.clientX,y:tr.clientY}))},onPointerUp:()=>{var tr,Sr,qr,Nn;if(je||!Dt)return;jr.current=null;let Jt=Number(((tr=Je.current)==null?void 0:tr.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ni=Number(((Sr=Je.current)==null?void 0:Sr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),li=new Date().getTime()-((qr=De.current)==null?void 0:qr.getTime()),Tn=j==="x"?Jt:Ni,Oe=Math.abs(Tn)/li;if(Math.abs(Tn)>=tFe||Oe>.11){xt(sr.current),(Nn=f.onDismiss)==null||Nn.call(f,f),ne(j==="x"?Jt>0?"right":"left":Ni>0?"down":"up"),ft(),Ue(!0),Me(!1);return}ee(!1),V(null)},onPointerMove:tr=>{var Sr,qr,Nn,Jt;if(!jr.current||!Dt||((Sr=window.getSelection())==null?void 0:Sr.toString().length)>0)return;let Ni=tr.clientY-jr.current.y,li=tr.clientX-jr.current.x,Tn=(qr=t.swipeDirections)!=null?qr:nFe(Y);!j&&(Math.abs(li)>1||Math.abs(Ni)>1)&&V(Math.abs(li)>Math.abs(Ni)?"x":"y");let Oe={x:0,y:0};j==="y"?(Tn.includes("top")||Tn.includes("bottom"))&&(Tn.includes("top")&&Ni<0||Tn.includes("bottom")&&Ni>0)&&(Oe.y=Ni):j==="x"&&(Tn.includes("left")||Tn.includes("right"))&&(Tn.includes("left")&&li<0||Tn.includes("right")&&li>0)&&(Oe.x=li),(Math.abs(Oe.x)>0||Math.abs(Oe.y)>0)&&Me(!0),(Nn=Je.current)==null||Nn.style.setProperty("--swipe-amount-x",`${Oe.x}px`),(Jt=Je.current)==null||Jt.style.setProperty("--swipe-amount-y",`${Oe.y}px`)}},Tt&&!f.jsx?Ae.createElement("button",{"aria-label":ae,"data-disabled":gt,"data-close-button":!0,onClick:gt||!Dt?()=>{}:()=>{var tr;ft(),(tr=f.onDismiss)==null||tr.call(f,f)},className:Uh(B==null?void 0:B.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},(s=re==null?void 0:re.close)!=null?s:VMe):null,f.jsx||O.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:Ae.createElement(Ae.Fragment,null,st||f.icon||f.promise?Ae.createElement("div",{"data-icon":"",className:Uh(B==null?void 0:B.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||ar():null,f.type!=="loading"?f.icon||(re==null?void 0:re[st])||DMe(st):null):null,Ae.createElement("div",{"data-content":"",className:Uh(B==null?void 0:B.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},Ae.createElement("div",{"data-title":"",className:Uh(B==null?void 0:B.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?Ae.createElement("div",{"data-description":"",className:Uh(M,Nt,B==null?void 0:B.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),O.isValidElement(f.cancel)?f.cancel:f.cancel&&w3(f.cancel)?Ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||F,onClick:tr=>{var Sr,qr;w3(f.cancel)&&Dt&&((qr=(Sr=f.cancel).onClick)==null||qr.call(Sr,tr),ft())},className:Uh(B==null?void 0:B.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,O.isValidElement(f.action)?f.action:f.action&&w3(f.action)?Ae.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||A,onClick:tr=>{var Sr,qr;w3(f.action)&&((qr=(Sr=f.action).onClick)==null||qr.call(Sr,tr),!tr.defaultPrevented&&ft())},className:Uh(B==null?void 0:B.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function ure(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function sFe(t,e){let r={};return[t,e].forEach((n,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?QMe:ZMe;function l(c){["top","right","bottom","left"].forEach(u=>{r[`${a}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${a}-${c}`]=o:r[`${a}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(o)}),r}var aFe=O.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:h,style:f,visibleToasts:g=XMe,toastOptions:m,dir:v=ure(),gap:x=eFe,loadingIcon:w,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=t,[T,E]=Ae.useState([]),C=Ae.useMemo(()=>Array.from(new Set([n].concat(T.filter(R=>R.position).map(R=>R.position)))),[T,n]),[N,F]=Ae.useState([]),[A,I]=Ae.useState(!1),[M,U]=Ae.useState(!1),[Y,X]=Ae.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=Ae.useRef(null),G=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=Ae.useRef(null),re=Ae.useRef(!1),ae=Ae.useCallback(R=>{E(j=>{var V;return(V=j.find(K=>K.id===R.id))!=null&&V.delete||Yc.dismiss(R.id),j.filter(({id:K})=>K!==R.id)})},[]);return Ae.useEffect(()=>Yc.subscribe(R=>{if(R.dismiss){E(j=>j.map(V=>V.id===R.id?{...V,delete:!0}:V));return}setTimeout(()=>{C0e.flushSync(()=>{E(j=>{let V=j.findIndex(K=>K.id===R.id);return V!==-1?[...j.slice(0,V),{...j[V],...R},...j.slice(V+1)]:[R,...j]})})})}),[]),Ae.useEffect(()=>{if(u!=="system"){X(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;let R=window.matchMedia("(prefers-color-scheme: dark)");try{R.addEventListener("change",({matches:j})=>{X(j?"dark":"light")})}catch{R.addListener(({matches:V})=>{try{X(V?"dark":"light")}catch(K){console.error(K)}})}},[u]),Ae.useEffect(()=>{T.length<=1&&I(!1)},[T]),Ae.useEffect(()=>{let R=j=>{var V,K;i.every(ne=>j[ne]||j.code===ne)&&(I(!0),(V=W.current)==null||V.focus()),j.code==="Escape"&&(document.activeElement===W.current||(K=W.current)!=null&&K.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[i]),Ae.useEffect(()=>{if(W.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,re.current=!1)}},[W.current]),Ae.createElement("section",{ref:e,"aria-label":`${_} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((R,j)=>{var V;let[K,ne]=R.split("-");return T.length?Ae.createElement("ol",{key:R,dir:v==="auto"?ure():v,tabIndex:-1,ref:W,className:o,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":K,"data-lifted":A&&T.length>1&&!s,"data-x-position":ne,style:{"--front-toast-height":`${((V=N[0])==null?void 0:V.height)||0}px`,"--width":`${JMe}px`,"--gap":`${x}px`,...f,...sFe(l,c)},onBlur:J=>{re.current&&!J.currentTarget.contains(J.relatedTarget)&&(re.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||re.current||(re.current=!0,B.current=J.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{M||I(!1)},onDragEnd:()=>I(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},T.filter(J=>!J.position&&j===0||J.position===R).map((J,me)=>{var ce,he;return Ae.createElement(iFe,{key:J.id,icons:b,index:me,toast:J,defaultRichColors:d,duration:(ce=m==null?void 0:m.duration)!=null?ce:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:g,closeButton:(he=m==null?void 0:m.closeButton)!=null?he:a,interacting:M,position:R,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:ae,toasts:T.filter(_e=>_e.position==J.position),heights:N.filter(_e=>_e.position==J.position),setHeights:F,expandByDefault:s,gap:x,loadingIcon:w,expanded:A,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const oFe=({...t})=>{const{theme:e="system"}=RMe();return p.jsx(aFe,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var lFe=tK[" useId ".trim().toString()]||(()=>{}),cFe=0;function il(t){const[e,r]=O.useState(lFe());return qa(()=>{r(n=>n??String(cFe++))},[t]),e?`radix-${e}`:""}const uFe=["top","right","bottom","left"],Fy=Math.min,Ju=Math.max,jF=Math.round,_3=Math.floor,dm=t=>({x:t,y:t}),dFe={left:"right",right:"left",bottom:"top",top:"bottom"},hFe={start:"end",end:"start"};function oz(t,e,r){return Ju(t,Fy(e,r))}function Og(t,e){return typeof t=="function"?t(e):t}function Rg(t){return t.split("-")[0]}function cC(t){return t.split("-")[1]}function nY(t){return t==="x"?"y":"x"}function iY(t){return t==="y"?"height":"width"}const fFe=new Set(["top","bottom"]);function rm(t){return fFe.has(Rg(t))?"y":"x"}function sY(t){return nY(rm(t))}function pFe(t,e,r){r===void 0&&(r=!1);const n=cC(t),i=sY(t),s=iY(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=LF(a)),[a,LF(a)]}function mFe(t){const e=LF(t);return[lz(t),e,lz(e)]}function lz(t){return t.replace(/start|end/g,e=>hFe[e])}const dre=["left","right"],hre=["right","left"],gFe=["top","bottom"],vFe=["bottom","top"];function yFe(t,e,r){switch(t){case"top":case"bottom":return r?e?hre:dre:e?dre:hre;case"left":case"right":return e?gFe:vFe;default:return[]}}function xFe(t,e,r,n){const i=cC(t);let s=yFe(Rg(t),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(lz)))),s}function LF(t){return t.replace(/left|right|bottom|top/g,e=>dFe[e])}function bFe(t){return{top:0,right:0,bottom:0,left:0,...t}}function _ge(t){return typeof t!="number"?bFe(t):{top:t,right:t,bottom:t,left:t}}function BF(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function fre(t,e,r){let{reference:n,floating:i}=t;const s=rm(e),a=sY(e),o=iY(a),l=Rg(e),c=s==="y",u=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,h=n[o]/2-i[o]/2;let f;switch(l){case"top":f={x:u,y:n.y-i.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-i.width,y:d};break;default:f={x:n.x,y:n.y}}switch(cC(e)){case"start":f[a]-=h*(r&&c?-1:1);break;case"end":f[a]+=h*(r&&c?-1:1);break}return f}const wFe=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=fre(c,n,l),h=n,f={},g=0;for(let m=0;m<o.length;m++){const{name:v,fn:x}=o[m],{x:w,y:b,data:_,reset:S}=await x({x:u,y:d,initialPlacement:n,placement:h,strategy:i,middlewareData:f,rects:c,platform:a,elements:{reference:t,floating:e}});u=w??u,d=b??d,f={...f,[v]:{...f[v],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:u,y:d}=fre(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function WP(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Og(e,t),g=_ge(f),v=o[h?d==="floating"?"reference":"floating":d],x=BF(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),w=d==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),_=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},S=BF(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:b,strategy:l}):w);return{top:(x.top-S.top+g.top)/_.y,bottom:(S.bottom-x.bottom+g.bottom)/_.y,left:(x.left-S.left+g.left)/_.x,right:(S.right-x.right+g.right)/_.x}}const _Fe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:u=0}=Og(t,e)||{};if(c==null)return{};const d=_ge(u),h={x:r,y:n},f=sY(i),g=iY(f),m=await a.getDimensions(c),v=f==="y",x=v?"top":"left",w=v?"bottom":"right",b=v?"clientHeight":"clientWidth",_=s.reference[g]+s.reference[f]-h[f]-s.floating[g],S=h[f]-s.reference[f],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let E=T?T[b]:0;(!E||!await(a.isElement==null?void 0:a.isElement(T)))&&(E=o.floating[b]||s.floating[g]);const C=_/2-S/2,N=E/2-m[g]/2-1,F=Fy(d[x],N),A=Fy(d[w],N),I=F,M=E-m[g]-A,U=E/2-m[g]/2+C,Y=oz(I,U,M),X=!l.arrow&&cC(i)!=null&&U!==Y&&s.reference[g]/2-(U<I?F:A)-m[g]/2<0,W=X?U<I?U-I:U-M:0;return{[f]:h[f]+W,data:{[f]:Y,centerOffset:U-Y-W,...X&&{alignmentOffset:W}},reset:X}}}),SFe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=Og(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const x=Rg(i),w=rm(o),b=Rg(o)===o,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(b||!m?[LF(o)]:mFe(o)),T=g!=="none";!h&&T&&S.push(...xFe(o,m,g,_));const E=[o,...S],C=await WP(e,v),N=[];let F=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&N.push(C[x]),d){const U=pFe(i,a,_);N.push(C[U[0]],C[U[1]])}if(F=[...F,{placement:i,overflows:N}],!N.every(U=>U<=0)){var A,I;const U=(((A=s.flip)==null?void 0:A.index)||0)+1,Y=E[U];if(Y&&(!(d==="alignment"?w!==rm(Y):!1)||F.every(G=>G.overflows[0]>0&&rm(G.placement)===w)))return{data:{index:U,overflows:F},reset:{placement:Y}};let X=(I=F.filter(W=>W.overflows[0]<=0).sort((W,G)=>W.overflows[1]-G.overflows[1])[0])==null?void 0:I.placement;if(!X)switch(f){case"bestFit":{var M;const W=(M=F.filter(G=>{if(T){const B=rm(G.placement);return B===w||B==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(B=>B>0).reduce((B,re)=>B+re,0)]).sort((G,B)=>G[1]-B[1])[0])==null?void 0:M[0];W&&(X=W);break}case"initialPlacement":X=o;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function pre(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function mre(t){return uFe.some(e=>t[e]>=0)}const AFe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Og(t,e);switch(n){case"referenceHidden":{const s=await WP(e,{...i,elementContext:"reference"}),a=pre(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:mre(a)}}}case"escaped":{const s=await WP(e,{...i,altBoundary:!0}),a=pre(s,r.floating);return{data:{escapedOffsets:a,escaped:mre(a)}}}default:return{}}}}},Sge=new Set(["left","top"]);async function EFe(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=Rg(r),o=cC(r),l=rm(r)==="y",c=Sge.has(a)?-1:1,u=s&&l?-1:1,d=Og(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof g=="number"&&(f=o==="end"?g*-1:g),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const TFe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await EFe(e,t);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},CFe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:v=>{let{x,y:w}=v;return{x,y:w}}},...l}=Og(t,e),c={x:r,y:n},u=await WP(e,l),d=rm(Rg(i)),h=nY(d);let f=c[h],g=c[d];if(s){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=f+u[v],b=f-u[x];f=oz(w,f,b)}if(a){const v=d==="y"?"top":"left",x=d==="y"?"bottom":"right",w=g+u[v],b=g-u[x];g=oz(w,g,b)}const m=o.fn({...e,[h]:f,[d]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:s,[d]:a}}}}}},kFe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=Og(t,e),u={x:r,y:n},d=rm(i),h=nY(d);let f=u[h],g=u[d];const m=Og(o,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=h==="y"?"height":"width",_=s.reference[h]-s.floating[b]+v.mainAxis,S=s.reference[h]+s.reference[b]-v.mainAxis;f<_?f=_:f>S&&(f=S)}if(c){var x,w;const b=h==="y"?"width":"height",_=Sge.has(Rg(i)),S=s.reference[d]-s.floating[b]+(_&&((x=a.offset)==null?void 0:x[d])||0)+(_?0:v.crossAxis),T=s.reference[d]+s.reference[b]+(_?0:((w=a.offset)==null?void 0:w[d])||0)-(_?v.crossAxis:0);g<S?g=S:g>T&&(g=T)}return{[h]:f,[d]:g}}}},PFe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=Og(t,e),u=await WP(e,c),d=Rg(i),h=cC(i),f=rm(i)==="y",{width:g,height:m}=s.floating;let v,x;d==="top"||d==="bottom"?(v=d,x=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(x=d,v=h==="end"?"top":"bottom");const w=m-u.top-u.bottom,b=g-u.left-u.right,_=Fy(m-u[v],w),S=Fy(g-u[x],b),T=!e.middlewareData.shift;let E=_,C=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(C=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=w),T&&!h){const F=Ju(u.left,0),A=Ju(u.right,0),I=Ju(u.top,0),M=Ju(u.bottom,0);f?C=g-2*(F!==0||A!==0?F+A:Ju(u.left,u.right)):E=m-2*(I!==0||M!==0?I+M:Ju(u.top,u.bottom))}await l({...e,availableWidth:C,availableHeight:E});const N=await a.getDimensions(o.floating);return g!==N.width||m!==N.height?{reset:{rects:!0}}:{}}}};function i8(){return typeof window<"u"}function uC(t){return Age(t)?(t.nodeName||"").toLowerCase():"#document"}function hd(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rm(t){var e;return(e=(Age(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Age(t){return i8()?t instanceof Node||t instanceof hd(t).Node:!1}function If(t){return i8()?t instanceof Element||t instanceof hd(t).Element:!1}function Sm(t){return i8()?t instanceof HTMLElement||t instanceof hd(t).HTMLElement:!1}function gre(t){return!i8()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hd(t).ShadowRoot}const NFe=new Set(["inline","contents"]);function OO(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Of(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!NFe.has(i)}const IFe=new Set(["table","td","th"]);function OFe(t){return IFe.has(uC(t))}const RFe=[":popover-open",":modal"];function s8(t){return RFe.some(e=>{try{return t.matches(e)}catch{return!1}})}const DFe=["transform","translate","scale","rotate","perspective"],MFe=["transform","translate","scale","rotate","perspective","filter"],FFe=["paint","layout","strict","content"];function aY(t){const e=oY(),r=If(t)?Of(t):t;return DFe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||MFe.some(n=>(r.willChange||"").includes(n))||FFe.some(n=>(r.contain||"").includes(n))}function jFe(t){let e=jy(t);for(;Sm(e)&&!dT(e);){if(aY(e))return e;if(s8(e))return null;e=jy(e)}return null}function oY(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const LFe=new Set(["html","body","#document"]);function dT(t){return LFe.has(uC(t))}function Of(t){return hd(t).getComputedStyle(t)}function a8(t){return If(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function jy(t){if(uC(t)==="html")return t;const e=t.assignedSlot||t.parentNode||gre(t)&&t.host||Rm(t);return gre(e)?e.host:e}function Ege(t){const e=jy(t);return dT(e)?t.ownerDocument?t.ownerDocument.body:t.body:Sm(e)&&OO(e)?e:Ege(e)}function qP(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=Ege(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=hd(i);if(s){const o=cz(a);return e.concat(a,a.visualViewport||[],OO(i)?i:[],o&&r?qP(o):[])}return e.concat(i,qP(i,[],r))}function cz(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Tge(t){const e=Of(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Sm(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,o=jF(r)!==s||jF(n)!==a;return o&&(r=s,n=a),{width:r,height:n,$:o}}function lY(t){return If(t)?t:t.contextElement}function GS(t){const e=lY(t);if(!Sm(e))return dm(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=Tge(e);let a=(s?jF(r.width):r.width)/n,o=(s?jF(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const BFe=dm(0);function Cge(t){const e=hd(t);return!oY()||!e.visualViewport?BFe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $Fe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==hd(t)?!1:e}function h_(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=lY(t);let a=dm(1);e&&(n?If(n)&&(a=GS(n)):a=GS(t));const o=$Fe(s,r,n)?Cge(s):dm(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(s){const h=hd(s),f=n&&If(n)?hd(n):n;let g=h,m=cz(g);for(;m&&n&&f!==g;){const v=GS(m),x=m.getBoundingClientRect(),w=Of(m),b=x.left+(m.clientLeft+parseFloat(w.paddingLeft))*v.x,_=x.top+(m.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=b,c+=_,g=hd(m),m=cz(g)}}return BF({width:u,height:d,x:l,y:c})}function cY(t,e){const r=a8(t).scrollLeft;return e?e.left+r:h_(Rm(t)).left+r}function kge(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:cY(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function VFe(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",a=Rm(n),o=e?s8(e.floating):!1;if(n===a||o&&s)return r;let l={scrollLeft:0,scrollTop:0},c=dm(1);const u=dm(0),d=Sm(n);if((d||!d&&!s)&&((uC(n)!=="body"||OO(a))&&(l=a8(n)),Sm(n))){const f=h_(n);c=GS(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}const h=a&&!d&&!s?kge(a,l,!0):dm(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:r.y*c.y-l.scrollTop*c.y+u.y+h.y}}function UFe(t){return Array.from(t.getClientRects())}function zFe(t){const e=Rm(t),r=a8(t),n=t.ownerDocument.body,i=Ju(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Ju(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+cY(t);const o=-r.scrollTop;return Of(n).direction==="rtl"&&(a+=Ju(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}function HFe(t,e){const r=hd(t),n=Rm(t),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const c=oY();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}const WFe=new Set(["absolute","fixed"]);function qFe(t,e){const r=h_(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=Sm(t)?GS(t):dm(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:a,height:o,x:l,y:c}}function vre(t,e,r){let n;if(e==="viewport")n=HFe(t,r);else if(e==="document")n=zFe(Rm(t));else if(If(e))n=qFe(e,r);else{const i=Cge(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return BF(n)}function Pge(t,e){const r=jy(t);return r===e||!If(r)||dT(r)?!1:Of(r).position==="fixed"||Pge(r,e)}function GFe(t,e){const r=e.get(t);if(r)return r;let n=qP(t,[],!1).filter(o=>If(o)&&uC(o)!=="body"),i=null;const s=Of(t).position==="fixed";let a=s?jy(t):t;for(;If(a)&&!dT(a);){const o=Of(a),l=aY(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&WFe.has(i.position)||OO(a)&&!l&&Pge(t,a))?n=n.filter(u=>u!==a):i=o,a=jy(a)}return e.set(t,n),n}function KFe(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?s8(e)?[]:GFe(e,this._c):[].concat(r),n],o=a[0],l=a.reduce((c,u)=>{const d=vre(e,u,i);return c.top=Ju(d.top,c.top),c.right=Fy(d.right,c.right),c.bottom=Fy(d.bottom,c.bottom),c.left=Ju(d.left,c.left),c},vre(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function YFe(t){const{width:e,height:r}=Tge(t);return{width:e,height:r}}function XFe(t,e,r){const n=Sm(e),i=Rm(e),s=r==="fixed",a=h_(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=dm(0);function c(){l.x=cY(i)}if(n||!n&&!s)if((uC(e)!=="body"||OO(i))&&(o=a8(e)),n){const f=h_(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();s&&!n&&i&&c();const u=i&&!n&&!s?kge(i,o):dm(0),d=a.left+o.scrollLeft-l.x-u.x,h=a.top+o.scrollTop-l.y-u.y;return{x:d,y:h,width:a.width,height:a.height}}function k$(t){return Of(t).position==="static"}function yre(t,e){if(!Sm(t)||Of(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Rm(t)===r&&(r=r.ownerDocument.body),r}function Nge(t,e){const r=hd(t);if(s8(t))return r;if(!Sm(t)){let i=jy(t);for(;i&&!dT(i);){if(If(i)&&!k$(i))return i;i=jy(i)}return r}let n=yre(t,e);for(;n&&OFe(n)&&k$(n);)n=yre(n,e);return n&&dT(n)&&k$(n)&&!aY(n)?r:n||jFe(t)||r}const ZFe=async function(t){const e=this.getOffsetParent||Nge,r=this.getDimensions,n=await r(t.floating);return{reference:XFe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function QFe(t){return Of(t).direction==="rtl"}const JFe={convertOffsetParentRelativeRectToViewportRelativeRect:VFe,getDocumentElement:Rm,getClippingRect:KFe,getOffsetParent:Nge,getElementRects:ZFe,getClientRects:UFe,getDimensions:YFe,getScale:GS,isElement:If,isRTL:QFe};function Ige(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function eje(t,e){let r=null,n;const i=Rm(t);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(o||e(),!h||!f)return;const g=_3(d),m=_3(i.clientWidth-(u+h)),v=_3(i.clientHeight-(d+f)),x=_3(u),b={rootMargin:-g+"px "+-m+"px "+-v+"px "+-x+"px",threshold:Ju(0,Fy(1,l))||1};let _=!0;function S(T){const E=T[0].intersectionRatio;if(E!==l){if(!_)return a();E?a(!1,E):n=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!Ige(c,t.getBoundingClientRect())&&a(),_=!1}try{r=new IntersectionObserver(S,{...b,root:i.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(t)}return a(!0),s}function tje(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=lY(t),u=i||s?[...c?qP(c):[],...qP(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const d=c&&o?eje(c,r):null;let h=-1,f=null;a&&(f=new ResizeObserver(x=>{let[w]=x;w&&w.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(e)})),r()}),c&&!l&&f.observe(c),f.observe(e));let g,m=l?h_(t):null;l&&v();function v(){const x=h_(t);m&&!Ige(m,x)&&r(),m=x,g=requestAnimationFrame(v)}return r(),()=>{var x;u.forEach(w=>{i&&w.removeEventListener("scroll",r),s&&w.removeEventListener("resize",r)}),d==null||d(),(x=f)==null||x.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const rje=TFe,nje=CFe,ije=SFe,sje=PFe,aje=AFe,xre=_Fe,oje=kFe,lje=(t,e,r)=>{const n=new Map,i={platform:JFe,...r},s={...i.platform,_c:n};return wFe(t,e,{...i,platform:s})};var cje=typeof document<"u",uje=function(){},rM=cje?O.useLayoutEffect:uje;function $F(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!$F(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!$F(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Oge(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function bre(t,e){const r=Oge(t);return Math.round(e*r)/r}function P$(t){const e=O.useRef(t);return rM(()=>{e.current=t}),e}function dje(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[u,d]=O.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=O.useState(n);$F(h,n)||f(n);const[g,m]=O.useState(null),[v,x]=O.useState(null),w=O.useCallback(G=>{G!==T.current&&(T.current=G,m(G))},[]),b=O.useCallback(G=>{G!==E.current&&(E.current=G,x(G))},[]),_=s||g,S=a||v,T=O.useRef(null),E=O.useRef(null),C=O.useRef(u),N=l!=null,F=P$(l),A=P$(i),I=P$(c),M=O.useCallback(()=>{if(!T.current||!E.current)return;const G={placement:e,strategy:r,middleware:h};A.current&&(G.platform=A.current),lje(T.current,E.current,G).then(B=>{const re={...B,isPositioned:I.current!==!1};U.current&&!$F(C.current,re)&&(C.current=re,G_.flushSync(()=>{d(re)}))})},[h,e,r,A,I]);rM(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(G=>({...G,isPositioned:!1})))},[c]);const U=O.useRef(!1);rM(()=>(U.current=!0,()=>{U.current=!1}),[]),rM(()=>{if(_&&(T.current=_),S&&(E.current=S),_&&S){if(F.current)return F.current(_,S,M);M()}},[_,S,M,F,N]);const Y=O.useMemo(()=>({reference:T,floating:E,setReference:w,setFloating:b}),[w,b]),X=O.useMemo(()=>({reference:_,floating:S}),[_,S]),W=O.useMemo(()=>{const G={position:r,left:0,top:0};if(!X.floating)return G;const B=bre(X.floating,u.x),re=bre(X.floating,u.y);return o?{...G,transform:"translate("+B+"px, "+re+"px)",...Oge(X.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:B,top:re}},[r,o,X.floating,u.x,u.y]);return O.useMemo(()=>({...u,update:M,refs:Y,elements:X,floatingStyles:W}),[u,M,Y,X,W])}const hje=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?xre({element:n.current,padding:i}).fn(r):{}:n?xre({element:n,padding:i}).fn(r):{}}}},fje=(t,e)=>({...rje(t),options:[t,e]}),pje=(t,e)=>({...nje(t),options:[t,e]}),mje=(t,e)=>({...oje(t),options:[t,e]}),gje=(t,e)=>({...ije(t),options:[t,e]}),vje=(t,e)=>({...sje(t),options:[t,e]}),yje=(t,e)=>({...aje(t),options:[t,e]}),xje=(t,e)=>({...hje(t),options:[t,e]});var bje="Arrow",Rge=O.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return p.jsx(pr.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});Rge.displayName=bje;var wje=Rge;function Dge(t){const[e,r]=O.useState(void 0);return qa(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=t.offsetWidth,o=t.offsetHeight;r({width:a,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var uY="Popper",[Mge,ax]=Cc(uY),[_je,Fge]=Mge(uY),jge=t=>{const{__scopePopper:e,children:r}=t,[n,i]=O.useState(null);return p.jsx(_je,{scope:e,anchor:n,onAnchorChange:i,children:r})};jge.displayName=uY;var Lge="PopperAnchor",Bge=O.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=Fge(Lge,r),a=O.useRef(null),o=kn(e,a);return O.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:p.jsx(pr.div,{...i,ref:o})});Bge.displayName=Lge;var dY="PopperContent",[Sje,Aje]=Mge(dY),$ge=O.forwardRef((t,e)=>{var J,me,ce,he,_e,ee;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:g,...m}=t,v=Fge(dY,r),[x,w]=O.useState(null),b=kn(e,je=>w(je)),[_,S]=O.useState(null),T=Dge(_),E=(T==null?void 0:T.width)??0,C=(T==null?void 0:T.height)??0,N=n+(s!=="center"?"-"+s:""),F=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},A=Array.isArray(c)?c:[c],I=A.length>0,M={padding:F,boundary:A.filter(Tje),altBoundary:I},{refs:U,floatingStyles:Y,placement:X,isPositioned:W,middlewareData:G}=dje({strategy:"fixed",placement:N,whileElementsMounted:(...je)=>tje(...je,{animationFrame:f==="always"}),elements:{reference:v.anchor},middleware:[fje({mainAxis:i+C,alignmentAxis:a}),l&&pje({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?mje():void 0,...M}),l&&gje({...M}),vje({...M,apply:({elements:je,rects:Ue,availableWidth:pe,availableHeight:Me})=>{const{width:Ye,height:xt}=Ue.reference,Ke=je.floating.style;Ke.setProperty("--radix-popper-available-width",`${pe}px`),Ke.setProperty("--radix-popper-available-height",`${Me}px`),Ke.setProperty("--radix-popper-anchor-width",`${Ye}px`),Ke.setProperty("--radix-popper-anchor-height",`${xt}px`)}}),_&&xje({element:_,padding:o}),Cje({arrowWidth:E,arrowHeight:C}),h&&yje({strategy:"referenceHidden",...M})]}),[B,re]=zge(X),ae=Sc(g);qa(()=>{W&&(ae==null||ae())},[W,ae]);const R=(J=G.arrow)==null?void 0:J.x,j=(me=G.arrow)==null?void 0:me.y,V=((ce=G.arrow)==null?void 0:ce.centerOffset)!==0,[K,ne]=O.useState();return qa(()=>{x&&ne(window.getComputedStyle(x).zIndex)},[x]),p.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:W?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(he=G.transformOrigin)==null?void 0:he.x,(_e=G.transformOrigin)==null?void 0:_e.y].join(" "),...((ee=G.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(Sje,{scope:r,placedSide:B,onArrowChange:S,arrowX:R,arrowY:j,shouldHideArrow:V,children:p.jsx(pr.div,{"data-side":B,"data-align":re,...m,ref:b,style:{...m.style,animation:W?void 0:"none"}})})})});$ge.displayName=dY;var Vge="PopperArrow",Eje={top:"bottom",right:"left",bottom:"top",left:"right"},Uge=O.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=Aje(Vge,n),a=Eje[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(wje,{...i,ref:r,style:{...i.style,display:"block"}})})});Uge.displayName=Vge;function Tje(t){return t!==null}var Cje=t=>({name:"transformOrigin",options:t,fn(e){var v,x,w;const{placement:r,rects:n,middlewareData:i}=e,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,u]=zge(r),d={start:"0%",center:"50%",end:"100%"}[u],h=(((x=i.arrow)==null?void 0:x.x)??0)+o/2,f=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let g="",m="";return c==="bottom"?(g=a?d:`${h}px`,m=`${-l}px`):c==="top"?(g=a?d:`${h}px`,m=`${n.floating.height+l}px`):c==="right"?(g=`${-l}px`,m=a?d:`${f}px`):c==="left"&&(g=`${n.floating.width+l}px`,m=a?d:`${f}px`),{data:{x:g,y:m}}}});function zge(t){const[e,r="center"]=t.split("-");return[e,r]}var hY=jge,RO=Bge,o8=$ge,l8=Uge,[c8,Hzt]=Cc("Tooltip",[ax]),fY=ax(),Hge="TooltipProvider",kje=700,wre="tooltip.open",[Pje,Wge]=c8(Hge),qge=t=>{const{__scopeTooltip:e,delayDuration:r=kje,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,a=O.useRef(!0),o=O.useRef(!1),l=O.useRef(0);return O.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),p.jsx(Pje,{scope:e,isOpenDelayedRef:a,delayDuration:r,onOpen:O.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:O.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:O.useCallback(c=>{o.current=c},[]),disableHoverableContent:i,children:s})};qge.displayName=Hge;var Gge="Tooltip",[Wzt,u8]=c8(Gge),uz="TooltipTrigger",Nje=O.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=u8(uz,r),s=Wge(uz,r),a=fY(r),o=O.useRef(null),l=kn(e,o,i.onTriggerChange),c=O.useRef(!1),u=O.useRef(!1),d=O.useCallback(()=>c.current=!1,[]);return O.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p.jsx(RO,{asChild:!0,...a,children:p.jsx(pr.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:Ut(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ut(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Ut(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ut(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ut(t.onBlur,i.onClose),onClick:Ut(t.onClick,i.onClose)})})});Nje.displayName=uz;var Ije="TooltipPortal",[qzt,Oje]=c8(Ije,{forceMount:void 0}),hT="TooltipContent",Kge=O.forwardRef((t,e)=>{const r=Oje(hT,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,a=u8(hT,t.__scopeTooltip);return p.jsx(_d,{present:n||a.open,children:a.disableHoverableContent?p.jsx(Yge,{side:i,...s,ref:e}):p.jsx(Rje,{side:i,...s,ref:e})})}),Rje=O.forwardRef((t,e)=>{const r=u8(hT,t.__scopeTooltip),n=Wge(hT,t.__scopeTooltip),i=O.useRef(null),s=kn(e,i),[a,o]=O.useState(null),{trigger:l,onClose:c}=r,u=i.current,{onPointerInTransitChange:d}=n,h=O.useCallback(()=>{o(null),d(!1)},[d]),f=O.useCallback((g,m)=>{const v=g.currentTarget,x={x:g.clientX,y:g.clientY},w=Lje(x,v.getBoundingClientRect()),b=Bje(x,w),_=$je(m.getBoundingClientRect()),S=Uje([...b,..._]);o(S),d(!0)},[d]);return O.useEffect(()=>()=>h(),[h]),O.useEffect(()=>{if(l&&u){const g=v=>f(v,u),m=v=>f(v,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",m)}}},[l,u,f,h]),O.useEffect(()=>{if(a){const g=m=>{const v=m.target,x={x:m.clientX,y:m.clientY},w=(l==null?void 0:l.contains(v))||(u==null?void 0:u.contains(v)),b=!Vje(x,a);w?h():b&&(h(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,a,c,h]),p.jsx(Yge,{...t,ref:s})}),[Dje,Mje]=c8(Gge,{isInside:!1}),Fje=N0e("TooltipContent"),Yge=O.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,l=u8(hT,r),c=fY(r),{onClose:u}=l;return O.useEffect(()=>(document.addEventListener(wre,u),()=>document.removeEventListener(wre,u)),[u]),O.useEffect(()=>{if(l.trigger){const d=h=>{const f=h.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),p.jsx(K_,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:p.jsxs(o8,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(Fje,{children:n}),p.jsx(Dje,{scope:r,isInside:!0,children:p.jsx(aDe,{id:l.contentId,role:"tooltip",children:i||n})})]})})});Kge.displayName=hT;var Xge="TooltipArrow",jje=O.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=fY(r);return Mje(Xge,r).isInside?null:p.jsx(l8,{...i,...n,ref:e})});jje.displayName=Xge;function Lje(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Bje(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function $je(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function Vje(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],c=o.x,u=o.y,d=l.x,h=l.y;u>n!=h>n&&r<(d-c)*(n-u)/(h-u)+c&&(i=!i)}return i}function Uje(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),zje(e)}function zje(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],a=r[r.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Hje=qge,Zge=Kge;const Wje=Hje,qje=O.forwardRef(({className:t,sideOffset:e=4,...r},n)=>p.jsx(Zge,{ref:n,sideOffset:e,className:Pt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));qje.displayName=Zge.displayName;var d8=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},h8=typeof window>"u"||"Deno"in globalThis;function Zh(){}function Gje(t,e){return typeof t=="function"?t(e):t}function Kje(t){return typeof t=="number"&&t>=0&&t!==1/0}function Yje(t,e){return Math.max(t+(e||0)-Date.now(),0)}function dz(t,e){return typeof t=="function"?t(e):t}function Xje(t,e){return typeof t=="function"?t(e):t}function _re(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==pY(a,e.options))return!1}else if(!KP(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function Sre(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(GP(e.options.mutationKey)!==GP(s))return!1}else if(!KP(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function pY(t,e){return((e==null?void 0:e.queryKeyHashFn)||GP)(t)}function GP(t){return JSON.stringify(t,(e,r)=>hz(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function KP(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>KP(t[r],e[r])):!1}function Qge(t,e){if(t===e)return t;const r=Are(t)&&Are(e);if(r||hz(t)&&hz(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),a=s.length,o=r?[]:{},l=new Set(n);let c=0;for(let u=0;u<a;u++){const d=r?u:s[u];(!r&&l.has(d)||r)&&t[d]===void 0&&e[d]===void 0?(o[d]=void 0,c++):(o[d]=Qge(t[d],e[d]),o[d]===t[d]&&t[d]!==void 0&&c++)}return i===a&&c===i?t:o}return e}function Are(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hz(t){if(!Ere(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Ere(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ere(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zje(t){return new Promise(e=>{setTimeout(e,t)})}function Qje(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Qge(t,e):e}function Jje(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function eLe(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var mY=Symbol();function Jge(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===mY?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ab,t1,wA,ape,tLe=(ape=class extends d8{constructor(){super();Q(this,Ab);Q(this,t1);Q(this,wA);H(this,wA,e=>{if(!h8&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){y(this,t1)||this.setEventListener(y(this,wA))}onUnsubscribe(){var e;this.hasListeners()||((e=y(this,t1))==null||e.call(this),H(this,t1,void 0))}setEventListener(e){var r;H(this,wA,e),(r=y(this,t1))==null||r.call(this),H(this,t1,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){y(this,Ab)!==e&&(H(this,Ab,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof y(this,Ab)=="boolean"?y(this,Ab):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ab=new WeakMap,t1=new WeakMap,wA=new WeakMap,ape),eve=new tLe,_A,r1,SA,ope,rLe=(ope=class extends d8{constructor(){super();Q(this,_A,!0);Q(this,r1);Q(this,SA);H(this,SA,e=>{if(!h8&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){y(this,r1)||this.setEventListener(y(this,SA))}onUnsubscribe(){var e;this.hasListeners()||((e=y(this,r1))==null||e.call(this),H(this,r1,void 0))}setEventListener(e){var r;H(this,SA,e),(r=y(this,r1))==null||r.call(this),H(this,r1,e(this.setOnline.bind(this)))}setOnline(e){y(this,_A)!==e&&(H(this,_A,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return y(this,_A)}},_A=new WeakMap,r1=new WeakMap,SA=new WeakMap,ope),VF=new rLe;function nLe(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function iLe(t){return Math.min(1e3*2**t,3e4)}function tve(t){return(t??"online")==="online"?VF.isOnline():!0}var rve=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function N$(t){return t instanceof rve}function nve(t){let e=!1,r=0,n=!1,i;const s=nLe(),a=m=>{var v;n||(h(new rve(m)),(v=t.abort)==null||v.call(t))},o=()=>{e=!0},l=()=>{e=!1},c=()=>eve.isFocused()&&(t.networkMode==="always"||VF.isOnline())&&t.canRun(),u=()=>tve(t.networkMode)&&t.canRun(),d=m=>{var v;n||(n=!0,(v=t.onSuccess)==null||v.call(t,m),i==null||i(),s.resolve(m))},h=m=>{var v;n||(n=!0,(v=t.onError)==null||v.call(t,m),i==null||i(),s.reject(m))},f=()=>new Promise(m=>{var v;i=x=>{(n||c())&&m(x)},(v=t.onPause)==null||v.call(t)}).then(()=>{var m;i=void 0,n||(m=t.onContinue)==null||m.call(t)}),g=()=>{if(n)return;let m;const v=r===0?t.initialPromise:void 0;try{m=v??t.fn()}catch(x){m=Promise.reject(x)}Promise.resolve(m).then(d).catch(x=>{var T;if(n)return;const w=t.retry??(h8?0:3),b=t.retryDelay??iLe,_=typeof b=="function"?b(r,x):b,S=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,x);if(e||!S){h(x);return}r++,(T=t.onFail)==null||T.call(t,r,x),Zje(_).then(()=>c()?void 0:f()).then(()=>{e?h(x):g()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:l,canStart:u,start:()=>(u()?g():f().then(g),s)}}var sLe=t=>setTimeout(t,0);function aLe(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=sLe;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var pc=aLe(),Eb,lpe,ive=(lpe=class{constructor(){Q(this,Eb)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kje(this.gcTime)&&H(this,Eb,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(h8?1/0:5*60*1e3))}clearGcTimeout(){y(this,Eb)&&(clearTimeout(y(this,Eb)),H(this,Eb,void 0))}},Eb=new WeakMap,lpe),AA,Tb,Hd,Cb,bl,OI,kb,Qh,n0,cpe,oLe=(cpe=class extends ive{constructor(r){super();Q(this,Qh);Q(this,AA);Q(this,Tb);Q(this,Hd);Q(this,Cb);Q(this,bl);Q(this,OI);Q(this,kb);H(this,kb,!1),H(this,OI,r.defaultOptions),this.setOptions(r.options),this.observers=[],H(this,Cb,r.client),H(this,Hd,y(this,Cb).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,H(this,AA,cLe(this.options)),this.state=r.state??y(this,AA),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=y(this,bl))==null?void 0:r.promise}setOptions(r){this.options={...y(this,OI),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&y(this,Hd).remove(this)}setData(r,n){const i=Qje(this.state.data,r,this.options);return ie(this,Qh,n0).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(r,n){ie(this,Qh,n0).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var i,s;const n=(i=y(this,bl))==null?void 0:i.promise;return(s=y(this,bl))==null||s.cancel(r),n?n.then(Zh).catch(Zh):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(y(this,AA))}isActive(){return this.observers.some(r=>Xje(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mY||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>dz(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!Yje(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=y(this,bl))==null||n.continue()}onOnline(){var n;const r=this.observers.find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=y(this,bl))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),y(this,Hd).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(y(this,bl)&&(y(this,kb)?y(this,bl).cancel({revert:!0}):y(this,bl).cancelRetry()),this.scheduleGc()),y(this,Hd).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ie(this,Qh,n0).call(this,{type:"invalidate"})}fetch(r,n){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(y(this,bl))return y(this,bl).continueRetry(),y(this,bl).promise}if(r&&this.setOptions(r),!this.options.queryFn){const f=this.observers.find(g=>g.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(H(this,kb,!0),i.signal)})},a=()=>{const f=Jge(this.options,n),m=(()=>{const v={client:y(this,Cb),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return H(this,kb,!1),this.options.persister?this.options.persister(f,m,this):f(m)},l=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:y(this,Cb),state:this.state,fetchFn:a};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(l,this),H(this,Tb,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ie(this,Qh,n0).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=f=>{var g,m,v,x;N$(f)&&f.silent||ie(this,Qh,n0).call(this,{type:"error",error:f}),N$(f)||((m=(g=y(this,Hd).config).onError)==null||m.call(g,f,this),(x=(v=y(this,Hd).config).onSettled)==null||x.call(v,this.state.data,f,this)),this.scheduleGc()};return H(this,bl,nve({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var g,m,v,x;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){c(w);return}(m=(g=y(this,Hd).config).onSuccess)==null||m.call(g,f,this),(x=(v=y(this,Hd).config).onSettled)==null||x.call(v,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,g)=>{ie(this,Qh,n0).call(this,{type:"failed",failureCount:f,error:g})},onPause:()=>{ie(this,Qh,n0).call(this,{type:"pause"})},onContinue:()=>{ie(this,Qh,n0).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),y(this,bl).start()}},AA=new WeakMap,Tb=new WeakMap,Hd=new WeakMap,Cb=new WeakMap,bl=new WeakMap,OI=new WeakMap,kb=new WeakMap,Qh=new WeakSet,n0=function(r){const n=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...lLe(i.data,this.options),fetchMeta:r.meta??null};case"success":return H(this,Tb,void 0),{...i,data:r.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=r.error;return N$(s)&&s.revert&&y(this,Tb)?{...y(this,Tb),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=n(this.state),pc.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),y(this,Hd).notify({query:this,type:"updated",action:r})})},cpe);function lLe(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tve(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function cLe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ep,upe,uLe=(upe=class extends d8{constructor(e={}){super();Q(this,Ep);this.config=e,H(this,Ep,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??pY(i,r);let a=this.get(s);return a||(a=new oLe({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){y(this,Ep).has(e.queryHash)||(y(this,Ep).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=y(this,Ep).get(e.queryHash);r&&(e.destroy(),r===e&&y(this,Ep).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){pc.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return y(this,Ep).get(e)}getAll(){return[...y(this,Ep).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>_re(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>_re(e,n)):r}notify(e){pc.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){pc.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){pc.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ep=new WeakMap,upe),Tp,nc,Pb,Cp,jv,dpe,dLe=(dpe=class extends ive{constructor(r){super();Q(this,Cp);Q(this,Tp);Q(this,nc);Q(this,Pb);this.mutationId=r.mutationId,H(this,nc,r.mutationCache),H(this,Tp,[]),this.state=r.state||hLe(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){y(this,Tp).includes(r)||(y(this,Tp).push(r),this.clearGcTimeout(),y(this,nc).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){H(this,Tp,y(this,Tp).filter(n=>n!==r)),this.scheduleGc(),y(this,nc).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){y(this,Tp).length||(this.state.status==="pending"?this.scheduleGc():y(this,nc).remove(this))}continue(){var r;return((r=y(this,Pb))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var a,o,l,c,u,d,h,f,g,m,v,x,w,b,_,S,T,E,C,N;const n=()=>{ie(this,Cp,jv).call(this,{type:"continue"})};H(this,Pb,nve({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(F,A)=>{ie(this,Cp,jv).call(this,{type:"failed",failureCount:F,error:A})},onPause:()=>{ie(this,Cp,jv).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>y(this,nc).canRun(this)}));const i=this.state.status==="pending",s=!y(this,Pb).canStart();try{if(i)n();else{ie(this,Cp,jv).call(this,{type:"pending",variables:r,isPaused:s}),await((o=(a=y(this,nc).config).onMutate)==null?void 0:o.call(a,r,this));const A=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,r));A!==this.state.context&&ie(this,Cp,jv).call(this,{type:"pending",context:A,variables:r,isPaused:s})}const F=await y(this,Pb).start();return await((d=(u=y(this,nc).config).onSuccess)==null?void 0:d.call(u,F,r,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,F,r,this.state.context)),await((m=(g=y(this,nc).config).onSettled)==null?void 0:m.call(g,F,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,F,null,r,this.state.context)),ie(this,Cp,jv).call(this,{type:"success",data:F}),F}catch(F){try{throw await((b=(w=y(this,nc).config).onError)==null?void 0:b.call(w,F,r,this.state.context,this)),await((S=(_=this.options).onError)==null?void 0:S.call(_,F,r,this.state.context)),await((E=(T=y(this,nc).config).onSettled)==null?void 0:E.call(T,void 0,F,this.state.variables,this.state.context,this)),await((N=(C=this.options).onSettled)==null?void 0:N.call(C,void 0,F,r,this.state.context)),F}finally{ie(this,Cp,jv).call(this,{type:"error",error:F})}}finally{y(this,nc).runNext(this)}}},Tp=new WeakMap,nc=new WeakMap,Pb=new WeakMap,Cp=new WeakSet,jv=function(r){const n=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),pc.batch(()=>{y(this,Tp).forEach(i=>{i.onMutationUpdate(r)}),y(this,nc).notify({mutation:this,type:"updated",action:r})})},dpe);function hLe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var v0,Jh,RI,hpe,fLe=(hpe=class extends d8{constructor(e={}){super();Q(this,v0);Q(this,Jh);Q(this,RI);this.config=e,H(this,v0,new Set),H(this,Jh,new Map),H(this,RI,0)}build(e,r,n){const i=new dLe({mutationCache:this,mutationId:++qs(this,RI)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){y(this,v0).add(e);const r=S3(e);if(typeof r=="string"){const n=y(this,Jh).get(r);n?n.push(e):y(this,Jh).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(y(this,v0).delete(e)){const r=S3(e);if(typeof r=="string"){const n=y(this,Jh).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&y(this,Jh).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=S3(e);if(typeof r=="string"){const n=y(this,Jh).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=S3(e);if(typeof r=="string"){const i=(n=y(this,Jh).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){pc.batch(()=>{y(this,v0).forEach(e=>{this.notify({type:"removed",mutation:e})}),y(this,v0).clear(),y(this,Jh).clear()})}getAll(){return Array.from(y(this,v0))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Sre(r,n))}findAll(e={}){return this.getAll().filter(r=>Sre(e,r))}notify(e){pc.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return pc.batch(()=>Promise.all(e.map(r=>r.continue().catch(Zh))))}},v0=new WeakMap,Jh=new WeakMap,RI=new WeakMap,hpe);function S3(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Tre(t){return{onFetch:(e,r)=>{var u,d,h,f,g;const n=e.options,i=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},x=Jge(e.options,e.fetchOptions),w=async(b,_,S)=>{if(m)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const A={client:e.client,queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};return v(A),A})(),C=await x(E),{maxPages:N}=e.options,F=S?eLe:Jje;return{pages:F(b.pages,C,N),pageParams:F(b.pageParams,_,N)}};if(i&&s.length){const b=i==="backward",_=b?pLe:Cre,S={pages:s,pageParams:a},T=_(n,S);o=await w(S,T,b)}else{const b=t??s.length;do{const _=l===0?a[0]??n.initialPageParam:Cre(n,o);if(l>0&&_==null)break;o=await w(o,_),l++}while(l<b)}return o};e.options.persister?e.fetchFn=()=>{var m,v;return(v=(m=e.options).persister)==null?void 0:v.call(m,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function Cre(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function pLe(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Gs,n1,i1,EA,TA,s1,CA,kA,fpe,mLe=(fpe=class{constructor(t={}){Q(this,Gs);Q(this,n1);Q(this,i1);Q(this,EA);Q(this,TA);Q(this,s1);Q(this,CA);Q(this,kA);H(this,Gs,t.queryCache||new uLe),H(this,n1,t.mutationCache||new fLe),H(this,i1,t.defaultOptions||{}),H(this,EA,new Map),H(this,TA,new Map),H(this,s1,0)}mount(){qs(this,s1)._++,y(this,s1)===1&&(H(this,CA,eve.subscribe(async t=>{t&&(await this.resumePausedMutations(),y(this,Gs).onFocus())})),H(this,kA,VF.subscribe(async t=>{t&&(await this.resumePausedMutations(),y(this,Gs).onOnline())})))}unmount(){var t,e;qs(this,s1)._--,y(this,s1)===0&&((t=y(this,CA))==null||t.call(this),H(this,CA,void 0),(e=y(this,kA))==null||e.call(this),H(this,kA,void 0))}isFetching(t){return y(this,Gs).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return y(this,n1).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=y(this,Gs).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=y(this,Gs).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(dz(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return y(this,Gs).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=y(this,Gs).get(n.queryHash),s=i==null?void 0:i.state.data,a=Gje(e,s);if(a!==void 0)return y(this,Gs).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return pc.batch(()=>y(this,Gs).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=y(this,Gs).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=y(this,Gs);pc.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=y(this,Gs);return pc.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=pc.batch(()=>y(this,Gs).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Zh).catch(Zh)}invalidateQueries(t,e={}){return pc.batch(()=>(y(this,Gs).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=pc.batch(()=>y(this,Gs).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Zh)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Zh)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=y(this,Gs).build(this,e);return r.isStaleByTime(dz(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Zh).catch(Zh)}fetchInfiniteQuery(t){return t.behavior=Tre(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Zh).catch(Zh)}ensureInfiniteQueryData(t){return t.behavior=Tre(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return VF.isOnline()?y(this,n1).resumePausedMutations():Promise.resolve()}getQueryCache(){return y(this,Gs)}getMutationCache(){return y(this,n1)}getDefaultOptions(){return y(this,i1)}setDefaultOptions(t){H(this,i1,t)}setQueryDefaults(t,e){y(this,EA).set(GP(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...y(this,EA).values()],r={};return e.forEach(n=>{KP(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){y(this,TA).set(GP(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...y(this,TA).values()],r={};return e.forEach(n=>{KP(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...y(this,i1).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=pY(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===mY&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...y(this,i1).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){y(this,Gs).clear(),y(this,n1).clear()}},Gs=new WeakMap,n1=new WeakMap,i1=new WeakMap,EA=new WeakMap,TA=new WeakMap,s1=new WeakMap,CA=new WeakMap,kA=new WeakMap,fpe),gLe=O.createContext(void 0),vLe=({client:t,children:e})=>(O.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(gLe.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function YP(){return YP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YP.apply(this,arguments)}var Q1;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Q1||(Q1={}));const kre="popstate";function yLe(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return fz("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:UF(i)}return bLe(e,r,null,t)}function za(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sve(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xLe(){return Math.random().toString(36).substr(2,8)}function Pre(t,e){return{usr:t.state,key:t.key,idx:e}}function fz(t,e,r,n){return r===void 0&&(r=null),YP({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?dC(e):e,{state:r,key:e&&e.key||n||xLe()})}function UF(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function dC(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function bLe(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Q1.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(YP({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=Q1.Pop;let v=u(),x=v==null?null:v-c;c=v,l&&l({action:o,location:m.location,delta:x})}function h(v,x){o=Q1.Push;let w=fz(m.location,v,x);c=u()+1;let b=Pre(w,c),_=m.createHref(w);try{a.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(_)}s&&l&&l({action:o,location:m.location,delta:1})}function f(v,x){o=Q1.Replace;let w=fz(m.location,v,x);c=u();let b=Pre(w,c),_=m.createHref(w);a.replaceState(b,"",_),s&&l&&l({action:o,location:m.location,delta:0})}function g(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:UF(v);return w=w.replace(/ $/,"%20"),za(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let m={get action(){return o},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(kre,d),l=v,()=>{i.removeEventListener(kre,d),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:f,go(v){return a.go(v)}};return m}var Nre;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Nre||(Nre={}));function wLe(t,e,r){return r===void 0&&(r="/"),_Le(t,e,r,!1)}function _Le(t,e,r,n){let i=typeof e=="string"?dC(e):e,s=gY(i.pathname||"/",r);if(s==null)return null;let a=ave(t);SLe(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=DLe(s);o=OLe(a[l],c,n)}return o}function ave(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(za(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=xy([n,l.relativePath]),u=r.concat(l);s.children&&s.children.length>0&&(za(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ave(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:NLe(c,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of ove(s.path))i(s,a,l)}),e}function ove(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=ove(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function SLe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:ILe(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ALe=/^:[\w-]+$/,ELe=3,TLe=2,CLe=1,kLe=10,PLe=-2,Ire=t=>t==="*";function NLe(t,e){let r=t.split("/"),n=r.length;return r.some(Ire)&&(n+=PLe),e&&(n+=TLe),r.filter(i=>!Ire(i)).reduce((i,s)=>i+(ALe.test(s)?ELe:s===""?CLe:kLe),n)}function ILe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function OLe(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=Ore({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=Ore({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:xy([s,d.pathname]),pathnameBase:LLe(xy([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=xy([s,d.pathnameBase]))}return a}function Ore(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=RLe(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let m=o[d]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[d];return f&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function RLe(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),sve(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function DLe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sve(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gY(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function MLe(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?dC(t):t;return{pathname:r?r.startsWith("/")?r:FLe(r,e):e,search:BLe(n),hash:$Le(i)}}function FLe(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function I$(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jLe(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function lve(t,e){let r=jLe(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function cve(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=dC(t):(i=YP({},t),za(!i.pathname||!i.pathname.includes("?"),I$("?","pathname","search",i)),za(!i.pathname||!i.pathname.includes("#"),I$("#","pathname","hash",i)),za(!i.search||!i.search.includes("#"),I$("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=MLe(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const xy=t=>t.join("/").replace(/\/\/+/g,"/"),LLe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BLe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$Le=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function VLe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uve=["post","put","patch","delete"];new Set(uve);const ULe=["get",...uve];new Set(ULe);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function XP(){return XP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XP.apply(this,arguments)}const vY=O.createContext(null),zLe=O.createContext(null),X_=O.createContext(null),f8=O.createContext(null),Z_=O.createContext({outlet:null,matches:[],isDataRoute:!1}),dve=O.createContext(null);function HLe(t,e){let{relative:r}=e===void 0?{}:e;DO()||za(!1);let{basename:n,navigator:i}=O.useContext(X_),{hash:s,pathname:a,search:o}=fve(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:xy([n,a])),i.createHref({pathname:l,search:o,hash:s})}function DO(){return O.useContext(f8)!=null}function hC(){return DO()||za(!1),O.useContext(f8).location}function hve(t){O.useContext(X_).static||O.useLayoutEffect(t)}function WLe(){let{isDataRoute:t}=O.useContext(Z_);return t?i6e():qLe()}function qLe(){DO()||za(!1);let t=O.useContext(vY),{basename:e,future:r,navigator:n}=O.useContext(X_),{matches:i}=O.useContext(Z_),{pathname:s}=hC(),a=JSON.stringify(lve(i,r.v7_relativeSplatPath)),o=O.useRef(!1);return hve(()=>{o.current=!0}),O.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=cve(c,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:xy([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,s,t])}function fve(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=O.useContext(X_),{matches:i}=O.useContext(Z_),{pathname:s}=hC(),a=JSON.stringify(lve(i,n.v7_relativeSplatPath));return O.useMemo(()=>cve(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function GLe(t,e){return KLe(t,e)}function KLe(t,e,r,n){DO()||za(!1);let{navigator:i}=O.useContext(X_),{matches:s}=O.useContext(Z_),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=hC(),u;if(e){var d;let v=typeof e=="string"?dC(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||za(!1),u=v}else u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=wLe(t,{pathname:f}),m=JLe(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:xy([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:xy([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return e&&m?O.createElement(f8.Provider,{value:{location:XP({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Q1.Pop}},m):m}function YLe(){let t=n6e(),e=VLe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),r?O.createElement("pre",{style:i},r):null,null)}const XLe=O.createElement(YLe,null);class ZLe extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?O.createElement(Z_.Provider,{value:this.props.routeContext},O.createElement(dve.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QLe(t){let{routeContext:e,match:r,children:n}=t,i=O.useContext(vY);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(Z_.Provider,{value:e},n)}function JLe(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||za(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=r,g=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,h)=>{let f,g=!1,m=null,v=null;r&&(f=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||XLe,l&&(c<0&&h===0?(g=!0,v=null):c===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,h+1)),w=()=>{let b;return f?b=m:g?b=v:d.route.Component?b=O.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,O.createElement(QLe,{match:d,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?O.createElement(ZLe,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var pve=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pve||{}),zF=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zF||{});function e6e(t){let e=O.useContext(vY);return e||za(!1),e}function t6e(t){let e=O.useContext(zLe);return e||za(!1),e}function r6e(t){let e=O.useContext(Z_);return e||za(!1),e}function mve(t){let e=r6e(),r=e.matches[e.matches.length-1];return r.route.id||za(!1),r.route.id}function n6e(){var t;let e=O.useContext(dve),r=t6e(zF.UseRouteError),n=mve(zF.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function i6e(){let{router:t}=e6e(pve.UseNavigateStable),e=mve(zF.UseNavigateStable),r=O.useRef(!1);return hve(()=>{r.current=!0}),O.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,XP({fromRouteId:e},s)))},[t,e])}function s6e(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Bc(t){za(!1)}function a6e(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Q1.Pop,navigator:s,static:a=!1,future:o}=t;DO()&&za(!1);let l=e.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:l,navigator:s,static:a,future:XP({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=dC(n));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:g="default"}=n,m=O.useMemo(()=>{let v=gY(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:g},navigationType:i}},[l,u,d,h,f,g,i]);return m==null?null:O.createElement(X_.Provider,{value:c},O.createElement(f8.Provider,{children:r,value:m}))}function o6e(t){let{children:e,location:r}=t;return GLe(pz(e),r)}new Promise(()=>{});function pz(t,e){e===void 0&&(e=[]);let r=[];return O.Children.forEach(t,(n,i)=>{if(!O.isValidElement(n))return;let s=[...e,i];if(n.type===O.Fragment){r.push.apply(r,pz(n.props.children,s));return}n.type!==Bc&&za(!1),!n.props.index||!n.props.children||za(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=pz(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mz(){return mz=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mz.apply(this,arguments)}function l6e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function c6e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function u6e(t,e){return t.button===0&&(!e||e==="_self")&&!c6e(t)}const d6e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],h6e="6";try{window.__reactRouterVersion=h6e}catch{}const f6e="startTransition",Rre=tK[f6e];function p6e(t){let{basename:e,children:r,future:n,window:i}=t,s=O.useRef();s.current==null&&(s.current=yLe({window:i,v5Compat:!0}));let a=s.current,[o,l]=O.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},u=O.useCallback(d=>{c&&Rre?Rre(()=>l(d)):l(d)},[l,c]);return O.useLayoutEffect(()=>a.listen(u),[a,u]),O.useEffect(()=>s6e(n),[n]),O.createElement(a6e,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const m6e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g6e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dre=O.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=l6e(e,d6e),{basename:f}=O.useContext(X_),g,m=!1;if(typeof c=="string"&&g6e.test(c)&&(g=c,m6e))try{let b=new URL(window.location.href),_=c.startsWith("//")?new URL(b.protocol+c):new URL(c),S=gY(_.pathname,f);_.origin===b.origin&&S!=null?c=S+_.search+_.hash:m=!0}catch{}let v=HLe(c,{relative:i}),x=v6e(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d});function w(b){n&&n(b),b.defaultPrevented||x(b)}return O.createElement("a",mz({},h,{href:g||v,onClick:m||s?n:w,ref:r,target:l}))});var Mre;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Mre||(Mre={}));var Fre;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Fre||(Fre={}));function v6e(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=WLe(),c=hC(),u=fve(t,{relative:a});return O.useCallback(d=>{if(u6e(d,r)){d.preventDefault();let h=n!==void 0?n:UF(c)===UF(u);l(t,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,n,i,r,t,s,a,o])}const ZP=NO("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),mt=O.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const a=n?j3e:"button";return p.jsx(a,{className:Pt(ZP({variant:e,size:r,className:t})),ref:s,...i})});mt.displayName="Button";var y6e="Separator",jre="horizontal",x6e=["horizontal","vertical"],gve=O.forwardRef((t,e)=>{const{decorative:r,orientation:n=jre,...i}=t,s=b6e(n)?n:jre,o=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return p.jsx(pr.div,{"data-orientation":s,...o,...i,ref:e})});gve.displayName=y6e;function b6e(t){return x6e.includes(t)}var vve=gve;const qi=O.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>p.jsx(vve,{ref:i,decorative:r,orientation:e,className:Pt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));qi.displayName=vve.displayName;const w6e=()=>{};var Lre={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yve=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},_6e=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},xve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|o>>4;let h=(o&15)<<2|c>>6,f=c&63;l||(f=64,a||(h=64)),n.push(r[u],r[d],r[h],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yve(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_6e(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||d==null)throw new S6e;const h=s<<2|o>>4;if(n.push(h),c!==64){const f=o<<4&240|c>>2;if(n.push(f),d!==64){const g=c<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class S6e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A6e=function(t){const e=yve(t);return xve.encodeByteArray(e,!0)},HF=function(t){return A6e(t).replace(/\./g,"")},bve=function(t){try{return xve.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6e=()=>E6e().__FIREBASE_DEFAULTS__,C6e=()=>{if(typeof process>"u"||typeof Lre>"u")return;const t=Lre.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},k6e=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bve(t[1]);return e&&JSON.parse(e)},p8=()=>{try{return w6e()||T6e()||C6e()||k6e()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wve=t=>{var e,r;return(r=(e=p8())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},P6e=t=>{const e=wve(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},_ve=()=>{var t;return(t=p8())==null?void 0:t.config},Sve=t=>{var e;return(e=p8())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ave(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6e(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[HF(JSON.stringify(r)),HF(JSON.stringify(a)),""].join(".")}const Q5={};function O6e(){const t={prod:[],emulator:[]};for(const e of Object.keys(Q5))Q5[e]?t.emulator.push(e):t.prod.push(e);return t}function R6e(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let Bre=!1;function Eve(t,e){if(typeof window>"u"||typeof document>"u"||!fC(window.location.host)||Q5[t]===e||Q5[t]||Bre)return;Q5[t]=e;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",s=O6e().prod.length>0;function a(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Bre=!0,a()},h}function u(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=R6e(n),f=r("text"),g=document.getElementById(f)||document.createElement("span"),m=r("learnmore"),v=document.getElementById(m)||document.createElement("a"),x=r("preprendIcon"),w=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;o(b),u(v,m);const _=c();l(w,x),b.append(w,g,v,_),document.body.appendChild(b)}s?(g.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D6e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vl())}function M6e(){var e;const t=(e=p8())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F6e(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Tve(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function j6e(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function L6e(){const t=Vl();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function B6e(){return!M6e()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cve(){try{return typeof indexedDB=="object"}catch{return!1}}function kve(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(r){e(r)}})}function $6e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6e="FirebaseError";class Uf extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=V6e,Object.setPrototypeOf(this,Uf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q_.prototype.create)}}class Q_{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?U6e(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Uf(i,o,n)}}function U6e(t,e){return t.replace(z6e,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const z6e=/\{\$([^}]+)}/g;function H6e(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ly(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if($re(s)&&$re(a)){if(!Ly(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function $re(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function e5(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function t5(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function W6e(t,e){const r=new q6e(t,e);return r.subscribe.bind(r)}class q6e{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");G6e(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=O$),i.error===void 0&&(i.error=O$),i.complete===void 0&&(i.complete=O$);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G6e(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function O$(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6e=1e3,Y6e=2,X6e=4*60*60*1e3,Z6e=.5;function Vre(t,e=K6e,r=Y6e){const n=e*Math.pow(r,t),i=Math.round(Z6e*n*(Math.random()-.5)*2);return Math.min(X6e,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t){return t&&t._delegate?t._delegate:t}class Rf{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6e{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new N6e;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e8e(e))try{this.getOrInitializeService({instanceIdentifier:zx})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=zx){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zx){return this.instances.has(e)}getOptions(e=zx){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:J6e(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=zx){return this.component?this.component.multipleInstances?e:zx:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J6e(t){return t===zx?void 0:t}function e8e(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Q6e(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Dn||(Dn={}));const r8e={debug:Dn.DEBUG,verbose:Dn.VERBOSE,info:Dn.INFO,warn:Dn.WARN,error:Dn.ERROR,silent:Dn.SILENT},n8e=Dn.INFO,i8e={[Dn.DEBUG]:"log",[Dn.VERBOSE]:"log",[Dn.INFO]:"info",[Dn.WARN]:"warn",[Dn.ERROR]:"error"},s8e=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=i8e[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class m8{constructor(e){this.name=e,this._logLevel=n8e,this._logHandler=s8e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r8e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dn.DEBUG,...e),this._logHandler(this,Dn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dn.VERBOSE,...e),this._logHandler(this,Dn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dn.INFO,...e),this._logHandler(this,Dn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dn.WARN,...e),this._logHandler(this,Dn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dn.ERROR,...e),this._logHandler(this,Dn.ERROR,...e)}}const a8e=(t,e)=>e.some(r=>t instanceof r);let Ure,zre;function o8e(){return Ure||(Ure=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l8e(){return zre||(zre=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pve=new WeakMap,gz=new WeakMap,Nve=new WeakMap,R$=new WeakMap,yY=new WeakMap;function c8e(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(by(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&Pve.set(r,t)}).catch(()=>{}),yY.set(e,t),e}function u8e(t){if(gz.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});gz.set(t,e)}let vz={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return gz.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Nve.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return by(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function d8e(t){vz=t(vz)}function h8e(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(D$(this),e,...r);return Nve.set(n,e.sort?e.sort():[e]),by(n)}:l8e().includes(t)?function(...e){return t.apply(D$(this),e),by(Pve.get(this))}:function(...e){return by(t.apply(D$(this),e))}}function f8e(t){return typeof t=="function"?h8e(t):(t instanceof IDBTransaction&&u8e(t),a8e(t,o8e())?new Proxy(t,vz):t)}function by(t){if(t instanceof IDBRequest)return c8e(t);if(R$.has(t))return R$.get(t);const e=f8e(t);return e!==t&&(R$.set(t,e),yY.set(e,t)),e}const D$=t=>yY.get(t);function Ive(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=by(a);return n&&a.addEventListener("upgradeneeded",l=>{n(by(a.result),l.oldVersion,l.newVersion,by(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const p8e=["get","getKey","getAll","getAllKeys","count"],m8e=["put","add","delete","clear"],M$=new Map;function Hre(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(M$.get(e))return M$.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=m8e.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||p8e.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),i&&l.done]))[0]};return M$.set(e,s),s}d8e(t=>({...t,get:(e,r,n)=>Hre(e,r)||t.get(e,r,n),has:(e,r)=>!!Hre(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(v8e(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function v8e(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yz="@firebase/app",Wre="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=new m8("@firebase/app"),y8e="@firebase/app-compat",x8e="@firebase/analytics-compat",b8e="@firebase/analytics",w8e="@firebase/app-check-compat",_8e="@firebase/app-check",S8e="@firebase/auth",A8e="@firebase/auth-compat",E8e="@firebase/database",T8e="@firebase/data-connect",C8e="@firebase/database-compat",k8e="@firebase/functions",P8e="@firebase/functions-compat",N8e="@firebase/installations",I8e="@firebase/installations-compat",O8e="@firebase/messaging",R8e="@firebase/messaging-compat",D8e="@firebase/performance",M8e="@firebase/performance-compat",F8e="@firebase/remote-config",j8e="@firebase/remote-config-compat",L8e="@firebase/storage",B8e="@firebase/storage-compat",$8e="@firebase/firestore",V8e="@firebase/ai",U8e="@firebase/firestore-compat",z8e="firebase",H8e="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz="[DEFAULT]",W8e={[yz]:"fire-core",[y8e]:"fire-core-compat",[b8e]:"fire-analytics",[x8e]:"fire-analytics-compat",[_8e]:"fire-app-check",[w8e]:"fire-app-check-compat",[S8e]:"fire-auth",[A8e]:"fire-auth-compat",[E8e]:"fire-rtdb",[T8e]:"fire-data-connect",[C8e]:"fire-rtdb-compat",[k8e]:"fire-fn",[P8e]:"fire-fn-compat",[N8e]:"fire-iid",[I8e]:"fire-iid-compat",[O8e]:"fire-fcm",[R8e]:"fire-fcm-compat",[D8e]:"fire-perf",[M8e]:"fire-perf-compat",[F8e]:"fire-rc",[j8e]:"fire-rc-compat",[L8e]:"fire-gcs",[B8e]:"fire-gcs-compat",[$8e]:"fire-fst",[U8e]:"fire-fst-compat",[V8e]:"fire-vertex","fire-js":"fire-js",[z8e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=new Map,q8e=new Map,bz=new Map;function qre(t,e){try{t.container.addComponent(e)}catch(r){Dg.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Am(t){const e=t.name;if(bz.has(e))return Dg.debug(`There were multiple attempts to register component ${e}.`),!1;bz.set(e,t);for(const r of WF.values())qre(r,t);for(const r of q8e.values())qre(r,t);return!0}function J_(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function nd(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8e={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wy=new Q_("app","Firebase",G8e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8e{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Rf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wy.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=H8e;function Ove(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:xz,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw wy.create("bad-app-name",{appName:String(i)});if(r||(r=_ve()),!r)throw wy.create("no-options");const s=WF.get(i);if(s){if(Ly(r,s.options)&&Ly(n,s.config))return s;throw wy.create("duplicate-app",{appName:i})}const a=new t8e(i);for(const l of bz.values())a.addComponent(l);const o=new K8e(r,n,a);return WF.set(i,o),o}function xY(t=xz){const e=WF.get(t);if(!e&&t===xz&&_ve())return Ove();if(!e)throw wy.create("no-app",{appName:t});return e}function mh(t,e,r){let n=W8e[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${n}" with version "${e}":`];i&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dg.warn(a.join(" "));return}Am(new Rf(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8e="firebase-heartbeat-database",X8e=1,QP="firebase-heartbeat-store";let F$=null;function Rve(){return F$||(F$=Ive(Y8e,X8e,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(QP)}catch(r){console.warn(r)}}}}).catch(t=>{throw wy.create("idb-open",{originalErrorMessage:t.message})})),F$}async function Z8e(t){try{const r=(await Rve()).transaction(QP),n=await r.objectStore(QP).get(Dve(t));return await r.done,n}catch(e){if(e instanceof Uf)Dg.warn(e.message);else{const r=wy.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dg.warn(r.message)}}}async function Gre(t,e){try{const n=(await Rve()).transaction(QP,"readwrite");await n.objectStore(QP).put(e,Dve(t)),await n.done}catch(r){if(r instanceof Uf)Dg.warn(r.message);else{const n=wy.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Dg.warn(n.message)}}}function Dve(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8e=1024,J8e=30;class eBe{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new rBe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Kre();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>J8e){const a=nBe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Dg.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Kre(),{heartbeatsToSend:n,unsentEntries:i}=tBe(this._heartbeatsCache.heartbeats),s=HF(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Dg.warn(r),""}}}function Kre(){return new Date().toISOString().substring(0,10)}function tBe(t,e=Q8e){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Yre(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Yre(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class rBe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cve()?kve().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Z8e(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Gre(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Gre(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Yre(t){return HF(JSON.stringify({version:2,heartbeats:t})).length}function nBe(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iBe(t){Am(new Rf("platform-logger",e=>new g8e(e),"PRIVATE")),Am(new Rf("heartbeat",e=>new eBe(e),"PRIVATE")),mh(yz,Wre,t),mh(yz,Wre,"esm2020"),mh("fire-js","")}iBe("");function Mve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sBe=Mve,Fve=new Q_("auth","Firebase",Mve());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=new m8("@firebase/auth");function aBe(t,...e){qF.logLevel<=Dn.WARN&&qF.warn(`Auth (${pC}): ${t}`,...e)}function nM(t,...e){qF.logLevel<=Dn.ERROR&&qF.error(`Auth (${pC}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t,...e){throw wY(t,...e)}function Tf(t,...e){return wY(t,...e)}function bY(t,e,r){const n={...sBe(),[e]:r};return new Q_("auth","Firebase",n).create(e,{appName:t.name})}function pg(t){return bY(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oBe(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Sh(t,"argument-error"),bY(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wY(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Fve.create(t,...e)}function $r(t,e,...r){if(!t)throw wY(e,...r)}function ng(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nM(e),new Error(e)}function Mg(t,e){t||ng(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function lBe(){return Xre()==="http:"||Xre()==="https:"}function Xre(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cBe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lBe()||Tve()||"connection"in navigator)?navigator.onLine:!0}function uBe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,r){this.shortDelay=e,this.longDelay=r,Mg(r>e,"Short delay should be less than long delay!"),this.isMobile=D6e()||j6e()}get(){return cBe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Y(t,e){Mg(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jve{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ng("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ng("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ng("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dBe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hBe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fBe=new FO(3e4,6e4);function ox(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qg(t,e,r,n,i={}){return Lve(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=MO({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return F6e()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&fC(t.emulatorConfig.host)&&(c.credentials="include"),jve.fetch()(await Bve(t,t.config.apiHost,r,o),c)})}async function Lve(t,e,r){t._canInitEmulator=!1;const n={...dBe,...e};try{const i=new mBe(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw A3(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw A3(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw A3(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw A3(t,"user-disabled",a);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw bY(t,u,c);Sh(t,u)}}catch(i){if(i instanceof Uf)throw i;Sh(t,"network-request-failed",{message:String(i)})}}async function jO(t,e,r,n,i={}){const s=await Qg(t,e,r,n,i);return"mfaPendingCredential"in s&&Sh(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Bve(t,e,r,n){const i=`${e}${r}?${n}`,s=t,a=s.config.emulator?_Y(t.config,i):`${t.config.apiScheme}://${i}`;return hBe.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function pBe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mBe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Tf(this.auth,"network-request-failed")),fBe.get())})}}function A3(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Tf(t,e,n);return i.customData._tokenResponse=r,i}function Zre(t){return t!==void 0&&t.enterprise!==void 0}class gBe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return pBe(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vBe(t,e){return Qg(t,"GET","/v2/recaptchaConfig",ox(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yBe(t,e){return Qg(t,"POST","/v1/accounts:delete",e)}async function GF(t,e){return Qg(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xBe(t,e=!1){const r=aa(t),n=await r.getIdToken(e),i=SY(n);$r(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:J5(j$(i.auth_time)),issuedAtTime:J5(j$(i.iat)),expirationTime:J5(j$(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function j$(t){return Number(t)*1e3}function SY(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return nM("JWT malformed, contained fewer than 3 sections"),null;try{const i=bve(r);return i?JSON.parse(i):(nM("Failed to decode base64 JWT payload"),null)}catch(i){return nM("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Qre(t){const e=SY(t);return $r(e,"internal-error"),$r(typeof e.exp<"u","internal-error"),$r(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fT(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Uf&&bBe(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function bBe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wBe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=J5(this.lastLoginAt),this.creationTime=J5(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KF(t){var d;const e=t.auth,r=await t.getIdToken(),n=await fT(t,GF(e,{idToken:r}));$r(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?$ve(i.providerUserInfo):[],a=SBe(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _z(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function _Be(t){const e=aa(t);await KF(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SBe(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function $ve(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ABe(t,e){const r=await Lve(t,{},async()=>{const n=MO({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await Bve(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return t.emulatorConfig&&fC(t.emulatorConfig.host)&&(l.credentials="include"),jve.fetch()(a,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function EBe(t,e){return Qg(t,"POST","/v2/accounts:revokeToken",ox(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$r(e.idToken,"internal-error"),$r(typeof e.idToken<"u","internal-error"),$r(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qre(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){$r(e.length!==0,"internal-error");const r=Qre(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:($r(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await ABe(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new KS;return n&&($r(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&($r(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&($r(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new KS,this.toJSON())}_performRefresh(){return ng("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t,e){$r(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xf{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new wBe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _z(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await fT(this,this.stsTokenManager.getToken(this.auth,e));return $r(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return xBe(this,e)}reload(){return _Be(this)}_assign(e){this!==e&&($r(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new xf({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){$r(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await KF(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nd(this.auth.app))return Promise.reject(pg(this.auth));const e=await this.getIdToken();return await fT(this,yBe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,s=r.phoneNumber??void 0,a=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,c=r.createdAt??void 0,u=r.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:f,providerData:g,stsTokenManager:m}=r;$r(d&&m,e,"internal-error");const v=KS.fromJSON(this.name,m);$r(typeof d=="string",e,"internal-error"),Nv(n,e.name),Nv(i,e.name),$r(typeof h=="boolean",e,"internal-error"),$r(typeof f=="boolean",e,"internal-error"),Nv(s,e.name),Nv(a,e.name),Nv(o,e.name),Nv(l,e.name),Nv(c,e.name),Nv(u,e.name);const x=new xf({uid:d,auth:e,email:i,emailVerified:h,displayName:n,isAnonymous:f,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:v,createdAt:c,lastLoginAt:u});return g&&Array.isArray(g)&&(x.providerData=g.map(w=>({...w}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,r,n=!1){const i=new KS;i.updateFromServerResponse(r);const s=new xf({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await KF(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];$r(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?$ve(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new KS;o.updateFromIdToken(n);const l=new xf({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _z(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jre=new Map;function ig(t){Mg(t instanceof Function,"Expected a class definition");let e=Jre.get(t);return e?(Mg(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Jre.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vve{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Vve.type="NONE";const ene=Vve;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t,e,r){return`firebase:${t}:${e}:${r}`}class YS{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=iM(this.userKey,i.apiKey,s),this.fullPersistenceKey=iM("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await GF(this.auth,{idToken:e}).catch(()=>{});return r?xf._fromGetAccountInfoResponse(this.auth,r,e):null}return xf._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new YS(ig(ene),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ig(ene);const a=iM(n,e.config.apiKey,e.name);let o=null;for(const c of r)try{const u=await c._get(a);if(u){let d;if(typeof u=="string"){const h=await GF(e,{idToken:u}).catch(()=>{});if(!h)break;d=await xf._fromGetAccountInfoResponse(e,h,u)}else d=xf._fromJSON(e,u);c!==s&&(o=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new YS(s,e,n):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new YS(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tne(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wve(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Uve(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gve(e))return"Blackberry";if(Kve(e))return"Webos";if(zve(e))return"Safari";if((e.includes("chrome/")||Hve(e))&&!e.includes("edge/"))return"Chrome";if(qve(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Uve(t=Vl()){return/firefox\//i.test(t)}function zve(t=Vl()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hve(t=Vl()){return/crios\//i.test(t)}function Wve(t=Vl()){return/iemobile/i.test(t)}function qve(t=Vl()){return/android/i.test(t)}function Gve(t=Vl()){return/blackberry/i.test(t)}function Kve(t=Vl()){return/webos/i.test(t)}function AY(t=Vl()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TBe(t=Vl()){var e;return AY(t)&&!!((e=window.navigator)!=null&&e.standalone)}function CBe(){return L6e()&&document.documentMode===10}function Yve(t=Vl()){return AY(t)||qve(t)||Kve(t)||Gve(t)||/windows phone/i.test(t)||Wve(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xve(t,e=[]){let r;switch(t){case"Browser":r=tne(Vl());break;case"Worker":r=`${tne(Vl())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${pC}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kBe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PBe(t,e={}){return Qg(t,"GET","/v2/passwordPolicy",ox(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NBe=6;class IBe{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??NBe,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OBe{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rne(this),this.idTokenSubscription=new rne(this),this.beforeStateQueue=new kBe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fve,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ig(r)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await YS.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await GF(this,{idToken:e}),n=await xf._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(nd(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return $r(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await KF(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uBe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nd(this.app))return Promise.reject(pg(this));const r=e?aa(e):null;return r&&$r(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&$r(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nd(this.app)?Promise.reject(pg(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nd(this.app)?Promise.reject(pg(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ig(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PBe(this),r=new IBe(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Q_("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await EBe(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ig(e)||this._popupRedirectResolver;$r(r,this,"argument-error"),this.redirectPersistenceManager=await YS.create(this,[ig(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if($r(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $r(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xve(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(nd(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&aBe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function lx(t){return aa(t)}class rne{constructor(e){this.auth=e,this.observer=null,this.addObserver=W6e(r=>this.observer=r)}get next(){return $r(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g8={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RBe(t){g8=t}function Zve(t){return g8.loadJS(t)}function DBe(){return g8.recaptchaEnterpriseScript}function MBe(){return g8.gapiScript}function FBe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class jBe{constructor(){this.enterprise=new LBe}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class LBe{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const BBe="recaptcha-enterprise",Qve="NO_RECAPTCHA";class $Be{constructor(e){this.type=BBe,this.auth=lx(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{vBe(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new gBe(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;Zre(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(Qve)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jBe().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&Zre(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=DBe();l.length!==0&&(l+=o),Zve(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function nne(t,e,r,n=!1,i=!1){const s=new $Be(t);let a;if(i)a=Qve;else try{a=await s.verify(r)}catch{a=await s.verify(r,!0)}const o={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Sz(t,e,r,n,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await nne(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await nne(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VBe(t,e){const r=J_(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Ly(s,e??{}))return i;Sh(i,"already-initialized")}return r.initialize({options:e})}function UBe(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ig);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function zBe(t,e,r){const n=lx(t);$r(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),s=Jve(e),{host:a,port:o}=HBe(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){$r(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),$r(Ly(c,n.config.emulator)&&Ly(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,fC(a)?(Ave(`${s}//${a}${l}`),Eve("Auth",!0)):WBe()}function Jve(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function HBe(t){const e=Jve(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:ine(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:ine(a)}}}function ine(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WBe(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ng("not implemented")}_getIdTokenResponse(e){return ng("not implemented")}_linkToIdToken(e,r){return ng("not implemented")}_getReauthenticationResolver(e){return ng("not implemented")}}async function qBe(t,e){return Qg(t,"POST","/v1/accounts:update",e)}async function GBe(t,e){return Qg(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KBe(t,e){return jO(t,"POST","/v1/accounts:signInWithPassword",ox(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YBe(t,e){return jO(t,"POST","/v1/accounts:signInWithEmailLink",ox(t,e))}async function XBe(t,e){return jO(t,"POST","/v1/accounts:signInWithEmailLink",ox(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP extends EY{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new JP(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new JP(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sz(e,r,"signInWithPassword",KBe);case"emailLink":return YBe(e,{email:this._email,oobCode:this._password});default:Sh(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sz(e,n,"signUpPassword",GBe);case"emailLink":return XBe(e,{idToken:r,email:this._email,oobCode:this._password});default:Sh(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(t,e){return jO(t,"POST","/v1/accounts:signInWithIdp",ox(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZBe="http://localhost";class f_ extends EY{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new f_(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Sh("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...s}=r;if(!n||!i)return null;const a=new f_(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return XS(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,XS(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,XS(e,r)}buildRequest(){const e={requestUri:ZBe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=MO(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QBe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JBe(t){const e=e5(t5(t)).link,r=e?e5(t5(e)).deep_link_id:null,n=e5(t5(t)).deep_link_id;return(n?e5(t5(n)).link:null)||n||r||e||t}class TY{constructor(e){const r=e5(t5(e)),n=r.apiKey??null,i=r.oobCode??null,s=QBe(r.mode??null);$r(n&&i&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=JBe(e);try{return new TY(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.providerId=mC.PROVIDER_ID}static credential(e,r){return JP._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=TY.parseLink(r);return $r(n,"argument-error"),JP._fromEmailAndCode(e,n.code,n.tenantId)}}mC.PROVIDER_ID="password";mC.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mC.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO extends CY{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv extends LO{constructor(){super("facebook.com")}static credential(e){return f_._fromParams({providerId:Gv.PROVIDER_ID,signInMethod:Gv.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gv.credentialFromTaggedObject(e)}static credentialFromError(e){return Gv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gv.credential(e.oauthAccessToken)}catch{return null}}}Gv.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gv.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends LO{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return f_._fromParams({providerId:J0.PROVIDER_ID,signInMethod:J0.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return J0.credentialFromTaggedObject(e)}static credentialFromError(e){return J0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return J0.credential(r,n)}catch{return null}}}J0.GOOGLE_SIGN_IN_METHOD="google.com";J0.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv extends LO{constructor(){super("github.com")}static credential(e){return f_._fromParams({providerId:Kv.PROVIDER_ID,signInMethod:Kv.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kv.credentialFromTaggedObject(e)}static credentialFromError(e){return Kv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kv.credential(e.oauthAccessToken)}catch{return null}}}Kv.GITHUB_SIGN_IN_METHOD="github.com";Kv.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv extends LO{constructor(){super("twitter.com")}static credential(e,r){return f_._fromParams({providerId:Yv.PROVIDER_ID,signInMethod:Yv.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Yv.credentialFromTaggedObject(e)}static credentialFromError(e){return Yv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Yv.credential(r,n)}catch{return null}}}Yv.TWITTER_SIGN_IN_METHOD="twitter.com";Yv.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e7e(t,e){return jO(t,"POST","/v1/accounts:signUp",ox(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await xf._fromIdTokenResponse(e,n,i),a=sne(n);return new p_({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=sne(n);return new p_({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function sne(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF extends Uf{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,YF.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new YF(e,r,n,i)}}function e1e(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?YF._fromErrorAndOperation(t,s,e,n):s})}async function t7e(t,e,r=!1){const n=await fT(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return p_._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r7e(t,e,r=!1){const{auth:n}=t;if(nd(n.app))return Promise.reject(pg(n));const i="reauthenticate";try{const s=await fT(t,e1e(n,i,e,t),r);$r(s.idToken,n,"internal-error");const a=SY(s.idToken);$r(a,n,"internal-error");const{sub:o}=a;return $r(t.uid===o,n,"user-mismatch"),p_._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Sh(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t1e(t,e,r=!1){if(nd(t.app))return Promise.reject(pg(t));const n="signIn",i=await e1e(t,n,e),s=await p_._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function n7e(t,e){return t1e(lx(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1e(t){const e=lx(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function i7e(t,e,r){if(nd(t.app))return Promise.reject(pg(t));const n=lx(t),a=await Sz(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",e7e).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&r1e(t),l}),o=await p_._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(o.user),o}function s7e(t,e,r){return nd(t.app)?Promise.reject(pg(t)):n7e(aa(t),mC.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&r1e(t),n})}function a7e(t,e){return o7e(aa(t),null,e)}async function o7e(t,e,r){const{auth:n}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(s.password=r);const a=await fT(t,qBe(n,s));await t._updateTokensIfNecessary(a,!0)}function l7e(t,e,r,n){return aa(t).onIdTokenChanged(e,r,n)}function c7e(t,e,r){return aa(t).beforeAuthStateChanged(e,r)}function u7e(t,e,r,n){return aa(t).onAuthStateChanged(e,r,n)}function d7e(t){return aa(t).signOut()}const XF="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1e{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(XF,"1"),this.storage.removeItem(XF),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7e=1e3,f7e=10;class i1e extends n1e{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yve(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);CBe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,f7e):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},h7e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}i1e.type="LOCAL";const p7e=i1e;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1e extends n1e{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}s1e.type="SESSION";const a1e=s1e;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7e(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new v8(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async c=>c(r.origin,s)),l=await m7e(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}v8.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kY(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=kY("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(){return window}function v7e(t){hm().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1e(){return typeof hm().WorkerGlobalScope<"u"&&typeof hm().importScripts=="function"}async function y7e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x7e(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function b7e(){return o1e()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1e="firebaseLocalStorageDb",w7e=1,ZF="firebaseLocalStorage",c1e="fbase_key";class BO{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function y8(t,e){return t.transaction([ZF],e?"readwrite":"readonly").objectStore(ZF)}function _7e(){const t=indexedDB.deleteDatabase(l1e);return new BO(t).toPromise()}function Az(){const t=indexedDB.open(l1e,w7e);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(ZF,{keyPath:c1e})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(ZF)?e(n):(n.close(),await _7e(),e(await Az()))})})}async function ane(t,e,r){const n=y8(t,!0).put({[c1e]:e,value:r});return new BO(n).toPromise()}async function S7e(t,e){const r=y8(t,!1).get(e),n=await new BO(r).toPromise();return n===void 0?null:n.value}function one(t,e){const r=y8(t,!0).delete(e);return new BO(r).toPromise()}const A7e=800,E7e=3;class u1e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Az(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>E7e)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return o1e()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=v8._getInstance(b7e()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await y7e(),!this.activeServiceWorker)return;this.sender=new g7e(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||x7e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Az();return await ane(e,XF,"1"),await one(e,XF),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>ane(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>S7e(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>one(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=y8(i,!1).getAll();return new BO(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A7e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u1e.type="LOCAL";const T7e=u1e;new FO(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1e(t,e){return e?ig(e):($r(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PY extends EY{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return XS(e,this._buildIdpRequest())}_linkToIdToken(e,r){return XS(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return XS(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function C7e(t){return t1e(t.auth,new PY(t),t.bypassAuthState)}function k7e(t){const{auth:e,user:r}=t;return $r(r,e,"internal-error"),r7e(r,new PY(t),t.bypassAuthState)}async function P7e(t){const{auth:e,user:r}=t;return $r(r,e,"internal-error"),t7e(r,new PY(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1e{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return C7e;case"linkViaPopup":case"linkViaRedirect":return P7e;case"reauthViaPopup":case"reauthViaRedirect":return k7e;default:Sh(this.auth,"internal-error")}}resolve(e){Mg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7e=new FO(2e3,1e4);async function I7e(t,e,r){if(nd(t.app))return Promise.reject(Tf(t,"operation-not-supported-in-this-environment"));const n=lx(t);oBe(t,e,CY);const i=d1e(n,r);return new cb(n,"signInViaPopup",e,i).executeNotNull()}class cb extends h1e{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,cb.currentPopupAction&&cb.currentPopupAction.cancel(),cb.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $r(e,this.auth,"internal-error"),e}async onExecution(){Mg(this.filter.length===1,"Popup operations only handle one event");const e=kY();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Tf(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Tf(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cb.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tf(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,N7e.get())};e()}}cb.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7e="pendingRedirect",sM=new Map;class R7e extends h1e{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=sM.get(this.auth._key());if(!e){try{const n=await D7e(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}sM.set(this.auth._key(),e)}return this.bypassAuthState||sM.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function D7e(t,e){const r=j7e(e),n=F7e(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function M7e(t,e){sM.set(t._key(),e)}function F7e(t){return ig(t._redirectPersistence)}function j7e(t){return iM(O7e,t.config.apiKey,t.name)}async function L7e(t,e,r=!1){if(nd(t.app))return Promise.reject(pg(t));const n=lx(t),i=d1e(n,e),a=await new R7e(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7e=10*60*1e3;class $7e{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V7e(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!f1e(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Tf(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B7e&&this.cachedEventUids.clear(),this.cachedEventUids.has(lne(e))}saveEventToCache(e){this.cachedEventUids.add(lne(e)),this.lastProcessedEventTime=Date.now()}}function lne(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function f1e({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function V7e(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f1e(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U7e(t,e={}){return Qg(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H7e=/^https?/;async function W7e(t){if(t.config.emulator)return;const{authorizedDomains:e}=await U7e(t);for(const r of e)try{if(q7e(r))return}catch{}Sh(t,"unauthorized-domain")}function q7e(t){const e=wz(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!H7e.test(r))return!1;if(z7e.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7e=new FO(3e4,6e4);function cne(){const t=hm().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function K7e(t){return new Promise((e,r)=>{var i,s,a;function n(){cne(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cne(),r(Tf(t,"network-request-failed"))},timeout:G7e.get()})}if((s=(i=hm().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=hm().gapi)!=null&&a.load)n();else{const o=FBe("iframefcb");return hm()[o]=()=>{gapi.load?n():r(Tf(t,"network-request-failed"))},Zve(`${MBe()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw aM=null,e})}let aM=null;function Y7e(t){return aM=aM||K7e(t),aM}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7e=new FO(5e3,15e3),Z7e="__/auth/iframe",Q7e="emulator/auth/iframe",J7e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e$e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t$e(t){const e=t.config;$r(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?_Y(e,Q7e):`https://${t.config.authDomain}/${Z7e}`,n={apiKey:e.apiKey,appName:t.name,v:pC},i=e$e.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${MO(n).slice(1)}`}async function r$e(t){const e=await Y7e(t),r=hm().gapi;return $r(r,t,"internal-error"),e.open({where:document.body,url:t$e(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J7e,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=Tf(t,"network-request-failed"),o=hm().setTimeout(()=>{s(a)},X7e.get());function l(){hm().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i$e=500,s$e=600,a$e="_blank",o$e="http://localhost";class une{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l$e(t,e,r,n=i$e,i=s$e){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...n$e,width:n.toString(),height:i.toString(),top:s,left:a},c=Vl().toLowerCase();r&&(o=Hve(c)?a$e:r),Uve(c)&&(e=e||o$e,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(TBe(c)&&o!=="_self")return c$e(e||"",o),new une(null);const d=window.open(e||"",o,u);$r(d,t,"popup-blocked");try{d.focus()}catch{}return new une(d)}function c$e(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$e="__/auth/handler",d$e="emulator/auth/handler",h$e=encodeURIComponent("fac");async function dne(t,e,r,n,i,s){$r(t.config.authDomain,t,"auth-domain-config-required"),$r(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:pC,eventId:i};if(e instanceof CY){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",H6e(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))a[u]=d}if(e instanceof LO){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${h$e}=${encodeURIComponent(l)}`:"";return`${f$e(t)}?${MO(o).slice(1)}${c}`}function f$e({config:t}){return t.emulator?_Y(t,d$e):`https://${t.authDomain}/${u$e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$="webStorageSupport";class p$e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=a1e,this._completeRedirectFn=L7e,this._overrideRedirectResult=M7e}async _openPopup(e,r,n,i){var a;Mg((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await dne(e,r,n,wz(),i);return l$e(e,s,kY())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await dne(e,r,n,wz(),i);return v7e(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Mg(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await r$e(e),n=new $7e(e);return r.register("authEvent",i=>($r(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(L$,{type:L$},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[L$];s!==void 0&&r(!!s),Sh(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=W7e(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Yve()||zve()||AY()}}const m$e=p$e;var hne="@firebase/auth",fne="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g$e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){$r(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y$e(t){Am(new Rf("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;$r(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xve(t)},c=new OBe(n,i,s,l);return UBe(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Am(new Rf("auth-internal",e=>{const r=lx(e.getProvider("auth").getImmediate());return(n=>new g$e(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),mh(hne,fne,v$e(t)),mh(hne,fne,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$e=5*60,b$e=Sve("authIdTokenMaxAge")||x$e;let pne=null;const w$e=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>b$e)return;const i=r==null?void 0:r.token;pne!==i&&(pne=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _$e(t=xY()){const e=J_(t,"auth");if(e.isInitialized())return e.getImmediate();const r=VBe(t,{popupRedirectResolver:m$e,persistence:[T7e,p7e,a1e]}),n=Sve("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=w$e(s.toString());c7e(r,a,()=>a(r.currentUser)),l7e(r,o=>a(o))}}const i=wve("auth");return i&&zBe(r,`http://${i}`),r}function S$e(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}RBe({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=Tf("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",S$e().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y$e("Browser");var mne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _y,p1e;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,C){function N(){}N.prototype=C.prototype,E.F=C.prototype,E.prototype=new N,E.prototype.constructor=E,E.D=function(F,A,I){for(var M=Array(arguments.length-2),U=2;U<arguments.length;U++)M[U-2]=arguments[U];return C.prototype[A].apply(F,M)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,C,N){N||(N=0);const F=Array(16);if(typeof C=="string")for(var A=0;A<16;++A)F[A]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(A=0;A<16;++A)F[A]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=E.g[0],N=E.g[1],A=E.g[2];let I=E.g[3],M;M=C+(I^N&(A^I))+F[0]+3614090360&4294967295,C=N+(M<<7&4294967295|M>>>25),M=I+(A^C&(N^A))+F[1]+3905402710&4294967295,I=C+(M<<12&4294967295|M>>>20),M=A+(N^I&(C^N))+F[2]+606105819&4294967295,A=I+(M<<17&4294967295|M>>>15),M=N+(C^A&(I^C))+F[3]+3250441966&4294967295,N=A+(M<<22&4294967295|M>>>10),M=C+(I^N&(A^I))+F[4]+4118548399&4294967295,C=N+(M<<7&4294967295|M>>>25),M=I+(A^C&(N^A))+F[5]+1200080426&4294967295,I=C+(M<<12&4294967295|M>>>20),M=A+(N^I&(C^N))+F[6]+2821735955&4294967295,A=I+(M<<17&4294967295|M>>>15),M=N+(C^A&(I^C))+F[7]+4249261313&4294967295,N=A+(M<<22&4294967295|M>>>10),M=C+(I^N&(A^I))+F[8]+1770035416&4294967295,C=N+(M<<7&4294967295|M>>>25),M=I+(A^C&(N^A))+F[9]+2336552879&4294967295,I=C+(M<<12&4294967295|M>>>20),M=A+(N^I&(C^N))+F[10]+4294925233&4294967295,A=I+(M<<17&4294967295|M>>>15),M=N+(C^A&(I^C))+F[11]+2304563134&4294967295,N=A+(M<<22&4294967295|M>>>10),M=C+(I^N&(A^I))+F[12]+1804603682&4294967295,C=N+(M<<7&4294967295|M>>>25),M=I+(A^C&(N^A))+F[13]+4254626195&4294967295,I=C+(M<<12&4294967295|M>>>20),M=A+(N^I&(C^N))+F[14]+2792965006&4294967295,A=I+(M<<17&4294967295|M>>>15),M=N+(C^A&(I^C))+F[15]+1236535329&4294967295,N=A+(M<<22&4294967295|M>>>10),M=C+(A^I&(N^A))+F[1]+4129170786&4294967295,C=N+(M<<5&4294967295|M>>>27),M=I+(N^A&(C^N))+F[6]+3225465664&4294967295,I=C+(M<<9&4294967295|M>>>23),M=A+(C^N&(I^C))+F[11]+643717713&4294967295,A=I+(M<<14&4294967295|M>>>18),M=N+(I^C&(A^I))+F[0]+3921069994&4294967295,N=A+(M<<20&4294967295|M>>>12),M=C+(A^I&(N^A))+F[5]+3593408605&4294967295,C=N+(M<<5&4294967295|M>>>27),M=I+(N^A&(C^N))+F[10]+38016083&4294967295,I=C+(M<<9&4294967295|M>>>23),M=A+(C^N&(I^C))+F[15]+3634488961&4294967295,A=I+(M<<14&4294967295|M>>>18),M=N+(I^C&(A^I))+F[4]+3889429448&4294967295,N=A+(M<<20&4294967295|M>>>12),M=C+(A^I&(N^A))+F[9]+568446438&4294967295,C=N+(M<<5&4294967295|M>>>27),M=I+(N^A&(C^N))+F[14]+3275163606&4294967295,I=C+(M<<9&4294967295|M>>>23),M=A+(C^N&(I^C))+F[3]+4107603335&4294967295,A=I+(M<<14&4294967295|M>>>18),M=N+(I^C&(A^I))+F[8]+1163531501&4294967295,N=A+(M<<20&4294967295|M>>>12),M=C+(A^I&(N^A))+F[13]+2850285829&4294967295,C=N+(M<<5&4294967295|M>>>27),M=I+(N^A&(C^N))+F[2]+4243563512&4294967295,I=C+(M<<9&4294967295|M>>>23),M=A+(C^N&(I^C))+F[7]+1735328473&4294967295,A=I+(M<<14&4294967295|M>>>18),M=N+(I^C&(A^I))+F[12]+2368359562&4294967295,N=A+(M<<20&4294967295|M>>>12),M=C+(N^A^I)+F[5]+4294588738&4294967295,C=N+(M<<4&4294967295|M>>>28),M=I+(C^N^A)+F[8]+2272392833&4294967295,I=C+(M<<11&4294967295|M>>>21),M=A+(I^C^N)+F[11]+1839030562&4294967295,A=I+(M<<16&4294967295|M>>>16),M=N+(A^I^C)+F[14]+4259657740&4294967295,N=A+(M<<23&4294967295|M>>>9),M=C+(N^A^I)+F[1]+2763975236&4294967295,C=N+(M<<4&4294967295|M>>>28),M=I+(C^N^A)+F[4]+1272893353&4294967295,I=C+(M<<11&4294967295|M>>>21),M=A+(I^C^N)+F[7]+4139469664&4294967295,A=I+(M<<16&4294967295|M>>>16),M=N+(A^I^C)+F[10]+3200236656&4294967295,N=A+(M<<23&4294967295|M>>>9),M=C+(N^A^I)+F[13]+681279174&4294967295,C=N+(M<<4&4294967295|M>>>28),M=I+(C^N^A)+F[0]+3936430074&4294967295,I=C+(M<<11&4294967295|M>>>21),M=A+(I^C^N)+F[3]+3572445317&4294967295,A=I+(M<<16&4294967295|M>>>16),M=N+(A^I^C)+F[6]+76029189&4294967295,N=A+(M<<23&4294967295|M>>>9),M=C+(N^A^I)+F[9]+3654602809&4294967295,C=N+(M<<4&4294967295|M>>>28),M=I+(C^N^A)+F[12]+3873151461&4294967295,I=C+(M<<11&4294967295|M>>>21),M=A+(I^C^N)+F[15]+530742520&4294967295,A=I+(M<<16&4294967295|M>>>16),M=N+(A^I^C)+F[2]+3299628645&4294967295,N=A+(M<<23&4294967295|M>>>9),M=C+(A^(N|~I))+F[0]+4096336452&4294967295,C=N+(M<<6&4294967295|M>>>26),M=I+(N^(C|~A))+F[7]+1126891415&4294967295,I=C+(M<<10&4294967295|M>>>22),M=A+(C^(I|~N))+F[14]+2878612391&4294967295,A=I+(M<<15&4294967295|M>>>17),M=N+(I^(A|~C))+F[5]+4237533241&4294967295,N=A+(M<<21&4294967295|M>>>11),M=C+(A^(N|~I))+F[12]+1700485571&4294967295,C=N+(M<<6&4294967295|M>>>26),M=I+(N^(C|~A))+F[3]+2399980690&4294967295,I=C+(M<<10&4294967295|M>>>22),M=A+(C^(I|~N))+F[10]+4293915773&4294967295,A=I+(M<<15&4294967295|M>>>17),M=N+(I^(A|~C))+F[1]+2240044497&4294967295,N=A+(M<<21&4294967295|M>>>11),M=C+(A^(N|~I))+F[8]+1873313359&4294967295,C=N+(M<<6&4294967295|M>>>26),M=I+(N^(C|~A))+F[15]+4264355552&4294967295,I=C+(M<<10&4294967295|M>>>22),M=A+(C^(I|~N))+F[6]+2734768916&4294967295,A=I+(M<<15&4294967295|M>>>17),M=N+(I^(A|~C))+F[13]+1309151649&4294967295,N=A+(M<<21&4294967295|M>>>11),M=C+(A^(N|~I))+F[4]+4149444226&4294967295,C=N+(M<<6&4294967295|M>>>26),M=I+(N^(C|~A))+F[11]+3174756917&4294967295,I=C+(M<<10&4294967295|M>>>22),M=A+(C^(I|~N))+F[2]+718787259&4294967295,A=I+(M<<15&4294967295|M>>>17),M=N+(I^(A|~C))+F[9]+3951481745&4294967295,E.g[0]=E.g[0]+C&4294967295,E.g[1]=E.g[1]+(A+(M<<21&4294967295|M>>>11))&4294967295,E.g[2]=E.g[2]+A&4294967295,E.g[3]=E.g[3]+I&4294967295}n.prototype.v=function(E,C){C===void 0&&(C=E.length);const N=C-this.blockSize,F=this.C;let A=this.h,I=0;for(;I<C;){if(A==0)for(;I<=N;)i(this,E,I),I+=this.blockSize;if(typeof E=="string"){for(;I<C;)if(F[A++]=E.charCodeAt(I++),A==this.blockSize){i(this,F),A=0;break}}else for(;I<C;)if(F[A++]=E[I++],A==this.blockSize){i(this,F),A=0;break}}this.h=A,this.o+=C},n.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var C=1;C<E.length-8;++C)E[C]=0;C=this.o*8;for(var N=E.length-8;N<E.length;++N)E[N]=C&255,C/=256;for(this.v(E),E=Array(16),C=0,N=0;N<4;++N)for(let F=0;F<32;F+=8)E[C++]=this.g[N]>>>F&255;return E};function s(E,C){var N=o;return Object.prototype.hasOwnProperty.call(N,E)?N[E]:N[E]=C(E)}function a(E,C){this.h=C;const N=[];let F=!0;for(let A=E.length-1;A>=0;A--){const I=E[A]|0;F&&I==C||(N[A]=I,F=!1)}this.g=N}var o={};function l(E){return-128<=E&&E<128?s(E,function(C){return new a([C|0],C<0?-1:0)}):new a([E|0],E<0?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return d;if(E<0)return v(c(-E));const C=[];let N=1;for(let F=0;E>=N;F++)C[F]=E/N|0,N*=4294967296;return new a(C,0)}function u(E,C){if(E.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(E.charAt(0)=="-")return v(u(E.substring(1),C));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=c(Math.pow(C,8));let F=d;for(let I=0;I<E.length;I+=8){var A=Math.min(8,E.length-I);const M=parseInt(E.substring(I,I+A),C);A<8?(A=c(Math.pow(C,A)),F=F.j(A).add(c(M))):(F=F.j(N),F=F.add(c(M)))}return F}var d=l(0),h=l(1),f=l(16777216);t=a.prototype,t.m=function(){if(m(this))return-v(this).m();let E=0,C=1;for(let N=0;N<this.g.length;N++){const F=this.i(N);E+=(F>=0?F:4294967296+F)*C,C*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(g(this))return"0";if(m(this))return"-"+v(this).toString(E);const C=c(Math.pow(E,6));var N=this;let F="";for(;;){const A=_(N,C).g;N=x(N,A.j(C));let I=((N.g.length>0?N.g[0]:N.h)>>>0).toString(E);if(N=A,g(N))return I+F;for(;I.length<6;)I="0"+I;F=I+F}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function g(E){if(E.h!=0)return!1;for(let C=0;C<E.g.length;C++)if(E.g[C]!=0)return!1;return!0}function m(E){return E.h==-1}t.l=function(E){return E=x(this,E),m(E)?-1:g(E)?0:1};function v(E){const C=E.g.length,N=[];for(let F=0;F<C;F++)N[F]=~E.g[F];return new a(N,~E.h).add(h)}t.abs=function(){return m(this)?v(this):this},t.add=function(E){const C=Math.max(this.g.length,E.g.length),N=[];let F=0;for(let A=0;A<=C;A++){let I=F+(this.i(A)&65535)+(E.i(A)&65535),M=(I>>>16)+(this.i(A)>>>16)+(E.i(A)>>>16);F=M>>>16,I&=65535,M&=65535,N[A]=M<<16|I}return new a(N,N[N.length-1]&-2147483648?-1:0)};function x(E,C){return E.add(v(C))}t.j=function(E){if(g(this)||g(E))return d;if(m(this))return m(E)?v(this).j(v(E)):v(v(this).j(E));if(m(E))return v(this.j(v(E)));if(this.l(f)<0&&E.l(f)<0)return c(this.m()*E.m());const C=this.g.length+E.g.length,N=[];for(var F=0;F<2*C;F++)N[F]=0;for(F=0;F<this.g.length;F++)for(let A=0;A<E.g.length;A++){const I=this.i(F)>>>16,M=this.i(F)&65535,U=E.i(A)>>>16,Y=E.i(A)&65535;N[2*F+2*A]+=M*Y,w(N,2*F+2*A),N[2*F+2*A+1]+=I*Y,w(N,2*F+2*A+1),N[2*F+2*A+1]+=M*U,w(N,2*F+2*A+1),N[2*F+2*A+2]+=I*U,w(N,2*F+2*A+2)}for(E=0;E<C;E++)N[E]=N[2*E+1]<<16|N[2*E];for(E=C;E<2*C;E++)N[E]=0;return new a(N,0)};function w(E,C){for(;(E[C]&65535)!=E[C];)E[C+1]+=E[C]>>>16,E[C]&=65535,C++}function b(E,C){this.g=E,this.h=C}function _(E,C){if(g(C))throw Error("division by zero");if(g(E))return new b(d,d);if(m(E))return C=_(v(E),C),new b(v(C.g),v(C.h));if(m(C))return C=_(E,v(C)),new b(v(C.g),C.h);if(E.g.length>30){if(m(E)||m(C))throw Error("slowDivide_ only works with positive integers.");for(var N=h,F=C;F.l(E)<=0;)N=S(N),F=S(F);var A=T(N,1),I=T(F,1);for(F=T(F,2),N=T(N,2);!g(F);){var M=I.add(F);M.l(E)<=0&&(A=A.add(N),I=M),F=T(F,1),N=T(N,1)}return C=x(E,A.j(C)),new b(A,C)}for(A=d;E.l(C)>=0;){for(N=Math.max(1,Math.floor(E.m()/C.m())),F=Math.ceil(Math.log(N)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),I=c(N),M=I.j(C);m(M)||M.l(E)>0;)N-=F,I=c(N),M=I.j(C);g(I)&&(I=h),A=A.add(I),E=x(E,M)}return new b(A,E)}t.B=function(E){return _(this,E).h},t.and=function(E){const C=Math.max(this.g.length,E.g.length),N=[];for(let F=0;F<C;F++)N[F]=this.i(F)&E.i(F);return new a(N,this.h&E.h)},t.or=function(E){const C=Math.max(this.g.length,E.g.length),N=[];for(let F=0;F<C;F++)N[F]=this.i(F)|E.i(F);return new a(N,this.h|E.h)},t.xor=function(E){const C=Math.max(this.g.length,E.g.length),N=[];for(let F=0;F<C;F++)N[F]=this.i(F)^E.i(F);return new a(N,this.h^E.h)};function S(E){const C=E.g.length+1,N=[];for(let F=0;F<C;F++)N[F]=E.i(F)<<1|E.i(F-1)>>>31;return new a(N,E.h)}function T(E,C){const N=C>>5;C%=32;const F=E.g.length-N,A=[];for(let I=0;I<F;I++)A[I]=C>0?E.i(I+N)>>>C|E.i(I+N+1)<<32-C:E.i(I+N);return new a(A,E.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,p1e=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,_y=a}).apply(typeof mne<"u"?mne:typeof self<"u"?self:typeof window<"u"?window:{});var E3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m1e,r5,g1e,oM,Ez,v1e,y1e,x1e;(function(){var t,e=Object.defineProperty;function r(P){P=[typeof globalThis=="object"&&globalThis,P,typeof window=="object"&&window,typeof self=="object"&&self,typeof E3=="object"&&E3];for(var q=0;q<P.length;++q){var te=P[q];if(te&&te.Math==Math)return te}throw Error("Cannot find global object")}var n=r(this);function i(P,q){if(q)e:{var te=n;P=P.split(".");for(var ye=0;ye<P.length-1;ye++){var ze=P[ye];if(!(ze in te))break e;te=te[ze]}P=P[P.length-1],ye=te[P],q=q(ye),q!=ye&&q!=null&&e(te,P,{configurable:!0,writable:!0,value:q})}}i("Symbol.dispose",function(P){return P||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(P){return P||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(P){return P||function(q){var te=[],ye;for(ye in q)Object.prototype.hasOwnProperty.call(q,ye)&&te.push([ye,q[ye]]);return te}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function o(P){var q=typeof P;return q=="object"&&P!=null||q=="function"}function l(P,q,te){return P.call.apply(P.bind,arguments)}function c(P,q,te){return c=l,c.apply(null,arguments)}function u(P,q){var te=Array.prototype.slice.call(arguments,1);return function(){var ye=te.slice();return ye.push.apply(ye,arguments),P.apply(this,ye)}}function d(P,q){function te(){}te.prototype=q.prototype,P.Z=q.prototype,P.prototype=new te,P.prototype.constructor=P,P.Ob=function(ye,ze,tt){for(var Rt=Array(arguments.length-2),Kr=2;Kr<arguments.length;Kr++)Rt[Kr-2]=arguments[Kr];return q.prototype[ze].apply(ye,Rt)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?P=>P&&AsyncContext.Snapshot.wrap(P):P=>P;function f(P){const q=P.length;if(q>0){const te=Array(q);for(let ye=0;ye<q;ye++)te[ye]=P[ye];return te}return[]}function g(P,q){for(let ye=1;ye<arguments.length;ye++){const ze=arguments[ye];var te=typeof ze;if(te=te!="object"?te:ze?Array.isArray(ze)?"array":te:"null",te=="array"||te=="object"&&typeof ze.length=="number"){te=P.length||0;const tt=ze.length||0;P.length=te+tt;for(let Rt=0;Rt<tt;Rt++)P[te+Rt]=ze[Rt]}else P.push(ze)}}class m{constructor(q,te){this.i=q,this.j=te,this.h=0,this.g=null}get(){let q;return this.h>0?(this.h--,q=this.g,this.g=q.next,q.next=null):q=this.i(),q}}function v(P){a.setTimeout(()=>{throw P},0)}function x(){var P=E;let q=null;return P.g&&(q=P.g,P.g=P.g.next,P.g||(P.h=null),q.next=null),q}class w{constructor(){this.h=this.g=null}add(q,te){const ye=b.get();ye.set(q,te),this.h?this.h.next=ye:this.g=ye,this.h=ye}}var b=new m(()=>new _,P=>P.reset());class _{constructor(){this.next=this.g=this.h=null}set(q,te){this.h=q,this.g=te,this.next=null}reset(){this.next=this.g=this.h=null}}let S,T=!1,E=new w,C=()=>{const P=Promise.resolve(void 0);S=()=>{P.then(N)}};function N(){for(var P;P=x();){try{P.h.call(P.g)}catch(te){v(te)}var q=b;q.j(P),q.h<100&&(q.h++,P.next=q.g,q.g=P)}T=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(P,q){this.type=P,this.g=this.target=q,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var I=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var P=!1,q=Object.defineProperty({},"passive",{get:function(){P=!0}});try{const te=()=>{};a.addEventListener("test",te,q),a.removeEventListener("test",te,q)}catch{}return P}();function M(P){return/^[\s\xa0]*$/.test(P)}function U(P,q){A.call(this,P?P.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,P&&this.init(P,q)}d(U,A),U.prototype.init=function(P,q){const te=this.type=P.type,ye=P.changedTouches&&P.changedTouches.length?P.changedTouches[0]:null;this.target=P.target||P.srcElement,this.g=q,q=P.relatedTarget,q||(te=="mouseover"?q=P.fromElement:te=="mouseout"&&(q=P.toElement)),this.relatedTarget=q,ye?(this.clientX=ye.clientX!==void 0?ye.clientX:ye.pageX,this.clientY=ye.clientY!==void 0?ye.clientY:ye.pageY,this.screenX=ye.screenX||0,this.screenY=ye.screenY||0):(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0),this.button=P.button,this.key=P.key||"",this.ctrlKey=P.ctrlKey,this.altKey=P.altKey,this.shiftKey=P.shiftKey,this.metaKey=P.metaKey,this.pointerId=P.pointerId||0,this.pointerType=P.pointerType,this.state=P.state,this.i=P,P.defaultPrevented&&U.Z.h.call(this)},U.prototype.h=function(){U.Z.h.call(this);const P=this.i;P.preventDefault?P.preventDefault():P.returnValue=!1};var Y="closure_listenable_"+(Math.random()*1e6|0),X=0;function W(P,q,te,ye,ze){this.listener=P,this.proxy=null,this.src=q,this.type=te,this.capture=!!ye,this.ha=ze,this.key=++X,this.da=this.fa=!1}function G(P){P.da=!0,P.listener=null,P.proxy=null,P.src=null,P.ha=null}function B(P,q,te){for(const ye in P)q.call(te,P[ye],ye,P)}function re(P,q){for(const te in P)q.call(void 0,P[te],te,P)}function ae(P){const q={};for(const te in P)q[te]=P[te];return q}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(P,q){let te,ye;for(let ze=1;ze<arguments.length;ze++){ye=arguments[ze];for(te in ye)P[te]=ye[te];for(let tt=0;tt<R.length;tt++)te=R[tt],Object.prototype.hasOwnProperty.call(ye,te)&&(P[te]=ye[te])}}function V(P){this.src=P,this.g={},this.h=0}V.prototype.add=function(P,q,te,ye,ze){const tt=P.toString();P=this.g[tt],P||(P=this.g[tt]=[],this.h++);const Rt=ne(P,q,ye,ze);return Rt>-1?(q=P[Rt],te||(q.fa=!1)):(q=new W(q,this.src,tt,!!ye,ze),q.fa=te,P.push(q)),q};function K(P,q){const te=q.type;if(te in P.g){var ye=P.g[te],ze=Array.prototype.indexOf.call(ye,q,void 0),tt;(tt=ze>=0)&&Array.prototype.splice.call(ye,ze,1),tt&&(G(q),P.g[te].length==0&&(delete P.g[te],P.h--))}}function ne(P,q,te,ye){for(let ze=0;ze<P.length;++ze){const tt=P[ze];if(!tt.da&&tt.listener==q&&tt.capture==!!te&&tt.ha==ye)return ze}return-1}var J="closure_lm_"+(Math.random()*1e6|0),me={};function ce(P,q,te,ye,ze){if(Array.isArray(q)){for(let tt=0;tt<q.length;tt++)ce(P,q[tt],te,ye,ze);return null}return te=xt(te),P&&P[Y]?P.J(q,te,o(ye)?!!ye.capture:!!ye,ze):he(P,q,te,!1,ye,ze)}function he(P,q,te,ye,ze,tt){if(!q)throw Error("Invalid event type");const Rt=o(ze)?!!ze.capture:!!ze;let Kr=Me(P);if(Kr||(P[J]=Kr=new V(P)),te=Kr.add(q,te,ye,Rt,tt),te.proxy)return te;if(ye=_e(),te.proxy=ye,ye.src=P,ye.listener=te,P.addEventListener)I||(ze=Rt),ze===void 0&&(ze=!1),P.addEventListener(q.toString(),ye,ze);else if(P.attachEvent)P.attachEvent(Ue(q.toString()),ye);else if(P.addListener&&P.removeListener)P.addListener(ye);else throw Error("addEventListener and attachEvent are unavailable.");return te}function _e(){function P(te){return q.call(P.src,P.listener,te)}const q=pe;return P}function ee(P,q,te,ye,ze){if(Array.isArray(q))for(var tt=0;tt<q.length;tt++)ee(P,q[tt],te,ye,ze);else ye=o(ye)?!!ye.capture:!!ye,te=xt(te),P&&P[Y]?(P=P.i,tt=String(q).toString(),tt in P.g&&(q=P.g[tt],te=ne(q,te,ye,ze),te>-1&&(G(q[te]),Array.prototype.splice.call(q,te,1),q.length==0&&(delete P.g[tt],P.h--)))):P&&(P=Me(P))&&(q=P.g[q.toString()],P=-1,q&&(P=ne(q,te,ye,ze)),(te=P>-1?q[P]:null)&&je(te))}function je(P){if(typeof P!="number"&&P&&!P.da){var q=P.src;if(q&&q[Y])K(q.i,P);else{var te=P.type,ye=P.proxy;q.removeEventListener?q.removeEventListener(te,ye,P.capture):q.detachEvent?q.detachEvent(Ue(te),ye):q.addListener&&q.removeListener&&q.removeListener(ye),(te=Me(q))?(K(te,P),te.h==0&&(te.src=null,q[J]=null)):G(P)}}}function Ue(P){return P in me?me[P]:me[P]="on"+P}function pe(P,q){if(P.da)P=!0;else{q=new U(q,this);const te=P.listener,ye=P.ha||P.src;P.fa&&je(P),P=te.call(ye,q)}return P}function Me(P){return P=P[J],P instanceof V?P:null}var Ye="__closure_events_fn_"+(Math.random()*1e9>>>0);function xt(P){return typeof P=="function"?P:(P[Ye]||(P[Ye]=function(q){return P.handleEvent(q)}),P[Ye])}function Ke(){F.call(this),this.i=new V(this),this.M=this,this.G=null}d(Ke,F),Ke.prototype[Y]=!0,Ke.prototype.removeEventListener=function(P,q,te,ye){ee(this,P,q,te,ye)};function be(P,q){var te,ye=P.G;if(ye)for(te=[];ye;ye=ye.G)te.push(ye);if(P=P.M,ye=q.type||q,typeof q=="string")q=new A(q,P);else if(q instanceof A)q.target=q.target||P;else{var ze=q;q=new A(ye,P),j(q,ze)}ze=!0;let tt,Rt;if(te)for(Rt=te.length-1;Rt>=0;Rt--)tt=q.g=te[Rt],ze=Pe(tt,ye,!0,q)&&ze;if(tt=q.g=P,ze=Pe(tt,ye,!0,q)&&ze,ze=Pe(tt,ye,!1,q)&&ze,te)for(Rt=0;Rt<te.length;Rt++)tt=q.g=te[Rt],ze=Pe(tt,ye,!1,q)&&ze}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var P=this.i;for(const q in P.g){const te=P.g[q];for(let ye=0;ye<te.length;ye++)G(te[ye]);delete P.g[q],P.h--}}this.G=null},Ke.prototype.J=function(P,q,te,ye){return this.i.add(String(P),q,!1,te,ye)},Ke.prototype.K=function(P,q,te,ye){return this.i.add(String(P),q,!0,te,ye)};function Pe(P,q,te,ye){if(q=P.i.g[String(q)],!q)return!0;q=q.concat();let ze=!0;for(let tt=0;tt<q.length;++tt){const Rt=q[tt];if(Rt&&!Rt.da&&Rt.capture==te){const Kr=Rt.listener,Ji=Rt.ha||Rt.src;Rt.fa&&K(P.i,Rt),ze=Kr.call(Ji,ye)!==!1&&ze}}return ze&&!ye.defaultPrevented}function De(P,q){if(typeof P!="function")if(P&&typeof P.handleEvent=="function")P=c(P.handleEvent,P);else throw Error("Invalid listener argument");return Number(q)>2147483647?-1:a.setTimeout(P,q||0)}function Je(P){P.g=De(()=>{P.g=null,P.i&&(P.i=!1,Je(P))},P.l);const q=P.h;P.h=null,P.m.apply(null,q)}class it extends F{constructor(q,te){super(),this.m=q,this.l=te,this.h=null,this.i=!1,this.g=null}j(q){this.h=arguments,this.g?this.i=!0:Je(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rt(P){F.call(this),this.h=P,this.g={}}d(rt,F);var st=[];function Dt(P){B(P.g,function(q,te){this.g.hasOwnProperty(te)&&je(q)},P),P.g={}}rt.prototype.N=function(){rt.Z.N.call(this),Dt(this)},rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kt=a.JSON.stringify,Nt=a.JSON.parse,At=class{stringify(P){return a.JSON.stringify(P,void 0)}parse(P){return a.JSON.parse(P,void 0)}};function Tt(){}function Ur(){}var Yt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function sr(){A.call(this,"d")}d(sr,A);function Cr(){A.call(this,"c")}d(Cr,A);var jr={},Ne=null;function Gt(){return Ne=Ne||new Ke}jr.Ia="serverreachability";function Ve(P){A.call(this,jr.Ia,P)}d(Ve,A);function Qt(P){const q=Gt();be(q,new Ve(q))}jr.STAT_EVENT="statevent";function Ht(P,q){A.call(this,jr.STAT_EVENT,P),this.stat=q}d(Ht,A);function gt(P){const q=Gt();be(q,new Ht(q,P))}jr.Ja="timingevent";function ft(P,q){A.call(this,jr.Ja,P),this.size=q}d(ft,A);function ar(P,q){if(typeof P!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){P()},q)}function tr(){this.g=!0}tr.prototype.ua=function(){this.g=!1};function Sr(P,q,te,ye,ze,tt){P.info(function(){if(P.g)if(tt){var Rt="",Kr=tt.split("&");for(let On=0;On<Kr.length;On++){var Ji=Kr[On].split("=");if(Ji.length>1){const es=Ji[0];Ji=Ji[1];const vo=es.split("_");Rt=vo.length>=2&&vo[1]=="type"?Rt+(es+"="+Ji+"&"):Rt+(es+"=redacted&")}}}else Rt=null;else Rt=tt;return"XMLHTTP REQ ("+ye+") [attempt "+ze+"]: "+q+`
`+te+`
`+Rt})}function qr(P,q,te,ye,ze,tt,Rt){P.info(function(){return"XMLHTTP RESP ("+ye+") [ attempt "+ze+"]: "+q+`
`+te+`
`+tt+" "+Rt})}function Nn(P,q,te,ye){P.info(function(){return"XMLHTTP TEXT ("+q+"): "+Ni(P,te)+(ye?" "+ye:"")})}function Jt(P,q){P.info(function(){return"TIMEOUT: "+q})}tr.prototype.info=function(){};function Ni(P,q){if(!P.g)return q;if(!q)return null;try{const tt=JSON.parse(q);if(tt){for(P=0;P<tt.length;P++)if(Array.isArray(tt[P])){var te=tt[P];if(!(te.length<2)){var ye=te[1];if(Array.isArray(ye)&&!(ye.length<1)){var ze=ye[0];if(ze!="noop"&&ze!="stop"&&ze!="close")for(let Rt=1;Rt<ye.length;Rt++)ye[Rt]=""}}}}return kt(tt)}catch{return q}}var li={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oe;function Lt(){}d(Lt,Tt),Lt.prototype.g=function(){return new XMLHttpRequest},Oe=new Lt;function It(P){return encodeURIComponent(String(P))}function se(P){var q=1;P=P.split(":");const te=[];for(;q>0&&P.length;)te.push(P.shift()),q--;return P.length&&te.push(P.join(":")),te}function de(P,q,te,ye){this.j=P,this.i=q,this.l=te,this.S=ye||1,this.V=new rt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var xe={},Se={};function Ee(P,q,te){P.M=1,P.A=$m(Ic(q)),P.u=te,P.R=!0,qe(P,null)}function qe(P,q){P.F=Date.now(),Ze(P),P.B=Ic(P.A);var te=P.B,ye=P.S;Array.isArray(ye)||(ye=[String(ye)]),E2(te.i,"t",ye),P.C=0,te=P.j.L,P.h=new ue,P.g=lr(P.j,te?q:null,!P.u),P.P>0&&(P.O=new it(c(P.Y,P,P.g),P.P)),q=P.V,te=P.g,ye=P.ba;var ze="readystatechange";Array.isArray(ze)||(ze&&(st[0]=ze.toString()),ze=st);for(let tt=0;tt<ze.length;tt++){const Rt=ce(te,ze[tt],ye||q.handleEvent,!1,q.h||q);if(!Rt)break;q.g[Rt.key]=Rt}q=P.J?ae(P.J):{},P.u?(P.v||(P.v="POST"),q["Content-Type"]="application/x-www-form-urlencoded",P.g.ea(P.B,P.v,P.u,q)):(P.v="GET",P.g.ea(P.B,P.v,null,q)),Qt(),Sr(P.i,P.v,P.B,P.l,P.S,P.u)}de.prototype.ba=function(P){P=P.target;const q=this.O;q&&Mc(P)==3?q.j():this.Y(P)},de.prototype.Y=function(P){try{if(P==this.g)e:{const Kr=Mc(this.g),Ji=this.g.ya(),On=this.g.ca();if(!(Kr<3)&&(Kr!=3||this.g&&(this.h.h||this.g.la()||dv(this.g)))){this.K||Kr!=4||Ji==7||(Ji==8||On<=0?Qt(3):Qt(2)),St(this);var q=this.g.ca();this.X=q;var te=nt(this);if(this.o=q==200,qr(this.i,this.v,this.B,this.l,this.S,Kr,q),this.o){if(this.U&&!this.L){t:{if(this.g){var ye,ze=this.g;if((ye=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(ye)){var tt=ye;break t}}tt=null}if(P=tt)Nn(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zt(this,P);else{this.o=!1,this.m=3,gt(12),Et(this),Wt(this);break e}}if(this.R){P=!0;let es;for(;!this.K&&this.C<te.length;)if(es=Ge(this,te),es==Se){Kr==4&&(this.m=4,gt(14),P=!1),Nn(this.i,this.l,null,"[Incomplete Response]");break}else if(es==xe){this.m=4,gt(15),Nn(this.i,this.l,te,"[Invalid Chunk]"),P=!1;break}else Nn(this.i,this.l,es,null),zt(this,es);if(He(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kr!=4||te.length!=0||this.h.h||(this.m=1,gt(16),P=!1),this.o=this.o&&P,!P)Nn(this.i,this.l,te,"[Invalid Chunked Response]"),Et(this),Wt(this);else if(te.length>0&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.aa&&!Rt.P&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),fv(Rt),Rt.P=!0,gt(11))}}else Nn(this.i,this.l,te,null),zt(this,te);Kr==4&&Et(this),this.o&&!this.K&&(Kr==4?Te(this.j,this):(this.o=!1,Ze(this)))}else k2(this.g),q==400&&te.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),Et(this),Wt(this)}}}catch{}finally{}};function nt(P){if(!He(P))return P.g.la();const q=dv(P.g);if(q==="")return"";let te="";const ye=q.length,ze=Mc(P.g)==4;if(!P.h.i){if(typeof TextDecoder>"u")return Et(P),Wt(P),"";P.h.i=new a.TextDecoder}for(let tt=0;tt<ye;tt++)P.h.h=!0,te+=P.h.i.decode(q[tt],{stream:!(ze&&tt==ye-1)});return q.length=0,P.h.g+=te,P.C=0,P.h.g}function He(P){return P.g?P.v=="GET"&&P.M!=2&&P.j.Aa:!1}function Ge(P,q){var te=P.C,ye=q.indexOf(`
`,te);return ye==-1?Se:(te=Number(q.substring(te,ye)),isNaN(te)?xe:(ye+=1,ye+te>q.length?Se:(q=q.slice(ye,ye+te),P.C=ye+te,q)))}de.prototype.cancel=function(){this.K=!0,Et(this)};function Ze(P){P.T=Date.now()+P.H,_t(P,P.H)}function _t(P,q){if(P.D!=null)throw Error("WatchDog timer not null");P.D=ar(c(P.aa,P),q)}function St(P){P.D&&(a.clearTimeout(P.D),P.D=null)}de.prototype.aa=function(){this.D=null;const P=Date.now();P-this.T>=0?(Jt(this.i,this.B),this.M!=2&&(Qt(),gt(17)),Et(this),this.m=2,Wt(this)):_t(this,this.T-P)};function Wt(P){P.j.I==0||P.K||Te(P.j,P)}function Et(P){St(P);var q=P.O;q&&typeof q.dispose=="function"&&q.dispose(),P.O=null,Dt(P.V),P.g&&(q=P.g,P.g=null,q.abort(),q.dispose())}function zt(P,q){try{var te=P.j;if(te.I!=0&&(te.g==P||Nc(te.h,P))){if(!P.L&&Nc(te.h,P)&&te.I==3){try{var ye=te.Ba.g.parse(q)}catch{ye=null}if(Array.isArray(ye)&&ye.length==3){var ze=ye;if(ze[0]==0){e:if(!te.v){if(te.g)if(te.g.F+3e3<P.F)oe(te),ep(te);else break e;jh(te),gt(18)}}else te.xa=ze[1],0<te.xa-te.K&&ze[2]<37500&&te.F&&te.A==0&&!te.C&&(te.C=ar(c(te.Va,te),6e3));us(te.h)<=1&&te.ta&&(te.ta=void 0)}else $e(te,11)}else if((P.L||te.g==P)&&oe(te),!M(q))for(ze=te.Ba.g.parse(q),q=0;q<ze.length;q++){let On=ze[q];const es=On[0];if(!(es<=te.K))if(te.K=es,On=On[1],te.I==2)if(On[0]=="c"){te.M=On[1],te.ba=On[2];const vo=On[3];vo!=null&&(te.ka=vo,te.j.info("VER="+te.ka));const ol=On[4];ol!=null&&(te.za=ol,te.j.info("SVER="+te.za));const ts=On[5];ts!=null&&typeof ts=="number"&&ts>0&&(ye=1.5*ts,te.O=ye,te.j.info("backChannelRequestTimeoutMs_="+ye)),ye=te;const ll=P.g;if(ll){const Cd=ll.g?ll.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cd){var tt=ye.h;tt.g||Cd.indexOf("spdy")==-1&&Cd.indexOf("quic")==-1&&Cd.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(Wl(tt,tt.h),tt.h=null))}if(ye.G){const zm=ll.g?ll.g.getResponseHeader("X-HTTP-Session-Id"):null;zm&&(ye.wa=zm,ei(ye.J,ye.G,zm))}}te.I=3,te.l&&te.l.ra(),te.aa&&(te.T=Date.now()-P.F,te.j.info("Handshake RTT: "+te.T+"ms")),ye=te;var Rt=P;if(ye.na=yt(ye,ye.L?ye.ba:null,ye.W),Rt.L){mu(ye.h,Rt);var Kr=Rt,Ji=ye.O;Ji&&(Kr.H=Ji),Kr.D&&(St(Kr),Ze(Kr)),ye.g=Rt}else Px(ye);te.i.length>0&&rp(te)}else On[0]!="stop"&&On[0]!="close"||$e(te,7);else te.I==3&&(On[0]=="stop"||On[0]=="close"?On[0]=="stop"?$e(te,7):Jf(te):On[0]!="noop"&&te.l&&te.l.qa(On),te.A=0)}}Qt(4)}catch{}}var Dr=class{constructor(P,q){this.g=P,this.map=q}};function si(P){this.l=P||10,a.PerformanceNavigationTiming?(P=a.performance.getEntriesByType("navigation"),P=P.length>0&&(P[0].nextHopProtocol=="hq"||P[0].nextHopProtocol=="h2")):P=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=P?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wn(P){return P.h?!0:P.g?P.g.size>=P.j:!1}function us(P){return P.h?1:P.g?P.g.size:0}function Nc(P,q){return P.h?P.h==q:P.g?P.g.has(q):!1}function Wl(P,q){P.g?P.g.add(q):P.h=q}function mu(P,q){P.h&&P.h==q?P.h=null:P.g&&P.g.has(q)&&P.g.delete(q)}si.prototype.cancel=function(){if(this.i=ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const P of this.g.values())P.cancel();this.g.clear()}};function ql(P){if(P.h!=null)return P.i.concat(P.h.G);if(P.g!=null&&P.g.size!==0){let q=P.i;for(const te of P.g.values())q=q.concat(te.G);return q}return f(P.i)}var Dh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zs(P,q){if(P){P=P.split("&");for(let te=0;te<P.length;te++){const ye=P[te].indexOf("=");let ze,tt=null;ye>=0?(ze=P[te].substring(0,ye),tt=P[te].substring(ye+1)):ze=P[te],q(ze,tt?decodeURIComponent(tt.replace(/\+/g," ")):"")}}}function Gl(P){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let q;P instanceof Gl?(this.l=P.l,Xi(this,P.j),this.o=P.o,this.g=P.g,Yf(this,P.u),this.h=P.h,Oc(this,ov(P.i)),this.m=P.m):P&&(q=String(P).match(Dh))?(this.l=!1,Xi(this,q[1]||"",!0),this.o=go(q[2]||""),this.g=go(q[3]||"",!0),Yf(this,q[4]),this.h=go(q[5]||"",!0),Oc(this,q[6]||"",!0),this.m=go(q[7]||"")):(this.l=!1,this.i=new Xf(null,this.l))}Gl.prototype.toString=function(){const P=[];var q=this.j;q&&P.push(ds(q,Ex,!0),":");var te=this.g;return(te||q=="file")&&(P.push("//"),(q=this.o)&&P.push(ds(q,Ex,!0),"@"),P.push(It(te).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),te=this.u,te!=null&&P.push(":",String(te))),(te=this.h)&&(this.g&&te.charAt(0)!="/"&&P.push("/"),P.push(ds(te,te.charAt(0)=="/"?KC:GC,!0))),(te=this.i.toString())&&P.push("?",te),(te=this.m)&&P.push("#",ds(te,_2)),P.join("")},Gl.prototype.resolve=function(P){const q=Ic(this);let te=!!P.j;te?Xi(q,P.j):te=!!P.o,te?q.o=P.o:te=!!P.g,te?q.g=P.g:te=P.u!=null;var ye=P.h;if(te)Yf(q,P.u);else if(te=!!P.h){if(ye.charAt(0)!="/")if(this.g&&!this.h)ye="/"+ye;else{var ze=q.h.lastIndexOf("/");ze!=-1&&(ye=q.h.slice(0,ze+1)+ye)}if(ze=ye,ze==".."||ze==".")ye="";else if(ze.indexOf("./")!=-1||ze.indexOf("/.")!=-1){ye=ze.lastIndexOf("/",0)==0,ze=ze.split("/");const tt=[];for(let Rt=0;Rt<ze.length;){const Kr=ze[Rt++];Kr=="."?ye&&Rt==ze.length&&tt.push(""):Kr==".."?((tt.length>1||tt.length==1&&tt[0]!="")&&tt.pop(),ye&&Rt==ze.length&&tt.push("")):(tt.push(Kr),ye=!0)}ye=tt.join("/")}else ye=ze}return te?q.h=ye:te=P.i.toString()!=="",te?Oc(q,ov(P.i)):te=!!P.m,te&&(q.m=P.m),q};function Ic(P){return new Gl(P)}function Xi(P,q,te){P.j=te?go(q,!0):q,P.j&&(P.j=P.j.replace(/:$/,""))}function Yf(P,q){if(q){if(q=Number(q),isNaN(q)||q<0)throw Error("Bad port number "+q);P.u=q}else P.u=null}function Oc(P,q,te){q instanceof Xf?(P.i=q,gu(P.i,P.l)):(te||(q=ds(q,Sd)),P.i=new Xf(q,P.l))}function ei(P,q,te){P.i.set(q,te)}function $m(P){return ei(P,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),P}function go(P,q){return P?q?decodeURI(P.replace(/%25/g,"%2525")):decodeURIComponent(P):""}function ds(P,q,te){return typeof P=="string"?(P=encodeURI(P).replace(q,Mh),te&&(P=P.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P):null}function Mh(P){return P=P.charCodeAt(0),"%"+(P>>4&15).toString(16)+(P&15).toString(16)}var Ex=/[#\/\?@]/g,GC=/[#\?:]/g,KC=/[#\?]/g,Sd=/[#\?@]/g,_2=/#/g;function Xf(P,q){this.h=this.g=null,this.i=P||null,this.j=!!q}function Rc(P){P.g||(P.g=new Map,P.h=0,P.i&&zs(P.i,function(q,te){P.add(decodeURIComponent(q.replace(/\+/g," ")),te)}))}t=Xf.prototype,t.add=function(P,q){Rc(this),this.i=null,P=Fh(this,P);let te=this.g.get(P);return te||this.g.set(P,te=[]),te.push(q),this.h+=1,this};function Zf(P,q){Rc(P),q=Fh(P,q),P.g.has(q)&&(P.i=null,P.h-=P.g.get(q).length,P.g.delete(q))}function S2(P,q){return Rc(P),q=Fh(P,q),P.g.has(q)}t.forEach=function(P,q){Rc(this),this.g.forEach(function(te,ye){te.forEach(function(ze){P.call(q,ze,ye,this)},this)},this)};function A2(P,q){Rc(P);let te=[];if(typeof q=="string")S2(P,q)&&(te=te.concat(P.g.get(Fh(P,q))));else for(P=Array.from(P.g.values()),q=0;q<P.length;q++)te=te.concat(P[q]);return te}t.set=function(P,q){return Rc(this),this.i=null,P=Fh(this,P),S2(this,P)&&(this.h-=this.g.get(P).length),this.g.set(P,[q]),this.h+=1,this},t.get=function(P,q){return P?(P=A2(this,P),P.length>0?String(P[0]):q):q};function E2(P,q,te){Zf(P,q),te.length>0&&(P.i=null,P.g.set(Fh(P,q),f(te)),P.h+=te.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const P=[],q=Array.from(this.g.keys());for(let ye=0;ye<q.length;ye++){var te=q[ye];const ze=It(te);te=A2(this,te);for(let tt=0;tt<te.length;tt++){let Rt=ze;te[tt]!==""&&(Rt+="="+It(te[tt])),P.push(Rt)}}return this.i=P.join("&")};function ov(P){const q=new Xf;return q.i=P.i,P.g&&(q.g=new Map(P.g),q.h=P.h),q}function Fh(P,q){return q=String(q),P.j&&(q=q.toLowerCase()),q}function gu(P,q){q&&!P.j&&(Rc(P),P.i=null,P.g.forEach(function(te,ye){const ze=ye.toLowerCase();ye!=ze&&(Zf(this,ye),E2(this,ze,te))},P)),P.j=q}function YC(P,q){const te=new tr;if(a.Image){const ye=new Image;ye.onload=u(Dc,te,"TestLoadImage: loaded",!0,q,ye),ye.onerror=u(Dc,te,"TestLoadImage: error",!1,q,ye),ye.onabort=u(Dc,te,"TestLoadImage: abort",!1,q,ye),ye.ontimeout=u(Dc,te,"TestLoadImage: timeout",!1,q,ye),a.setTimeout(function(){ye.ontimeout&&ye.ontimeout()},1e4),ye.src=P}else q(!1)}function Vm(P,q){const te=new tr,ye=new AbortController,ze=setTimeout(()=>{ye.abort(),Dc(te,"TestPingServer: timeout",!1,q)},1e4);fetch(P,{signal:ye.signal}).then(tt=>{clearTimeout(ze),tt.ok?Dc(te,"TestPingServer: ok",!0,q):Dc(te,"TestPingServer: server error",!1,q)}).catch(()=>{clearTimeout(ze),Dc(te,"TestPingServer: error",!1,q)})}function Dc(P,q,te,ye,ze){try{ze&&(ze.onload=null,ze.onerror=null,ze.onabort=null,ze.ontimeout=null),ye(te)}catch{}}function XC(){this.g=new At}function Lr(P){this.i=P.Sb||null,this.h=P.ab||!1}d(Lr,Tt),Lr.prototype.g=function(){return new lv(this.i,this.h)};function lv(P,q){Ke.call(this),this.H=P,this.o=q,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(lv,Ke),t=lv.prototype,t.open=function(P,q){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=P,this.D=q,this.readyState=1,Kl(this)},t.send=function(P){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const q={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};P&&(q.body=P),(this.H||a).fetch(new Request(this.D,q)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Um(this)),this.readyState=0},t.Pa=function(P){if(this.g&&(this.l=P,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=P.headers,this.readyState=2,Kl(this)),this.g&&(this.readyState=3,Kl(this),this.g)))if(this.responseType==="arraybuffer")P.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in P){if(this.j=P.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;T2(this)}else P.text().then(this.Oa.bind(this),this.ga.bind(this))};function T2(P){P.j.read().then(P.Ma.bind(P)).catch(P.ga.bind(P))}t.Ma=function(P){if(this.g){if(this.o&&P.value)this.response.push(P.value);else if(!this.o){var q=P.value?P.value:new Uint8Array(0);(q=this.B.decode(q,{stream:!P.done}))&&(this.response=this.responseText+=q)}P.done?Um(this):Kl(this),this.readyState==3&&T2(this)}},t.Oa=function(P){this.g&&(this.response=this.responseText=P,Um(this))},t.Na=function(P){this.g&&(this.response=P,Um(this))},t.ga=function(){this.g&&Um(this)};function Um(P){P.readyState=4,P.l=null,P.j=null,P.B=null,Kl(P)}t.setRequestHeader=function(P,q){this.A.append(P,q)},t.getResponseHeader=function(P){return this.h&&this.h.get(P.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const P=[],q=this.h.entries();for(var te=q.next();!te.done;)te=te.value,P.push(te[0]+": "+te[1]),te=q.next();return P.join(`\r
`)};function Kl(P){P.onreadystatechange&&P.onreadystatechange.call(P)}Object.defineProperty(lv.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(P){this.m=P?"include":"same-origin"}});function Ad(P){let q="";return B(P,function(te,ye){q+=ye,q+=":",q+=te,q+=`\r
`}),q}function Tx(P,q,te){e:{for(ye in te){var ye=!1;break e}ye=!0}ye||(te=Ad(te),typeof P=="string"?te!=null&&It(te):ei(P,q,te))}function Zi(P){Ke.call(this),this.headers=new Map,this.L=P||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Zi,Ke);var cv=/^https?$/i,Cx=["POST","PUT"];t=Zi.prototype,t.Fa=function(P){this.H=P},t.ea=function(P,q,te,ye){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+P);q=q?q.toUpperCase():"GET",this.D=P,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oe.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(q,String(P),!0),this.B=!1}catch(tt){Qf(this,tt);return}if(P=te||"",te=new Map(this.headers),ye)if(Object.getPrototypeOf(ye)===Object.prototype)for(var ze in ye)te.set(ze,ye[ze]);else if(typeof ye.keys=="function"&&typeof ye.get=="function")for(const tt of ye.keys())te.set(tt,ye.get(tt));else throw Error("Unknown input type for opt_headers: "+String(ye));ye=Array.from(te.keys()).find(tt=>tt.toLowerCase()=="content-type"),ze=a.FormData&&P instanceof a.FormData,!(Array.prototype.indexOf.call(Cx,q,void 0)>=0)||ye||ze||te.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,Rt]of te)this.g.setRequestHeader(tt,Rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(P),this.v=!1}catch(tt){Qf(this,tt)}};function Qf(P,q){P.h=!1,P.g&&(P.j=!0,P.g.abort(),P.j=!1),P.l=q,P.o=5,C2(P),uv(P)}function C2(P){P.A||(P.A=!0,be(P,"complete"),be(P,"error"))}t.abort=function(P){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=P||7,be(this,"complete"),be(this,"abort"),uv(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),uv(this,!0)),Zi.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ed(this):this.Xa())},t.Xa=function(){Ed(this)};function Ed(P){if(P.h&&typeof s<"u"){if(P.v&&Mc(P)==4)setTimeout(P.Ca.bind(P),0);else if(be(P,"readystatechange"),Mc(P)==4){P.h=!1;try{const tt=P.ca();e:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var q=!0;break e;default:q=!1}var te;if(!(te=q)){var ye;if(ye=tt===0){let Rt=String(P.D).match(Dh)[1]||null;!Rt&&a.self&&a.self.location&&(Rt=a.self.location.protocol.slice(0,-1)),ye=!cv.test(Rt?Rt.toLowerCase():"")}te=ye}if(te)be(P,"complete"),be(P,"success");else{P.o=6;try{var ze=Mc(P)>2?P.g.statusText:""}catch{ze=""}P.l=ze+" ["+P.ca()+"]",C2(P)}}finally{uv(P)}}}}function uv(P,q){if(P.g){P.m&&(clearTimeout(P.m),P.m=null);const te=P.g;P.g=null,q||be(P,"ready");try{te.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Mc(P){return P.g?P.g.readyState:0}t.ca=function(){try{return Mc(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(P){if(this.g){var q=this.g.responseText;return P&&q.indexOf(P)==0&&(q=q.substring(P.length)),Nt(q)}};function dv(P){try{if(!P.g)return null;if("response"in P.g)return P.g.response;switch(P.F){case"":case"text":return P.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in P.g)return P.g.mozResponseArrayBuffer}return null}catch{return null}}function k2(P){const q={};P=(P.g&&Mc(P)>=2&&P.g.getAllResponseHeaders()||"").split(`\r
`);for(let ye=0;ye<P.length;ye++){if(M(P[ye]))continue;var te=se(P[ye]);const ze=te[0];if(te=te[1],typeof te!="string")continue;te=te.trim();const tt=q[ze]||[];q[ze]=tt,tt.push(te)}re(q,function(ye){return ye.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yl(P,q,te){return te&&te.internalChannelParams&&te.internalChannelParams[P]||q}function hv(P){this.za=0,this.i=[],this.j=new tr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yl("failFast",!1,P),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yl("baseRetryDelayMs",5e3,P),this.Za=Yl("retryDelaySeedMs",1e4,P),this.Ta=Yl("forwardChannelMaxRetries",2,P),this.va=Yl("forwardChannelRequestTimeoutMs",2e4,P),this.ma=P&&P.xmlHttpFactory||void 0,this.Ua=P&&P.Rb||void 0,this.Aa=P&&P.useFetchStreams||!1,this.O=void 0,this.L=P&&P.supportsCrossDomainXhr||!1,this.M="",this.h=new si(P&&P.concurrentRequestLimit),this.Ba=new XC,this.S=P&&P.fastHandshake||!1,this.R=P&&P.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=P&&P.Pb||!1,P&&P.ua&&this.j.ua(),P&&P.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&P&&P.detectBufferingProxy||!1,this.ia=void 0,P&&P.longPollingTimeout&&P.longPollingTimeout>0&&(this.ia=P.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=hv.prototype,t.ka=8,t.I=1,t.connect=function(P,q,te,ye){gt(0),this.W=P,this.H=q||{},te&&ye!==void 0&&(this.H.OSID=te,this.H.OAID=ye),this.F=this.X,this.J=yt(this,null,this.W),rp(this)};function Jf(P){if(tp(P),P.I==3){var q=P.V++,te=Ic(P.J);if(ei(te,"SID",P.M),ei(te,"RID",q),ei(te,"TYPE","terminate"),Xl(P,te),q=new de(P,P.j,q),q.M=2,q.A=$m(Ic(te)),te=!1,a.navigator&&a.navigator.sendBeacon)try{te=a.navigator.sendBeacon(q.A.toString(),"")}catch{}!te&&a.Image&&(new Image().src=q.A,te=!0),te||(q.g=lr(q.j,null),q.g.ea(q.A)),q.F=Date.now(),Ze(q)}ct(P)}function ep(P){P.g&&(fv(P),P.g.cancel(),P.g=null)}function tp(P){ep(P),P.v&&(a.clearTimeout(P.v),P.v=null),oe(P),P.h.cancel(),P.m&&(typeof P.m=="number"&&a.clearTimeout(P.m),P.m=null)}function rp(P){if(!wn(P.h)&&!P.m){P.m=!0;var q=P.Ea;S||C(),T||(S(),T=!0),E.add(q,P),P.D=0}}function P2(P,q){return us(P.h)>=P.h.j-(P.m?1:0)?!1:P.m?(P.i=q.G.concat(P.i),!0):P.I==1||P.I==2||P.D>=(P.Sa?0:P.Ta)?!1:(P.m=ar(c(P.Ea,P,q),Ie(P,P.D)),P.D++,!0)}t.Ea=function(P){if(this.m)if(this.m=null,this.I==1){if(!P){this.V=Math.floor(Math.random()*1e5),P=this.V++;const ze=new de(this,this.j,P);let tt=this.o;if(this.U&&(tt?(tt=ae(tt),j(tt,this.U)):tt=this.U),this.u!==null||this.R||(ze.J=tt,tt=null),this.S)e:{for(var q=0,te=0;te<this.i.length;te++){t:{var ye=this.i[te];if("__data__"in ye.map&&(ye=ye.map.__data__,typeof ye=="string")){ye=ye.length;break t}ye=void 0}if(ye===void 0)break;if(q+=ye,q>4096){q=te;break e}if(q===4096||te===this.i.length-1){q=te+1;break e}}q=1e3}else q=1e3;q=Td(this,ze,q),te=Ic(this.J),ei(te,"RID",P),ei(te,"CVER",22),this.G&&ei(te,"X-HTTP-Session-Id",this.G),Xl(this,te),tt&&(this.R?q="headers="+It(Ad(tt))+"&"+q:this.u&&Tx(te,this.u,tt)),Wl(this.h,ze),this.Ra&&ei(te,"TYPE","init"),this.S?(ei(te,"$req",q),ei(te,"SID","null"),ze.U=!0,Ee(ze,te,null)):Ee(ze,te,q),this.I=2}}else this.I==3&&(P?kx(this,P):this.i.length==0||wn(this.h)||kx(this))};function kx(P,q){var te;q?te=q.l:te=P.V++;const ye=Ic(P.J);ei(ye,"SID",P.M),ei(ye,"RID",te),ei(ye,"AID",P.K),Xl(P,ye),P.u&&P.o&&Tx(ye,P.u,P.o),te=new de(P,P.j,te,P.D+1),P.u===null&&(te.J=P.o),q&&(P.i=q.G.concat(P.i)),q=Td(P,te,1e3),te.H=Math.round(P.va*.5)+Math.round(P.va*.5*Math.random()),Wl(P.h,te),Ee(te,ye,q)}function Xl(P,q){P.H&&B(P.H,function(te,ye){ei(q,ye,te)}),P.l&&B({},function(te,ye){ei(q,ye,te)})}function Td(P,q,te){te=Math.min(P.i.length,te);const ye=P.l?c(P.l.Ka,P.l,P):null;e:{var ze=P.i;let Kr=-1;for(;;){const Ji=["count="+te];Kr==-1?te>0?(Kr=ze[0].g,Ji.push("ofs="+Kr)):Kr=0:Ji.push("ofs="+Kr);let On=!0;for(let es=0;es<te;es++){var tt=ze[es].g;const vo=ze[es].map;if(tt-=Kr,tt<0)Kr=Math.max(0,ze[es].g-100),On=!1;else try{tt="req"+tt+"_"||"";try{var Rt=vo instanceof Map?vo:Object.entries(vo);for(const[ol,ts]of Rt){let ll=ts;o(ts)&&(ll=kt(ts)),Ji.push(tt+ol+"="+encodeURIComponent(ll))}}catch(ol){throw Ji.push(tt+"type="+encodeURIComponent("_badmap")),ol}}catch{ye&&ye(vo)}}if(On){Rt=Ji.join("&");break e}}Rt=void 0}return P=P.i.splice(0,te),q.G=P,Rt}function Px(P){if(!P.g&&!P.v){P.Y=1;var q=P.Da;S||C(),T||(S(),T=!0),E.add(q,P),P.A=0}}function jh(P){return P.g||P.v||P.A>=3?!1:(P.Y++,P.v=ar(c(P.Da,P),Ie(P,P.A)),P.A++,!0)}t.Da=function(){if(this.v=null,L(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var P=4*this.T;this.j.info("BP detection timer enabled: "+P),this.B=ar(c(this.Wa,this),P)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),ep(this),L(this))};function fv(P){P.B!=null&&(a.clearTimeout(P.B),P.B=null)}function L(P){P.g=new de(P,P.j,"rpc",P.Y),P.u===null&&(P.g.J=P.o),P.g.P=0;var q=Ic(P.na);ei(q,"RID","rpc"),ei(q,"SID",P.M),ei(q,"AID",P.K),ei(q,"CI",P.F?"0":"1"),!P.F&&P.ia&&ei(q,"TO",P.ia),ei(q,"TYPE","xmlhttp"),Xl(P,q),P.u&&P.o&&Tx(q,P.u,P.o),P.O&&(P.g.H=P.O);var te=P.g;P=P.ba,te.M=1,te.A=$m(Ic(q)),te.u=null,te.R=!0,qe(te,P)}t.Va=function(){this.C!=null&&(this.C=null,ep(this),jh(this),gt(19))};function oe(P){P.C!=null&&(a.clearTimeout(P.C),P.C=null)}function Te(P,q){var te=null;if(P.g==q){oe(P),fv(P),P.g=null;var ye=2}else if(Nc(P.h,q))te=q.G,mu(P.h,q),ye=1;else return;if(P.I!=0){if(q.o)if(ye==1){te=q.u?q.u.length:0,q=Date.now()-q.F;var ze=P.D;ye=Gt(),be(ye,new ft(ye,te)),rp(P)}else Px(P);else if(ze=q.m,ze==3||ze==0&&q.X>0||!(ye==1&&P2(P,q)||ye==2&&jh(P)))switch(te&&te.length>0&&(q=P.h,q.i=q.i.concat(te)),ze){case 1:$e(P,5);break;case 4:$e(P,10);break;case 3:$e(P,6);break;default:$e(P,2)}}}function Ie(P,q){let te=P.Qa+Math.floor(Math.random()*P.Za);return P.isActive()||(te*=2),te*q}function $e(P,q){if(P.j.info("Error code "+q),q==2){var te=c(P.bb,P),ye=P.Ua;const ze=!ye;ye=new Gl(ye||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Xi(ye,"https"),$m(ye),ze?YC(ye.toString(),te):Vm(ye.toString(),te)}else gt(2);P.I=0,P.l&&P.l.pa(q),ct(P),tp(P)}t.bb=function(P){P?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function ct(P){if(P.I=0,P.ja=[],P.l){const q=ql(P.h);(q.length!=0||P.i.length!=0)&&(g(P.ja,q),g(P.ja,P.i),P.h.i.length=0,f(P.i),P.i.length=0),P.l.oa()}}function yt(P,q,te){var ye=te instanceof Gl?Ic(te):new Gl(te);if(ye.g!="")q&&(ye.g=q+"."+ye.g),Yf(ye,ye.u);else{var ze=a.location;ye=ze.protocol,q=q?q+"."+ze.hostname:ze.hostname,ze=+ze.port;const tt=new Gl(null);ye&&Xi(tt,ye),q&&(tt.g=q),ze&&Yf(tt,ze),te&&(tt.h=te),ye=tt}return te=P.G,q=P.wa,te&&q&&ei(ye,te,q),ei(ye,"VER",P.ka),Xl(P,ye),ye}function lr(P,q,te){if(q&&!P.L)throw Error("Can't create secondary domain capable XhrIo object.");return q=P.Aa&&!P.ma?new Zi(new Lr({ab:te})):new Zi(P.ma),q.Fa(P.L),q}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gr(){}t=gr.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Or(){}Or.prototype.g=function(P,q){return new kr(P,q)};function kr(P,q){Ke.call(this),this.g=new hv(q),this.l=P,this.h=q&&q.messageUrlParams||null,P=q&&q.messageHeaders||null,q&&q.clientProtocolHeaderRequired&&(P?P["X-Client-Protocol"]="webchannel":P={"X-Client-Protocol":"webchannel"}),this.g.o=P,P=q&&q.initMessageHeaders||null,q&&q.messageContentType&&(P?P["X-WebChannel-Content-Type"]=q.messageContentType:P={"X-WebChannel-Content-Type":q.messageContentType}),q&&q.sa&&(P?P["X-WebChannel-Client-Profile"]=q.sa:P={"X-WebChannel-Client-Profile":q.sa}),this.g.U=P,(P=q&&q.Qb)&&!M(P)&&(this.g.u=P),this.A=q&&q.supportsCrossDomainXhr||!1,this.v=q&&q.sendRawJson||!1,(q=q&&q.httpSessionIdParam)&&!M(q)&&(this.g.G=q,P=this.h,P!==null&&q in P&&(P=this.h,q in P&&delete P[q])),this.j=new Bi(this)}d(kr,Ke),kr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kr.prototype.close=function(){Jf(this.g)},kr.prototype.o=function(P){var q=this.g;if(typeof P=="string"){var te={};te.__data__=P,P=te}else this.v&&(te={},te.__data__=kt(P),P=te);q.i.push(new Dr(q.Ya++,P)),q.I==3&&rp(q)},kr.prototype.N=function(){this.g.l=null,delete this.j,Jf(this.g),delete this.g,kr.Z.N.call(this)};function In(P){sr.call(this),P.__headers__&&(this.headers=P.__headers__,this.statusCode=P.__status__,delete P.__headers__,delete P.__status__);var q=P.__sm__;if(q){e:{for(const te in q){P=te;break e}P=void 0}(this.i=P)&&(P=this.i,q=q!==null&&P in q?q[P]:void 0),this.data=q}else this.data=P}d(In,sr);function Qi(){Cr.call(this),this.status=1}d(Qi,Cr);function Bi(P){this.g=P}d(Bi,gr),Bi.prototype.ra=function(){be(this.g,"a")},Bi.prototype.qa=function(P){be(this.g,new In(P))},Bi.prototype.pa=function(P){be(this.g,new Qi)},Bi.prototype.oa=function(){be(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,kr.prototype.send=kr.prototype.o,kr.prototype.open=kr.prototype.m,kr.prototype.close=kr.prototype.close,x1e=function(){return new Or},y1e=function(){return Gt()},v1e=jr,Ez={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},li.NO_ERROR=0,li.TIMEOUT=8,li.HTTP_ERROR=6,oM=li,Tn.COMPLETE="complete",g1e=Tn,Ur.EventType=Yt,Yt.OPEN="a",Yt.CLOSE="b",Yt.ERROR="c",Yt.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,r5=Ur,Zi.prototype.listenOnce=Zi.prototype.K,Zi.prototype.getLastError=Zi.prototype.Ha,Zi.prototype.getLastErrorCode=Zi.prototype.ya,Zi.prototype.getStatus=Zi.prototype.ca,Zi.prototype.getResponseJson=Zi.prototype.La,Zi.prototype.getResponseText=Zi.prototype.la,Zi.prototype.send=Zi.prototype.ea,Zi.prototype.setWithCredentials=Zi.prototype.Fa,m1e=Zi}).apply(typeof E3<"u"?E3:typeof self<"u"?self:typeof window<"u"?window:{});const gne="@firebase/firestore",vne="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kl.UNAUTHENTICATED=new kl(null),kl.GOOGLE_CREDENTIALS=new kl("google-credentials-uid"),kl.FIRST_PARTY=new kl("first-party-uid"),kl.MOCK_USER=new kl("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gC="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=new m8("@firebase/firestore");function J2(){return m_.logLevel}function nr(t,...e){if(m_.logLevel<=Dn.DEBUG){const r=e.map(NY);m_.debug(`Firestore (${gC}): ${t}`,...r)}}function Fg(t,...e){if(m_.logLevel<=Dn.ERROR){const r=e.map(NY);m_.error(`Firestore (${gC}): ${t}`,...r)}}function pT(t,...e){if(m_.logLevel<=Dn.WARN){const r=e.map(NY);m_.warn(`Firestore (${gC}): ${t}`,...r)}}function NY(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,b1e(t,n,r)}function b1e(t,e,r){let n=`FIRESTORE (${gC}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Fg(n),new Error(n)}function fi(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||b1e(e,i,n)}function rn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zt extends Uf{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1e{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A$e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(kl.UNAUTHENTICATED))}shutdown(){}}class E$e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class T$e{constructor(e){this.t=e,this.currentUser=kl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){fi(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new mg;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mg,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{nr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(nr("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mg)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(nr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(fi(typeof n.accessToken=="string",31837,{l:n}),new w1e(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fi(e===null||typeof e=="string",2055,{h:e}),new kl(e)}}class C$e{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=kl.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class k$e{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new C$e(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(kl.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yne{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P$e{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nd(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){fi(this.o===void 0,3512);const n=s=>{s.error!=null&&nr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,nr("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{nr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):nr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yne(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(fi(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new yne(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$e(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=N$e(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%62))}return n}}function Mn(t,e){return t<e?-1:t>e?1:0}function Tz(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),s=e.charAt(n);if(i!==s)return B$(i)===B$(s)?Mn(i,s):B$(i)?1:-1}return Mn(t.length,e.length)}const I$e=55296,O$e=57343;function B$(t){const e=t.charCodeAt(0);return e>=I$e&&e<=O$e}function mT(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xne="__name__";class _p{constructor(e,r,n){r===void 0?r=0:r>e.length&&Vr(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Vr(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return _p.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof _p?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=_p.compareSegments(e.get(i),r.get(i));if(s!==0)return s}return Mn(e.length,r.length)}static compareSegments(e,r){const n=_p.isNumericId(e),i=_p.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?_p.extractNumericId(e).compare(_p.extractNumericId(r)):Tz(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _y.fromString(e.substring(4,e.length-2))}}class as extends _p{construct(e,r,n){return new as(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Zt(ht.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new as(r)}static emptyPath(){return new as([])}}const R$e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jo extends _p{construct(e,r,n){return new Jo(e,r,n)}static isValidIdentifier(e){return R$e.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xne}static keyField(){return new Jo([xne])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Zt(ht.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Zt(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Zt(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new Zt(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jo(r)}static emptyPath(){return new Jo([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.path=e}static fromPath(e){return new Ir(as.fromString(e))}static fromName(e){return new Ir(as.fromString(e).popFirst(5))}static empty(){return new Ir(as.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&as.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return as.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ir(new as(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1e(t,e,r){if(!r)throw new Zt(ht.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function D$e(t,e,r,n){if(e===!0&&n===!0)throw new Zt(ht.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function bne(t){if(!Ir.isDocumentKey(t))throw new Zt(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wne(t){if(Ir.isDocumentKey(t))throw new Zt(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function S1e(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function x8(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Vr(12329,{type:typeof t})}function Df(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Zt(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=x8(t);throw new Zt(ht.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t,e){const r={typeString:t};return e&&(r.value=e),r}function $O(t,e){if(!S1e(t))throw new Zt(ht.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const a=t[n];if(i&&typeof a!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new Zt(ht.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ne=-62135596800,Sne=1e6;class Wr{static now(){return Wr.fromMillis(Date.now())}static fromDate(e){return Wr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*Sne);return new Wr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Zt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Zt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<_ne)throw new Zt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Zt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sne}_compareTo(e){return this.seconds===e.seconds?Mn(this.nanoseconds,e.nanoseconds):Mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($O(e,Wr._jsonSchema))return new Wr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_ne;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wr._jsonSchemaVersion="firestore/timestamp/1.0",Wr._jsonSchema={type:Ba("string",Wr._jsonSchemaVersion),seconds:Ba("number"),nanoseconds:Ba("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{static fromTimestamp(e){return new Yr(e)}static min(){return new Yr(new Wr(0,0))}static max(){return new Yr(new Wr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=-1;function M$e(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Yr.fromTimestamp(n===1e9?new Wr(r+1,0):new Wr(r,n));return new By(i,Ir.empty(),e)}function F$e(t){return new By(t.readTime,t.key,eN)}class By{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new By(Yr.min(),Ir.empty(),eN)}static max(){return new By(Yr.max(),Ir.empty(),eN)}}function j$e(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ir.comparator(t.documentKey,e.documentKey),r!==0?r:Mn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B$e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(t){if(t.code!==ht.FAILED_PRECONDITION||t.message!==L$e)throw t;nr("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Vr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new vt((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof vt?r:vt.resolve(r)}catch(r){return vt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):vt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):vt.reject(r)}static resolve(e){return new vt((r,n)=>{r(e)})}static reject(e){return new vt((r,n)=>{n(e)})}static waitFor(e){return new vt((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},l=>n(l))}),a=!0,s===i&&r()})}static or(e){let r=vt.resolve(!1);for(const n of e)r=r.next(i=>i?vt.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new vt((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;r(e[c]).next(u=>{a[c]=u,++o,o===s&&n(a)},u=>i(u))}})}static doWhile(e,r){return new vt((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function $$e(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function yC(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}b8.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OY=-1;function w8(t){return t==null}function QF(t){return t===0&&1/t==-1/0}function V$e(t){return typeof t=="number"&&Number.isInteger(t)&&!QF(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1e="";function U$e(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=Ane(e)),e=z$e(t.get(r),e);return Ane(e)}function z$e(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case A1e:r+="";break;default:r+=s}}return r}function Ane(t){return t+A1e+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ene(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function cx(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function E1e(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,r){this.comparator=e,this.root=r||Yo.EMPTY}insert(e,r){return new Us(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Yo.BLACK,null,null))}remove(e){return new Us(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yo.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new T3(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new T3(this.root,e,this.comparator,!1)}getReverseIterator(){return new T3(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new T3(this.root,e,this.comparator,!0)}}class T3{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yo{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Yo.RED,this.left=i??Yo.EMPTY,this.right=s??Yo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Yo(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Yo.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Vr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Vr(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Vr(27949);return e+(this.isRed()?0:1)}}Yo.EMPTY=null,Yo.RED=!0,Yo.BLACK=!1;Yo.EMPTY=new class{constructor(){this.size=0}get key(){throw Vr(57766)}get value(){throw Vr(16141)}get color(){throw Vr(16727)}get left(){throw Vr(29726)}get right(){throw Vr(36894)}copy(e,r,n,i,s){return this}insert(e,r,n){return new Yo(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.comparator=e,this.data=new Us(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Tne(this.data.getIterator())}getIteratorFrom(e){return new Tne(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new uo(this.comparator);return r.data=e,r}}class Tne{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this.fields=e,e.sort(Jo.comparator)}static empty(){return new ld([])}unionWith(e){let r=new uo(Jo.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ld(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return mT(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1e extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new T1e("Invalid base64 string: "+s):s}}(e);return new al(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new al(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}al.EMPTY_BYTE_STRING=new al("");const H$e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $y(t){if(fi(!!t,39018),typeof t=="string"){let e=0;const r=H$e.exec(t);if(fi(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:ma(t.seconds),nanos:ma(t.nanos)}}function ma(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vy(t){return typeof t=="string"?al.fromBase64String(t):al.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1e="server_timestamp",k1e="__type__",P1e="__previous_value__",N1e="__local_write_time__";function RY(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[k1e])==null?void 0:n.stringValue)===C1e}function _8(t){const e=t.mapValue.fields[P1e];return RY(e)?_8(e):e}function tN(t){const e=$y(t.mapValue.fields[N1e].timestampValue);return new Wr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W$e{constructor(e,r,n,i,s,a,o,l,c,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const JF="(default)";class rN{constructor(e,r){this.projectId=e,this.database=r||JF}static empty(){return new rN("","")}get isDefaultDatabase(){return this.database===JF}isEqual(e){return e instanceof rN&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1e="__type__",O1e="__max__",C3={mapValue:{fields:{__type__:{stringValue:O1e}}}},R1e="__vector__",ej="value";function Uy(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?RY(t)?4:G$e(t)?9007199254740991:q$e(t)?10:11:Vr(28295,{value:t})}function Em(t,e){if(t===e)return!0;const r=Uy(t);if(r!==Uy(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tN(t).isEqual(tN(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=$y(i.timestampValue),o=$y(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Vy(i.bytesValue).isEqual(Vy(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ma(i.geoPointValue.latitude)===ma(s.geoPointValue.latitude)&&ma(i.geoPointValue.longitude)===ma(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ma(i.integerValue)===ma(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=ma(i.doubleValue),o=ma(s.doubleValue);return a===o?QF(a)===QF(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return mT(t.arrayValue.values||[],e.arrayValue.values||[],Em);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(Ene(a)!==Ene(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Em(a[l],o[l])))return!1;return!0}(t,e);default:return Vr(52216,{left:t})}}function nN(t,e){return(t.values||[]).find(r=>Em(r,e))!==void 0}function gT(t,e){if(t===e)return 0;const r=Uy(t),n=Uy(e);if(r!==n)return Mn(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Mn(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=ma(s.integerValue||s.doubleValue),l=ma(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return Cne(t.timestampValue,e.timestampValue);case 4:return Cne(tN(t),tN(e));case 5:return Tz(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Vy(s),l=Vy(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Mn(o[c],l[c]);if(u!==0)return u}return Mn(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Mn(ma(s.latitude),ma(a.latitude));return o!==0?o:Mn(ma(s.longitude),ma(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kne(t.arrayValue,e.arrayValue);case 10:return function(s,a){var h,f,g,m;const o=s.fields||{},l=a.fields||{},c=(h=o[ej])==null?void 0:h.arrayValue,u=(f=l[ej])==null?void 0:f.arrayValue,d=Mn(((g=c==null?void 0:c.values)==null?void 0:g.length)||0,((m=u==null?void 0:u.values)==null?void 0:m.length)||0);return d!==0?d:kne(c,u)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===C3.mapValue&&a===C3.mapValue)return 0;if(s===C3.mapValue)return 1;if(a===C3.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Tz(l[d],u[d]);if(h!==0)return h;const f=gT(o[l[d]],c[u[d]]);if(f!==0)return f}return Mn(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Vr(23264,{he:r})}}function Cne(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mn(t,e);const r=$y(t),n=$y(e),i=Mn(r.seconds,n.seconds);return i!==0?i:Mn(r.nanos,n.nanos)}function kne(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=gT(r[i],n[i]);if(s)return s}return Mn(r.length,n.length)}function vT(t){return Cz(t)}function Cz(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=$y(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Vy(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ir.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=Cz(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${Cz(r.fields[a])}`;return i+"}"}(t.mapValue):Vr(61005,{value:t})}function lM(t){switch(Uy(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_8(t);return e?16+lM(e):16;case 5:return 2*t.stringValue.length;case 6:return Vy(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,s)=>i+lM(s),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return cx(n.fields,(s,a)=>{i+=s.length+lM(a)}),i}(t.mapValue);default:throw Vr(13486,{value:t})}}function Pne(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kz(t){return!!t&&"integerValue"in t}function DY(t){return!!t&&"arrayValue"in t}function Nne(t){return!!t&&"nullValue"in t}function Ine(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cM(t){return!!t&&"mapValue"in t}function q$e(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[I1e])==null?void 0:n.stringValue)===R1e}function eP(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return cx(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=eP(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=eP(t.arrayValue.values[r]);return e}return{...t}}function G$e(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===O1e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this.value=e}static empty(){return new eu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!cM(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=eP(r)}setAll(e){let r=Jo.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=eP(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());cM(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Em(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];cM(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){cx(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new eu(eP(this.value))}}function D1e(t){const e=[];return cx(t.fields,(r,n)=>{const i=new Jo([r]);if(cM(n)){const s=D1e(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new ld(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Ol(e,0,Yr.min(),Yr.min(),Yr.min(),eu.empty(),0)}static newFoundDocument(e,r,n,i){return new Ol(e,1,r,Yr.min(),n,i,0)}static newNoDocument(e,r){return new Ol(e,2,r,Yr.min(),Yr.min(),eu.empty(),0)}static newUnknownDocument(e,r){return new Ol(e,3,r,Yr.min(),Yr.min(),eu.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Yr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=eu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=eu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ol&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ol(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,r){this.position=e,this.inclusive=r}}function One(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=Ir.comparator(Ir.fromName(a.referenceValue),r.key):n=gT(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function Rne(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Em(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,r="asc"){this.field=e,this.dir=r}}function K$e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1e{}class ja extends M1e{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new X$e(e,r,n):r==="array-contains"?new J$e(e,n):r==="in"?new e9e(e,n):r==="not-in"?new t9e(e,n):r==="array-contains-any"?new r9e(e,n):new ja(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Z$e(e,n):new Q$e(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(gT(r,this.value)):r!==null&&Uy(this.value)===Uy(r)&&this.matchesComparison(gT(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Vr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mf extends M1e{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Mf(e,r)}matches(e){return F1e(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function F1e(t){return t.op==="and"}function j1e(t){return Y$e(t)&&F1e(t)}function Y$e(t){for(const e of t.filters)if(e instanceof Mf)return!1;return!0}function Pz(t){if(t instanceof ja)return t.field.canonicalString()+t.op.toString()+vT(t.value);if(j1e(t))return t.filters.map(e=>Pz(e)).join(",");{const e=t.filters.map(r=>Pz(r)).join(",");return`${t.op}(${e})`}}function L1e(t,e){return t instanceof ja?function(n,i){return i instanceof ja&&n.op===i.op&&n.field.isEqual(i.field)&&Em(n.value,i.value)}(t,e):t instanceof Mf?function(n,i){return i instanceof Mf&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&L1e(a,i.filters[o]),!0):!1}(t,e):void Vr(19439)}function B1e(t){return t instanceof ja?function(r){return`${r.field.canonicalString()} ${r.op} ${vT(r.value)}`}(t):t instanceof Mf?function(r){return r.op.toString()+" {"+r.getFilters().map(B1e).join(" ,")+"}"}(t):"Filter"}class X$e extends ja{constructor(e,r,n){super(e,r,n),this.key=Ir.fromName(n.referenceValue)}matches(e){const r=Ir.comparator(e.key,this.key);return this.matchesComparison(r)}}class Z$e extends ja{constructor(e,r){super(e,"in",r),this.keys=$1e("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Q$e extends ja{constructor(e,r){super(e,"not-in",r),this.keys=$1e("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function $1e(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>Ir.fromName(n.referenceValue))}class J$e extends ja{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return DY(r)&&nN(r.arrayValue,this.value)}}class e9e extends ja{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&nN(this.value.arrayValue,r)}}class t9e extends ja{constructor(e,r){super(e,"not-in",r)}matches(e){if(nN(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!nN(this.value.arrayValue,r)}}class r9e extends ja{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!DY(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>nN(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9e{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function Dne(t,e=null,r=[],n=[],i=null,s=null,a=null){return new n9e(t,e,r,n,i,s,a)}function MY(t){const e=rn(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Pz(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),w8(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>vT(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>vT(n)).join(",")),e.Te=r}return e.Te}function FY(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!K$e(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!L1e(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rne(t.startAt,e.startAt)&&Rne(t.endAt,e.endAt)}function Nz(t){return Ir.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function i9e(t,e,r,n,i,s,a,o){return new xC(t,e,r,n,i,s,a,o)}function jY(t){return new xC(t)}function Mne(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function V1e(t){return t.collectionGroup!==null}function tP(t){const e=rn(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new uo(Jo.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new iN(s,n))}),r.has(Jo.keyField().canonicalString())||e.Ie.push(new iN(Jo.keyField(),n))}return e.Ie}function fm(t){const e=rn(t);return e.Ee||(e.Ee=s9e(e,tP(t))),e.Ee}function s9e(t,e){if(t.limitType==="F")return Dne(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new iN(i.field,s)});const r=t.endAt?new tj(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new tj(t.startAt.position,t.startAt.inclusive):null;return Dne(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Iz(t,e){const r=t.filters.concat([e]);return new xC(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Oz(t,e,r){return new xC(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function S8(t,e){return FY(fm(t),fm(e))&&t.limitType===e.limitType}function U1e(t){return`${MY(fm(t))}|lt:${t.limitType}`}function eS(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>B1e(i)).join(", ")}]`),w8(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>vT(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>vT(i)).join(",")),`Target(${n})`}(fm(t))}; limitType=${t.limitType})`}function A8(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ir.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of tP(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,l){const c=One(a,o,l);return a.inclusive?c<=0:c<0}(n.startAt,tP(n),i)||n.endAt&&!function(a,o,l){const c=One(a,o,l);return a.inclusive?c>=0:c>0}(n.endAt,tP(n),i))}(t,e)}function a9e(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function z1e(t){return(e,r)=>{let n=!1;for(const i of tP(t)){const s=o9e(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function o9e(t,e,r){const n=t.field.isKeyField()?Ir.comparator(e.key,r.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?gT(l,c):Vr(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Vr(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cx(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return E1e(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9e=new Us(Ir.comparator);function jg(){return l9e}const H1e=new Us(Ir.comparator);function n5(...t){let e=H1e;for(const r of t)e=e.insert(r.key,r);return e}function W1e(t){let e=H1e;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ub(){return rP()}function q1e(){return rP()}function rP(){return new e2(t=>t.toString(),(t,e)=>t.isEqual(e))}const c9e=new Us(Ir.comparator),u9e=new uo(Ir.comparator);function Fn(...t){let e=u9e;for(const r of t)e=e.add(r);return e}const d9e=new uo(Mn);function h9e(){return d9e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LY(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:QF(e)?"-0":e}}function G1e(t){return{integerValue:""+t}}function f9e(t,e){return V$e(e)?G1e(e):LY(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(){this._=void 0}}function p9e(t,e,r){return t instanceof rj?function(i,s){const a={fields:{[k1e]:{stringValue:C1e},[N1e]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&RY(s)&&(s=_8(s)),s&&(a.fields[P1e]=s),{mapValue:a}}(r,e):t instanceof sN?Y1e(t,e):t instanceof aN?X1e(t,e):function(i,s){const a=K1e(i,s),o=Fne(a)+Fne(i.Ae);return kz(a)&&kz(i.Ae)?G1e(o):LY(i.serializer,o)}(t,e)}function m9e(t,e,r){return t instanceof sN?Y1e(t,e):t instanceof aN?X1e(t,e):r}function K1e(t,e){return t instanceof nj?function(n){return kz(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class rj extends E8{}class sN extends E8{constructor(e){super(),this.elements=e}}function Y1e(t,e){const r=Z1e(e);for(const n of t.elements)r.some(i=>Em(i,n))||r.push(n);return{arrayValue:{values:r}}}class aN extends E8{constructor(e){super(),this.elements=e}}function X1e(t,e){let r=Z1e(e);for(const n of t.elements)r=r.filter(i=>!Em(i,n));return{arrayValue:{values:r}}}class nj extends E8{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function Fne(t){return ma(t.integerValue||t.doubleValue)}function Z1e(t){return DY(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function g9e(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof sN&&i instanceof sN||n instanceof aN&&i instanceof aN?mT(n.elements,i.elements,Em):n instanceof nj&&i instanceof nj?Em(n.Ae,i.Ae):n instanceof rj&&i instanceof rj}(t.transform,e.transform)}class v9e{constructor(e,r){this.version=e,this.transformResults=r}}class gh{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new gh}static exists(e){return new gh(void 0,e)}static updateTime(e){return new gh(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uM(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class T8{}function Q1e(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new BY(t.key,gh.none()):new VO(t.key,t.data,gh.none());{const r=t.data,n=eu.empty();let i=new uo(Jo.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new ux(t.key,n,new ld(i.toArray()),gh.none())}}function y9e(t,e,r){t instanceof VO?function(i,s,a){const o=i.value.clone(),l=Lne(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof ux?function(i,s,a){if(!uM(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=Lne(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(J1e(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function nP(t,e,r,n){return t instanceof VO?function(s,a,o,l){if(!uM(s.precondition,a))return o;const c=s.value.clone(),u=Bne(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof ux?function(s,a,o,l){if(!uM(s.precondition,a))return o;const c=Bne(s.fieldTransforms,l,a),u=a.data;return u.setAll(J1e(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(s,a,o){return uM(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function x9e(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=K1e(n.transform,i||null);s!=null&&(r===null&&(r=eu.empty()),r.set(n.field,s))}return r||null}function jne(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&mT(n,i,(s,a)=>g9e(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class VO extends T8{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ux extends T8{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function J1e(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function Lne(t,e,r){const n=new Map;fi(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,m9e(a,o,r[i]))}return n}function Bne(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,p9e(s,a,e))}return n}class BY extends T8{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b9e extends T8{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9e{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&y9e(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=nP(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=nP(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=q1e();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=Q1e(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Yr.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Fn())}isEqual(e){return this.batchId===e.batchId&&mT(this.mutations,e.mutations,(r,n)=>jne(r,n))&&mT(this.baseMutations,e.baseMutations,(r,n)=>jne(r,n))}}class $Y{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){fi(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return c9e}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new $Y(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _9e=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9e{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Na,Wn;function A9e(t){switch(t){case ht.OK:return Vr(64938);case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0;default:return Vr(15467,{code:t})}}function eye(t){if(t===void 0)return Fg("GRPC error has no .code"),ht.UNKNOWN;switch(t){case Na.OK:return ht.OK;case Na.CANCELLED:return ht.CANCELLED;case Na.UNKNOWN:return ht.UNKNOWN;case Na.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case Na.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case Na.INTERNAL:return ht.INTERNAL;case Na.UNAVAILABLE:return ht.UNAVAILABLE;case Na.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case Na.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case Na.NOT_FOUND:return ht.NOT_FOUND;case Na.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case Na.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case Na.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case Na.ABORTED:return ht.ABORTED;case Na.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case Na.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case Na.DATA_LOSS:return ht.DATA_LOSS;default:return Vr(39323,{code:t})}}(Wn=Na||(Na={}))[Wn.OK=0]="OK",Wn[Wn.CANCELLED=1]="CANCELLED",Wn[Wn.UNKNOWN=2]="UNKNOWN",Wn[Wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wn[Wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wn[Wn.NOT_FOUND=5]="NOT_FOUND",Wn[Wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wn[Wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wn[Wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wn[Wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wn[Wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wn[Wn.ABORTED=10]="ABORTED",Wn[Wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wn[Wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wn[Wn.INTERNAL=13]="INTERNAL",Wn[Wn.UNAVAILABLE=14]="UNAVAILABLE",Wn[Wn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9e(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9e=new _y([4294967295,4294967295],0);function $ne(t){const e=E9e().encode(t),r=new p1e;return r.update(e),new Uint8Array(r.digest())}function Vne(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _y([r,n],0),new _y([i,s],0)]}class VY{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new i5(`Invalid padding: ${r}`);if(n<0)throw new i5(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new i5(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new i5(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=_y.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(_y.fromNumber(n)));return i.compare(T9e)===1&&(i=new _y([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=$ne(e),[n,i]=Vne(r);for(let s=0;s<this.hashCount;s++){const a=this.ye(n,i,s);if(!this.we(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new VY(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const r=$ne(e),[n,i]=Vne(r);for(let s=0;s<this.hashCount;s++){const a=this.ye(n,i,s);this.Se(a)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class i5 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,UO.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new C8(Yr.min(),i,new Us(Mn),jg(),Fn())}}class UO{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new UO(n,r,Fn(),Fn(),Fn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class tye{constructor(e,r){this.targetId=e,this.Ce=r}}class rye{constructor(e,r,n=al.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class Une{constructor(){this.ve=0,this.Fe=zne(),this.Me=al.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fn(),r=Fn(),n=Fn();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Vr(38017,{changeType:s})}}),new UO(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=zne()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,fi(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class C9e{constructor(e){this.Ge=e,this.ze=new Map,this.je=jg(),this.Je=k3(),this.He=k3(),this.Ye=new Us(Mn)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Vr(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const s=i.target;if(Nz(s))if(n===0){const a=new Ir(s.path);this.et(r,a,Ol.newNoDocument(a,Yr.min()))}else fi(n===1,20013,{expectedCount:n});else{const a=this._t(r);if(a!==n){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,c)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=Vy(n).toUint8Array()}catch(l){if(l instanceof T1e)return pT("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new VY(a,i,s)}catch(l){return pT(l instanceof i5?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(r,s,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&Nz(o.target)){const l=new Ir(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,Ol.newNoDocument(l,e))}s.Be&&(r.set(a,s.ke()),s.qe())}});let n=Fn();this.He.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new C8(e,r,this.Ye,this.je,n);return this.je=jg(),this.Je=k3(),this.He=k3(),this.Ye=new Us(Mn),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new Une,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new uo(Mn),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new uo(Mn),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||nr("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Une),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function k3(){return new Us(Ir.comparator)}function zne(){return new Us(Ir.comparator)}const k9e={asc:"ASCENDING",desc:"DESCENDING"},P9e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N9e={and:"AND",or:"OR"};class I9e{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Rz(t,e){return t.useProto3Json||w8(e)?e:{value:e}}function ij(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nye(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function O9e(t,e){return ij(t,e.toTimestamp())}function pm(t){return fi(!!t,49232),Yr.fromTimestamp(function(r){const n=$y(r);return new Wr(n.seconds,n.nanos)}(t))}function UY(t,e){return Dz(t,e).canonicalString()}function Dz(t,e){const r=function(i){return new as(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function iye(t){const e=as.fromString(t);return fi(cye(e),10190,{key:e.toString()}),e}function Mz(t,e){return UY(t.databaseId,e.path)}function $$(t,e){const r=iye(e);if(r.get(1)!==t.databaseId.projectId)throw new Zt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Zt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ir(aye(r))}function sye(t,e){return UY(t.databaseId,e)}function R9e(t){const e=iye(t);return e.length===4?as.emptyPath():aye(e)}function Fz(t){return new as(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aye(t){return fi(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Hne(t,e,r){return{name:Mz(t,e),fields:r.value.mapValue.fields}}function D9e(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Vr(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(fi(u===void 0||typeof u=="string",58123),al.fromBase64String(u||"")):(fi(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),al.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const u=c.code===void 0?ht.UNKNOWN:eye(c.code);return new Zt(u,c.message||"")}(a);r=new rye(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=$$(t,n.document.name),s=pm(n.document.updateTime),a=n.document.createTime?pm(n.document.createTime):Yr.min(),o=new eu({mapValue:{fields:n.document.fields}}),l=Ol.newFoundDocument(i,s,a,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new dM(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=$$(t,n.document),s=n.readTime?pm(n.readTime):Yr.min(),a=Ol.newNoDocument(i,s),o=n.removedTargetIds||[];r=new dM([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=$$(t,n.document),s=n.removedTargetIds||[];r=new dM([],s,i,null)}else{if(!("filter"in e))return Vr(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new S9e(i,s),o=n.targetId;r=new tye(o,a)}}return r}function M9e(t,e){let r;if(e instanceof VO)r={update:Hne(t,e.key,e.value)};else if(e instanceof BY)r={delete:Mz(t,e.key)};else if(e instanceof ux)r={update:Hne(t,e.key,e.data),updateMask:H9e(e.fieldMask)};else{if(!(e instanceof b9e))return Vr(16599,{Vt:e.type});r={verify:Mz(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof rj)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof sN)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof aN)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof nj)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Vr(20930,{transform:a.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:O9e(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Vr(27497)}(t,e.precondition)),r}function F9e(t,e){return t&&t.length>0?(fi(e!==void 0,14353),t.map(r=>function(i,s){let a=i.updateTime?pm(i.updateTime):pm(s);return a.isEqual(Yr.min())&&(a=pm(s)),new v9e(a,i.transformResults||[])}(r,e))):[]}function j9e(t,e){return{documents:[sye(t,e.path)]}}function L9e(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=sye(t,i);const s=function(c){if(c.length!==0)return lye(Mf.create(c,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:tS(h.field),direction:V9e(h.dir)}}(u))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=Rz(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:r,parent:i}}function B9e(t){let e=R9e(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){fi(n===1,65062);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];r.where&&(s=function(d){const h=oye(d);return h instanceof Mf&&j1e(h)?h.getFilters():[h]}(r.where));let a=[];r.orderBy&&(a=function(d){return d.map(h=>function(g){return new iN(rS(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,w8(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new tj(f,h)}(r.startAt));let c=null;return r.endAt&&(c=function(d){const h=!d.before,f=d.values||[];return new tj(f,h)}(r.endAt)),i9e(e,i,a,s,o,"F",l,c)}function $9e(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vr(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function oye(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=rS(r.unaryFilter.field);return ja.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=rS(r.unaryFilter.field);return ja.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=rS(r.unaryFilter.field);return ja.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=rS(r.unaryFilter.field);return ja.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Vr(61313);default:return Vr(60726)}}(t):t.fieldFilter!==void 0?function(r){return ja.create(rS(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Vr(58110);default:return Vr(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Mf.create(r.compositeFilter.filters.map(n=>oye(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Vr(1026)}}(r.compositeFilter.op))}(t):Vr(30097,{filter:t})}function V9e(t){return k9e[t]}function U9e(t){return P9e[t]}function z9e(t){return N9e[t]}function tS(t){return{fieldPath:t.canonicalString()}}function rS(t){return Jo.fromServerFormat(t.fieldPath)}function lye(t){return t instanceof ja?function(r){if(r.op==="=="){if(Ine(r.value))return{unaryFilter:{field:tS(r.field),op:"IS_NAN"}};if(Nne(r.value))return{unaryFilter:{field:tS(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Ine(r.value))return{unaryFilter:{field:tS(r.field),op:"IS_NOT_NAN"}};if(Nne(r.value))return{unaryFilter:{field:tS(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tS(r.field),op:U9e(r.op),value:r.value}}}(t):t instanceof Mf?function(r){const n=r.getFilters().map(i=>lye(i));return n.length===1?n[0]:{compositeFilter:{op:z9e(r.op),filters:n}}}(t):Vr(54877,{filter:t})}function H9e(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function cye(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,r,n,i,s=Yr.min(),a=Yr.min(),o=al.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new J1(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new J1(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new J1(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new J1(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9e{constructor(e){this.yt=e}}function q9e(t){const e=B9e({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Oz(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9e{constructor(){this.Cn=new K9e}addToCollectionParentIndex(e,r){return this.Cn.add(r),vt.resolve()}getCollectionParents(e,r){return vt.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return vt.resolve()}deleteFieldIndex(e,r){return vt.resolve()}deleteAllFieldIndexes(e){return vt.resolve()}createTargetIndexes(e,r){return vt.resolve()}getDocumentsMatchingTarget(e,r){return vt.resolve(null)}getIndexType(e,r){return vt.resolve(0)}getFieldIndexes(e,r){return vt.resolve([])}getNextCollectionGroupToUpdate(e){return vt.resolve(null)}getMinOffset(e,r){return vt.resolve(By.min())}getMinOffsetFromCollectionGroup(e,r){return vt.resolve(By.min())}updateCollectionGroup(e,r,n){return vt.resolve()}updateIndexEntries(e,r){return vt.resolve()}}class K9e{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new uo(as.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new uo(as.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wne={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uye=41943040;class Qc{static withCacheSize(e){return new Qc(e,Qc.DEFAULT_COLLECTION_PERCENTILE,Qc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qc.DEFAULT_COLLECTION_PERCENTILE=10,Qc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qc.DEFAULT=new Qc(uye,Qc.DEFAULT_COLLECTION_PERCENTILE,Qc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qc.DISABLED=new Qc(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yT(0)}static cr(){return new yT(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qne="LruGarbageCollector",Y9e=1048576;function Gne([t,e],[r,n]){const i=Mn(t,r);return i===0?Mn(e,n):i}class X9e{constructor(e){this.Ir=e,this.buffer=new uo(Gne),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();Gne(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Z9e{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){nr(qne,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){yC(r)?nr(qne,"Ignoring IndexedDB error during garbage collection: ",r):await vC(r)}await this.Vr(3e5)})}}class Q9e{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return vt.resolve(b8.ce);const n=new X9e(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(nr("LruGarbageCollector","Garbage collection skipped; disabled"),vt.resolve(Wne)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(nr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wne):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,s,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(nr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(n=d,o=Date.now(),this.removeTargets(e,n,r))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(c=Date.now(),J2()<=Dn.DEBUG&&nr("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),vt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function J9e(t,e){return new Q9e(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eVe{constructor(){this.changes=new e2(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ol.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?vt.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tVe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rVe{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&nP(n.mutation,i,ld.empty(),Wr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Fn()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Fn()){const i=ub();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=n5();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=ub();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Fn()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=jg();const a=rP(),o=function(){return rP()}();return r.forEach((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof ux)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),nP(u.mutation,c,u.mutation.getFieldMask(),Wr.now())):a.set(c.key,ld.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>a.set(c,u)),r.forEach((c,u)=>o.set(c,new tVe(u,a.get(c)??null))),o))}recalculateAndSaveOverlays(e,r){const n=rP();let i=new Us((a,o)=>a-o),s=Fn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||ld.empty();u=o.applyToLocalView(c,u),n.set(l,u);const d=(i.get(o.batchId)||Fn()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,d=q1e();u.forEach(h=>{if(!s.has(h)){const f=Q1e(r.get(h),n.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,d))}return vt.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return Ir.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):V1e(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):vt.resolve(ub());let o=eN,l=s;return a.next(c=>vt.forEach(c,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),s.get(u)?vt.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Fn())).next(u=>({batchId:o,changes:W1e(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ir(r)).next(n=>{let i=n5();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=n5();return this.indexManager.getCollectionParents(e,s).next(o=>vt.forEach(o,l=>{const c=function(d,h){return new xC(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(u=>{u.forEach((d,h)=>{a=a.insert(d,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,Ol.newInvalidDocument(u)))});let o=n5();return a.forEach((l,c)=>{const u=s.get(l);u!==void 0&&nP(u.mutation,c,ld.empty(),Wr.now()),A8(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nVe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return vt.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:pm(i.createTime)}}(r)),vt.resolve()}getNamedQuery(e,r){return vt.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:q9e(i.bundledQuery),readTime:pm(i.readTime)}}(r)),vt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iVe{constructor(){this.overlays=new Us(Ir.comparator),this.qr=new Map}getOverlay(e,r){return vt.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ub();return vt.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.St(e,r,s)}),vt.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(n)),vt.resolve()}getOverlaysForCollection(e,r,n){const i=ub(),s=r.length+1,a=new Ir(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return vt.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Us((c,u)=>c-u);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=s.get(c.largestBatchId);u===null&&(u=ub(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=ub(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return vt.resolve(o)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new _9e(r,n));let s=this.qr.get(r);s===void 0&&(s=Fn(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sVe{constructor(){this.sessionToken=al.EMPTY_BYTE_STRING}getSessionToken(e){return vt.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,vt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(){this.Qr=new uo(Co.$r),this.Ur=new uo(Co.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Co(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Co(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new Ir(new as([])),n=new Co(r,e),i=new Co(r,e+1),s=[];return this.Ur.forEachInRange([n,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Ir(new as([])),n=new Co(r,e),i=new Co(r,e+1);let s=Fn();return this.Ur.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new Co(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Co{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Ir.comparator(e.key,r.key)||Mn(e.Yr,r.Yr)}static Kr(e,r){return Mn(e.Yr,r.Yr)||Ir.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aVe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new uo(Co.$r)}checkEmpty(e){return vt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new w9e(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new Co(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return vt.resolve(a)}lookupMutationBatch(e,r){return vt.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),s=i<0?0:i;return vt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return vt.resolve(this.mutationQueue.length===0?OY:this.tr-1)}getAllMutationBatches(e){return vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Co(r,0),i=new Co(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],a=>{const o=this.Xr(a.Yr);s.push(o)}),vt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new uo(Mn);return r.forEach(i=>{const s=new Co(i,0),a=new Co(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],o=>{n=n.add(o.Yr)})}),vt.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Ir.isDocumentKey(s)||(s=s.child(""));const a=new Co(new Ir(s),0);let o=new uo(Mn);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)},a),vt.resolve(this.ti(o))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){fi(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return vt.forEach(r.mutations,i=>{const s=new Co(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Co(r,0),i=this.Zr.firstAfterOrEqual(n);return vt.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,vt.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oVe{constructor(e){this.ri=e,this.docs=function(){return new Us(Ir.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return vt.resolve(n?n.document.mutableCopy():Ol.newInvalidDocument(r))}getEntries(e,r){let n=jg();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Ol.newInvalidDocument(i))}),vt.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=jg();const a=r.path,o=new Ir(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||j$e(F$e(u),n)<=0||(i.has(u.key)||A8(r,u))&&(s=s.insert(u.key,u.mutableCopy()))}return vt.resolve(s)}getAllFromCollectionGroup(e,r,n,i){Vr(9500)}ii(e,r){return vt.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new lVe(this)}getSize(e){return vt.resolve(this.size)}}class lVe extends eVe{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),vt.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cVe{constructor(e){this.persistence=e,this.si=new e2(r=>MY(r),FY),this.lastRemoteSnapshotVersion=Yr.min(),this.highestTargetId=0,this.oi=0,this._i=new zY,this.targetCount=0,this.ai=yT.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),vt.resolve()}getLastRemoteSnapshotVersion(e){return vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return vt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),vt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),vt.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new yT(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,vt.resolve()}updateTargetData(e,r){return this.Pr(r),vt.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,vt.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),vt.waitFor(s).next(()=>i)}getTargetCount(e){return vt.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return vt.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),vt.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),vt.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),vt.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return vt.resolve(n)}containsKey(e,r){return vt.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dye{constructor(e,r){this.ui={},this.overlays={},this.ci=new b8(0),this.li=!1,this.li=!0,this.hi=new sVe,this.referenceDelegate=e(this),this.Pi=new cVe(this),this.indexManager=new G9e,this.remoteDocumentCache=function(i){return new oVe(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new W9e(r),this.Ii=new nVe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new iVe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new aVe(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){nr("MemoryPersistence","Starting transaction:",e);const i=new uVe(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,r){return vt.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class uVe extends B$e{constructor(e){super(),this.currentSequenceNumber=e}}class HY{constructor(e){this.persistence=e,this.Ri=new zY,this.Vi=null}static mi(e){return new HY(e)}get fi(){if(this.Vi)return this.Vi;throw Vr(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),vt.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),vt.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),vt.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vt.forEach(this.fi,n=>{const i=Ir.fromPath(n);return this.gi(e,i).next(s=>{s||r.removeEntry(i,Yr.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return vt.or([()=>vt.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class sj{constructor(e,r){this.persistence=e,this.pi=new e2(n=>U$e(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=J9e(this,r)}static mi(e,r){return new sj(e,r)}Ei(){}di(e){return vt.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return vt.forEach(this.pi,(n,i)=>this.br(e,n,i).next(s=>s?vt.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,r).next(o=>{o||(n++,s.removeEntry(a,Yr.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),vt.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),vt.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),vt.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),vt.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=lM(e.data.value)),r}br(e,r,n){return vt.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return vt.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Fn(),i=Fn();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new WY(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dVe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hVe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return B6e()?8:$$e(Vl())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.ys(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new dVe;return this.Ss(e,r,a).next(o=>{if(s.result=o,this.Vs)return this.bs(e,r,a,o.size)})}).next(()=>s.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(J2()<=Dn.DEBUG&&nr("QueryEngine","SDK will not create cache indexes for query:",eS(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),vt.resolve()):(J2()<=Dn.DEBUG&&nr("QueryEngine","Query:",eS(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(J2()<=Dn.DEBUG&&nr("QueryEngine","The SDK decides to create cache indexes for query:",eS(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fm(r))):vt.resolve())}ys(e,r){if(Mne(r))return vt.resolve(null);let n=fm(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Oz(r,null,"F"),n=fm(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=Fn(...s);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.Ds(r,o);return this.Cs(r,c,a,l.readTime)?this.ys(e,Oz(r,null,"F")):this.vs(e,c,r,l)}))})))}ws(e,r,n,i){return Mne(r)||i.isEqual(Yr.min())?vt.resolve(null):this.ps.getDocuments(e,n).next(s=>{const a=this.Ds(r,s);return this.Cs(r,a,n,i)?vt.resolve(null):(J2()<=Dn.DEBUG&&nr("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),eS(r)),this.vs(e,a,r,M$e(i,eN)).next(o=>o))})}Ds(e,r){let n=new uo(z1e(e));return r.forEach((i,s)=>{A8(e,s)&&(n=n.add(s))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,r,n){return J2()<=Dn.DEBUG&&nr("QueryEngine","Using full collection scan to execute query:",eS(r)),this.ps.getDocumentsMatchingQuery(e,r,By.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY="LocalStore",fVe=3e8;class pVe{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new Us(Mn),this.xs=new e2(s=>MY(s),FY),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rVe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function mVe(t,e,r,n){return new pVe(t,e,r,n)}async function hye(t,e){const r=rn(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let l=Fn();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ls:c,removedBatchIds:a,addedBatchIds:o}))})})}function gVe(t,e){const r=rn(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const d=c.batch,h=d.keys();let f=vt.resolve();return h.forEach(g=>{f=f.next(()=>u.getEntry(l,g)).next(m=>{const v=c.docVersions.get(g);fi(v!==null,48541),m.version.compareTo(v)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Fn();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function fye(t){const e=rn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function vVe(t,e){const r=rn(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;o.push(r.Pi.removeMatchingKeys(s,u.removedDocuments,d).next(()=>r.Pi.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(al.EMPTY_BYTE_STRING,Yr.min()).withLastLimboFreeSnapshotVersion(Yr.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,n)),i=i.insert(d,f),function(m,v,x){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=fVe?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,f,u)&&o.push(r.Pi.updateTargetData(s,f))});let l=jg(),c=Fn();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(yVe(s,a,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!n.isEqual(Yr.min())){const u=r.Pi.getLastRemoteSnapshotVersion(s).next(d=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(u)}return vt.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(r.Ms=i,s))}function yVe(t,e,r){let n=Fn(),i=Fn();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=jg();return r.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Yr.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):nr(qY,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:a,qs:i}})}function xVe(t,e){const r=rn(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=OY),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function bVe(t,e){const r=rn(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(s=>s?(i=s,vt.resolve(i)):r.Pi.allocateTargetId(n).next(a=>(i=new J1(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function jz(t,e,r){const n=rn(t),i=n.Ms.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!yC(a))throw a;nr(qY,`Failed to update sequence numbers for target ${e}: ${a}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function Kne(t,e,r){const n=rn(t);let i=Yr.min(),s=Fn();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,u){const d=rn(l),h=d.xs.get(u);return h!==void 0?vt.resolve(d.Ms.get(h)):d.Pi.getTargetData(c,u)}(n,a,fm(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(a,e,r?i:Yr.min(),r?s:Fn())).next(o=>(wVe(n,a9e(e),o),{documents:o,Qs:s})))}function wVe(t,e,r){let n=t.Os.get(e)||Yr.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.Os.set(e,n)}class Yne{constructor(){this.activeTargetIds=h9e()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _Ve{constructor(){this.Mo=new Yne,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Yne,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SVe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xne="ConnectivityMonitor";class Zne{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nr(Xne,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){nr(Xne,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P3=null;function Lz(){return P3===null?P3=function(){return 268435456+Math.round(2147483648*Math.random())}():P3++,"0x"+P3.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$="RestConnection",AVe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EVe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===JF?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,s){const a=Lz(),o=this.zo(e,r.toUriEncodedString());nr(V$,`Sending RPC '${e}' ${a}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(o),u=fC(c);return this.Jo(e,o,l,n,u).then(d=>(nr(V$,`Received RPC '${e}' ${a}: `,d),d),d=>{throw pT(V$,`RPC '${e}' ${a} failed with error: `,d,"url: ",o,"request:",n),d})}Ho(e,r,n,i,s,a){return this.Go(e,r,n,i,s)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gC}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>e[s]=i),n&&n.headers.forEach((i,s)=>e[s]=i)}zo(e,r){const n=AVe[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TVe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="WebChannelConnection";class CVe extends EVe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,s){const a=Lz();return new Promise((o,l)=>{const c=new m1e;c.setWithCredentials(!0),c.listenOnce(g1e.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case oM.NO_ERROR:const d=c.getResponseJson();nr(hl,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),o(d);break;case oM.TIMEOUT:nr(hl,`RPC '${e}' ${a} timed out`),l(new Zt(ht.DEADLINE_EXCEEDED,"Request time out"));break;case oM.HTTP_ERROR:const h=c.getStatus();if(nr(hl,`RPC '${e}' ${a} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const m=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(w)>=0?w:ht.UNKNOWN}(g.status);l(new Zt(m,g.message))}else l(new Zt(ht.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Zt(ht.UNAVAILABLE,"Connection failed."));break;default:Vr(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{nr(hl,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);nr(hl,`RPC '${e}' ${a} sending request:`,i),c.send(r,"POST",u,n,15)})}T_(e,r,n){const i=Lz(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=x1e(),o=y1e(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=s.join("");nr(hl,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=a.createWebChannel(u,l);this.I_(d);let h=!1,f=!1;const g=new TVe({Yo:v=>{f?nr(hl,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(nr(hl,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),nr(hl,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},Zo:()=>d.close()}),m=(v,x,w)=>{v.listen(x,b=>{try{w(b)}catch(_){setTimeout(()=>{throw _},0)}})};return m(d,r5.EventType.OPEN,()=>{f||(nr(hl,`RPC '${e}' stream ${i} transport opened.`),g.o_())}),m(d,r5.EventType.CLOSE,()=>{f||(f=!0,nr(hl,`RPC '${e}' stream ${i} transport closed`),g.a_(),this.E_(d))}),m(d,r5.EventType.ERROR,v=>{f||(f=!0,pT(hl,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),g.a_(new Zt(ht.UNAVAILABLE,"The operation could not be completed")))}),m(d,r5.EventType.MESSAGE,v=>{var x;if(!f){const w=v.data[0];fi(!!w,16349);const b=w,_=(b==null?void 0:b.error)||((x=b[0])==null?void 0:x.error);if(_){nr(hl,`RPC '${e}' stream ${i} received error:`,_);const S=_.status;let T=function(N){const F=Na[N];if(F!==void 0)return eye(F)}(S),E=_.message;T===void 0&&(T=ht.INTERNAL,E="Unknown error status: "+S+" with message "+_.message),f=!0,g.a_(new Zt(T,E)),d.close()}else nr(hl,`RPC '${e}' stream ${i} received:`,w),g.u_(w)}}),m(o,v1e.STAT_EVENT,v=>{v.stat===Ez.PROXY?nr(hl,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Ez.NOPROXY&&nr(hl,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function U$(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(t){return new I9e(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pye{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&nr("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qne="PersistentStream";class mye{constructor(e,r,n,i,s,a,o,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pye(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===ht.RESOURCE_EXHAUSTED?(Fg(r.toString()),Fg("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new Zt(ht.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return nr(Qne,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(nr(Qne,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kVe extends mye{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=D9e(this.serializer,e),n=function(s){if(!("targetChange"in s))return Yr.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Yr.min():a.readTime?pm(a.readTime):Yr.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=Fz(this.serializer),r.addTarget=function(s,a){let o;const l=a.target;if(o=Nz(l)?{documents:j9e(s,l)}:{query:L9e(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=nye(s,a.resumeToken);const c=Rz(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Yr.min())>0){o.readTime=ij(s,a.snapshotVersion.toTimestamp());const c=Rz(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const n=$9e(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=Fz(this.serializer),r.removeTarget=e,this.q_(r)}}class PVe extends mye{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return fi(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,fi(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){fi(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=F9e(e.writeResults,e.commitTime),n=pm(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=Fz(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>M9e(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NVe{}class IVe extends NVe{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Zt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,Dz(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Zt(ht.UNKNOWN,s.toString())})}Ho(e,r,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,Dz(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Zt(ht.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class OVe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fg(r),this.aa=!1):nr("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="RemoteStore";class RVe{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{n.enqueueAndForget(async()=>{t2(this)&&(nr(g_,"Restarting streams for network reachability change."),await async function(l){const c=rn(l);c.Ea.add(4),await zO(c),c.Ra.set("Unknown"),c.Ea.delete(4),await P8(c)}(this))})}),this.Ra=new OVe(n,i)}}async function P8(t){if(t2(t))for(const e of t.da)await e(!0)}async function zO(t){for(const e of t.da)await e(!1)}function gye(t,e){const r=rn(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),XY(r)?YY(r):bC(r).O_()&&KY(r,e))}function GY(t,e){const r=rn(t),n=bC(r);r.Ia.delete(e),n.O_()&&vye(r,e),r.Ia.size===0&&(n.O_()?n.L_():t2(r)&&r.Ra.set("Unknown"))}function KY(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Yr.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}bC(t).Y_(e)}function vye(t,e){t.Va.Ue(e),bC(t).Z_(e)}function YY(t){t.Va=new C9e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),bC(t).start(),t.Ra.ua()}function XY(t){return t2(t)&&!bC(t).x_()&&t.Ia.size>0}function t2(t){return rn(t).Ea.size===0}function yye(t){t.Va=void 0}async function DVe(t){t.Ra.set("Online")}async function MVe(t){t.Ia.forEach((e,r)=>{KY(t,e)})}async function FVe(t,e){yye(t),XY(t)?(t.Ra.ha(e),YY(t)):t.Ra.set("Unknown")}async function jVe(t,e,r){if(t.Ra.set("Online"),e instanceof rye&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(n){nr(g_,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await aj(t,n)}else if(e instanceof dM?t.Va.Ze(e):e instanceof tye?t.Va.st(e):t.Va.tt(e),!r.isEqual(Yr.min()))try{const n=await fye(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ia.get(c);u&&s.Ia.set(c,u.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const u=s.Ia.get(l);if(!u)return;s.Ia.set(l,u.withResumeToken(al.EMPTY_BYTE_STRING,u.snapshotVersion)),vye(s,l);const d=new J1(u.target,l,c,u.sequenceNumber);KY(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){nr(g_,"Failed to raise snapshot:",n),await aj(t,n)}}async function aj(t,e,r){if(!yC(e))throw e;t.Ea.add(1),await zO(t),t.Ra.set("Offline"),r||(r=()=>fye(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{nr(g_,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await P8(t)})}function xye(t,e){return e().catch(r=>aj(t,r,e))}async function N8(t){const e=rn(t),r=zy(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:OY;for(;LVe(e);)try{const i=await xVe(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,BVe(e,i)}catch(i){await aj(e,i)}bye(e)&&wye(e)}function LVe(t){return t2(t)&&t.Ta.length<10}function BVe(t,e){t.Ta.push(e);const r=zy(t);r.O_()&&r.X_&&r.ea(e.mutations)}function bye(t){return t2(t)&&!zy(t).x_()&&t.Ta.length>0}function wye(t){zy(t).start()}async function $Ve(t){zy(t).ra()}async function VVe(t){const e=zy(t);for(const r of t.Ta)e.ea(r.mutations)}async function UVe(t,e,r){const n=t.Ta.shift(),i=$Y.from(n,e,r);await xye(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await N8(t)}async function zVe(t,e){e&&zy(t).X_&&await async function(n,i){if(function(a){return A9e(a)&&a!==ht.ABORTED}(i.code)){const s=n.Ta.shift();zy(n).B_(),await xye(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await N8(n)}}(t,e),bye(t)&&wye(t)}async function Jne(t,e){const r=rn(t);r.asyncQueue.verifyOperationInProgress(),nr(g_,"RemoteStore received new credentials");const n=t2(r);r.Ea.add(3),await zO(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await P8(r)}async function HVe(t,e){const r=rn(t);e?(r.Ea.delete(2),await P8(r)):e||(r.Ea.add(2),await zO(r),r.Ra.set("Unknown"))}function bC(t){return t.ma||(t.ma=function(r,n,i){const s=rn(r);return s.sa(),new kVe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:DVe.bind(null,t),t_:MVe.bind(null,t),r_:FVe.bind(null,t),H_:jVe.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),XY(t)?YY(t):t.Ra.set("Unknown")):(await t.ma.stop(),yye(t))})),t.ma}function zy(t){return t.fa||(t.fa=function(r,n,i){const s=rn(r);return s.sa(),new PVe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:$Ve.bind(null,t),r_:zVe.bind(null,t),ta:VVe.bind(null,t),na:UVe.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await N8(t)):(await t.fa.stop(),t.Ta.length>0&&(nr(g_,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZY{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new mg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new ZY(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Zt(ht.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function QY(t,e){if(Fg("AsyncQueue",`${e}: ${t}`),yC(t))return new Zt(ht.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{static emptySet(e){return new ZS(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ir.comparator(r.key,n.key):(r,n)=>Ir.comparator(r.key,n.key),this.keyedMap=n5(),this.sortedSet=new Us(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof ZS)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new ZS;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eie{constructor(){this.ga=new Us(Ir.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Vr(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class xT{constructor(e,r,n,i,s,a,o,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new xT(e,r,ZS.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&S8(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WVe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class qVe{constructor(){this.queries=tie(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=rn(r),s=i.queries;i.queries=tie(),s.forEach((a,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new Zt(ht.ABORTED,"Firestore shutting down"))}}function tie(){return new e2(t=>U1e(t),S8)}async function _ye(t,e){const r=rn(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.ba()&&e.Da()&&(n=2):(s=new WVe,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(i,!0);break;case 1:s.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=QY(a,`Initialization of query '${eS(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.Sa.push(e),e.va(r.onlineState),s.wa&&e.Fa(s.wa)&&JY(r)}async function Sye(t,e){const r=rn(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function GVe(t,e){const r=rn(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(n=!0);a.wa=i}}n&&JY(r)}function KVe(t,e,r){const n=rn(t),i=n.queries.get(e);if(i)for(const s of i.Sa)s.onError(r);n.queries.delete(e)}function JY(t){t.Ca.forEach(e=>{e.next()})}var Bz,rie;(rie=Bz||(Bz={})).Ma="default",rie.Cache="cache";class Aye{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new xT(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=xT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bz.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eye{constructor(e){this.key=e}}class Tye{constructor(e){this.key=e}}class YVe{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fn(),this.mutatedKeys=Fn(),this.eu=z1e(e),this.tu=new ZS(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new eie,i=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=A8(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?g!==m&&(n.track({type:3,doc:f}),v=!0):this.su(h,f)||(n.track({type:2,doc:f}),v=!0,(l&&this.eu(f,l)>0||c&&this.eu(f,c)<0)&&(o=!0)):!h&&f?(n.track({type:0,doc:f}),v=!0):h&&!f&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(f?(a=a.add(f),s=m?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),n.track({type:1,doc:u})}return{tu:a,iu:n,Cs:o,mutatedKeys:s}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((u,d)=>function(f,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vr(20277,{Rt:v})}};return m(f)-m(g)}(u.type,d.type)||this.eu(u.doc,d.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new xT(this.query,e.tu,s,a,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eie,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fn(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new Tye(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new Eye(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Fn();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return xT.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const eX="SyncEngine";class XVe{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class ZVe{constructor(e){this.key=e,this.hu=!1}}class QVe{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new e2(o=>U1e(o),S8),this.Iu=new Map,this.Eu=new Set,this.du=new Us(Ir.comparator),this.Au=new Map,this.Ru=new zY,this.Vu={},this.mu=new Map,this.fu=yT.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JVe(t,e,r=!0){const n=Oye(t);let i;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Cye(n,e,r,!0),i}async function eUe(t,e){const r=Oye(t);await Cye(r,e,!0,!1)}async function Cye(t,e,r,n){const i=await bVe(t.localStore,fm(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await tUe(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&gye(t.remoteStore,i),o}async function tUe(t,e,r,n,i){t.pu=(d,h,f)=>async function(m,v,x,w){let b=v.view.ru(x);b.Cs&&(b=await Kne(m.localStore,v.query,!1).then(({documents:E})=>v.view.ru(E,b)));const _=w&&w.targetChanges.get(v.targetId),S=w&&w.targetMismatches.get(v.targetId)!=null,T=v.view.applyChanges(b,m.isPrimaryClient,_,S);return iie(m,v.targetId,T.au),T.snapshot}(t,d,h,f);const s=await Kne(t.localStore,e,!0),a=new YVe(e,s.Qs),o=a.ru(s.documents),l=UO.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);iie(t,r,c.au);const u=new XVe(e,r,a);return t.Tu.set(e,u),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),c.snapshot}async function rUe(t,e,r){const n=rn(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter(a=>!S8(a,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await jz(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&GY(n.remoteStore,i.targetId),$z(n,i.targetId)}).catch(vC)):($z(n,i.targetId),await jz(n.localStore,i.targetId,!0))}async function nUe(t,e){const r=rn(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),GY(r.remoteStore,n.targetId))}async function iUe(t,e,r){const n=dUe(t);try{const i=await function(a,o){const l=rn(a),c=Wr.now(),u=o.reduce((f,g)=>f.add(g.key),Fn());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=jg(),m=Fn();return l.Ns.getEntries(f,u).next(v=>{g=v,g.forEach((x,w)=>{w.isValidDocument()||(m=m.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,g)).next(v=>{d=v;const x=[];for(const w of o){const b=x9e(w,d.get(w.key).overlayedDocument);b!=null&&x.push(new ux(w.key,b,D1e(b.value.mapValue),gh.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,x,o)}).next(v=>{h=v;const x=v.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(f,v.batchId,x)})}).then(()=>({batchId:h.batchId,changes:W1e(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new Us(Mn)),c=c.insert(o,l),a.Vu[a.currentUser.toKey()]=c}(n,i.batchId,r),await HO(n,i.changes),await N8(n.remoteStore)}catch(i){const s=QY(i,"Failed to persist write");r.reject(s)}}async function kye(t,e){const r=rn(t);try{const n=await vVe(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Au.get(s);a&&(fi(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?fi(a.hu,14607):i.removedDocuments.size>0&&(fi(a.hu,42227),a.hu=!1))}),await HO(r,n,e)}catch(n){await vC(n)}}function nie(t,e,r){const n=rn(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=rn(a);l.onlineState=o;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Sa)h.va(o)&&(c=!0)}),c&&JY(l)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function sUe(t,e,r){const n=rn(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),s=i&&i.key;if(s){let a=new Us(Ir.comparator);a=a.insert(s,Ol.newNoDocument(s,Yr.min()));const o=Fn().add(s),l=new C8(Yr.min(),new Map,new Us(Mn),a,o);await kye(n,l),n.du=n.du.remove(s),n.Au.delete(e),tX(n)}else await jz(n.localStore,e,!1).then(()=>$z(n,e,r)).catch(vC)}async function aUe(t,e){const r=rn(t),n=e.batch.batchId;try{const i=await gVe(r.localStore,e);Nye(r,n,null),Pye(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await HO(r,i)}catch(i){await vC(i)}}async function oUe(t,e,r){const n=rn(t);try{const i=await function(a,o){const l=rn(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(fi(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,e);Nye(n,e,r),Pye(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await HO(n,i)}catch(i){await vC(i)}}function Pye(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function Nye(t,e,r){const n=rn(t);let i=n.Vu[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function $z(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||Iye(t,n)})}function Iye(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(GY(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),tX(t))}function iie(t,e,r){for(const n of r)n instanceof Eye?(t.Ru.addReference(n.key,e),lUe(t,n)):n instanceof Tye?(nr(eX,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||Iye(t,n.key)):Vr(19791,{wu:n})}function lUe(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(nr(eX,"New document in limbo: "+r),t.Eu.add(n),tX(t))}function tX(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Ir(as.fromString(e)),n=t.fu.next();t.Au.set(n,new ZVe(r)),t.du=t.du.insert(r,n),gye(t.remoteStore,new J1(fm(jY(r.path)),n,"TargetPurposeLimboResolution",b8.ce))}}async function HO(t,e,r){const n=rn(t),i=[],s=[],a=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{a.push(n.pu(l,e,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const d=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=WY.As(l.targetId,c);s.push(d)}}))}),await Promise.all(a),n.Pu.H_(i),await async function(l,c){const u=rn(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>vt.forEach(c,h=>vt.forEach(h.Es,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>vt.forEach(h.ds,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!yC(d))throw d;nr(qY,"Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.Ms.get(h),g=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(g);u.Ms=u.Ms.insert(h,m)}}}(n.localStore,s))}async function cUe(t,e){const r=rn(t);if(!r.currentUser.isEqual(e)){nr(eX,"User change. New user:",e.toKey());const n=await hye(r.localStore,e);r.currentUser=e,function(s,a){s.mu.forEach(o=>{o.forEach(l=>{l.reject(new Zt(ht.CANCELLED,a))})}),s.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await HO(r,n.Ls)}}function uUe(t,e){const r=rn(t),n=r.Au.get(e);if(n&&n.hu)return Fn().add(n.key);{let i=Fn();const s=r.Iu.get(e);if(!s)return i;for(const a of s){const o=r.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function Oye(t){const e=rn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kye.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uUe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sUe.bind(null,e),e.Pu.H_=GVe.bind(null,e.eventManager),e.Pu.yu=KVe.bind(null,e.eventManager),e}function dUe(t){const e=rn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aUe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oUe.bind(null,e),e}class oj{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=k8(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return mVe(this.persistence,new hVe,e.initialUser,this.serializer)}Cu(e){return new dye(HY.mi,this.serializer)}Du(e){return new _Ve}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oj.provider={build:()=>new oj};class hUe extends oj{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){fi(this.persistence.referenceDelegate instanceof sj,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Z9e(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Qc.withCacheSize(this.cacheSizeBytes):Qc.DEFAULT;return new dye(n=>sj.mi(n,r),this.serializer)}}class Vz{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>nie(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=cUe.bind(null,this.syncEngine),await HVe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qVe}()}createDatastore(e){const r=k8(e.databaseInfo.databaseId),n=function(s){return new CVe(s)}(e.databaseInfo);return function(s,a,o,l){return new IVe(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new RVe(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>nie(this.syncEngine,r,0),function(){return Zne.v()?new Zne:new SVe}())}createSyncEngine(e,r){return function(i,s,a,o,l,c,u){const d=new QVe(i,s,a,o,l,c);return u&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=rn(i);nr(g_,"RemoteStore shutting down."),s.Ea.add(5),await zO(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}Vz.provider={build:()=>new Vz};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rye{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fg("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="FirestoreClient";class fUe{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=kl.UNAUTHENTICATED,this.clientId=IY.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{nr(Hy,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(nr(Hy,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=QY(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function z$(t,e){t.asyncQueue.verifyOperationInProgress(),nr(Hy,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await hye(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sie(t,e){t.asyncQueue.verifyOperationInProgress();const r=await pUe(t);nr(Hy,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Jne(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>Jne(e.remoteStore,i)),t._onlineComponents=e}async function pUe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){nr(Hy,"Using user provided OfflineComponentProvider");try{await z$(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ht.FAILED_PRECONDITION||i.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;pT("Error using user provided cache. Falling back to memory cache: "+r),await z$(t,new oj)}}else nr(Hy,"Using default OfflineComponentProvider"),await z$(t,new hUe(void 0));return t._offlineComponents}async function Dye(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(nr(Hy,"Using user provided OnlineComponentProvider"),await sie(t,t._uninitializedComponentsProvider._online)):(nr(Hy,"Using default OnlineComponentProvider"),await sie(t,new Vz))),t._onlineComponents}function mUe(t){return Dye(t).then(e=>e.syncEngine)}async function Mye(t){const e=await Dye(t),r=e.eventManager;return r.onListen=JVe.bind(null,e.syncEngine),r.onUnlisten=rUe.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=eUe.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=nUe.bind(null,e.syncEngine),r}function gUe(t,e,r={}){const n=new mg;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new Rye({next:h=>{u.Nu(),a.enqueueAndForget(()=>Sye(s,d));const f=h.docs.has(o);!f&&h.fromCache?c.reject(new Zt(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?c.reject(new Zt(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Aye(jY(o.path),u,{includeMetadataChanges:!0,qa:!0});return _ye(s,d)}(await Mye(t),t.asyncQueue,e,r,n)),n.promise}function vUe(t,e,r={}){const n=new mg;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new Rye({next:h=>{u.Nu(),a.enqueueAndForget(()=>Sye(s,d)),h.fromCache&&l.source==="server"?c.reject(new Zt(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Aye(o,u,{includeMetadataChanges:!0,qa:!0});return _ye(s,d)}(await Mye(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fye(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aie=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jye="firestore.googleapis.com",oie=!0;class lie{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Zt(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jye,this.ssl=oie}else this.host=e.host,this.ssl=e.ssl??oie;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uye;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Y9e)throw new Zt(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D$e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fye(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Zt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Zt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Zt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class I8{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lie({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Zt(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Zt(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lie(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new A$e;switch(n.type){case"firstParty":return new k$e(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Zt(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=aie.get(r);n&&(nr("ComponentProvider","Removing Datastore"),aie.delete(r),n.terminate())}(this),Promise.resolve()}}function yUe(t,e,r,n={}){var c;t=Df(t,I8);const i=fC(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${r}`;i&&(Ave(`https://${o}`),Eve("Firestore",!0)),s.host!==jye&&s.host!==o&&pT("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:n};if(!Ly(l,a)&&(t._setSettings(l),n.mockUserToken)){let u,d;if(typeof n.mockUserToken=="string")u=n.mockUserToken,d=kl.MOCK_USER;else{u=I6e(n.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Zt(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new kl(h)}t._authCredentials=new E$e(new w1e(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new r2(this.firestore,e,this._query)}}class ba{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sy(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ba(this.firestore,e,this._key)}toJSON(){return{type:ba._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if($O(r,ba._jsonSchema))return new ba(e,n||null,new Ir(as.fromString(r.referencePath)))}}ba._jsonSchemaVersion="firestore/documentReference/1.0",ba._jsonSchema={type:Ba("string",ba._jsonSchemaVersion),referencePath:Ba("string")};class Sy extends r2{constructor(e,r,n){super(e,r,jY(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ba(this.firestore,null,new Ir(e))}withConverter(e){return new Sy(this.firestore,e,this._path)}}function pi(t,e,...r){if(t=aa(t),_1e("collection","path",e),t instanceof I8){const n=as.fromString(e,...r);return wne(n),new Sy(t,null,n)}{if(!(t instanceof ba||t instanceof Sy))throw new Zt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(as.fromString(e,...r));return wne(n),new Sy(t.firestore,null,n)}}function ri(t,e,...r){if(t=aa(t),arguments.length===1&&(e=IY.newId()),_1e("doc","path",e),t instanceof I8){const n=as.fromString(e,...r);return bne(n),new ba(t,null,new Ir(n))}{if(!(t instanceof ba||t instanceof Sy))throw new Zt(ht.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(as.fromString(e,...r));return bne(n),new ba(t.firestore,t instanceof Sy?t.converter:null,new Ir(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cie="AsyncQueue";class uie{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pye(this,"async_queue_retry"),this._c=()=>{const n=U$();n&&nr(cie,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=U$();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=U$();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new mg;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yC(e))throw e;nr(cie,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Fg("INTERNAL UNHANDLED ERROR: ",die(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=ZY.createAndSchedule(this,e,r,n,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Vr(47125,{Pc:die(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function die(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class n2 extends I8{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new uie,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uie(e),this._firestoreClient=void 0,await e}}}function xUe(t,e){const r=typeof t=="object"?t:xY(),n=typeof t=="string"?t:JF,i=J_(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=P6e("firestore");s&&yUe(i,...s)}return i}function rX(t){if(t._terminated)throw new Zt(ht.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||bUe(t),t._firestoreClient}function bUe(t){var n,i,s;const e=t._freezeSettings(),r=function(o,l,c,u){return new W$e(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Fye(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new fUe(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lh(al.fromBase64String(e))}catch(r){throw new Zt(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new lh(al.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:lh._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($O(e,lh._jsonSchema))return lh.fromBase64String(e.bytes)}}lh._jsonSchemaVersion="firestore/bytes/1.0",lh._jsonSchema={type:Ba("string",lh._jsonSchemaVersion),bytes:Ba("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Zt(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Zt(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Zt(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mn(this._lat,e._lat)||Mn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mm._jsonSchemaVersion}}static fromJSON(e){if($O(e,mm._jsonSchema))return new mm(e.latitude,e.longitude)}}mm._jsonSchemaVersion="firestore/geoPoint/1.0",mm._jsonSchema={type:Ba("string",mm._jsonSchemaVersion),latitude:Ba("number"),longitude:Ba("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:gm._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($O(e,gm._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new gm(e.vectorValues);throw new Zt(ht.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gm._jsonSchemaVersion="firestore/vectorValue/1.0",gm._jsonSchema={type:Ba("string",gm._jsonSchemaVersion),vectorValues:Ba("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wUe=/^__.*__$/;class _Ue{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new ux(e,this.data,this.fieldMask,r,this.fieldTransforms):new VO(e,this.data,r,this.fieldTransforms)}}class Lye{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new ux(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Bye(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vr(40011,{Ac:t})}}class iX{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new iX({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lj(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Bye(this.Ac)&&wUe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class SUe{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||k8(e)}Cc(e,r,n,i=!1){return new iX({Ac:e,methodName:r,Dc:n,path:Jo.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R8(t){const e=t._freezeSettings(),r=k8(t._databaseId);return new SUe(t._databaseId,!!e.ignoreUndefinedProperties,r)}function $ye(t,e,r,n,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,r,i);sX("Data must be an object, but it was:",a,n);const o=Vye(n,a);let l,c;if(s.merge)l=new ld(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=Uz(e,d,r);if(!a.contains(h))throw new Zt(ht.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);zye(u,h)||u.push(h)}l=new ld(u),c=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=a.fieldTransforms;return new _Ue(new eu(o),l,c)}class D8 extends nX{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof D8}}function AUe(t,e,r,n){const i=t.Cc(1,e,r);sX("Data must be an object, but it was:",i,n);const s=[],a=eu.empty();cx(n,(l,c)=>{const u=aX(e,l,r);c=aa(c);const d=i.yc(u);if(c instanceof D8)s.push(u);else{const h=WO(c,d);h!=null&&(s.push(u),a.set(u,h))}});const o=new ld(s);return new Lye(a,o,i.fieldTransforms)}function EUe(t,e,r,n,i,s){const a=t.Cc(1,e,r),o=[Uz(e,n,r)],l=[i];if(s.length%2!=0)throw new Zt(ht.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(Uz(e,s[h])),l.push(s[h+1]);const c=[],u=eu.empty();for(let h=o.length-1;h>=0;--h)if(!zye(c,o[h])){const f=o[h];let g=l[h];g=aa(g);const m=a.yc(f);if(g instanceof D8)c.push(f);else{const v=WO(g,m);v!=null&&(c.push(f),u.set(f,v))}}const d=new ld(c);return new Lye(u,d,a.fieldTransforms)}function TUe(t,e,r,n=!1){return WO(r,t.Cc(n?4:3,e))}function WO(t,e){if(Uye(t=aa(t)))return sX("Unsupported field value:",e,t),Vye(t,e);if(t instanceof nX)return function(n,i){if(!Bye(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let l=WO(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=aa(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return f9e(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Wr.fromDate(n);return{timestampValue:ij(i.serializer,s)}}if(n instanceof Wr){const s=new Wr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ij(i.serializer,s)}}if(n instanceof mm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof lh)return{bytesValue:nye(i.serializer,n._byteString)};if(n instanceof ba){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:UY(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof gm)return function(a,o){return{mapValue:{fields:{[I1e]:{stringValue:R1e},[ej]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return LY(o.serializer,c)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${x8(n)}`)}(t,e)}function Vye(t,e){const r={};return E1e(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cx(t,(n,i)=>{const s=WO(i,e.mc(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function Uye(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wr||t instanceof mm||t instanceof lh||t instanceof ba||t instanceof nX||t instanceof gm)}function sX(t,e,r){if(!Uye(r)||!S1e(r)){const n=x8(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function Uz(t,e,r){if((e=aa(e))instanceof O8)return e._internalPath;if(typeof e=="string")return aX(t,e);throw lj("Field path arguments must be of type string or ",t,!1,void 0,r)}const CUe=new RegExp("[~\\*/\\[\\]]");function aX(t,e,r){if(e.search(CUe)>=0)throw lj(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new O8(...e.split("."))._internalPath}catch{throw lj(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function lj(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new Zt(ht.INVALID_ARGUMENT,o+t+l)}function zye(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hye{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ba(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kUe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(M8("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class kUe extends Hye{data(){return super.data()}}function M8(t,e){return typeof e=="string"?aX(t,e):e instanceof O8?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PUe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Zt(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oX{}class Wye extends oX{}function kc(t,e,...r){let n=[];e instanceof oX&&n.push(e),n=n.concat(r),function(s){const a=s.filter(l=>l instanceof lX).length,o=s.filter(l=>l instanceof F8).length;if(a>1||a>0&&o>0)throw new Zt(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class F8 extends Wye{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new F8(e,r,n)}_apply(e){const r=this._parse(e);return qye(e._query,r),new r2(e.firestore,e.converter,Iz(e._query,r))}_parse(e){const r=R8(e.firestore);return function(s,a,o,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Zt(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){fie(d,u);const g=[];for(const m of d)g.push(hie(l,s,m));h={arrayValue:{values:g}}}else h=hie(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||fie(d,u),h=TUe(o,a,d,u==="in"||u==="not-in");return ja.create(c,u,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function oN(t,e,r){const n=e,i=M8("where",t);return F8._create(i,n,r)}class lX extends oX{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new lX(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Mf.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)qye(a,l),a=Iz(a,l)}(e._query,r),new r2(e.firestore,e.converter,Iz(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cX extends Wye{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new cX(e,r)}_apply(e){const r=function(i,s,a){if(i.startAt!==null)throw new Zt(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Zt(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iN(s,a)}(e._query,this._field,this._direction);return new r2(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new xC(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function zf(t,e="asc"){const r=e,n=M8("orderBy",t);return cX._create(n,r)}function hie(t,e,r){if(typeof(r=aa(r))=="string"){if(r==="")throw new Zt(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V1e(e)&&r.indexOf("/")!==-1)throw new Zt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(as.fromString(r));if(!Ir.isDocumentKey(n))throw new Zt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Pne(t,new Ir(n))}if(r instanceof ba)return Pne(t,r._key);throw new Zt(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${x8(r)}.`)}function fie(t,e){if(!Array.isArray(t)||t.length===0)throw new Zt(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qye(t,e){const r=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Zt(ht.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Zt(ht.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class NUe{convertValue(e,r="none"){switch(Uy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ma(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Vy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Vr(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return cx(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)==null?void 0:n[ej].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>ma(a.doubleValue));return new gm(r)}convertGeoPoint(e){return new mm(ma(e.latitude),ma(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=_8(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(tN(e));default:return null}}convertTimestamp(e){const r=$y(e);return new Wr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=as.fromString(e);fi(cye(n),9688,{name:e});const i=new rN(n.get(1),n.get(3)),s=new Ir(n.popFirst(5));return i.isEqual(r)||Fg(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gye(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class s5{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kw extends Hye{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new hM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(M8("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Zt(ht.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Kw._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Kw._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kw._jsonSchema={type:Ba("string",Kw._jsonSchemaVersion),bundleSource:Ba("string","DocumentSnapshot"),bundleName:Ba("string"),bundle:Ba("string")};class hM extends Kw{data(e={}){return super.data(e)}}class QS{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new s5(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new hM(this._firestore,this._userDataWriter,n.key,n,new s5(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Zt(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new hM(i._firestore,i._userDataWriter,o.doc.key,o.doc,new s5(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new hM(i._firestore,i._userDataWriter,o.doc.key,o.doc,new s5(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:IUe(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Zt(ht.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=QS._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=IY.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function IUe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vr(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kye(t){t=Df(t,ba);const e=Df(t.firestore,n2);return gUe(rX(e),t._key).then(r=>OUe(e,t,r))}QS._jsonSchemaVersion="firestore/querySnapshot/1.0",QS._jsonSchema={type:Ba("string",QS._jsonSchemaVersion),bundleSource:Ba("string","QuerySnapshot"),bundleName:Ba("string"),bundle:Ba("string")};class Yye extends NUe{constructor(e){super(),this.firestore=e}convertBytes(e){return new lh(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ba(this.firestore,null,r)}}function fo(t){t=Df(t,r2);const e=Df(t.firestore,n2),r=rX(e),n=new Yye(e);return PUe(t._query),vUe(r,t._query).then(i=>new QS(e,n,t,i))}function f0(t,e,r){t=Df(t,ba);const n=Df(t.firestore,n2),i=Gye(t.converter,e,r);return j8(n,[$ye(R8(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,gh.none())])}function Ac(t,e,r,...n){t=Df(t,ba);const i=Df(t.firestore,n2),s=R8(i);let a;return a=typeof(e=aa(e))=="string"||e instanceof O8?EUe(s,"updateDoc",t._key,e,r,n):AUe(s,"updateDoc",t._key,e),j8(i,[a.toMutation(t._key,gh.exists(!0))])}function i2(t){return j8(Df(t.firestore,n2),[new BY(t._key,gh.none())])}function Hf(t,e){const r=Df(t.firestore,n2),n=ri(t),i=Gye(t.converter,e);return j8(r,[$ye(R8(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,gh.exists(!1))]).then(()=>n)}function j8(t,e){return function(n,i){const s=new mg;return n.asyncQueue.enqueueAndForget(async()=>iUe(await mUe(n),i,s)),s.promise}(rX(t),e)}function OUe(t,e,r){const n=r.docs.get(e._key),i=new Yye(t);return new Kw(t,i,e._key,n,new s5(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){gC=i})(pC),Am(new Rf("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new n2(new T$e(n.getProvider("auth-internal")),new P$e(a,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Zt(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rN(c.options.projectId,u)}(a,i),a);return s={useFetchStreams:r,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),mh(gne,vne,e),mh(gne,vne,"esm2020")})();var RUe="firebase",DUe="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mh(RUe,DUe,"app");const Xye="@firebase/installations",uX="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zye=1e4,Qye=`w:${uX}`,Jye="FIS_v2",MUe="https://firebaseinstallations.googleapis.com/v1",FUe=60*60*1e3,jUe="installations",LUe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BUe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},v_=new Q_(jUe,LUe,BUe);function exe(t){return t instanceof Uf&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function txe({projectId:t}){return`${MUe}/projects/${t}/installations`}function rxe(t){return{token:t.token,requestStatus:2,expiresIn:VUe(t.expiresIn),creationTime:Date.now()}}async function nxe(t,e){const n=(await e.json()).error;return v_.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ixe({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $Ue(t,{refreshToken:e}){const r=ixe(t);return r.append("Authorization",UUe(e)),r}async function sxe(t){const e=await t();return e.status>=500&&e.status<600?t():e}function VUe(t){return Number(t.replace("s","000"))}function UUe(t){return`${Jye} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zUe({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=txe(t),i=ixe(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={fid:r,authVersion:Jye,appId:t.appId,sdkVersion:Qye},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await sxe(()=>fetch(n,o));if(l.ok){const c=await l.json();return{fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:rxe(c.authToken)}}else throw await nxe("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function axe(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HUe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WUe=/^[cdef][\w-]{21}$/,zz="";function qUe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=GUe(t);return WUe.test(r)?r:zz}catch{return zz}}function GUe(t){return HUe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oxe=new Map;function lxe(t,e){const r=L8(t);cxe(r,e),KUe(r,e)}function cxe(t,e){const r=oxe.get(t);if(r)for(const n of r)n(e)}function KUe(t,e){const r=YUe();r&&r.postMessage({key:t,fid:e}),XUe()}let db=null;function YUe(){return!db&&"BroadcastChannel"in self&&(db=new BroadcastChannel("[Firebase] FID Change"),db.onmessage=t=>{cxe(t.data.key,t.data.fid)}),db}function XUe(){oxe.size===0&&db&&(db.close(),db=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZUe="firebase-installations-database",QUe=1,y_="firebase-installations-store";let H$=null;function dX(){return H$||(H$=Ive(ZUe,QUe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(y_)}}})),H$}async function cj(t,e){const r=L8(t),i=(await dX()).transaction(y_,"readwrite"),s=i.objectStore(y_),a=await s.get(r);return await s.put(e,r),await i.done,(!a||a.fid!==e.fid)&&lxe(t,e.fid),e}async function uxe(t){const e=L8(t),n=(await dX()).transaction(y_,"readwrite");await n.objectStore(y_).delete(e),await n.done}async function B8(t,e){const r=L8(t),i=(await dX()).transaction(y_,"readwrite"),s=i.objectStore(y_),a=await s.get(r),o=e(a);return o===void 0?await s.delete(r):await s.put(o,r),await i.done,o&&(!a||a.fid!==o.fid)&&lxe(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hX(t){let e;const r=await B8(t.appConfig,n=>{const i=JUe(n),s=eze(t,i);return e=s.registrationPromise,s.installationEntry});return r.fid===zz?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function JUe(t){const e=t||{fid:qUe(),registrationStatus:0};return dxe(e)}function eze(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(v_.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=tze(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:rze(t)}:{installationEntry:e}}async function tze(t,e){try{const r=await zUe(t,e);return cj(t.appConfig,r)}catch(r){throw exe(r)&&r.customData.serverCode===409?await uxe(t.appConfig):await cj(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function rze(t){let e=await pie(t.appConfig);for(;e.registrationStatus===1;)await axe(100),e=await pie(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await hX(t);return n||r}return e}function pie(t){return B8(t,e=>{if(!e)throw v_.create("installation-not-found");return dxe(e)})}function dxe(t){return nze(t)?{fid:t.fid,registrationStatus:0}:t}function nze(t){return t.registrationStatus===1&&t.registrationTime+Zye<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ize({appConfig:t,heartbeatServiceProvider:e},r){const n=sze(t,r),i=$Ue(t,r),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={installation:{sdkVersion:Qye,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await sxe(()=>fetch(n,o));if(l.ok){const c=await l.json();return rxe(c)}else throw await nxe("Generate Auth Token",l)}function sze(t,{fid:e}){return`${txe(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fX(t,e=!1){let r;const n=await B8(t.appConfig,s=>{if(!hxe(s))throw v_.create("not-registered");const a=s.authToken;if(!e&&lze(a))return s;if(a.requestStatus===1)return r=aze(t,e),s;{if(!navigator.onLine)throw v_.create("app-offline");const o=uze(s);return r=oze(t,o),o}});return r?await r:n.authToken}async function aze(t,e){let r=await mie(t.appConfig);for(;r.authToken.requestStatus===1;)await axe(100),r=await mie(t.appConfig);const n=r.authToken;return n.requestStatus===0?fX(t,e):n}function mie(t){return B8(t,e=>{if(!hxe(e))throw v_.create("not-registered");const r=e.authToken;return dze(r)?{...e,authToken:{requestStatus:0}}:e})}async function oze(t,e){try{const r=await ize(t,e),n={...e,authToken:r};return await cj(t.appConfig,n),r}catch(r){if(exe(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await uxe(t.appConfig);else{const n={...e,authToken:{requestStatus:0}};await cj(t.appConfig,n)}throw r}}function hxe(t){return t!==void 0&&t.registrationStatus===2}function lze(t){return t.requestStatus===2&&!cze(t)}function cze(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+FUe}function uze(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function dze(t){return t.requestStatus===1&&t.requestTime+Zye<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hze(t){const e=t,{installationEntry:r,registrationPromise:n}=await hX(e);return n?n.catch(console.error):fX(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fze(t,e=!1){const r=t;return await pze(r),(await fX(r,e)).token}async function pze(t){const{registrationPromise:e}=await hX(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mze(t){if(!t||!t.options)throw W$("App Configuration");if(!t.name)throw W$("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw W$(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function W$(t){return v_.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fxe="installations",gze="installations-internal",vze=t=>{const e=t.getProvider("app").getImmediate(),r=mze(e),n=J_(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},yze=t=>{const e=t.getProvider("app").getImmediate(),r=J_(e,fxe).getImmediate();return{getId:()=>hze(r),getToken:i=>fze(r,i)}};function xze(){Am(new Rf(fxe,vze,"PUBLIC")),Am(new Rf(gze,yze,"PRIVATE"))}xze();mh(Xye,uX);mh(Xye,uX,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="analytics",bze="firebase_id",wze="origin",_ze=60*1e3,Sze="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pX="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new m8("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aze={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},fd=new Q_("analytics","Analytics",Aze);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eze(t){if(!t.startsWith(pX)){const e=fd.create("invalid-gtag-resource",{gtagURL:t});return bc.warn(e.message),""}return t}function pxe(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function Tze(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function Cze(t,e){const r=Tze("firebase-js-sdk-policy",{createScriptURL:Eze}),n=document.createElement("script"),i=`${pX}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function kze(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Pze(t,e,r,n,i,s){const a=n[i];try{if(a)await e[a];else{const l=(await pxe(r)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(o){bc.error(o)}t("config",i,s)}async function Nze(t,e,r,n,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const o=await pxe(r);for(const l of a){const c=o.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",n,i||{})}catch(s){bc.error(s)}}function Ize(t,e,r,n){async function i(s,...a){try{if(s==="event"){const[o,l]=a;await Nze(t,e,r,o,l)}else if(s==="config"){const[o,l]=a;await Pze(t,e,r,n,o,l)}else if(s==="consent"){const[o,l]=a;t("consent",o,l)}else if(s==="get"){const[o,l,c]=a;t("get",o,l,c)}else if(s==="set"){const[o]=a;t("set",o)}else t(s,...a)}catch(o){bc.error(o)}}return i}function Oze(t,e,r,n,i){let s=function(...a){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Ize(s,t,e,r),{gtagCore:s,wrappedGtag:window[i]}}function Rze(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(pX)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dze=30,Mze=1e3;class Fze{constructor(e={},r=Mze){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const mxe=new Fze;function jze(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Lze(t){var a;const{appId:e,apiKey:r}=t,n={method:"GET",headers:jze(r)},i=Sze.replace("{app-id}",e),s=await fetch(i,n);if(s.status!==200&&s.status!==304){let o="";try{const l=await s.json();(a=l.error)!=null&&a.message&&(o=l.error.message)}catch{}throw fd.create("config-fetch-failed",{httpStatus:s.status,responseMessage:o})}return s.json()}async function Bze(t,e=mxe,r){const{appId:n,apiKey:i,measurementId:s}=t.options;if(!n)throw fd.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:n};throw fd.create("no-api-key")}const a=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Uze;return setTimeout(async()=>{o.abort()},_ze),gxe({appId:n,apiKey:i,measurementId:s},a,o,e)}async function gxe(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=mxe){var o;const{appId:s,measurementId:a}=t;try{await $ze(n,e)}catch(l){if(a)return bc.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await Lze(t);return i.deleteThrottleMetadata(s),l}catch(l){const c=l;if(!Vze(c)){if(i.deleteThrottleMetadata(s),a)return bc.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:a};throw l}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?Vre(r,i.intervalMillis,Dze):Vre(r,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:r+1};return i.setThrottleMetadata(s,d),bc.debug(`Calling attemptFetch again in ${u} millis`),gxe(t,d,n,i)}}function $ze(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(s),n(fd.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Vze(t){if(!(t instanceof Uf)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Uze{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function zze(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const s=await e,a={...n,send_to:s};t("event",r,a)}}async function Hze(t,e,r,n){if(n&&n.global){const i={};for(const s of Object.keys(r))i[`user_properties.${s}`]=r[s];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wze(){if(Cve())try{await kve()}catch(t){return bc.warn(fd.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return bc.warn(fd.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function qze(t,e,r,n,i,s,a){const o=Bze(t);o.then(h=>{r[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&bc.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>bc.error(h)),e.push(o);const l=Wze().then(h=>{if(h)return n.getId()}),[c,u]=await Promise.all([o,l]);Rze(s)||Cze(s,c.measurementId),i("js",new Date);const d=(a==null?void 0:a.config)??{};return d[wze]="firebase",d.update=!0,u!=null&&(d[bze]=u),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gze{constructor(e){this.app=e}_delete(){return delete JS[this.app.options.appId],Promise.resolve()}}let JS={},gie=[];const vie={};let q$="dataLayer",Kze="gtag",yie,mX,xie=!1;function Yze(){const t=[];if(Tve()&&t.push("This is a browser extension environment."),$6e()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=fd.create("invalid-analytics-context",{errorInfo:e});bc.warn(r.message)}}function Xze(t,e,r){Yze();const n=t.options.appId;if(!n)throw fd.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)bc.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw fd.create("no-api-key");if(JS[n]!=null)throw fd.create("already-exists",{id:n});if(!xie){kze(q$);const{wrappedGtag:s,gtagCore:a}=Oze(JS,gie,vie,q$,Kze);mX=s,yie=a,xie=!0}return JS[n]=qze(t,gie,vie,e,yie,q$,r),new Gze(t)}function Zze(t=xY()){t=aa(t);const e=J_(t,uj);return e.isInitialized()?e.getImmediate():Qze(t)}function Qze(t,e={}){const r=J_(t,uj);if(r.isInitialized()){const i=r.getImmediate();if(Ly(e,r.getOptions()))return i;throw fd.create("already-initialized")}return r.initialize({options:e})}function Jze(t,e,r){t=aa(t),Hze(mX,JS[t.app.options.appId],e,r).catch(n=>bc.error(n))}function eHe(t,e,r,n){t=aa(t),zze(mX,JS[t.app.options.appId],e,r,n).catch(i=>bc.error(i))}const bie="@firebase/analytics",wie="0.10.19";function tHe(){Am(new Rf(uj,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Xze(n,i,r)},"PUBLIC")),Am(new Rf("analytics-internal",t,"PRIVATE")),mh(bie,wie),mh(bie,wie,"esm2020");function t(e){try{const r=e.getProvider(uj).getImmediate();return{logEvent:(n,i,s)=>eHe(r,n,i,s),setUserProperties:(n,i)=>Jze(r,n,i)}}catch(r){throw fd.create("interop-component-reg-failed",{reason:r})}}}tHe();const rHe={apiKey:"AIzaSyBgU7J-2M2bfa_dFsQ6Ps8DAYOM-ify8Hg",authDomain:"ecofin-c974e.firebaseapp.com",projectId:"ecofin-c974e",storageBucket:"ecofin-c974e.firebasestorage.app",messagingSenderId:"378572542594",appId:"1:378572542594:web:3afc0e864be3220dd79a9b",measurementId:"G-DSKYLR3HYY"},gX=Ove(rHe),_r=xUe(gX),Ay=_$e(gX);typeof window<"u"&&Zze(gX);const _ie={admin:4,gerente:3,agente:2,atendente:1},vxe=O.createContext(void 0);function nHe({children:t}){const[e,r]=O.useState(null),[n,i]=O.useState(!0);O.useEffect(()=>{const c=u7e(Ay,async u=>{if(u){const d=await s(u);r(d)}else r(null);i(!1)});return()=>c()},[]);const s=async c=>{var h,f;const u=ri(_r,"users",c.uid),d=await Kye(u);if(d.exists()){const g=d.data();return g.role==="admin"&&!g.aprovado?(await Ac(u,{aprovado:!0}),{uid:c.uid,email:c.email||"",displayName:c.displayName||"",photoURL:c.photoURL||void 0,role:g.role,aprovado:!0,createdAt:((h=g.createdAt)==null?void 0:h.toDate())||new Date}):{uid:c.uid,email:c.email||"",displayName:c.displayName||"",photoURL:c.photoURL||void 0,role:g.role||"atendente",aprovado:g.aprovado||!1,createdAt:((f=g.createdAt)==null?void 0:f.toDate())||new Date}}else{const m=(await fo(pi(_r,"users"))).empty,v={uid:c.uid,email:c.email||"",displayName:c.displayName||"",photoURL:c.photoURL||void 0,role:m?"admin":"atendente",aprovado:m,createdAt:new Date};return await f0(u,{email:v.email,displayName:v.displayName,photoURL:v.photoURL,role:v.role,aprovado:v.aprovado,createdAt:v.createdAt}),v}},a=async()=>{const c=new J0;try{await I7e(Ay,c)}catch(u){throw console.error("Erro ao fazer login com Google:",u),u}},o=async()=>{try{await d7e(Ay)}catch(c){throw console.error("Erro ao fazer logout:",c),c}},l=c=>{if(!e)return!1;const u=_ie[e.role];return c.some(d=>_ie[d]<=u)};return p.jsx(vxe.Provider,{value:{user:e,loading:n,signInWithGoogle:a,signOut:o,hasPermission:l},children:t})}function Dm(){const t=O.useContext(vxe);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const iHe=[{icon:BDe,label:"Dashboard",path:"/",roles:["admin","gerente"]},{icon:IO,label:"Clientes",path:"/clientes",roles:["admin","gerente","agente","atendente"]},{icon:XK,label:"Fornecedores",path:"/fornecedores",roles:["admin","gerente","agente","atendente"]},{icon:r8,label:"Produtos",path:"/produtos",roles:["admin","gerente"]},{icon:Gw,label:"Funcionrios",path:"/funcionarios",roles:["admin","gerente","agente","atendente"]},{icon:Q0,label:"Folha de Pagamento",path:"/folha-pagamento",roles:["admin","gerente"]},{icon:tM,label:"Despesas",path:"/despesas",roles:["admin","gerente"]},{icon:dge,label:"PDV",path:"/pdv",roles:["admin","gerente","agente","atendente"]},{icon:nz,label:"Relatrios",path:"/relatorios",roles:["admin","gerente"]},{icon:WDe,label:"Conciliao",path:"/conciliacao",roles:["admin","gerente"]}],sHe=[{icon:cT,label:"Usurios",path:"/usuarios",roles:["admin"]},{icon:qDe,label:"Configuraes",path:"/configuracoes",roles:["admin","gerente","agente","atendente"]}];function aHe(){const[t,e]=O.useState(!1),r=hC(),{user:n,hasPermission:i,signOut:s}=Dm();return p.jsxs("aside",{className:Pt("fixed left-0 top-0 z-40 h-screen bg-sidebar border-r border-sidebar-border transition-all duration-300 flex flex-col",t?"w-[70px]":"w-[260px]"),children:[p.jsx("div",{className:"flex items-center h-16 px-4 border-b border-sidebar-border",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-9 h-9 rounded-lg gradient-primary flex items-center justify-center",children:p.jsx(GDe,{className:"w-5 h-5 text-primary-foreground"})}),!t&&p.jsxs("div",{className:"animate-fade-in",children:[p.jsx("h1",{className:"text-base font-bold text-sidebar-foreground",children:"CrditoGestor"}),p.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"Gesto de Consignados"})]})]})}),p.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-3 scrollbar-thin",children:p.jsx("ul",{className:"space-y-1",children:iHe.filter(a=>i(a.roles)).map(a=>{const o=r.pathname===a.path;return p.jsx("li",{children:p.jsxs(Dre,{to:a.path,className:Pt("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200","hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",o?"bg-sidebar-primary text-sidebar-primary-foreground shadow-md":"text-sidebar-foreground"),children:[p.jsx(a.icon,{className:Pt("w-5 h-5 shrink-0",o&&"drop-shadow-sm")}),!t&&p.jsx("span",{className:"text-sm font-medium animate-fade-in",children:a.label})]})},a.path)})})}),p.jsxs("div",{className:"px-3 pb-4",children:[p.jsx(qi,{className:"mb-4 bg-sidebar-border"}),p.jsxs("ul",{className:"space-y-1",children:[sHe.filter(a=>i(a.roles)).map(a=>{const o=r.pathname===a.path;return p.jsx("li",{children:p.jsxs(Dre,{to:a.path,className:Pt("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200","hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",o?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground"),children:[p.jsx(a.icon,{className:"w-5 h-5 shrink-0"}),!t&&p.jsx("span",{className:"text-sm font-medium animate-fade-in",children:a.label})]})},a.path)}),p.jsx("li",{children:p.jsxs("button",{onClick:s,className:"flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 w-full text-sidebar-foreground hover:bg-destructive/10 hover:text-destructive",children:[p.jsx(lge,{className:"w-5 h-5 shrink-0"}),!t&&p.jsx("span",{className:"text-sm font-medium animate-fade-in",children:"Sair"})]})})]})]}),p.jsx(mt,{variant:"ghost",size:"icon",className:"absolute -right-3 top-20 w-6 h-6 rounded-full bg-card border border-border shadow-md hover:bg-secondary",onClick:()=>e(!t),children:t?p.jsx(e8,{className:"w-3 h-3"}):p.jsx(QK,{className:"w-3 h-3"})})]})}const pt=O.forwardRef(({className:t,type:e,...r},n)=>p.jsx("input",{type:e,className:Pt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));pt.displayName="Input";var oHe=O.createContext(void 0);function $8(t){const e=O.useContext(oHe);return t||e||"ltr"}var G$=0;function V8(){O.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Sie()),document.body.insertAdjacentElement("beforeend",t[1]??Sie()),G$++,()=>{G$===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),G$--}},[])}function Sie(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var K$="focusScope.autoFocusOnMount",Y$="focusScope.autoFocusOnUnmount",Aie={bubbles:!1,cancelable:!0},lHe="FocusScope",qO=O.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,l]=O.useState(null),c=Sc(i),u=Sc(s),d=O.useRef(null),h=kn(e,m=>l(m)),f=O.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;O.useEffect(()=>{if(n){let m=function(b){if(f.paused||!o)return;const _=b.target;o.contains(_)?d.current=_:Lv(d.current,{select:!0})},v=function(b){if(f.paused||!o)return;const _=b.relatedTarget;_!==null&&(o.contains(_)||Lv(d.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Lv(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(x);return o&&w.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[n,o,f.paused]),O.useEffect(()=>{if(o){Tie.add(f);const m=document.activeElement;if(!o.contains(m)){const x=new CustomEvent(K$,Aie);o.addEventListener(K$,c),o.dispatchEvent(x),x.defaultPrevented||(cHe(pHe(yxe(o)),{select:!0}),document.activeElement===m&&Lv(o))}return()=>{o.removeEventListener(K$,c),setTimeout(()=>{const x=new CustomEvent(Y$,Aie);o.addEventListener(Y$,u),o.dispatchEvent(x),x.defaultPrevented||Lv(m??document.body,{select:!0}),o.removeEventListener(Y$,u),Tie.remove(f)},0)}}},[o,c,u,f]);const g=O.useCallback(m=>{if(!r&&!n||f.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const w=m.currentTarget,[b,_]=uHe(w);b&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&Lv(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&Lv(_,{select:!0})):x===w&&m.preventDefault()}},[r,n,f.paused]);return p.jsx(pr.div,{tabIndex:-1,...a,ref:h,onKeyDown:g})});qO.displayName=lHe;function cHe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Lv(n,{select:e}),document.activeElement!==r)return}function uHe(t){const e=yxe(t),r=Eie(e,t),n=Eie(e.reverse(),t);return[r,n]}function yxe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Eie(t,e){for(const r of t)if(!dHe(r,{upTo:e}))return r}function dHe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function hHe(t){return t instanceof HTMLInputElement&&"select"in t}function Lv(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&hHe(t)&&e&&t.select()}}var Tie=fHe();function fHe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Cie(t,e),t.unshift(e)},remove(e){var r;t=Cie(t,e),(r=t[0])==null||r.resume()}}}function Cie(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function pHe(t){return t.filter(e=>e.tagName!=="A")}var X$="rovingFocusGroup.onEntryFocus",mHe={bubbles:!1,cancelable:!0},GO="RovingFocusGroup",[Hz,xxe,gHe]=Z6(GO),[vHe,U8]=Cc(GO,[gHe]),[yHe,xHe]=vHe(GO),bxe=O.forwardRef((t,e)=>p.jsx(Hz.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(Hz.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(bHe,{...t,ref:e})})}));bxe.displayName=GO;var bHe=O.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,h=O.useRef(null),f=kn(e,h),g=$8(s),[m,v]=Ig({prop:a,defaultProp:o??null,onChange:l,caller:GO}),[x,w]=O.useState(!1),b=Sc(c),_=xxe(r),S=O.useRef(!1),[T,E]=O.useState(0);return O.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(X$,b),()=>C.removeEventListener(X$,b)},[b]),p.jsx(yHe,{scope:r,orientation:n,dir:g,loop:i,currentTabStopId:m,onItemFocus:O.useCallback(C=>v(C),[v]),onItemShiftTab:O.useCallback(()=>w(!0),[]),onFocusableItemAdd:O.useCallback(()=>E(C=>C+1),[]),onFocusableItemRemove:O.useCallback(()=>E(C=>C-1),[]),children:p.jsx(pr.div,{tabIndex:x||T===0?-1:0,"data-orientation":n,...d,ref:f,style:{outline:"none",...t.style},onMouseDown:Ut(t.onMouseDown,()=>{S.current=!0}),onFocus:Ut(t.onFocus,C=>{const N=!S.current;if(C.target===C.currentTarget&&N&&!x){const F=new CustomEvent(X$,mHe);if(C.currentTarget.dispatchEvent(F),!F.defaultPrevented){const A=_().filter(X=>X.focusable),I=A.find(X=>X.active),M=A.find(X=>X.id===m),Y=[I,M,...A].filter(Boolean).map(X=>X.ref.current);Sxe(Y,u)}}S.current=!1}),onBlur:Ut(t.onBlur,()=>w(!1))})})}),wxe="RovingFocusGroupItem",_xe=O.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:a,...o}=t,l=il(),c=s||l,u=xHe(wxe,r),d=u.currentTabStopId===c,h=xxe(r),{onFocusableItemAdd:f,onFocusableItemRemove:g,currentTabStopId:m}=u;return O.useEffect(()=>{if(n)return f(),()=>g()},[n,f,g]),p.jsx(Hz.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:p.jsx(pr.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:Ut(t.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:Ut(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ut(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=SHe(v,u.orientation,u.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=h().filter(_=>_.focusable).map(_=>_.ref.current);if(x==="last")b.reverse();else if(x==="prev"||x==="next"){x==="prev"&&b.reverse();const _=b.indexOf(v.currentTarget);b=u.loop?AHe(b,_+1):b.slice(_+1)}setTimeout(()=>Sxe(b))}}),children:typeof a=="function"?a({isCurrentTabStop:d,hasTabStop:m!=null}):a})})});_xe.displayName=wxe;var wHe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _He(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function SHe(t,e,r){const n=_He(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return wHe[n]}function Sxe(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function AHe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Axe=bxe,Exe=_xe,EHe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},M2=new WeakMap,N3=new WeakMap,I3={},Z$=0,Txe=function(t){return t&&(t.host||Txe(t.parentNode))},THe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Txe(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},CHe=function(t,e,r,n){var i=THe(e,Array.isArray(t)?t:[t]);I3[r]||(I3[r]=new WeakMap);var s=I3[r],a=[],o=new Set,l=new Set(i),c=function(d){!d||o.has(d)||(o.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(o.has(h))u(h);else try{var f=h.getAttribute(n),g=f!==null&&f!=="false",m=(M2.get(h)||0)+1,v=(s.get(h)||0)+1;M2.set(h,m),s.set(h,v),a.push(h),m===1&&g&&N3.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return u(e),o.clear(),Z$++,function(){a.forEach(function(d){var h=M2.get(d)-1,f=s.get(d)-1;M2.set(d,h),s.set(d,f),h||(N3.has(d)||d.removeAttribute(n),N3.delete(d)),f||d.removeAttribute(r)}),Z$--,Z$||(M2=new WeakMap,M2=new WeakMap,N3=new WeakMap,I3={})}},z8=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=EHe(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),CHe(n,i,r,"aria-hidden")):function(){return null}},Zp=function(){return Zp=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Zp.apply(this,arguments)};function Cxe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function kHe(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var fM="right-scroll-bar-position",pM="width-before-scroll-bar",PHe="with-scroll-bars-hidden",NHe="--removed-body-scroll-bar-size";function Q$(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function IHe(t,e){var r=O.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var OHe=typeof window<"u"?O.useLayoutEffect:O.useEffect,kie=new WeakMap;function RHe(t,e){var r=IHe(null,function(n){return t.forEach(function(i){return Q$(i,n)})});return OHe(function(){var n=kie.get(r);if(n){var i=new Set(n),s=new Set(t),a=r.current;i.forEach(function(o){s.has(o)||Q$(o,null)}),s.forEach(function(o){i.has(o)||Q$(o,a)})}kie.set(r,t)},[t]),r}function DHe(t){return t}function MHe(t,e){e===void 0&&(e=DHe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var a=e(s,n);return r.push(a),function(){r=r.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(o){return s(o)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var o=r;r=[],o.forEach(s),a=r}var l=function(){var u=a;a=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),r}}}};return i}function FHe(t){t===void 0&&(t={});var e=MHe(null);return e.options=Zp({async:!0,ssr:!1},t),e}var kxe=function(t){var e=t.sideCar,r=Cxe(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return O.createElement(n,Zp({},r))};kxe.isSideCarExport=!0;function jHe(t,e){return t.useMedium(e),kxe}var Pxe=FHe(),J$=function(){},H8=O.forwardRef(function(t,e){var r=O.useRef(null),n=O.useState({onScrollCapture:J$,onWheelCapture:J$,onTouchMoveCapture:J$}),i=n[0],s=n[1],a=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,f=t.noRelative,g=t.noIsolation,m=t.inert,v=t.allowPinchZoom,x=t.as,w=x===void 0?"div":x,b=t.gapMode,_=Cxe(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,T=RHe([r,e]),E=Zp(Zp({},_),i);return O.createElement(O.Fragment,null,u&&O.createElement(S,{sideCar:Pxe,removeScrollBar:c,shards:d,noRelative:f,noIsolation:g,inert:m,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:b}),a?O.cloneElement(O.Children.only(o),Zp(Zp({},E),{ref:T})):O.createElement(w,Zp({},E,{className:l,ref:T}),o))});H8.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};H8.classNames={fullWidth:pM,zeroRight:fM};var LHe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BHe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=LHe();return e&&t.setAttribute("nonce",e),t}function $He(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function VHe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var UHe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=BHe())&&($He(e,r),VHe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},zHe=function(){var t=UHe();return function(e,r){O.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Nxe=function(){var t=zHe(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},HHe={left:0,top:0,right:0,gap:0},e9=function(t){return parseInt(t||"",10)||0},WHe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[e9(r),e9(n),e9(i)]},qHe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return HHe;var e=WHe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},GHe=Nxe(),eA="data-scroll-locked",KHe=function(t,e,r,n){var i=t.left,s=t.top,a=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(PHe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(eA,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fM,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(pM,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(fM," .").concat(fM,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(pM," .").concat(pM,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(eA,`] {
    `).concat(NHe,": ").concat(o,`px;
  }
`)},Pie=function(){var t=parseInt(document.body.getAttribute(eA)||"0",10);return isFinite(t)?t:0},YHe=function(){O.useEffect(function(){return document.body.setAttribute(eA,(Pie()+1).toString()),function(){var t=Pie()-1;t<=0?document.body.removeAttribute(eA):document.body.setAttribute(eA,t.toString())}},[])},XHe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;YHe();var s=O.useMemo(function(){return qHe(i)},[i]);return O.createElement(GHe,{styles:KHe(s,!e,i,r?"":"!important")})},Wz=!1;if(typeof window<"u")try{var O3=Object.defineProperty({},"passive",{get:function(){return Wz=!0,!0}});window.addEventListener("test",O3,O3),window.removeEventListener("test",O3,O3)}catch{Wz=!1}var F2=Wz?{passive:!1}:!1,ZHe=function(t){return t.tagName==="TEXTAREA"},Ixe=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!ZHe(t)&&r[e]==="visible")},QHe=function(t){return Ixe(t,"overflowY")},JHe=function(t){return Ixe(t,"overflowX")},Nie=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Oxe(t,n);if(i){var s=Rxe(t,n),a=s[1],o=s[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},eWe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},tWe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Oxe=function(t,e){return t==="v"?QHe(e):JHe(e)},Rxe=function(t,e){return t==="v"?eWe(e):tWe(e)},rWe=function(t,e){return t==="h"&&e==="rtl"?-1:1},nWe=function(t,e,r,n,i){var s=rWe(t,window.getComputedStyle(e).direction),a=s*n,o=r.target,l=e.contains(o),c=!1,u=a>0,d=0,h=0;do{if(!o)break;var f=Rxe(t,o),g=f[0],m=f[1],v=f[2],x=m-v-s*g;(g||x)&&Oxe(t,o)&&(d+=x,h+=g);var w=o.parentNode;o=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(h)<1||!i))&&(c=!0),c},R3=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Iie=function(t){return[t.deltaX,t.deltaY]},Oie=function(t){return t&&"current"in t?t.current:t},iWe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},sWe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},aWe=0,j2=[];function oWe(t){var e=O.useRef([]),r=O.useRef([0,0]),n=O.useRef(),i=O.useState(aWe++)[0],s=O.useState(Nxe)[0],a=O.useRef(t);O.useEffect(function(){a.current=t},[t]),O.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=kHe([t.lockRef.current],(t.shards||[]).map(Oie),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=O.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var x=R3(m),w=r.current,b="deltaX"in m?m.deltaX:w[0]-x[0],_="deltaY"in m?m.deltaY:w[1]-x[1],S,T=m.target,E=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&E==="h"&&T.type==="range")return!1;var C=Nie(E,T);if(!C)return!0;if(C?S=E:(S=E==="v"?"h":"v",C=Nie(E,T)),!C)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var N=n.current||S;return nWe(N,v,m,N==="h"?b:_,!0)},[]),l=O.useCallback(function(m){var v=m;if(!(!j2.length||j2[j2.length-1]!==s)){var x="deltaY"in v?Iie(v):R3(v),w=e.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&iWe(S.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(a.current.shards||[]).map(Oie).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=b.length>0?o(v,b[0]):!a.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),c=O.useCallback(function(m,v,x,w){var b={name:m,delta:v,target:x,should:w,shadowParent:lWe(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(_){return _!==b})},1)},[]),u=O.useCallback(function(m){r.current=R3(m),n.current=void 0},[]),d=O.useCallback(function(m){c(m.type,Iie(m),m.target,o(m,t.lockRef.current))},[]),h=O.useCallback(function(m){c(m.type,R3(m),m.target,o(m,t.lockRef.current))},[]);O.useEffect(function(){return j2.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,F2),document.addEventListener("touchmove",l,F2),document.addEventListener("touchstart",u,F2),function(){j2=j2.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,F2),document.removeEventListener("touchmove",l,F2),document.removeEventListener("touchstart",u,F2)}},[]);var f=t.removeScrollBar,g=t.inert;return O.createElement(O.Fragment,null,g?O.createElement(s,{styles:sWe(i)}):null,f?O.createElement(XHe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function lWe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const cWe=jHe(Pxe,oWe);var KO=O.forwardRef(function(t,e){return O.createElement(H8,Zp({},t,{ref:e,sideCar:cWe}))});KO.classNames=H8.classNames;var qz=["Enter"," "],uWe=["ArrowDown","PageUp","Home"],Dxe=["ArrowUp","PageDown","End"],dWe=[...uWe,...Dxe],hWe={ltr:[...qz,"ArrowRight"],rtl:[...qz,"ArrowLeft"]},fWe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},YO="Menu",[lN,pWe,mWe]=Z6(YO),[s2,Mxe]=Cc(YO,[mWe,ax,U8]),W8=ax(),Fxe=U8(),[gWe,a2]=s2(YO),[vWe,XO]=s2(YO),jxe=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:a=!0}=t,o=W8(e),[l,c]=O.useState(null),u=O.useRef(!1),d=Sc(s),h=$8(i);return O.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),p.jsx(hY,{...o,children:p.jsx(gWe,{scope:e,open:r,onOpenChange:d,content:l,onContentChange:c,children:p.jsx(vWe,{scope:e,onClose:O.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:h,modal:a,children:n})})})};jxe.displayName=YO;var yWe="MenuAnchor",vX=O.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=W8(r);return p.jsx(RO,{...i,...n,ref:e})});vX.displayName=yWe;var yX="MenuPortal",[xWe,Lxe]=s2(yX,{forceMount:void 0}),Bxe=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=a2(yX,e);return p.jsx(xWe,{scope:e,forceMount:r,children:p.jsx(_d,{present:r||s.open,children:p.jsx(aC,{asChild:!0,container:i,children:n})})})};Bxe.displayName=yX;var vh="MenuContent",[bWe,xX]=s2(vh),$xe=O.forwardRef((t,e)=>{const r=Lxe(vh,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=a2(vh,t.__scopeMenu),a=XO(vh,t.__scopeMenu);return p.jsx(lN.Provider,{scope:t.__scopeMenu,children:p.jsx(_d,{present:n||s.open,children:p.jsx(lN.Slot,{scope:t.__scopeMenu,children:a.modal?p.jsx(wWe,{...i,ref:e}):p.jsx(_We,{...i,ref:e})})})})}),wWe=O.forwardRef((t,e)=>{const r=a2(vh,t.__scopeMenu),n=O.useRef(null),i=kn(e,n);return O.useEffect(()=>{const s=n.current;if(s)return z8(s)},[]),p.jsx(bX,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ut(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),_We=O.forwardRef((t,e)=>{const r=a2(vh,t.__scopeMenu);return p.jsx(bX,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),SWe=Dy("MenuContent.ScrollLock"),bX=O.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:f,disableOutsideScroll:g,...m}=t,v=a2(vh,r),x=XO(vh,r),w=W8(r),b=Fxe(r),_=pWe(r),[S,T]=O.useState(null),E=O.useRef(null),C=kn(e,E,v.onContentChange),N=O.useRef(0),F=O.useRef(""),A=O.useRef(0),I=O.useRef(null),M=O.useRef("right"),U=O.useRef(0),Y=g?KO:O.Fragment,X=g?{as:SWe,allowPinchZoom:!0}:void 0,W=B=>{var J,me;const re=F.current+B,ae=_().filter(ce=>!ce.disabled),R=document.activeElement,j=(J=ae.find(ce=>ce.ref.current===R))==null?void 0:J.textValue,V=ae.map(ce=>ce.textValue),K=MWe(V,re,j),ne=(me=ae.find(ce=>ce.textValue===K))==null?void 0:me.ref.current;(function ce(he){F.current=he,window.clearTimeout(N.current),he!==""&&(N.current=window.setTimeout(()=>ce(""),1e3))})(re),ne&&setTimeout(()=>ne.focus())};O.useEffect(()=>()=>window.clearTimeout(N.current),[]),V8();const G=O.useCallback(B=>{var ae,R;return M.current===((ae=I.current)==null?void 0:ae.side)&&jWe(B,(R=I.current)==null?void 0:R.area)},[]);return p.jsx(bWe,{scope:r,searchRef:F,onItemEnter:O.useCallback(B=>{G(B)&&B.preventDefault()},[G]),onItemLeave:O.useCallback(B=>{var re;G(B)||((re=E.current)==null||re.focus(),T(null))},[G]),onTriggerLeave:O.useCallback(B=>{G(B)&&B.preventDefault()},[G]),pointerGraceTimerRef:A,onPointerGraceIntentChange:O.useCallback(B=>{I.current=B},[]),children:p.jsx(Y,{...X,children:p.jsx(qO,{asChild:!0,trapped:i,onMountAutoFocus:Ut(s,B=>{var re;B.preventDefault(),(re=E.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:p.jsx(K_,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:f,children:p.jsx(Axe,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:T,onEntryFocus:Ut(l,B=>{x.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(o8,{role:"menu","aria-orientation":"vertical","data-state":rbe(v.open),"data-radix-menu-content":"",dir:x.dir,...w,...m,ref:C,style:{outline:"none",...m.style},onKeyDown:Ut(m.onKeyDown,B=>{const ae=B.target.closest("[data-radix-menu-content]")===B.currentTarget,R=B.ctrlKey||B.altKey||B.metaKey,j=B.key.length===1;ae&&(B.key==="Tab"&&B.preventDefault(),!R&&j&&W(B.key));const V=E.current;if(B.target!==V||!dWe.includes(B.key))return;B.preventDefault();const ne=_().filter(J=>!J.disabled).map(J=>J.ref.current);Dxe.includes(B.key)&&ne.reverse(),RWe(ne)}),onBlur:Ut(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(N.current),F.current="")}),onPointerMove:Ut(t.onPointerMove,cN(B=>{const re=B.target,ae=U.current!==B.clientX;if(B.currentTarget.contains(re)&&ae){const R=B.clientX>U.current?"right":"left";M.current=R,U.current=B.clientX}}))})})})})})})});$xe.displayName=vh;var AWe="MenuGroup",wX=O.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return p.jsx(pr.div,{role:"group",...n,ref:e})});wX.displayName=AWe;var EWe="MenuLabel",Vxe=O.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return p.jsx(pr.div,{...n,ref:e})});Vxe.displayName=EWe;var dj="MenuItem",Rie="menu.itemSelect",q8=O.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=O.useRef(null),a=XO(dj,t.__scopeMenu),o=xX(dj,t.__scopeMenu),l=kn(e,s),c=O.useRef(!1),u=()=>{const d=s.current;if(!r&&d){const h=new CustomEvent(Rie,{bubbles:!0,cancelable:!0});d.addEventListener(Rie,f=>n==null?void 0:n(f),{once:!0}),qK(d,h),h.defaultPrevented?c.current=!1:a.onClose()}};return p.jsx(Uxe,{...i,ref:l,disabled:r,onClick:Ut(t.onClick,u),onPointerDown:d=>{var h;(h=t.onPointerDown)==null||h.call(t,d),c.current=!0},onPointerUp:Ut(t.onPointerUp,d=>{var h;c.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:Ut(t.onKeyDown,d=>{const h=o.searchRef.current!=="";r||h&&d.key===" "||qz.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});q8.displayName=dj;var Uxe=O.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,a=xX(dj,r),o=Fxe(r),l=O.useRef(null),c=kn(e,l),[u,d]=O.useState(!1),[h,f]=O.useState("");return O.useEffect(()=>{const g=l.current;g&&f((g.textContent??"").trim())},[s.children]),p.jsx(lN.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:p.jsx(Exe,{asChild:!0,...o,focusable:!n,children:p.jsx(pr.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:c,onPointerMove:Ut(t.onPointerMove,cN(g=>{n?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ut(t.onPointerLeave,cN(g=>a.onItemLeave(g))),onFocus:Ut(t.onFocus,()=>d(!0)),onBlur:Ut(t.onBlur,()=>d(!1))})})})}),TWe="MenuCheckboxItem",zxe=O.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return p.jsx(Kxe,{scope:t.__scopeMenu,checked:r,children:p.jsx(q8,{role:"menuitemcheckbox","aria-checked":hj(r)?"mixed":r,...i,ref:e,"data-state":SX(r),onSelect:Ut(i.onSelect,()=>n==null?void 0:n(hj(r)?!0:!r),{checkForDefaultPrevented:!1})})})});zxe.displayName=TWe;var Hxe="MenuRadioGroup",[CWe,kWe]=s2(Hxe,{value:void 0,onValueChange:()=>{}}),Wxe=O.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=Sc(n);return p.jsx(CWe,{scope:t.__scopeMenu,value:r,onValueChange:s,children:p.jsx(wX,{...i,ref:e})})});Wxe.displayName=Hxe;var qxe="MenuRadioItem",Gxe=O.forwardRef((t,e)=>{const{value:r,...n}=t,i=kWe(qxe,t.__scopeMenu),s=r===i.value;return p.jsx(Kxe,{scope:t.__scopeMenu,checked:s,children:p.jsx(q8,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":SX(s),onSelect:Ut(n.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,r)},{checkForDefaultPrevented:!1})})})});Gxe.displayName=qxe;var _X="MenuItemIndicator",[Kxe,PWe]=s2(_X,{checked:!1}),Yxe=O.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=PWe(_X,r);return p.jsx(_d,{present:n||hj(s.checked)||s.checked===!0,children:p.jsx(pr.span,{...i,ref:e,"data-state":SX(s.checked)})})});Yxe.displayName=_X;var NWe="MenuSeparator",Xxe=O.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return p.jsx(pr.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});Xxe.displayName=NWe;var IWe="MenuArrow",Zxe=O.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=W8(r);return p.jsx(l8,{...i,...n,ref:e})});Zxe.displayName=IWe;var OWe="MenuSub",[Zzt,Qxe]=s2(OWe),a5="MenuSubTrigger",Jxe=O.forwardRef((t,e)=>{const r=a2(a5,t.__scopeMenu),n=XO(a5,t.__scopeMenu),i=Qxe(a5,t.__scopeMenu),s=xX(a5,t.__scopeMenu),a=O.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},u=O.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return O.useEffect(()=>u,[u]),O.useEffect(()=>{const d=o.current;return()=>{window.clearTimeout(d),l(null)}},[o,l]),p.jsx(vX,{asChild:!0,...c,children:p.jsx(Uxe,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":rbe(r.open),...t,ref:Ng(e,i.onTriggerChange),onClick:d=>{var h;(h=t.onClick)==null||h.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ut(t.onPointerMove,cN(d=>{s.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:Ut(t.onPointerLeave,cN(d=>{var f,g;u();const h=(f=r.content)==null?void 0:f.getBoundingClientRect();if(h){const m=(g=r.content)==null?void 0:g.dataset.side,v=m==="right",x=v?-5:5,w=h[v?"left":"right"],b=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+x,y:d.clientY},{x:w,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:w,y:h.bottom}],side:m}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ut(t.onKeyDown,d=>{var f;const h=s.searchRef.current!=="";t.disabled||h&&d.key===" "||hWe[n.dir].includes(d.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),d.preventDefault())})})})});Jxe.displayName=a5;var ebe="MenuSubContent",tbe=O.forwardRef((t,e)=>{const r=Lxe(vh,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=a2(vh,t.__scopeMenu),a=XO(vh,t.__scopeMenu),o=Qxe(ebe,t.__scopeMenu),l=O.useRef(null),c=kn(e,l);return p.jsx(lN.Provider,{scope:t.__scopeMenu,children:p.jsx(_d,{present:n||s.open,children:p.jsx(lN.Slot,{scope:t.__scopeMenu,children:p.jsx(bX,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;a.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ut(t.onFocusOutside,u=>{u.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ut(t.onEscapeKeyDown,u=>{a.onClose(),u.preventDefault()}),onKeyDown:Ut(t.onKeyDown,u=>{var f;const d=u.currentTarget.contains(u.target),h=fWe[a.dir].includes(u.key);d&&h&&(s.onOpenChange(!1),(f=o.trigger)==null||f.focus(),u.preventDefault())})})})})})});tbe.displayName=ebe;function rbe(t){return t?"open":"closed"}function hj(t){return t==="indeterminate"}function SX(t){return hj(t)?"indeterminate":t?"checked":"unchecked"}function RWe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function DWe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function MWe(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=DWe(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==r));const l=a.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function FWe(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],c=o.x,u=o.y,d=l.x,h=l.y;u>n!=h>n&&r<(d-c)*(n-u)/(h-u)+c&&(i=!i)}return i}function jWe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return FWe(r,e)}function cN(t){return e=>e.pointerType==="mouse"?t(e):void 0}var LWe=jxe,BWe=vX,$We=Bxe,VWe=$xe,UWe=wX,zWe=Vxe,HWe=q8,WWe=zxe,qWe=Wxe,GWe=Gxe,KWe=Yxe,YWe=Xxe,XWe=Zxe,ZWe=Jxe,QWe=tbe,G8="DropdownMenu",[JWe,Qzt]=Cc(G8,[Mxe]),Pc=Mxe(),[eqe,nbe]=JWe(G8),ibe=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=Pc(e),c=O.useRef(null),[u,d]=Ig({prop:i,defaultProp:s??!1,onChange:a,caller:G8});return p.jsx(eqe,{scope:e,triggerId:il(),triggerRef:c,contentId:il(),open:u,onOpenChange:d,onOpenToggle:O.useCallback(()=>d(h=>!h),[d]),modal:o,children:p.jsx(LWe,{...l,open:u,onOpenChange:d,dir:n,modal:o,children:r})})};ibe.displayName=G8;var sbe="DropdownMenuTrigger",abe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=nbe(sbe,r),a=Pc(r);return p.jsx(BWe,{asChild:!0,...a,children:p.jsx(pr.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Ng(e,s.triggerRef),onPointerDown:Ut(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:Ut(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});abe.displayName=sbe;var tqe="DropdownMenuPortal",obe=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Pc(e);return p.jsx($We,{...n,...r})};obe.displayName=tqe;var lbe="DropdownMenuContent",cbe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=nbe(lbe,r),s=Pc(r),a=O.useRef(!1);return p.jsx(VWe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:Ut(t.onCloseAutoFocus,o=>{var l;a.current||(l=i.triggerRef.current)==null||l.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:Ut(t.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cbe.displayName=lbe;var rqe="DropdownMenuGroup",nqe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Pc(r);return p.jsx(UWe,{...i,...n,ref:e})});nqe.displayName=rqe;var iqe="DropdownMenuLabel",ube=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Pc(r);return p.jsx(zWe,{...i,...n,ref:e})});ube.displayName=iqe;var sqe="DropdownMenuItem",dbe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Pc(r);return p.jsx(HWe,{...i,...n,ref:e})});dbe.displayName=sqe;var aqe="DropdownMenuCheckboxItem",hbe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Pc(r);return p.jsx(WWe,{...i,...n,ref:e})});hbe.displayName=aqe;var oqe="DropdownMenuRadioGroup",lqe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Pc(r);return p.jsx(qWe,{...i,...n,ref:e})});lqe.displayName=oqe;var cqe="DropdownMenuRadioItem",fbe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Pc(r);return p.jsx(GWe,{...i,...n,ref:e})});fbe.displayName=cqe;var uqe="DropdownMenuItemIndicator",pbe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Pc(r);return p.jsx(KWe,{...i,...n,ref:e})});pbe.displayName=uqe;var dqe="DropdownMenuSeparator",mbe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Pc(r);return p.jsx(YWe,{...i,...n,ref:e})});mbe.displayName=dqe;var hqe="DropdownMenuArrow",fqe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Pc(r);return p.jsx(XWe,{...i,...n,ref:e})});fqe.displayName=hqe;var pqe="DropdownMenuSubTrigger",gbe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Pc(r);return p.jsx(ZWe,{...i,...n,ref:e})});gbe.displayName=pqe;var mqe="DropdownMenuSubContent",vbe=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Pc(r);return p.jsx(QWe,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vbe.displayName=mqe;var gqe=ibe,vqe=abe,yqe=obe,ybe=cbe,xbe=ube,bbe=dbe,wbe=hbe,_be=fbe,Sbe=pbe,Abe=mbe,Ebe=gbe,Tbe=vbe;const Cbe=gqe,kbe=vqe,xqe=O.forwardRef(({className:t,inset:e,children:r,...n},i)=>p.jsxs(Ebe,{ref:i,className:Pt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...n,children:[r,p.jsx(e8,{className:"ml-auto h-4 w-4"})]}));xqe.displayName=Ebe.displayName;const bqe=O.forwardRef(({className:t,...e},r)=>p.jsx(Tbe,{ref:r,className:Pt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));bqe.displayName=Tbe.displayName;const AX=O.forwardRef(({className:t,sideOffset:e=4,...r},n)=>p.jsx(yqe,{children:p.jsx(ybe,{ref:n,sideOffset:e,className:Pt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));AX.displayName=ybe.displayName;const hb=O.forwardRef(({className:t,inset:e,...r},n)=>p.jsx(bbe,{ref:n,className:Pt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...r}));hb.displayName=bbe.displayName;const wqe=O.forwardRef(({className:t,children:e,checked:r,...n},i)=>p.jsxs(wbe,{ref:i,className:Pt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:r,...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(Sbe,{children:p.jsx(ZK,{className:"h-4 w-4"})})}),e]}));wqe.displayName=wbe.displayName;const _qe=O.forwardRef(({className:t,children:e,...r},n)=>p.jsxs(_be,{ref:n,className:Pt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(Sbe,{children:p.jsx(RDe,{className:"h-2 w-2 fill-current"})})}),e]}));_qe.displayName=_be.displayName;const Pbe=O.forwardRef(({className:t,inset:e,...r},n)=>p.jsx(xbe,{ref:n,className:Pt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));Pbe.displayName=xbe.displayName;const Nbe=O.forwardRef(({className:t,...e},r)=>p.jsx(Abe,{ref:r,className:Pt("-mx-1 my-1 h-px bg-muted",t),...e}));Nbe.displayName=Abe.displayName;var Ibe={exports:{}},Obe={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT=O;function Sqe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Aqe=typeof Object.is=="function"?Object.is:Sqe,Eqe=bT.useState,Tqe=bT.useEffect,Cqe=bT.useLayoutEffect,kqe=bT.useDebugValue;function Pqe(t,e){var r=e(),n=Eqe({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return Cqe(function(){i.value=r,i.getSnapshot=e,t9(i)&&s({inst:i})},[t,r,e]),Tqe(function(){return t9(i)&&s({inst:i}),t(function(){t9(i)&&s({inst:i})})},[t]),kqe(r),r}function t9(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Aqe(t,r)}catch{return!0}}function Nqe(t,e){return e()}var Iqe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Nqe:Pqe;Obe.useSyncExternalStore=bT.useSyncExternalStore!==void 0?bT.useSyncExternalStore:Iqe;Ibe.exports=Obe;var Oqe=Ibe.exports;function Rqe(){return Oqe.useSyncExternalStore(Dqe,()=>!0,()=>!1)}function Dqe(){return()=>{}}var EX="Avatar",[Mqe,Jzt]=Cc(EX),[Fqe,Rbe]=Mqe(EX),Dbe=O.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=O.useState("idle");return p.jsx(Fqe,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:p.jsx(pr.span,{...n,ref:e})})});Dbe.displayName=EX;var Mbe="AvatarImage",Fbe=O.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,a=Rbe(Mbe,r),o=jqe(n,s),l=Sc(c=>{i(c),a.onImageLoadingStatusChange(c)});return qa(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?p.jsx(pr.img,{...s,ref:e,src:n}):null});Fbe.displayName=Mbe;var jbe="AvatarFallback",Lbe=O.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=Rbe(jbe,r),[a,o]=O.useState(n===void 0);return O.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(l)}},[n]),a&&s.imageLoadingStatus!=="loaded"?p.jsx(pr.span,{...i,ref:e}):null});Lbe.displayName=jbe;function Die(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function jqe(t,{referrerPolicy:e,crossOrigin:r}){const n=Rqe(),i=O.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[a,o]=O.useState(()=>Die(s,t));return qa(()=>{o(Die(s,t))},[s,t]),qa(()=>{const l=d=>()=>{o(d)};if(!s)return;const c=l("loaded"),u=l("error");return s.addEventListener("load",c),s.addEventListener("error",u),e&&(s.referrerPolicy=e),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",c),s.removeEventListener("error",u)}},[s,r,e]),a}var Bbe=Dbe,$be=Fbe,Vbe=Lbe;const dx=O.forwardRef(({className:t,...e},r)=>p.jsx(Bbe,{ref:r,className:Pt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));dx.displayName=Bbe.displayName;const K8=O.forwardRef(({className:t,...e},r)=>p.jsx($be,{ref:r,className:Pt("aspect-square h-full w-full",t),...e}));K8.displayName=$be.displayName;const hx=O.forwardRef(({className:t,...e},r)=>p.jsx(Vbe,{ref:r,className:Pt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));hx.displayName=Vbe.displayName;const Lqe=NO("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ns({className:t,variant:e,...r}){return p.jsx("div",{className:Pt(Lqe({variant:e}),t),...r})}function Bqe(){var i;const{user:t,signOut:e}=Dm(),n=t?(s=>{const a={admin:{label:"Administrador",variant:"default"},gerente:{label:"Gerente",variant:"secondary"},agente:{label:"Agente",variant:"outline"},atendente:{label:"Atendente",variant:"outline"}};return a[s]||a.agente})(t.role):null;return p.jsxs("header",{className:"h-16 border-b border-border bg-card/80 backdrop-blur-sm sticky top-0 z-30 flex items-center justify-between px-6",children:[p.jsxs("div",{className:"relative w-96",children:[p.jsx(JK,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),p.jsx(pt,{placeholder:"Buscar clientes, produtos, vendas...",className:"pl-9 bg-background border-border/50"})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs(mt,{variant:"ghost",size:"icon",className:"relative",children:[p.jsx(rge,{className:"w-5 h-5"}),p.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-destructive rounded-full animate-pulse-soft"})]}),p.jsxs(Cbe,{children:[p.jsx(kbe,{asChild:!0,children:p.jsxs(mt,{variant:"ghost",className:"flex items-center gap-2 px-2",children:[p.jsxs(dx,{className:"w-8 h-8",children:[p.jsx(K8,{src:t==null?void 0:t.photoURL}),p.jsx(hx,{className:"bg-primary text-primary-foreground text-xs",children:((i=t==null?void 0:t.displayName)==null?void 0:i.split(" ").map(s=>s[0]).join("").slice(0,2))||"U"})]}),p.jsxs("div",{className:"text-left hidden md:block",children:[p.jsx("p",{className:"text-sm font-medium",children:(t==null?void 0:t.displayName)||"Usurio"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:n==null?void 0:n.label})]})]})}),p.jsxs(AX,{align:"end",className:"w-56",children:[p.jsx(Pbe,{children:p.jsxs("div",{className:"flex flex-col space-y-1",children:[p.jsx("p",{className:"text-sm font-medium",children:t==null?void 0:t.displayName}),p.jsx("p",{className:"text-xs text-muted-foreground",children:t==null?void 0:t.email}),n&&p.jsx(Ns,{variant:n.variant,className:"w-fit mt-1",children:n.label})]})}),p.jsx(Nbe,{}),p.jsxs(hb,{children:[p.jsx(tY,{className:"w-4 h-4 mr-2"}),"Perfil"]}),p.jsx(hb,{onClick:e,className:"text-destructive focus:text-destructive",children:"Sair"})]})]})]})]})}function Od({children:t}){return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(aHe,{}),p.jsxs("div",{className:"pl-[260px] transition-all duration-300",children:[p.jsx(Bqe,{}),p.jsx("main",{className:"p-6",children:t})]})]})}const Tr=O.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:Pt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Tr.displayName="Card";const fj=O.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:Pt("flex flex-col space-y-1.5 p-6",t),...e}));fj.displayName="CardHeader";const pj=O.forwardRef(({className:t,...e},r)=>p.jsx("h3",{ref:r,className:Pt("text-2xl font-semibold leading-none tracking-tight",t),...e}));pj.displayName="CardTitle";const Ube=O.forwardRef(({className:t,...e},r)=>p.jsx("p",{ref:r,className:Pt("text-sm text-muted-foreground",t),...e}));Ube.displayName="CardDescription";const tA=O.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:Pt("p-6 pt-0",t),...e}));tA.displayName="CardContent";const $qe=O.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:Pt("flex items-center p-6 pt-0",t),...e}));$qe.displayName="CardFooter";var Vqe="Label",zbe=O.forwardRef((t,e)=>p.jsx(pr.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));zbe.displayName=Vqe;var Hbe=zbe;const Uqe=NO("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Xe=O.forwardRef(({className:t,...e},r)=>p.jsx(Hbe,{ref:r,className:Pt(Uqe(),t),...e}));Xe.displayName=Hbe.displayName;function zqe(){const{signInWithGoogle:t}=Dm(),[e,r]=O.useState(""),[n,i]=O.useState(""),[s,a]=O.useState(!1),o=async l=>{if(l.preventDefault(),!e||!n){Be.error("Preencha email e senha");return}a(!0);try{await s7e(Ay,e,n),Be.success("Login realizado com sucesso!")}catch(c){console.error("Erro no login:",c);const u=c;u.code==="auth/user-not-found"||u.code==="auth/wrong-password"?Be.error("Email ou senha incorretos"):u.code==="auth/invalid-email"?Be.error("Email invlido"):Be.error("Erro ao fazer login")}finally{a(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 via-background to-accent/10 p-4",children:p.jsxs("div",{className:"w-full max-w-md space-y-6",children:[p.jsxs(Tr,{children:[p.jsxs(fj,{className:"space-y-2 text-center",children:[p.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:p.jsx("svg",{className:"w-10 h-10 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),p.jsx(pj,{className:"text-2xl",children:"CreditFlow Manager"}),p.jsx(Ube,{children:"Sistema de Gesto de Crdito Consignado"})]}),p.jsxs(tA,{className:"space-y-4",children:[p.jsxs("form",{onSubmit:o,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"email",children:"Email"}),p.jsx(pt,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:l=>r(l.target.value),disabled:s})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"password",children:"Senha"}),p.jsx(pt,{id:"password",type:"password",placeholder:"",value:n,onChange:l=>i(l.target.value),disabled:s})]}),p.jsxs(mt,{type:"submit",className:"w-full gap-2",size:"lg",disabled:s,children:[p.jsx($De,{className:"w-5 h-5"}),s?"Entrando...":"Entrar com Email"]})]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx(qi,{})}),p.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:p.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Ou continue com"})})]}),p.jsxs(mt,{onClick:t,variant:"outline",className:"w-full gap-2",size:"lg",children:[p.jsx(IDe,{className:"w-5 h-5"}),"Entrar com Google"]}),p.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Ao fazer login, voc concorda com nossos termos de servio e poltica de privacidade."})]})]}),p.jsx(Tr,{className:"bg-muted/50",children:p.jsxs(tA,{className:"pt-6 pb-6 text-center space-y-3",children:[p.jsx("p",{className:"text-sm font-medium text-foreground",children:"Desenvolvido por VMC Solues Web"}),p.jsxs("a",{href:"https://wa.me/5534999188660",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-primary transition-colors",children:[p.jsx(VDe,{className:"w-4 h-4"}),p.jsx("span",{children:"(34) 99918-8660"})]})]})})]})})}const Hqe=NO("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ZO=O.forwardRef(({className:t,variant:e,...r},n)=>p.jsx("div",{ref:n,role:"alert",className:Pt(Hqe({variant:e}),t),...r}));ZO.displayName="Alert";const Y8=O.forwardRef(({className:t,...e},r)=>p.jsx("h5",{ref:r,className:Pt("mb-1 font-medium leading-none tracking-tight",t),...e}));Y8.displayName="AlertTitle";const QO=O.forwardRef(({className:t,...e},r)=>p.jsx("div",{ref:r,className:Pt("text-sm [&_p]:leading-relaxed",t),...e}));QO.displayName="AlertDescription";function Mx({children:t,allowedRoles:e}){const{user:r,hasPermission:n}=Dm();return r?e&&!n(e)?p.jsx("div",{className:"p-8",children:p.jsxs(ZO,{variant:"destructive",children:[p.jsx(cge,{className:"h-4 w-4"}),p.jsx(Y8,{children:"Acesso Negado"}),p.jsx(QO,{children:"Voc no tem permisso para acessar esta pgina. Entre em contato com o administrador."})]})}):p.jsx(p.Fragment,{children:t}):null}class Wqe extends O.Component{constructor(r){super(r);Le(this,"handleReset",()=>{this.setState({hasError:!1,error:null}),window.location.reload()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary capturou erro:",r,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:p.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:p.jsx(Tr,{className:"max-w-md w-full p-6",children:p.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center",children:p.jsx(t8,{className:"w-8 h-8 text-red-600"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Algo deu errado"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Ocorreu um erro inesperado. Por favor, tente recarregar a pgina."})]}),this.state.error&&p.jsxs("details",{className:"w-full text-left",children:[p.jsx("summary",{className:"text-sm text-muted-foreground cursor-pointer hover:text-foreground",children:"Detalhes do erro"}),p.jsx("pre",{className:"mt-2 text-xs bg-muted p-3 rounded overflow-auto max-h-40",children:this.state.error.message})]}),p.jsxs(mt,{onClick:this.handleReset,className:"gap-2",children:[p.jsx(MF,{className:"w-4 h-4"}),"Recarregar pgina"]})]})})}):this.props.children}}const qqe={primary:"bg-primary/10 text-primary",accent:"bg-accent/10 text-accent",success:"bg-success/10 text-success",warning:"bg-warning/10 text-warning",destructive:"bg-destructive/10 text-destructive"};function D3({title:t,value:e,change:r,changeType:n="neutral",icon:i,iconColor:s="primary"}){return p.jsx("div",{className:"stat-card card-hover animate-fade-in",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t}),p.jsx("p",{className:"text-2xl font-bold",children:e}),r&&p.jsx("p",{className:Pt("text-xs font-medium",n==="positive"&&"text-success",n==="negative"&&"text-destructive",n==="neutral"&&"text-muted-foreground"),children:r})]}),p.jsx("div",{className:Pt("p-3 rounded-xl",qqe[s]),children:p.jsx(i,{className:"w-5 h-5"})})]})})}const Ff=O.forwardRef(({className:t,...e},r)=>p.jsx("div",{className:"relative w-full overflow-auto",children:p.jsx("table",{ref:r,className:Pt("w-full caption-bottom text-sm",t),...e})}));Ff.displayName="Table";const jf=O.forwardRef(({className:t,...e},r)=>p.jsx("thead",{ref:r,className:Pt("[&_tr]:border-b",t),...e}));jf.displayName="TableHeader";const Lf=O.forwardRef(({className:t,...e},r)=>p.jsx("tbody",{ref:r,className:Pt("[&_tr:last-child]:border-0",t),...e}));Lf.displayName="TableBody";const Gqe=O.forwardRef(({className:t,...e},r)=>p.jsx("tfoot",{ref:r,className:Pt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Gqe.displayName="TableFooter";const di=O.forwardRef(({className:t,...e},r)=>p.jsx("tr",{ref:r,className:Pt("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));di.displayName="TableRow";const Xt=O.forwardRef(({className:t,...e},r)=>p.jsx("th",{ref:r,className:Pt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Xt.displayName="TableHead";const Vt=O.forwardRef(({className:t,...e},r)=>p.jsx("td",{ref:r,className:Pt("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Vt.displayName="TableCell";const Kqe=O.forwardRef(({className:t,...e},r)=>p.jsx("caption",{ref:r,className:Pt("mt-4 text-sm text-muted-foreground",t),...e}));Kqe.displayName="TableCaption";function mc({className:t,...e}){return p.jsx("div",{className:Pt("animate-pulse rounded-md bg-muted",t),...e})}const X8="clientes";async function Yqe(t){return(await Hf(pi(_r,X8),{...t,status:t.status||"ativo",createdAt:Wr.now(),updatedAt:Wr.now()})).id}async function Xqe(t,e){const r=ri(_r,X8,t);await Ac(r,{...e,updatedAt:Wr.now()})}async function Zqe(t){await i2(ri(_r,X8,t))}async function wC(){try{return(await fo(kc(pi(_r,X8),zf("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){return console.error("Erro ao buscar clientes:",t),[]}}const Wbe="vendas";async function _C(){try{return(await fo(kc(pi(_r,Wbe),zf("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){return console.error("Erro ao buscar vendas:",t),[]}}async function Qqe(t){try{return(await fo(kc(pi(_r,Wbe),oN("clienteId","==",t)))).docs.map(n=>({id:n.id,...n.data()})).sort((n,i)=>{const s=n.createdAt instanceof Date?n.createdAt:new Date(n.createdAt);return(i.createdAt instanceof Date?i.createdAt:new Date(i.createdAt)).getTime()-s.getTime()})}catch(e){return console.error("Erro ao buscar vendas do cliente:",e),[]}}const Z8="fornecedores";async function Jqe(t){return(await Hf(pi(_r,Z8),{...t,status:t.status||"ativo",createdAt:Wr.now(),updatedAt:Wr.now()})).id}async function eGe(t,e){const r=ri(_r,Z8,t);await Ac(r,{...e,updatedAt:Wr.now()})}async function tGe(t){await i2(ri(_r,Z8,t))}async function x_(){try{return(await fo(kc(pi(_r,Z8),zf("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){return console.error("Erro ao buscar fornecedores:",t),[]}}const Q8="funcionarios";async function rGe(t){return(await Hf(pi(_r,Q8),{...t,status:t.status||"ativo",createdAt:Wr.now(),updatedAt:Wr.now()})).id}async function nGe(t,e){const r=ri(_r,Q8,t);await Ac(r,{...e,updatedAt:Wr.now()})}async function iGe(t){await i2(ri(_r,Q8,t))}async function fx(){try{return(await fo(kc(pi(_r,Q8),zf("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){return console.error("Erro ao buscar funcionrios:",t),[]}}const TX="produtos";async function sGe(t,e){const r=ri(_r,TX,t);await Ac(r,{...e,updatedAt:Wr.now()})}async function aGe(t){await i2(ri(_r,TX,t))}async function SC(){try{return(await fo(kc(pi(_r,TX),zf("createdAt","desc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){return console.error("Erro ao buscar produtos:",t),[]}}const CX="users";async function oGe(){return(await fo(kc(pi(_r,CX),zf("createdAt","desc")))).docs.map(e=>{var r,n;return{id:e.id,uid:e.data().uid,email:e.data().email,displayName:e.data().displayName,photoURL:e.data().photoURL,role:e.data().role,status:e.data().status||"ativo",aprovado:e.data().aprovado||!1,createdAt:(r=e.data().createdAt)==null?void 0:r.toDate(),updatedAt:(n=e.data().updatedAt)==null?void 0:n.toDate()}})}async function lGe(t,e){const r=ri(_r,CX,t);await Ac(r,{role:e,updatedAt:Wr.now()})}async function Mie(t,e){const r=ri(_r,CX,t);await Ac(r,{status:e,updatedAt:Wr.now()})}const qbe="salariosVigentes";async function cGe(){try{return(await fo(kc(pi(_r,qbe),zf("dataVigencia","desc")))).docs.map(e=>{var r,n,i;return{id:e.id,funcionarioId:e.data().funcionarioId,salarioBase:e.data().salarioBase,dataVigencia:((r=e.data().dataVigencia)==null?void 0:r.toDate())||new Date,observacao:e.data().observacao,criadoEm:((n=e.data().criadoEm)==null?void 0:n.toDate())||new Date,atualizadoEm:((i=e.data().atualizadoEm)==null?void 0:i.toDate())||new Date}})}catch(t){return console.error("Erro ao buscar salrios vigentes:",t),[]}}async function r9(t){try{const e=await fo(kc(pi(_r,qbe),oN("funcionarioId","==",t)));if(e.empty)return null;const r=e.docs.map(n=>{var i,s,a;return{id:n.id,funcionarioId:n.data().funcionarioId,salarioBase:n.data().salarioBase,dataVigencia:((i=n.data().dataVigencia)==null?void 0:i.toDate())||new Date,observacao:n.data().observacao,criadoEm:((s=n.data().criadoEm)==null?void 0:s.toDate())||new Date,atualizadoEm:((a=n.data().atualizadoEm)==null?void 0:a.toDate())||new Date}});return r.sort((n,i)=>i.dataVigencia.getTime()-n.dataVigencia.getTime()),r[0]}catch(e){return console.error("Erro ao buscar salrio vigente do funcionrio:",e),null}}const J8="despesas";async function uGe(t){try{return(await Hf(pi(_r,J8),{...t,createdAt:Wr.now(),updatedAt:Wr.now()})).id}catch(e){throw console.error("Erro ao adicionar despesa:",e),e}}async function dGe(t,e){try{const r=ri(_r,J8,t);await Ac(r,{...e,updatedAt:Wr.now()})}catch(r){throw console.error("Erro ao atualizar despesa:",r),r}}async function hGe(t){try{await i2(ri(_r,J8,t))}catch(e){throw console.error("Erro ao deletar despesa:",e),e}}async function Gbe(){try{return(await fo(kc(pi(_r,J8),zf("dataVencimento","desc")))).docs.map(e=>{var r,n;return{id:e.id,...e.data(),createdAt:(r=e.data().createdAt)==null?void 0:r.toDate(),updatedAt:(n=e.data().updatedAt)==null?void 0:n.toDate()}})}catch(t){return console.error("Erro ao buscar despesas:",t),[]}}const Kbe="bancos";async function fGe(t){return(await Hf(pi(_r,Kbe),{...t,status:t.status||"ativo",createdAt:Wr.now(),updatedAt:Wr.now()})).id}async function kX(){try{return(await fo(kc(pi(_r,Kbe),zf("nome","asc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){return console.error("Erro ao buscar bancos:",t),[]}}const eB="categoriasProdutos";async function PX(t){return(await Hf(pi(_r,eB),{...t,status:t.status||"ativo",createdAt:Wr.now(),updatedAt:Wr.now()})).id}async function Fie(t,e){const r=ri(_r,eB,t);await Ac(r,{...e,updatedAt:Wr.now()})}async function pGe(t){await i2(ri(_r,eB,t))}async function uN(){try{return(await fo(kc(pi(_r,eB),zf("nome","asc")))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){return console.error("Erro ao buscar categorias de produtos:",t),[]}}function Zn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function gd(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function uc(t,e){const r=Zn(t);return isNaN(e)?gd(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Ah(t,e){const r=Zn(t);if(isNaN(e))return gd(t,NaN);if(!e)return r;const n=r.getDate(),i=gd(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const NX=6048e5,mGe=864e5,Ybe=6e4,Xbe=36e5;let gGe={};function JO(){return gGe}function Tm(t,e){var o,l,c,u;const r=JO(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Zn(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function b_(t){return Tm(t,{weekStartsOn:1})}function Zbe(t){const e=Zn(t),r=e.getFullYear(),n=gd(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=b_(n),s=gd(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=b_(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function wT(t){const e=Zn(t);return e.setHours(0,0,0,0),e}function mj(t){const e=Zn(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function nm(t,e){const r=wT(t),n=wT(e),i=+r-mj(r),s=+n-mj(n);return Math.round((i-s)/mGe)}function vGe(t){const e=Zbe(t),r=gd(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),b_(r)}function Gz(t,e){const r=e*7;return uc(t,r)}function yGe(t,e){return Ah(t,e*12)}function xGe(t){let e;return t.forEach(function(r){const n=Zn(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function bGe(t){let e;return t.forEach(r=>{const n=Zn(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function nu(t,e){const r=wT(t),n=wT(e);return+r==+n}function IX(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function wGe(t){if(!IX(t)&&typeof t!="number")return!1;const e=Zn(t);return!isNaN(Number(e))}function dN(t,e){const r=Zn(t),n=Zn(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function _Ge(t,e,r){const n=Tm(t,r),i=Tm(e,r),s=+n-mj(n),a=+i-mj(i);return Math.round((s-a)/NX)}function Cm(t){const e=Zn(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function _a(t){const e=Zn(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Qbe(t){const e=Zn(t),r=gd(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function OX(t,e){var o,l,c,u;const r=JO(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Zn(t),s=i.getDay(),a=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function Jbe(t){return OX(t,{weekStartsOn:1})}const SGe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},AGe=(t,e,r)=>{let n;const i=SGe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function rA(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const EGe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},TGe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CGe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kGe={date:rA({formats:EGe,defaultWidth:"full"}),time:rA({formats:TGe,defaultWidth:"full"}),dateTime:rA({formats:CGe,defaultWidth:"full"})},PGe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},NGe=(t,e,r,n)=>PGe[t];function Qp(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const IGe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},OGe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RGe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},DGe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},MGe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},FGe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jGe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},LGe={ordinalNumber:jGe,era:Qp({values:IGe,defaultWidth:"wide"}),quarter:Qp({values:OGe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Qp({values:RGe,defaultWidth:"wide"}),day:Qp({values:DGe,defaultWidth:"wide"}),dayPeriod:Qp({values:MGe,defaultWidth:"wide",formattingValues:FGe,defaultFormattingWidth:"wide"})};function Jp(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?$Ge(o,d=>d.test(a)):BGe(o,d=>d.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}function BGe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function $Ge(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function ewe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const VGe=/^(\d+)(th|st|nd|rd)?/i,UGe=/\d+/i,zGe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},HGe={any:[/^b/i,/^(a|c)/i]},WGe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qGe={any:[/1/i,/2/i,/3/i,/4/i]},GGe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},KGe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},YGe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},XGe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ZGe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QGe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},JGe={ordinalNumber:ewe({matchPattern:VGe,parsePattern:UGe,valueCallback:t=>parseInt(t,10)}),era:Jp({matchPatterns:zGe,defaultMatchWidth:"wide",parsePatterns:HGe,defaultParseWidth:"any"}),quarter:Jp({matchPatterns:WGe,defaultMatchWidth:"wide",parsePatterns:qGe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Jp({matchPatterns:GGe,defaultMatchWidth:"wide",parsePatterns:KGe,defaultParseWidth:"any"}),day:Jp({matchPatterns:YGe,defaultMatchWidth:"wide",parsePatterns:XGe,defaultParseWidth:"any"}),dayPeriod:Jp({matchPatterns:ZGe,defaultMatchWidth:"any",parsePatterns:QGe,defaultParseWidth:"any"})},twe={code:"en-US",formatDistance:AGe,formatLong:kGe,formatRelative:NGe,localize:LGe,match:JGe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function eKe(t){const e=Zn(t);return nm(e,Qbe(e))+1}function rwe(t){const e=Zn(t),r=+b_(e)-+vGe(e);return Math.round(r/NX)+1}function nwe(t,e){var u,d,h,f;const r=Zn(t),n=r.getFullYear(),i=JO(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(h=i.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,a=gd(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=Tm(a,e),l=gd(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const c=Tm(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function tKe(t,e){var o,l,c,u;const r=JO(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=nwe(t,e),s=gd(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Tm(s,e)}function iwe(t,e){const r=Zn(t),n=+Tm(r,e)-+tKe(r,e);return Math.round(n/NX)+1}function wi(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Iv={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return wi(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):wi(r+1,2)},d(t,e){return wi(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return wi(t.getHours()%12||12,e.length)},H(t,e){return wi(t.getHours(),e.length)},m(t,e){return wi(t.getMinutes(),e.length)},s(t,e){return wi(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return wi(i,e.length)}},L2={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jie={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Iv.y(t,e)},Y:function(t,e,r,n){const i=nwe(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return wi(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):wi(s,e.length)},R:function(t,e){const r=Zbe(t);return wi(r,e.length)},u:function(t,e){const r=t.getFullYear();return wi(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return wi(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return wi(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Iv.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return wi(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=iwe(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):wi(i,e.length)},I:function(t,e,r){const n=rwe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):wi(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Iv.d(t,e)},D:function(t,e,r){const n=eKe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):wi(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return wi(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return wi(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return wi(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=L2.noon:n===0?i=L2.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=L2.evening:n>=12?i=L2.afternoon:n>=4?i=L2.morning:i=L2.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Iv.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Iv.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):wi(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):wi(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Iv.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Iv.s(t,e)},S:function(t,e){return Iv.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Bie(n);case"XXXX":case"XX":return Hx(n);case"XXXXX":case"XXX":default:return Hx(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Bie(n);case"xxxx":case"xx":return Hx(n);case"xxxxx":case"xxx":default:return Hx(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Lie(n,":");case"OOOO":default:return"GMT"+Hx(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Lie(n,":");case"zzzz":default:return"GMT"+Hx(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return wi(n,e.length)},T:function(t,e,r){const n=t.getTime();return wi(n,e.length)}};function Lie(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+wi(s,2)}function Bie(t,e){return t%60===0?(t>0?"-":"+")+wi(Math.abs(t)/60,2):Hx(t,e)}function Hx(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=wi(Math.trunc(n/60),2),s=wi(n%60,2);return r+i+e+s}const $ie=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},swe=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},rKe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return $ie(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",$ie(n,e)).replace("{{time}}",swe(i,e))},nKe={p:swe,P:rKe},iKe=/^D+$/,sKe=/^Y+$/,aKe=["D","DD","YY","YYYY"];function oKe(t){return iKe.test(t)}function lKe(t){return sKe.test(t)}function cKe(t,e,r){const n=uKe(t,e,r);if(console.warn(n),aKe.includes(t))throw new RangeError(n)}function uKe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dKe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hKe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fKe=/^'([^]*?)'?$/,pKe=/''/g,mKe=/[a-zA-Z]/;function Pr(t,e,r){var u,d,h,f,g,m,v,x;const n=JO(),i=(r==null?void 0:r.locale)??n.locale??twe,s=(r==null?void 0:r.firstWeekContainsDate)??((d=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(h=n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((x=(v=n.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,o=Zn(t);if(!wGe(o))throw new RangeError("Invalid time value");let l=e.match(hKe).map(w=>{const b=w[0];if(b==="p"||b==="P"){const _=nKe[b];return _(w,i.formatLong)}return w}).join("").match(dKe).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:gKe(w)};if(jie[b])return{isToken:!0,value:w};if(b.match(mKe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(w=>{if(!w.isToken)return w.value;const b=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&lKe(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&oKe(b))&&cKe(b,e,String(t));const _=jie[b[0]];return _(o,b,i.localize,c)}).join("")}function gKe(t){const e=t.match(fKe);return e?e[1].replace(pKe,"'"):t}function vKe(t){const e=Zn(t),r=e.getFullYear(),n=e.getMonth(),i=gd(t,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function yKe(t){return Math.trunc(+Zn(t)/1e3)}function xKe(t){const e=Zn(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function bKe(t,e){return _Ge(xKe(t),_a(t),e)+1}function Kz(t,e){const r=Zn(t),n=Zn(e);return r.getTime()>n.getTime()}function awe(t,e){const r=Zn(t),n=Zn(e);return+r<+n}function RX(t,e){const r=Zn(t),n=Zn(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function wKe(t,e){const r=Zn(t),n=Zn(e);return r.getFullYear()===n.getFullYear()}function n9(t,e){return uc(t,-e)}function _Ke(t,e){const n=TKe(t);let i;if(n.date){const l=CKe(n.date,2);i=kKe(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,o;if(n.time&&(a=PKe(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(o=NKe(n.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(s+a),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(s+a+o)}const M3={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},SKe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,AKe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,EKe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function TKe(t){const e={},r=t.split(M3.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],M3.timeZoneDelimiter.test(e.date)&&(e.date=t.split(M3.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=M3.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function CKe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function kKe(t,e){if(e===null)return new Date(NaN);const r=t.match(SKe);if(!r)return new Date(NaN);const n=!!r[4],i=_k(r[1]),s=_k(r[2])-1,a=_k(r[3]),o=_k(r[4]),l=_k(r[5])-1;if(n)return MKe(e,o,l)?IKe(e,o,l):new Date(NaN);{const c=new Date(0);return!RKe(e,s,a)||!DKe(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,a)),c)}}function _k(t){return t?parseInt(t):1}function PKe(t){const e=t.match(AKe);if(!e)return NaN;const r=i9(e[1]),n=i9(e[2]),i=i9(e[3]);return FKe(r,n,i)?r*Xbe+n*Ybe+i*1e3:NaN}function i9(t){return t&&parseFloat(t.replace(",","."))||0}function NKe(t){if(t==="Z")return 0;const e=t.match(EKe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return jKe(n,i)?r*(n*Xbe+i*Ybe):NaN}function IKe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const OKe=[31,null,31,30,31,30,31,31,30,31,30,31];function owe(t){return t%400===0||t%4===0&&t%100!==0}function RKe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(OKe[e]||(owe(t)?29:28))}function DKe(t,e){return e>=1&&e<=(owe(t)?366:365)}function MKe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function FKe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function jKe(t,e){return e>=0&&e<=59}function s9(t,e){const r=Zn(t),n=r.getFullYear(),i=r.getDate(),s=gd(t,0);s.setFullYear(n,e,15),s.setHours(0,0,0,0);const a=vKe(s);return r.setMonth(e,Math.min(i,a)),r}function Vie(t,e){const r=Zn(t);return isNaN(+r)?gd(t,NaN):(r.setFullYear(e),r)}function hN(t,e){return Ah(t,-e)}const LKe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},BKe=(t,e,r)=>{let n;const i=LKe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},$Ke={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},VKe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},UKe={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zKe={date:rA({formats:$Ke,defaultWidth:"full"}),time:rA({formats:VKe,defaultWidth:"full"}),dateTime:rA({formats:UKe,defaultWidth:"full"})},HKe={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},WKe=(t,e,r,n)=>{const i=HKe[t];return typeof i=="function"?i(e):i},qKe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},GKe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},KKe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},YKe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},XKe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},ZKe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},QKe=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"":r+""},JKe={ordinalNumber:QKe,era:Qp({values:qKe,defaultWidth:"wide"}),quarter:Qp({values:GKe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Qp({values:KKe,defaultWidth:"wide"}),day:Qp({values:YKe,defaultWidth:"wide"}),dayPeriod:Qp({values:XKe,defaultWidth:"wide",formattingValues:ZKe,defaultFormattingWidth:"wide"})},eYe=/^(\d+)[o]?/i,tYe=/\d+/i,rYe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},nYe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},iYe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},sYe={any:[/1/i,/2/i,/3/i,/4/i]},aYe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},oYe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},lYe={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},cYe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},uYe={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},dYe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},hYe={ordinalNumber:ewe({matchPattern:eYe,parsePattern:tYe,valueCallback:t=>parseInt(t,10)}),era:Jp({matchPatterns:rYe,defaultMatchWidth:"wide",parsePatterns:nYe,defaultParseWidth:"any"}),quarter:Jp({matchPatterns:iYe,defaultMatchWidth:"wide",parsePatterns:sYe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Jp({matchPatterns:aYe,defaultMatchWidth:"wide",parsePatterns:oYe,defaultParseWidth:"any"}),day:Jp({matchPatterns:lYe,defaultMatchWidth:"wide",parsePatterns:cYe,defaultParseWidth:"any"}),dayPeriod:Jp({matchPatterns:uYe,defaultMatchWidth:"any",parsePatterns:dYe,defaultParseWidth:"any"})},Zr={code:"pt-BR",formatDistance:BKe,formatLong:zKe,formatRelative:WKe,localize:JKe,match:hYe,options:{weekStartsOn:0,firstWeekContainsDate:1}},fYe={aprovada:{label:"Aprovado",variant:"default",className:"bg-success hover:bg-success/90"},pendente:{label:"Pendente",variant:"secondary",className:"bg-warning hover:bg-warning/90 text-warning-foreground"},em_analise:{label:"Em Anlise",variant:"outline",className:"border-primary text-primary"},recusada:{label:"Recusado",variant:"destructive",className:""}};function pYe(){const[t,e]=O.useState([]),[r,n]=O.useState(!0);O.useEffect(()=>{i()},[]);const i=async()=>{try{const[s,a,o]=await Promise.all([_C(),wC(),SC()]),l=s.slice(0,5).map(c=>{const u=a.find(h=>h.id===c.clienteId),d=o.find(h=>h.id===c.produtoId);return{...c,clienteNome:(u==null?void 0:u.nome)||"Cliente no encontrado",produtoNome:(d==null?void 0:d.nome)||"Produto no encontrado"}});e(l)}catch(s){console.error("Erro ao carregar vendas:",s)}finally{n(!1)}};return r?p.jsxs("div",{className:"bg-card rounded-xl border border-border/50 shadow-sm overflow-hidden",children:[p.jsxs("div",{className:"p-6 border-b border-border",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Vendas Recentes"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"ltimas transaes registradas no sistema"})]}),p.jsx("div",{className:"p-6 space-y-4",children:[1,2,3,4,5].map(s=>p.jsx(mc,{className:"h-16 w-full"},s))})]}):p.jsxs("div",{className:"bg-card rounded-xl border border-border/50 shadow-sm overflow-hidden animate-fade-in",children:[p.jsxs("div",{className:"p-6 border-b border-border",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Vendas Recentes"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"ltimas transaes registradas no sistema"})]}),p.jsxs(Ff,{children:[p.jsx(jf,{children:p.jsxs(di,{className:"hover:bg-transparent",children:[p.jsx(Xt,{children:"Cliente"}),p.jsx(Xt,{children:"Produto"}),p.jsx(Xt,{children:"Valor"}),p.jsx(Xt,{children:"Comisso"}),p.jsx(Xt,{children:"Status"}),p.jsx(Xt,{className:"text-right",children:"Data"})]})}),p.jsx(Lf,{children:t.length===0?p.jsx(di,{children:p.jsx(Vt,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"Nenhuma venda registrada"})}):t.map(s=>{var l,c,u;const a=fYe[s.status],o=((c=(l=s.createdAt)==null?void 0:l.toDate)==null?void 0:c.call(l))||new Date(s.createdAt);return p.jsxs(di,{className:"cursor-pointer",children:[p.jsx(Vt,{children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(dx,{className:"w-8 h-8",children:p.jsx(hx,{className:"bg-secondary text-secondary-foreground text-xs",children:((u=s.clienteNome)==null?void 0:u.split(" ").map(d=>d[0]).join(""))||"??"})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-sm",children:s.clienteNome}),p.jsx("p",{className:"text-xs text-muted-foreground",children:s.id})]})]})}),p.jsx(Vt,{className:"text-sm",children:s.produtoNome}),p.jsxs(Vt,{className:"font-medium",children:["R$ ",s.valorContrato.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsxs(Vt,{className:"text-success font-medium",children:["R$ ",s.comissao.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsx(Vt,{children:p.jsx(Ns,{variant:a.variant,className:a.className,children:a.label})}),p.jsx(Vt,{className:"text-right text-sm text-muted-foreground",children:Pr(o,"dd/MM/yyyy",{locale:Zr})})]},s.id)})})]})]})}var mYe=Array.isArray,hu=mYe,gYe=typeof t3=="object"&&t3&&t3.Object===Object&&t3,lwe=gYe,vYe=lwe,yYe=typeof self=="object"&&self&&self.Object===Object&&self,xYe=vYe||yYe||Function("return this")(),Mm=xYe,bYe=Mm,wYe=bYe.Symbol,eR=wYe,Uie=eR,cwe=Object.prototype,_Ye=cwe.hasOwnProperty,SYe=cwe.toString,Sk=Uie?Uie.toStringTag:void 0;function AYe(t){var e=_Ye.call(t,Sk),r=t[Sk];try{t[Sk]=void 0;var n=!0}catch{}var i=SYe.call(t);return n&&(e?t[Sk]=r:delete t[Sk]),i}var EYe=AYe,TYe=Object.prototype,CYe=TYe.toString;function kYe(t){return CYe.call(t)}var PYe=kYe,zie=eR,NYe=EYe,IYe=PYe,OYe="[object Null]",RYe="[object Undefined]",Hie=zie?zie.toStringTag:void 0;function DYe(t){return t==null?t===void 0?RYe:OYe:Hie&&Hie in Object(t)?NYe(t):IYe(t)}var Jg=DYe;function MYe(t){return t!=null&&typeof t=="object"}var ev=MYe,FYe=Jg,jYe=ev,LYe="[object Symbol]";function BYe(t){return typeof t=="symbol"||jYe(t)&&FYe(t)==LYe}var AC=BYe,$Ye=hu,VYe=AC,UYe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zYe=/^\w*$/;function HYe(t,e){if($Ye(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||VYe(t)?!0:zYe.test(t)||!UYe.test(t)||e!=null&&t in Object(e)}var DX=HYe;function WYe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var px=WYe;const EC=ki(px);var qYe=Jg,GYe=px,KYe="[object AsyncFunction]",YYe="[object Function]",XYe="[object GeneratorFunction]",ZYe="[object Proxy]";function QYe(t){if(!GYe(t))return!1;var e=qYe(t);return e==YYe||e==XYe||e==KYe||e==ZYe}var MX=QYe;const fn=ki(MX);var JYe=Mm,eXe=JYe["__core-js_shared__"],tXe=eXe,a9=tXe,Wie=function(){var t=/[^.]+$/.exec(a9&&a9.keys&&a9.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function rXe(t){return!!Wie&&Wie in t}var nXe=rXe,iXe=Function.prototype,sXe=iXe.toString;function aXe(t){if(t!=null){try{return sXe.call(t)}catch{}try{return t+""}catch{}}return""}var uwe=aXe,oXe=MX,lXe=nXe,cXe=px,uXe=uwe,dXe=/[\\^$.*+?()[\]{}|]/g,hXe=/^\[object .+?Constructor\]$/,fXe=Function.prototype,pXe=Object.prototype,mXe=fXe.toString,gXe=pXe.hasOwnProperty,vXe=RegExp("^"+mXe.call(gXe).replace(dXe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yXe(t){if(!cXe(t)||lXe(t))return!1;var e=oXe(t)?vXe:hXe;return e.test(uXe(t))}var xXe=yXe;function bXe(t,e){return t==null?void 0:t[e]}var wXe=bXe,_Xe=xXe,SXe=wXe;function AXe(t,e){var r=SXe(t,e);return _Xe(r)?r:void 0}var o2=AXe,EXe=o2,TXe=EXe(Object,"create"),tB=TXe,qie=tB;function CXe(){this.__data__=qie?qie(null):{},this.size=0}var kXe=CXe;function PXe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var NXe=PXe,IXe=tB,OXe="__lodash_hash_undefined__",RXe=Object.prototype,DXe=RXe.hasOwnProperty;function MXe(t){var e=this.__data__;if(IXe){var r=e[t];return r===OXe?void 0:r}return DXe.call(e,t)?e[t]:void 0}var FXe=MXe,jXe=tB,LXe=Object.prototype,BXe=LXe.hasOwnProperty;function $Xe(t){var e=this.__data__;return jXe?e[t]!==void 0:BXe.call(e,t)}var VXe=$Xe,UXe=tB,zXe="__lodash_hash_undefined__";function HXe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=UXe&&e===void 0?zXe:e,this}var WXe=HXe,qXe=kXe,GXe=NXe,KXe=FXe,YXe=VXe,XXe=WXe;function TC(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}TC.prototype.clear=qXe;TC.prototype.delete=GXe;TC.prototype.get=KXe;TC.prototype.has=YXe;TC.prototype.set=XXe;var ZXe=TC;function QXe(){this.__data__=[],this.size=0}var JXe=QXe;function eZe(t,e){return t===e||t!==t&&e!==e}var FX=eZe,tZe=FX;function rZe(t,e){for(var r=t.length;r--;)if(tZe(t[r][0],e))return r;return-1}var rB=rZe,nZe=rB,iZe=Array.prototype,sZe=iZe.splice;function aZe(t){var e=this.__data__,r=nZe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():sZe.call(e,r,1),--this.size,!0}var oZe=aZe,lZe=rB;function cZe(t){var e=this.__data__,r=lZe(e,t);return r<0?void 0:e[r][1]}var uZe=cZe,dZe=rB;function hZe(t){return dZe(this.__data__,t)>-1}var fZe=hZe,pZe=rB;function mZe(t,e){var r=this.__data__,n=pZe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var gZe=mZe,vZe=JXe,yZe=oZe,xZe=uZe,bZe=fZe,wZe=gZe;function CC(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}CC.prototype.clear=vZe;CC.prototype.delete=yZe;CC.prototype.get=xZe;CC.prototype.has=bZe;CC.prototype.set=wZe;var nB=CC,_Ze=o2,SZe=Mm,AZe=_Ze(SZe,"Map"),jX=AZe,Gie=ZXe,EZe=nB,TZe=jX;function CZe(){this.size=0,this.__data__={hash:new Gie,map:new(TZe||EZe),string:new Gie}}var kZe=CZe;function PZe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var NZe=PZe,IZe=NZe;function OZe(t,e){var r=t.__data__;return IZe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var iB=OZe,RZe=iB;function DZe(t){var e=RZe(this,t).delete(t);return this.size-=e?1:0,e}var MZe=DZe,FZe=iB;function jZe(t){return FZe(this,t).get(t)}var LZe=jZe,BZe=iB;function $Ze(t){return BZe(this,t).has(t)}var VZe=$Ze,UZe=iB;function zZe(t,e){var r=UZe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var HZe=zZe,WZe=kZe,qZe=MZe,GZe=LZe,KZe=VZe,YZe=HZe;function kC(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}kC.prototype.clear=WZe;kC.prototype.delete=qZe;kC.prototype.get=GZe;kC.prototype.has=KZe;kC.prototype.set=YZe;var LX=kC,dwe=LX,XZe="Expected a function";function BX(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(XZe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=t.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(BX.Cache||dwe),r}BX.Cache=dwe;var hwe=BX;const ZZe=ki(hwe);var QZe=hwe,JZe=500;function eQe(t){var e=QZe(t,function(n){return r.size===JZe&&r.clear(),n}),r=e.cache;return e}var tQe=eQe,rQe=tQe,nQe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iQe=/\\(\\)?/g,sQe=rQe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(nQe,function(r,n,i,s){e.push(i?s.replace(iQe,"$1"):n||r)}),e}),aQe=sQe;function oQe(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var $X=oQe,Kie=eR,lQe=$X,cQe=hu,uQe=AC,dQe=1/0,Yie=Kie?Kie.prototype:void 0,Xie=Yie?Yie.toString:void 0;function fwe(t){if(typeof t=="string")return t;if(cQe(t))return lQe(t,fwe)+"";if(uQe(t))return Xie?Xie.call(t):"";var e=t+"";return e=="0"&&1/t==-dQe?"-0":e}var hQe=fwe,fQe=hQe;function pQe(t){return t==null?"":fQe(t)}var pwe=pQe,mQe=hu,gQe=DX,vQe=aQe,yQe=pwe;function xQe(t,e){return mQe(t)?t:gQe(t,e)?[t]:vQe(yQe(t))}var mwe=xQe,bQe=AC,wQe=1/0;function _Qe(t){if(typeof t=="string"||bQe(t))return t;var e=t+"";return e=="0"&&1/t==-wQe?"-0":e}var sB=_Qe,SQe=mwe,AQe=sB;function EQe(t,e){e=SQe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[AQe(e[r++])];return r&&r==n?t:void 0}var VX=EQe,TQe=VX;function CQe(t,e,r){var n=t==null?void 0:TQe(t,e);return n===void 0?r:n}var gwe=CQe;const yh=ki(gwe);function kQe(t){return t==null}var PQe=kQe;const Ln=ki(PQe);var NQe=Jg,IQe=hu,OQe=ev,RQe="[object String]";function DQe(t){return typeof t=="string"||!IQe(t)&&OQe(t)&&NQe(t)==RQe}var MQe=DQe;const w_=ki(MQe);var vwe={exports:{}},Pi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UX=Symbol.for("react.element"),zX=Symbol.for("react.portal"),aB=Symbol.for("react.fragment"),oB=Symbol.for("react.strict_mode"),lB=Symbol.for("react.profiler"),cB=Symbol.for("react.provider"),uB=Symbol.for("react.context"),FQe=Symbol.for("react.server_context"),dB=Symbol.for("react.forward_ref"),hB=Symbol.for("react.suspense"),fB=Symbol.for("react.suspense_list"),pB=Symbol.for("react.memo"),mB=Symbol.for("react.lazy"),jQe=Symbol.for("react.offscreen"),ywe;ywe=Symbol.for("react.module.reference");function Nh(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case UX:switch(t=t.type,t){case aB:case lB:case oB:case hB:case fB:return t;default:switch(t=t&&t.$$typeof,t){case FQe:case uB:case dB:case mB:case pB:case cB:return t;default:return e}}case zX:return e}}}Pi.ContextConsumer=uB;Pi.ContextProvider=cB;Pi.Element=UX;Pi.ForwardRef=dB;Pi.Fragment=aB;Pi.Lazy=mB;Pi.Memo=pB;Pi.Portal=zX;Pi.Profiler=lB;Pi.StrictMode=oB;Pi.Suspense=hB;Pi.SuspenseList=fB;Pi.isAsyncMode=function(){return!1};Pi.isConcurrentMode=function(){return!1};Pi.isContextConsumer=function(t){return Nh(t)===uB};Pi.isContextProvider=function(t){return Nh(t)===cB};Pi.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===UX};Pi.isForwardRef=function(t){return Nh(t)===dB};Pi.isFragment=function(t){return Nh(t)===aB};Pi.isLazy=function(t){return Nh(t)===mB};Pi.isMemo=function(t){return Nh(t)===pB};Pi.isPortal=function(t){return Nh(t)===zX};Pi.isProfiler=function(t){return Nh(t)===lB};Pi.isStrictMode=function(t){return Nh(t)===oB};Pi.isSuspense=function(t){return Nh(t)===hB};Pi.isSuspenseList=function(t){return Nh(t)===fB};Pi.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===aB||t===lB||t===oB||t===hB||t===fB||t===jQe||typeof t=="object"&&t!==null&&(t.$$typeof===mB||t.$$typeof===pB||t.$$typeof===cB||t.$$typeof===uB||t.$$typeof===dB||t.$$typeof===ywe||t.getModuleId!==void 0)};Pi.typeOf=Nh;vwe.exports=Pi;var LQe=vwe.exports,BQe=Jg,$Qe=ev,VQe="[object Number]";function UQe(t){return typeof t=="number"||$Qe(t)&&BQe(t)==VQe}var xwe=UQe;const zQe=ki(xwe);var HQe=xwe;function WQe(t){return HQe(t)&&t!=+t}var qQe=WQe;const PC=ki(qQe);var bf=function(e){return e===0?0:e>0?1:-1},fb=function(e){return w_(e)&&e.indexOf("%")===e.length-1},Ft=function(e){return zQe(e)&&!PC(e)},GQe=function(e){return Ln(e)},ao=function(e){return Ft(e)||w_(e)},KQe=0,tR=function(e){var r=++KQe;return"".concat(e||"").concat(r)},__=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ft(e)&&!w_(e))return n;var s;if(fb(e)){var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return PC(s)&&(s=n),i&&s>r&&(s=r),s},Xv=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},YQe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},oh=function(e,r){return Ft(e)&&Ft(r)?function(n){return e+n*(r-e)}:function(){return r}};function gj(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):yh(n,e))===r})}var XQe=function(e,r){return Ft(e)&&Ft(r)?e-r:w_(e)&&w_(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function nA(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Yz(t){"@babel/helpers - typeof";return Yz=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yz(t)}var ZQe=["viewBox","children"],QQe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Zie=["points","pathLength"],o9={svg:ZQe,polygon:Zie,polyline:Zie},HX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],vj=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(O.isValidElement(e)&&(n=e.props),!EC(n))return null;var i={};return Object.keys(n).forEach(function(s){HX.includes(s)&&(i[s]=r||function(a){return n[s](n,a)})}),i},JQe=function(e,r,n){return function(i){return e(r,n,i),null}},yj=function(e,r,n){if(!EC(e)||Yz(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];HX.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=JQe(a,r,n))}),i},eJe=["children"],tJe=["children"];function Qie(t,e){if(t==null)return{};var r=rJe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rJe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Xz(t){"@babel/helpers - typeof";return Xz=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xz(t)}var Jie={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},gg=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},ese=null,l9=null,WX=function t(e){if(e===ese&&Array.isArray(l9))return l9;var r=[];return O.Children.forEach(e,function(n){Ln(n)||(LQe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),l9=r,ese=e,r};function Cf(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return gg(i)}):n=[gg(e)],WX(t).forEach(function(i){var s=yh(i,"type.displayName")||yh(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function Xu(t,e){var r=Cf(t,e);return r&&r[0]}var tse=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Ft(n)||n<=0||!Ft(i)||i<=0)},nJe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],iJe=function(e){return e&&e.type&&w_(e.type)&&nJe.indexOf(e.type)>=0},sJe=function(e){return e&&Xz(e)==="object"&&"clipDot"in e},aJe=function(e,r,n,i){var s,a=(s=o9==null?void 0:o9[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!fn(e)&&(i&&a.includes(r)||QQe.includes(r))||n&&HX.includes(r)},Cn=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(O.isValidElement(e)&&(i=e.props),!EC(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;aJe((o=i)===null||o===void 0?void 0:o[a],a,r,n)&&(s[a]=i[a])}),s},Zz=function t(e,r){if(e===r)return!0;var n=O.Children.count(e);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return rse(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],a=r[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!rse(s,a))return!1}return!0},rse=function(e,r){if(Ln(e)&&Ln(r))return!0;if(!Ln(e)&&!Ln(r)){var n=e.props||{},i=n.children,s=Qie(n,eJe),a=r.props||{},o=a.children,l=Qie(a,tJe);return i&&o?nA(s,l)&&Zz(i,o):!i&&!o?nA(s,l):!1}return!1},nse=function(e,r){var n=[],i={};return WX(e).forEach(function(s,a){if(iJe(s))n.push(s);else if(s){var o=gg(s.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var d=c(s,o,a);n.push(d),i[o]=!0}}}),n},oJe=function(e){var r=e&&e.type;return r&&Jie[r]?Jie[r]:null},lJe=function(e,r){return WX(r).indexOf(e)},cJe=["children","width","height","viewBox","className","style","title","desc"];function Qz(){return Qz=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qz.apply(this,arguments)}function uJe(t,e){if(t==null)return{};var r=dJe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dJe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jz(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,c=uJe(t,cJe),u=i||{width:r,height:n,x:0,y:0},d=zn("recharts-surface",s);return Ae.createElement("svg",Qz({},Cn(c,!0,"svg"),{className:d,width:r,height:n,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ae.createElement("title",null,o),Ae.createElement("desc",null,l),e)}var hJe=["children","className"];function eH(){return eH=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eH.apply(this,arguments)}function fJe(t,e){if(t==null)return{};var r=pJe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pJe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ms=Ae.forwardRef(function(t,e){var r=t.children,n=t.className,i=fJe(t,hJe),s=zn("recharts-layer",n);return Ae.createElement("g",eH({className:s},Cn(i,!0),{ref:e}),r)}),vg=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function mJe(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=t[n+e];return s}var gJe=mJe,vJe=gJe;function yJe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:vJe(t,e,r)}var xJe=yJe,bJe="\\ud800-\\udfff",wJe="\\u0300-\\u036f",_Je="\\ufe20-\\ufe2f",SJe="\\u20d0-\\u20ff",AJe=wJe+_Je+SJe,EJe="\\ufe0e\\ufe0f",TJe="\\u200d",CJe=RegExp("["+TJe+bJe+AJe+EJe+"]");function kJe(t){return CJe.test(t)}var bwe=kJe;function PJe(t){return t.split("")}var NJe=PJe,wwe="\\ud800-\\udfff",IJe="\\u0300-\\u036f",OJe="\\ufe20-\\ufe2f",RJe="\\u20d0-\\u20ff",DJe=IJe+OJe+RJe,MJe="\\ufe0e\\ufe0f",FJe="["+wwe+"]",tH="["+DJe+"]",rH="\\ud83c[\\udffb-\\udfff]",jJe="(?:"+tH+"|"+rH+")",_we="[^"+wwe+"]",Swe="(?:\\ud83c[\\udde6-\\uddff]){2}",Awe="[\\ud800-\\udbff][\\udc00-\\udfff]",LJe="\\u200d",Ewe=jJe+"?",Twe="["+MJe+"]?",BJe="(?:"+LJe+"(?:"+[_we,Swe,Awe].join("|")+")"+Twe+Ewe+")*",$Je=Twe+Ewe+BJe,VJe="(?:"+[_we+tH+"?",tH,Swe,Awe,FJe].join("|")+")",UJe=RegExp(rH+"(?="+rH+")|"+VJe+$Je,"g");function zJe(t){return t.match(UJe)||[]}var HJe=zJe,WJe=NJe,qJe=bwe,GJe=HJe;function KJe(t){return qJe(t)?GJe(t):WJe(t)}var YJe=KJe,XJe=xJe,ZJe=bwe,QJe=YJe,JJe=pwe;function eet(t){return function(e){e=JJe(e);var r=ZJe(e)?QJe(e):void 0,n=r?r[0]:e.charAt(0),i=r?XJe(r,1).join(""):e.slice(1);return n[t]()+i}}var tet=eet,ret=tet,net=ret("toUpperCase"),iet=net;const gB=ki(iet);function ss(t){return function(){return t}}const Cwe=Math.cos,xj=Math.sin,Wf=Math.sqrt,bj=Math.PI,vB=2*bj,nH=Math.PI,iH=2*nH,Wx=1e-6,set=iH-Wx;function kwe(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function aet(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return kwe;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class oet{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?kwe:aet(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=n-e,c=i-r,u=a-e,d=o-r,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Wx)if(!(Math.abs(d*l-c*u)>Wx)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-a,g=i-o,m=l*l+c*c,v=f*f+g*g,x=Math.sqrt(m),w=Math.sqrt(h),b=s*Math.tan((nH-Math.acos((m+h-v)/(2*x*w)))/2),_=b/w,S=b/x;Math.abs(_-1)>Wx&&this._append`L${e+_*u},${r+_*d}`,this._append`A${s},${s},0,0,${+(d*f>u*g)},${this._x1=e+S*l},${this._y1=r+S*c}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=e+o,u=r+l,d=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Wx||Math.abs(this._y1-u)>Wx)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%iH+iH),h>set?this._append`A${n},${n},0,1,${d},${e-o},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:h>Wx&&this._append`A${n},${n},0,${+(h>=nH)},${d},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function qX(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new oet(e)}function GX(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Pwe(t){this._context=t}Pwe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yB(t){return new Pwe(t)}function Nwe(t){return t[0]}function Iwe(t){return t[1]}function Owe(t,e){var r=ss(!0),n=null,i=yB,s=null,a=qX(o);t=typeof t=="function"?t:t===void 0?Nwe:ss(t),e=typeof e=="function"?e:e===void 0?Iwe:ss(e);function o(l){var c,u=(l=GX(l)).length,d,h=!1,f;for(n==null&&(s=i(f=a())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(d,c,l),+e(d,c,l));if(f)return s=null,f+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:ss(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:ss(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:ss(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),o):n},o}function F3(t,e,r){var n=null,i=ss(!0),s=null,a=yB,o=null,l=qX(c);t=typeof t=="function"?t:t===void 0?Nwe:ss(+t),e=typeof e=="function"?e:ss(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Iwe:ss(+r);function c(d){var h,f,g,m=(d=GX(d)).length,v,x=!1,w,b=new Array(m),_=new Array(m);for(s==null&&(o=a(w=l())),h=0;h<=m;++h){if(!(h<m&&i(v=d[h],h,d))===x)if(x=!x)f=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=f;--g)o.point(b[g],_[g]);o.lineEnd(),o.areaEnd()}x&&(b[h]=+t(v,h,d),_[h]=+e(v,h,d),o.point(n?+n(v,h,d):b[h],r?+r(v,h,d):_[h]))}if(w)return o=null,w+""||null}function u(){return Owe().defined(i).curve(a).context(s)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:ss(+d),n=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:ss(+d),c):t},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ss(+d),c):n},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:ss(+d),r=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:ss(+d),c):e},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ss(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ss(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,s!=null&&(o=a(s)),c):a},c.context=function(d){return arguments.length?(d==null?s=o=null:o=a(s=d),c):s},c}class Rwe{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function cet(t){return new Rwe(t,!0)}function uet(t){return new Rwe(t,!1)}const KX={draw(t,e){const r=Wf(e/bj);t.moveTo(r,0),t.arc(0,0,r,0,vB)}},det={draw(t,e){const r=Wf(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Dwe=Wf(1/3),het=Dwe*2,fet={draw(t,e){const r=Wf(e/het),n=r*Dwe;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},pet={draw(t,e){const r=Wf(e),n=-r/2;t.rect(n,n,r,r)}},met=.8908130915292852,Mwe=xj(bj/10)/xj(7*bj/10),get=xj(vB/10)*Mwe,vet=-Cwe(vB/10)*Mwe,yet={draw(t,e){const r=Wf(e*met),n=get*r,i=vet*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=vB*s/5,o=Cwe(a),l=xj(a);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},c9=Wf(3),xet={draw(t,e){const r=-Wf(e/(c9*3));t.moveTo(0,r*2),t.lineTo(-c9*r,-r),t.lineTo(c9*r,-r),t.closePath()}},Rd=-.5,Dd=Wf(3)/2,sH=1/Wf(12),bet=(sH/2+1)*3,wet={draw(t,e){const r=Wf(e/bet),n=r/2,i=r*sH,s=n,a=r*sH+r,o=-s,l=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(Rd*n-Dd*i,Dd*n+Rd*i),t.lineTo(Rd*s-Dd*a,Dd*s+Rd*a),t.lineTo(Rd*o-Dd*l,Dd*o+Rd*l),t.lineTo(Rd*n+Dd*i,Rd*i-Dd*n),t.lineTo(Rd*s+Dd*a,Rd*a-Dd*s),t.lineTo(Rd*o+Dd*l,Rd*l-Dd*o),t.closePath()}};function _et(t,e){let r=null,n=qX(i);t=typeof t=="function"?t:ss(t||KX),e=typeof e=="function"?e:ss(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:ss(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:ss(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function wj(){}function _j(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Fwe(t){this._context=t}Fwe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_j(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_j(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Aet(t){return new Fwe(t)}function jwe(t){this._context=t}jwe.prototype={areaStart:wj,areaEnd:wj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_j(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Eet(t){return new jwe(t)}function Lwe(t){this._context=t}Lwe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:_j(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tet(t){return new Lwe(t)}function Bwe(t){this._context=t}Bwe.prototype={areaStart:wj,areaEnd:wj,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Cet(t){return new Bwe(t)}function ise(t){return t<0?-1:1}function sse(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(ise(s)+ise(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function ase(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function u9(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function Sj(t){this._context=t}Sj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:u9(this,this._t0,ase(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,u9(this,ase(this,r=sse(this,t,e)),r);break;default:u9(this,this._t0,r=sse(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function $we(t){this._context=new Vwe(t)}($we.prototype=Object.create(Sj.prototype)).point=function(t,e){Sj.prototype.point.call(this,e,t)};function Vwe(t){this._context=t}Vwe.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function ket(t){return new Sj(t)}function Pet(t){return new $we(t)}function Uwe(t){this._context=t}Uwe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=ose(t),i=ose(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ose(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Net(t){return new Uwe(t)}function xB(t,e){this._context=t,this._t=e}xB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Iet(t){return new xB(t,.5)}function Oet(t){return new xB(t,0)}function Ret(t){return new xB(t,1)}function _T(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function aH(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Det(t,e){return t[e]}function Met(t){const e=[];return e.key=t,e}function Fet(){var t=ss([]),e=aH,r=_T,n=Det;function i(s){var a=Array.from(t.apply(this,arguments),Met),o,l=a.length,c=-1,u;for(const d of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+n(d,a[o].key,c,s)]).data=d;for(o=0,u=GX(e(a));o<l;++o)a[u[o]].index=o;return r(a,u),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:ss(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:ss(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?aH:typeof s=="function"?s:ss(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??_T,i):r},i}function jet(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}_T(t,e)}}function Let(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}_T(t,e)}}function Bet(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,l=0,c=0;o<a;++o){for(var u=t[e[o]],d=u[n][1]||0,h=u[n-1][1]||0,f=(d-h)/2,g=0;g<o;++g){var m=t[e[g]],v=m[n][1]||0,x=m[n-1][1]||0;f+=v-x}l+=d,c+=f*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,_T(t,e)}}function fN(t){"@babel/helpers - typeof";return fN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fN(t)}var $et=["type","size","sizeType"];function oH(){return oH=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oH.apply(this,arguments)}function lse(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cse(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lse(Object(r),!0).forEach(function(n){Vet(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lse(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vet(t,e,r){return e=Uet(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uet(t){var e=zet(t,"string");return fN(e)=="symbol"?e:e+""}function zet(t,e){if(fN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Het(t,e){if(t==null)return{};var r=Wet(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wet(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var zwe={symbolCircle:KX,symbolCross:det,symbolDiamond:fet,symbolSquare:pet,symbolStar:yet,symbolTriangle:xet,symbolWye:wet},qet=Math.PI/180,Get=function(e){var r="symbol".concat(gB(e));return zwe[r]||KX},Ket=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*qet;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Yet=function(e,r){zwe["symbol".concat(gB(e))]=r},YX=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=Het(e,$et),c=cse(cse({},l),{},{type:n,size:s,sizeType:o}),u=function(){var v=Get(n),x=_et().type(v).size(Ket(s,o,n));return x()},d=c.className,h=c.cx,f=c.cy,g=Cn(c,!0);return h===+h&&f===+f&&s===+s?Ae.createElement("path",oH({},g,{className:zn("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(f,")"),d:u()})):null};YX.registerSymbol=Yet;function ST(t){"@babel/helpers - typeof";return ST=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ST(t)}function lH(){return lH=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lH.apply(this,arguments)}function use(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xet(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?use(Object(r),!0).forEach(function(n){pN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):use(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qet(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wwe(n.key),n)}}function Jet(t,e,r){return e&&Qet(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ett(t,e,r){return e=Aj(e),ttt(t,Hwe()?Reflect.construct(e,r||[],Aj(t).constructor):e.apply(t,r))}function ttt(t,e){if(e&&(ST(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rtt(t)}function rtt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hwe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hwe=function(){return!!t})()}function Aj(t){return Aj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aj(t)}function ntt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cH(t,e)}function cH(t,e){return cH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cH(t,e)}function pN(t,e,r){return e=Wwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wwe(t){var e=itt(t,"string");return ST(e)=="symbol"?e:e+""}function itt(t,e){if(ST(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ST(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Md=32,XX=function(t){function e(){return Zet(this,e),ett(this,e,arguments)}return ntt(e,t),Jet(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Md/2,a=Md/6,o=Md/3,l=n.inactive?i:n.color;if(n.type==="plainline")return Ae.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Md,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return Ae.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Md,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return Ae.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Md/8,"h").concat(Md,"v").concat(Md*3/4,"h").concat(-Md,"z"),className:"recharts-legend-icon"});if(Ae.isValidElement(n.legendIcon)){var c=Xet({},n);return delete c.legendIcon,Ae.cloneElement(n.legendIcon,c)}return Ae.createElement(YX,{fill:l,cx:s,cy:s,size:Md,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Md,height:Md},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(f,g){var m=f.formatter||l,v=zn(pN(pN({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",f.inactive));if(f.type==="none")return null;var x=fn(f.value)?null:f.value;vg(!fn(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=f.inactive?c:f.color;return Ae.createElement("li",lH({className:v,style:d,key:"legend-item-".concat(g)},yj(n.props,f,g)),Ae.createElement(Jz,{width:a,height:a,viewBox:u,style:h},n.renderIcon(f)),Ae.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(x,f,g):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,a=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return Ae.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(O.PureComponent);pN(XX,"displayName","Legend");pN(XX,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var stt=nB;function att(){this.__data__=new stt,this.size=0}var ott=att;function ltt(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var ctt=ltt;function utt(t){return this.__data__.get(t)}var dtt=utt;function htt(t){return this.__data__.has(t)}var ftt=htt,ptt=nB,mtt=jX,gtt=LX,vtt=200;function ytt(t,e){var r=this.__data__;if(r instanceof ptt){var n=r.__data__;if(!mtt||n.length<vtt-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new gtt(n)}return r.set(t,e),this.size=r.size,this}var xtt=ytt,btt=nB,wtt=ott,_tt=ctt,Stt=dtt,Att=ftt,Ett=xtt;function NC(t){var e=this.__data__=new btt(t);this.size=e.size}NC.prototype.clear=wtt;NC.prototype.delete=_tt;NC.prototype.get=Stt;NC.prototype.has=Att;NC.prototype.set=Ett;var qwe=NC,Ttt="__lodash_hash_undefined__";function Ctt(t){return this.__data__.set(t,Ttt),this}var ktt=Ctt;function Ptt(t){return this.__data__.has(t)}var Ntt=Ptt,Itt=LX,Ott=ktt,Rtt=Ntt;function Ej(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Itt;++e<r;)this.add(t[e])}Ej.prototype.add=Ej.prototype.push=Ott;Ej.prototype.has=Rtt;var Gwe=Ej;function Dtt(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Kwe=Dtt;function Mtt(t,e){return t.has(e)}var Ywe=Mtt,Ftt=Gwe,jtt=Kwe,Ltt=Ywe,Btt=1,$tt=2;function Vtt(t,e,r,n,i,s){var a=r&Btt,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,f=r&$tt?new Ftt:void 0;for(s.set(t,e),s.set(e,t);++d<o;){var g=t[d],m=e[d];if(n)var v=a?n(m,g,d,e,t,s):n(g,m,d,t,e,s);if(v!==void 0){if(v)continue;h=!1;break}if(f){if(!jtt(e,function(x,w){if(!Ltt(f,w)&&(g===x||i(g,x,r,n,s)))return f.push(w)})){h=!1;break}}else if(!(g===m||i(g,m,r,n,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var Xwe=Vtt,Utt=Mm,ztt=Utt.Uint8Array,Htt=ztt;function Wtt(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var qtt=Wtt;function Gtt(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var ZX=Gtt,dse=eR,hse=Htt,Ktt=FX,Ytt=Xwe,Xtt=qtt,Ztt=ZX,Qtt=1,Jtt=2,ert="[object Boolean]",trt="[object Date]",rrt="[object Error]",nrt="[object Map]",irt="[object Number]",srt="[object RegExp]",art="[object Set]",ort="[object String]",lrt="[object Symbol]",crt="[object ArrayBuffer]",urt="[object DataView]",fse=dse?dse.prototype:void 0,d9=fse?fse.valueOf:void 0;function drt(t,e,r,n,i,s,a){switch(r){case urt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case crt:return!(t.byteLength!=e.byteLength||!s(new hse(t),new hse(e)));case ert:case trt:case irt:return Ktt(+t,+e);case rrt:return t.name==e.name&&t.message==e.message;case srt:case ort:return t==e+"";case nrt:var o=Xtt;case art:var l=n&Qtt;if(o||(o=Ztt),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;n|=Jtt,a.set(t,e);var u=Ytt(o(t),o(e),n,i,s,a);return a.delete(t),u;case lrt:if(d9)return d9.call(t)==d9.call(e)}return!1}var hrt=drt;function frt(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var Zwe=frt,prt=Zwe,mrt=hu;function grt(t,e,r){var n=e(t);return mrt(t)?n:prt(n,r(t))}var vrt=grt;function yrt(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var a=t[r];e(a,r,t)&&(s[i++]=a)}return s}var xrt=yrt;function brt(){return[]}var wrt=brt,_rt=xrt,Srt=wrt,Art=Object.prototype,Ert=Art.propertyIsEnumerable,pse=Object.getOwnPropertySymbols,Trt=pse?function(t){return t==null?[]:(t=Object(t),_rt(pse(t),function(e){return Ert.call(t,e)}))}:Srt,Crt=Trt;function krt(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Prt=krt,Nrt=Jg,Irt=ev,Ort="[object Arguments]";function Rrt(t){return Irt(t)&&Nrt(t)==Ort}var Drt=Rrt,mse=Drt,Mrt=ev,Qwe=Object.prototype,Frt=Qwe.hasOwnProperty,jrt=Qwe.propertyIsEnumerable,Lrt=mse(function(){return arguments}())?mse:function(t){return Mrt(t)&&Frt.call(t,"callee")&&!jrt.call(t,"callee")},QX=Lrt,Tj={exports:{}};function Brt(){return!1}var $rt=Brt;Tj.exports;(function(t,e){var r=Mm,n=$rt,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;t.exports=c})(Tj,Tj.exports);var Jwe=Tj.exports,Vrt=9007199254740991,Urt=/^(?:0|[1-9]\d*)$/;function zrt(t,e){var r=typeof t;return e=e??Vrt,!!e&&(r=="number"||r!="symbol"&&Urt.test(t))&&t>-1&&t%1==0&&t<e}var JX=zrt,Hrt=9007199254740991;function Wrt(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Hrt}var eZ=Wrt,qrt=Jg,Grt=eZ,Krt=ev,Yrt="[object Arguments]",Xrt="[object Array]",Zrt="[object Boolean]",Qrt="[object Date]",Jrt="[object Error]",ent="[object Function]",tnt="[object Map]",rnt="[object Number]",nnt="[object Object]",int="[object RegExp]",snt="[object Set]",ant="[object String]",ont="[object WeakMap]",lnt="[object ArrayBuffer]",cnt="[object DataView]",unt="[object Float32Array]",dnt="[object Float64Array]",hnt="[object Int8Array]",fnt="[object Int16Array]",pnt="[object Int32Array]",mnt="[object Uint8Array]",gnt="[object Uint8ClampedArray]",vnt="[object Uint16Array]",ynt="[object Uint32Array]",gs={};gs[unt]=gs[dnt]=gs[hnt]=gs[fnt]=gs[pnt]=gs[mnt]=gs[gnt]=gs[vnt]=gs[ynt]=!0;gs[Yrt]=gs[Xrt]=gs[lnt]=gs[Zrt]=gs[cnt]=gs[Qrt]=gs[Jrt]=gs[ent]=gs[tnt]=gs[rnt]=gs[nnt]=gs[int]=gs[snt]=gs[ant]=gs[ont]=!1;function xnt(t){return Krt(t)&&Grt(t.length)&&!!gs[qrt(t)]}var bnt=xnt;function wnt(t){return function(e){return t(e)}}var e_e=wnt,Cj={exports:{}};Cj.exports;(function(t,e){var r=lwe,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,a=s&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(Cj,Cj.exports);var _nt=Cj.exports,Snt=bnt,Ant=e_e,gse=_nt,vse=gse&&gse.isTypedArray,Ent=vse?Ant(vse):Snt,t_e=Ent,Tnt=Prt,Cnt=QX,knt=hu,Pnt=Jwe,Nnt=JX,Int=t_e,Ont=Object.prototype,Rnt=Ont.hasOwnProperty;function Dnt(t,e){var r=knt(t),n=!r&&Cnt(t),i=!r&&!n&&Pnt(t),s=!r&&!n&&!i&&Int(t),a=r||n||i||s,o=a?Tnt(t.length,String):[],l=o.length;for(var c in t)(e||Rnt.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Nnt(c,l)))&&o.push(c);return o}var Mnt=Dnt,Fnt=Object.prototype;function jnt(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Fnt;return t===r}var Lnt=jnt;function Bnt(t,e){return function(r){return t(e(r))}}var r_e=Bnt,$nt=r_e,Vnt=$nt(Object.keys,Object),Unt=Vnt,znt=Lnt,Hnt=Unt,Wnt=Object.prototype,qnt=Wnt.hasOwnProperty;function Gnt(t){if(!znt(t))return Hnt(t);var e=[];for(var r in Object(t))qnt.call(t,r)&&r!="constructor"&&e.push(r);return e}var Knt=Gnt,Ynt=MX,Xnt=eZ;function Znt(t){return t!=null&&Xnt(t.length)&&!Ynt(t)}var rR=Znt,Qnt=Mnt,Jnt=Knt,eit=rR;function tit(t){return eit(t)?Qnt(t):Jnt(t)}var bB=tit,rit=vrt,nit=Crt,iit=bB;function sit(t){return rit(t,iit,nit)}var ait=sit,yse=ait,oit=1,lit=Object.prototype,cit=lit.hasOwnProperty;function uit(t,e,r,n,i,s){var a=r&oit,o=yse(t),l=o.length,c=yse(e),u=c.length;if(l!=u&&!a)return!1;for(var d=l;d--;){var h=o[d];if(!(a?h in e:cit.call(e,h)))return!1}var f=s.get(t),g=s.get(e);if(f&&g)return f==e&&g==t;var m=!0;s.set(t,e),s.set(e,t);for(var v=a;++d<l;){h=o[d];var x=t[h],w=e[h];if(n)var b=a?n(w,x,h,e,t,s):n(x,w,h,t,e,s);if(!(b===void 0?x===w||i(x,w,r,n,s):b)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var _=t.constructor,S=e.constructor;_!=S&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(t),s.delete(e),m}var dit=uit,hit=o2,fit=Mm,pit=hit(fit,"DataView"),mit=pit,git=o2,vit=Mm,yit=git(vit,"Promise"),xit=yit,bit=o2,wit=Mm,_it=bit(wit,"Set"),n_e=_it,Sit=o2,Ait=Mm,Eit=Sit(Ait,"WeakMap"),Tit=Eit,uH=mit,dH=jX,hH=xit,fH=n_e,pH=Tit,i_e=Jg,IC=uwe,xse="[object Map]",Cit="[object Object]",bse="[object Promise]",wse="[object Set]",_se="[object WeakMap]",Sse="[object DataView]",kit=IC(uH),Pit=IC(dH),Nit=IC(hH),Iit=IC(fH),Oit=IC(pH),qx=i_e;(uH&&qx(new uH(new ArrayBuffer(1)))!=Sse||dH&&qx(new dH)!=xse||hH&&qx(hH.resolve())!=bse||fH&&qx(new fH)!=wse||pH&&qx(new pH)!=_se)&&(qx=function(t){var e=i_e(t),r=e==Cit?t.constructor:void 0,n=r?IC(r):"";if(n)switch(n){case kit:return Sse;case Pit:return xse;case Nit:return bse;case Iit:return wse;case Oit:return _se}return e});var Rit=qx,h9=qwe,Dit=Xwe,Mit=hrt,Fit=dit,Ase=Rit,Ese=hu,Tse=Jwe,jit=t_e,Lit=1,Cse="[object Arguments]",kse="[object Array]",j3="[object Object]",Bit=Object.prototype,Pse=Bit.hasOwnProperty;function $it(t,e,r,n,i,s){var a=Ese(t),o=Ese(e),l=a?kse:Ase(t),c=o?kse:Ase(e);l=l==Cse?j3:l,c=c==Cse?j3:c;var u=l==j3,d=c==j3,h=l==c;if(h&&Tse(t)){if(!Tse(e))return!1;a=!0,u=!1}if(h&&!u)return s||(s=new h9),a||jit(t)?Dit(t,e,r,n,i,s):Mit(t,e,l,r,n,i,s);if(!(r&Lit)){var f=u&&Pse.call(t,"__wrapped__"),g=d&&Pse.call(e,"__wrapped__");if(f||g){var m=f?t.value():t,v=g?e.value():e;return s||(s=new h9),i(m,v,r,n,s)}}return h?(s||(s=new h9),Fit(t,e,r,n,i,s)):!1}var Vit=$it,Uit=Vit,Nse=ev;function s_e(t,e,r,n,i){return t===e?!0:t==null||e==null||!Nse(t)&&!Nse(e)?t!==t&&e!==e:Uit(t,e,r,n,s_e,i)}var tZ=s_e,zit=qwe,Hit=tZ,Wit=1,qit=2;function Git(t,e,r,n){var i=r.length,s=i,a=!n;if(t==null)return!s;for(t=Object(t);i--;){var o=r[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=r[i];var l=o[0],c=t[l],u=o[1];if(a&&o[2]){if(c===void 0&&!(l in t))return!1}else{var d=new zit;if(n)var h=n(c,u,l,t,e,d);if(!(h===void 0?Hit(u,c,Wit|qit,n,d):h))return!1}}return!0}var Kit=Git,Yit=px;function Xit(t){return t===t&&!Yit(t)}var a_e=Xit,Zit=a_e,Qit=bB;function Jit(t){for(var e=Qit(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Zit(i)]}return e}var est=Jit;function tst(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var o_e=tst,rst=Kit,nst=est,ist=o_e;function sst(t){var e=nst(t);return e.length==1&&e[0][2]?ist(e[0][0],e[0][1]):function(r){return r===t||rst(r,t,e)}}var ast=sst;function ost(t,e){return t!=null&&e in Object(t)}var lst=ost,cst=mwe,ust=QX,dst=hu,hst=JX,fst=eZ,pst=sB;function mst(t,e,r){e=cst(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var a=pst(e[n]);if(!(s=t!=null&&r(t,a)))break;t=t[a]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&fst(i)&&hst(a,i)&&(dst(t)||ust(t)))}var gst=mst,vst=lst,yst=gst;function xst(t,e){return t!=null&&yst(t,e,vst)}var bst=xst,wst=tZ,_st=gwe,Sst=bst,Ast=DX,Est=a_e,Tst=o_e,Cst=sB,kst=1,Pst=2;function Nst(t,e){return Ast(t)&&Est(e)?Tst(Cst(t),e):function(r){var n=_st(r,t);return n===void 0&&n===e?Sst(r,t):wst(e,n,kst|Pst)}}var Ist=Nst;function Ost(t){return t}var OC=Ost;function Rst(t){return function(e){return e==null?void 0:e[t]}}var Dst=Rst,Mst=VX;function Fst(t){return function(e){return Mst(e,t)}}var jst=Fst,Lst=Dst,Bst=jst,$st=DX,Vst=sB;function Ust(t){return $st(t)?Lst(Vst(t)):Bst(t)}var zst=Ust,Hst=ast,Wst=Ist,qst=OC,Gst=hu,Kst=zst;function Yst(t){return typeof t=="function"?t:t==null?qst:typeof t=="object"?Gst(t)?Wst(t[0],t[1]):Hst(t):Kst(t)}var mx=Yst;function Xst(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var l_e=Xst;function Zst(t){return t!==t}var Qst=Zst;function Jst(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var eat=Jst,tat=l_e,rat=Qst,nat=eat;function iat(t,e,r){return e===e?nat(t,e,r):tat(t,rat,r)}var sat=iat,aat=sat;function oat(t,e){var r=t==null?0:t.length;return!!r&&aat(t,e,0)>-1}var lat=oat;function cat(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var uat=cat;function dat(){}var hat=dat,f9=n_e,fat=hat,pat=ZX,mat=1/0,gat=f9&&1/pat(new f9([,-0]))[1]==mat?function(t){return new f9(t)}:fat,vat=gat,yat=Gwe,xat=lat,bat=uat,wat=Ywe,_at=vat,Sat=ZX,Aat=200;function Eat(t,e,r){var n=-1,i=xat,s=t.length,a=!0,o=[],l=o;if(r)a=!1,i=bat;else if(s>=Aat){var c=e?null:_at(t);if(c)return Sat(c);a=!1,i=wat,l=new yat}else l=e?[]:o;e:for(;++n<s;){var u=t[n],d=e?e(u):u;if(u=r||u!==0?u:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),o.push(u)}else i(l,d,r)||(l!==o&&l.push(d),o.push(u))}return o}var Tat=Eat,Cat=mx,kat=Tat;function Pat(t,e){return t&&t.length?kat(t,Cat(e)):[]}var Nat=Pat;const Ise=ki(Nat);function c_e(t,e,r){return e===!0?Ise(t,r):fn(e)?Ise(t,e):t}function AT(t){"@babel/helpers - typeof";return AT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AT(t)}var Iat=["ref"];function Ose(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ose(Object(r),!0).forEach(function(n){wB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ose(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d_e(n.key),n)}}function Rat(t,e,r){return e&&Rse(t.prototype,e),r&&Rse(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dat(t,e,r){return e=kj(e),Mat(t,u_e()?Reflect.construct(e,r||[],kj(t).constructor):e.apply(t,r))}function Mat(t,e){if(e&&(AT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fat(t)}function Fat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u_e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u_e=function(){return!!t})()}function kj(t){return kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kj(t)}function jat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mH(t,e)}function mH(t,e){return mH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mH(t,e)}function wB(t,e,r){return e=d_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d_e(t){var e=Lat(t,"string");return AT(e)=="symbol"?e:e+""}function Lat(t,e){if(AT(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(AT(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bat(t,e){if(t==null)return{};var r=$at(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $at(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vat(t){return t.value}function Uat(t,e){if(Ae.isValidElement(t))return Ae.cloneElement(t,e);if(typeof t=="function")return Ae.createElement(t,e);e.ref;var r=Bat(e,Iat);return Ae.createElement(XX,r)}var Dse=1,iA=function(t){function e(){var r;Oat(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Dat(this,e,[].concat(i)),wB(r,"lastBoundingBox",{width:-1,height:-1}),r}return jat(e,t),Rat(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Dse||Math.abs(i.height-this.lastBoundingBox.height)>Dse)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Zm({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&s==="vertical"){var f=this.getBBoxSnapshot();d={left:((c||0)-f.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Zm(Zm({},d),h)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=Zm(Zm({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return Ae.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){n.wrapperNode=f}},Uat(s,Zm(Zm({},this.props),{},{payload:c_e(u,c,Vat)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Zm(Zm({},this.defaultProps),n.props),a=s.layout;return a==="vertical"&&Ft(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])}(O.PureComponent);wB(iA,"displayName","Legend");wB(iA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Mse=eR,zat=QX,Hat=hu,Fse=Mse?Mse.isConcatSpreadable:void 0;function Wat(t){return Hat(t)||zat(t)||!!(Fse&&t&&t[Fse])}var qat=Wat,Gat=Zwe,Kat=qat;function h_e(t,e,r,n,i){var s=-1,a=t.length;for(r||(r=Kat),i||(i=[]);++s<a;){var o=t[s];e>0&&r(o)?e>1?h_e(o,e-1,r,n,i):Gat(i,o):n||(i[i.length]=o)}return i}var f_e=h_e;function Yat(t){return function(e,r,n){for(var i=-1,s=Object(e),a=n(e),o=a.length;o--;){var l=a[t?o:++i];if(r(s[l],l,s)===!1)break}return e}}var Xat=Yat,Zat=Xat,Qat=Zat(),Jat=Qat,eot=Jat,tot=bB;function rot(t,e){return t&&eot(t,e,tot)}var p_e=rot,not=rR;function iot(t,e){return function(r,n){if(r==null)return r;if(!not(r))return t(r,n);for(var i=r.length,s=e?i:-1,a=Object(r);(e?s--:++s<i)&&n(a[s],s,a)!==!1;);return r}}var sot=iot,aot=p_e,oot=sot,lot=oot(aot),rZ=lot,cot=rZ,uot=rR;function dot(t,e){var r=-1,n=uot(t)?Array(t.length):[];return cot(t,function(i,s,a){n[++r]=e(i,s,a)}),n}var m_e=dot;function hot(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var fot=hot,jse=AC;function pot(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,s=jse(t),a=e!==void 0,o=e===null,l=e===e,c=jse(e);if(!o&&!c&&!s&&t>e||s&&a&&l&&!o&&!c||n&&a&&l||!r&&l||!i)return 1;if(!n&&!s&&!c&&t<e||c&&r&&i&&!n&&!s||o&&r&&i||!a&&i||!l)return-1}return 0}var mot=pot,got=mot;function vot(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,a=i.length,o=r.length;++n<a;){var l=got(i[n],s[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var yot=vot,p9=$X,xot=VX,bot=mx,wot=m_e,_ot=fot,Sot=e_e,Aot=yot,Eot=OC,Tot=hu;function Cot(t,e,r){e.length?e=p9(e,function(s){return Tot(s)?function(a){return xot(a,s.length===1?s[0]:s)}:s}):e=[Eot];var n=-1;e=p9(e,Sot(bot));var i=wot(t,function(s,a,o){var l=p9(e,function(c){return c(s)});return{criteria:l,index:++n,value:s}});return _ot(i,function(s,a){return Aot(s,a,r)})}var kot=Cot;function Pot(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Not=Pot,Iot=Not,Lse=Math.max;function Oot(t,e,r){return e=Lse(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=Lse(n.length-e,0),a=Array(s);++i<s;)a[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(a),Iot(t,this,o)}}var Rot=Oot;function Dot(t){return function(){return t}}var Mot=Dot,Fot=o2,jot=function(){try{var t=Fot(Object,"defineProperty");return t({},"",{}),t}catch{}}(),g_e=jot,Lot=Mot,Bse=g_e,Bot=OC,$ot=Bse?function(t,e){return Bse(t,"toString",{configurable:!0,enumerable:!1,value:Lot(e),writable:!0})}:Bot,Vot=$ot,Uot=800,zot=16,Hot=Date.now;function Wot(t){var e=0,r=0;return function(){var n=Hot(),i=zot-(n-r);if(r=n,i>0){if(++e>=Uot)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var qot=Wot,Got=Vot,Kot=qot,Yot=Kot(Got),Xot=Yot,Zot=OC,Qot=Rot,Jot=Xot;function elt(t,e){return Jot(Qot(t,e,Zot),t+"")}var tlt=elt,rlt=FX,nlt=rR,ilt=JX,slt=px;function alt(t,e,r){if(!slt(r))return!1;var n=typeof e;return(n=="number"?nlt(r)&&ilt(e,r.length):n=="string"&&e in r)?rlt(r[e],t):!1}var _B=alt,olt=f_e,llt=kot,clt=tlt,$se=_B,ult=clt(function(t,e){if(t==null)return[];var r=e.length;return r>1&&$se(t,e[0],e[1])?e=[]:r>2&&$se(e[0],e[1],e[2])&&(e=[e[0]]),llt(t,olt(e,1),[])}),dlt=ult;const nZ=ki(dlt);function mN(t){"@babel/helpers - typeof";return mN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mN(t)}function gH(){return gH=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gH.apply(this,arguments)}function hlt(t,e){return glt(t)||mlt(t,e)||plt(t,e)||flt()}function flt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function plt(t,e){if(t){if(typeof t=="string")return Vse(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vse(t,e)}}function Vse(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mlt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function glt(t){if(Array.isArray(t))return t}function Use(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Use(Object(r),!0).forEach(function(n){vlt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Use(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vlt(t,e,r){return e=ylt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ylt(t){var e=xlt(t,"string");return mN(e)=="symbol"?e:e+""}function xlt(t,e){if(mN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(mN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function blt(t){return Array.isArray(t)&&ao(t[0])&&ao(t[1])?t.join(" ~ "):t}var wlt=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,g=e.labelClassName,m=e.label,v=e.labelFormatter,x=e.accessibilityLayer,w=x===void 0?!1:x,b=function(){if(u&&u.length){var I={padding:0,margin:0},M=(h?nZ(u,h):u).map(function(U,Y){if(U.type==="none")return null;var X=m9({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},o),W=U.formatter||d||blt,G=U.value,B=U.name,re=G,ae=B;if(W&&re!=null&&ae!=null){var R=W(G,B,U,Y,u);if(Array.isArray(R)){var j=hlt(R,2);re=j[0],ae=j[1]}else re=R}return Ae.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:X},ao(ae)?Ae.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,ao(ae)?Ae.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ae.createElement("span",{className:"recharts-tooltip-item-value"},re),Ae.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return Ae.createElement("ul",{className:"recharts-tooltip-item-list",style:I},M)}return null},_=m9({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=m9({margin:0},c),T=!Ln(m),E=T?m:"",C=zn("recharts-default-tooltip",f),N=zn("recharts-tooltip-label",g);T&&v&&u!==void 0&&u!==null&&(E=v(m,u));var F=w?{role:"status","aria-live":"assertive"}:{};return Ae.createElement("div",gH({className:C,style:_},F),Ae.createElement("p",{className:N,style:S},Ae.isValidElement(E)?E:"".concat(E)),b())};function gN(t){"@babel/helpers - typeof";return gN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gN(t)}function L3(t,e,r){return e=_lt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _lt(t){var e=Slt(t,"string");return gN(e)=="symbol"?e:e+""}function Slt(t,e){if(gN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ak="recharts-tooltip-wrapper",Alt={visibility:"hidden"};function Elt(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return zn(Ak,L3(L3(L3(L3({},"".concat(Ak,"-right"),Ft(r)&&e&&Ft(e.x)&&r>=e.x),"".concat(Ak,"-left"),Ft(r)&&e&&Ft(e.x)&&r<e.x),"".concat(Ak,"-bottom"),Ft(n)&&e&&Ft(e.y)&&n>=e.y),"".concat(Ak,"-top"),Ft(n)&&e&&Ft(e.y)&&n<e.y))}function zse(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&Ft(s[n]))return s[n];var u=r[n]-o-i,d=r[n]+i;if(e[n])return a[n]?u:d;if(a[n]){var h=u,f=l[n];return h<f?Math.max(d,l[n]):Math.max(u,l[n])}var g=d+o,m=l[n]+c;return g>m?Math.max(u,l[n]):Math.max(d,l[n])}function Tlt(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Clt(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,d;return a.height>0&&a.width>0&&r?(u=zse({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=zse({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Tlt({translateX:u,translateY:d,useTranslate3d:o})):c=Alt,{cssProperties:c,cssClasses:Elt({translateX:u,translateY:d,coordinate:r})}}function ET(t){"@babel/helpers - typeof";return ET=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ET(t)}function Hse(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wse(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hse(Object(r),!0).forEach(function(n){yH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hse(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function klt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Plt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y_e(n.key),n)}}function Nlt(t,e,r){return e&&Plt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ilt(t,e,r){return e=Pj(e),Olt(t,v_e()?Reflect.construct(e,r||[],Pj(t).constructor):e.apply(t,r))}function Olt(t,e){if(e&&(ET(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rlt(t)}function Rlt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v_e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v_e=function(){return!!t})()}function Pj(t){return Pj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pj(t)}function Dlt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vH(t,e)}function vH(t,e){return vH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vH(t,e)}function yH(t,e,r){return e=y_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y_e(t){var e=Mlt(t,"string");return ET(e)=="symbol"?e:e+""}function Mlt(t,e){if(ET(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ET(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qse=1,Flt=function(t){function e(){var r;klt(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Ilt(this,e,[].concat(i)),yH(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),yH(r,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return Dlt(e,t),Nlt(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>qse||Math.abs(n.height-this.state.lastBoundingBox.height)>qse)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,f=i.offset,g=i.position,m=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,w=i.wrapperStyle,b=Clt({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:f,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),_=b.cssClasses,S=b.cssProperties,T=Wse(Wse({transition:h&&s?"transform ".concat(o,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return Ae.createElement("div",{tabIndex:-1,className:_,style:T,ref:function(C){n.wrapperNode=C}},c)}}])}(O.PureComponent),jlt=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},yg={isSsr:jlt(),get:function(e){return yg[e]},set:function(e,r){if(typeof e=="string")yg[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){yg[i]=e[i]})}}};function TT(t){"@babel/helpers - typeof";return TT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TT(t)}function Gse(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kse(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gse(Object(r),!0).forEach(function(n){iZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gse(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Llt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Blt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b_e(n.key),n)}}function $lt(t,e,r){return e&&Blt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vlt(t,e,r){return e=Nj(e),Ult(t,x_e()?Reflect.construct(e,r||[],Nj(t).constructor):e.apply(t,r))}function Ult(t,e){if(e&&(TT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zlt(t)}function zlt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x_e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x_e=function(){return!!t})()}function Nj(t){return Nj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nj(t)}function Hlt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xH(t,e)}function xH(t,e){return xH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xH(t,e)}function iZ(t,e,r){return e=b_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b_e(t){var e=Wlt(t,"string");return TT(e)=="symbol"?e:e+""}function Wlt(t,e){if(TT(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(TT(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qlt(t){return t.dataKey}function Glt(t,e){return Ae.isValidElement(t)?Ae.cloneElement(t,e):typeof t=="function"?Ae.createElement(t,e):Ae.createElement(wlt,e)}var Sp=function(t){function e(){return Llt(this,e),Vlt(this,e,arguments)}return Hlt(e,t),$lt(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,h=i.isAnimationActive,f=i.offset,g=i.payload,m=i.payloadUniqBy,v=i.position,x=i.reverseDirection,w=i.useTranslate3d,b=i.viewBox,_=i.wrapperStyle,S=g??[];d&&S.length&&(S=c_e(g.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),m,qlt));var T=S.length>0;return Ae.createElement(Flt,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:s,coordinate:u,hasPayload:T,offset:f,position:v,reverseDirection:x,useTranslate3d:w,viewBox:b,wrapperStyle:_},Glt(c,Kse(Kse({},this.props),{},{payload:S})))}}])}(O.PureComponent);iZ(Sp,"displayName","Tooltip");iZ(Sp,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!yg.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Klt=Mm,Ylt=function(){return Klt.Date.now()},Xlt=Ylt,Zlt=/\s/;function Qlt(t){for(var e=t.length;e--&&Zlt.test(t.charAt(e)););return e}var Jlt=Qlt,ect=Jlt,tct=/^\s+/;function rct(t){return t&&t.slice(0,ect(t)+1).replace(tct,"")}var nct=rct,ict=nct,Yse=px,sct=AC,Xse=NaN,act=/^[-+]0x[0-9a-f]+$/i,oct=/^0b[01]+$/i,lct=/^0o[0-7]+$/i,cct=parseInt;function uct(t){if(typeof t=="number")return t;if(sct(t))return Xse;if(Yse(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Yse(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ict(t);var r=oct.test(t);return r||lct.test(t)?cct(t.slice(2),r?2:8):act.test(t)?Xse:+t}var w_e=uct,dct=px,g9=Xlt,Zse=w_e,hct="Expected a function",fct=Math.max,pct=Math.min;function mct(t,e,r){var n,i,s,a,o,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(hct);e=Zse(e)||0,dct(r)&&(u=!!r.leading,d="maxWait"in r,s=d?fct(Zse(r.maxWait)||0,e):s,h="trailing"in r?!!r.trailing:h);function f(T){var E=n,C=i;return n=i=void 0,c=T,a=t.apply(C,E),a}function g(T){return c=T,o=setTimeout(x,e),u?f(T):a}function m(T){var E=T-l,C=T-c,N=e-E;return d?pct(N,s-C):N}function v(T){var E=T-l,C=T-c;return l===void 0||E>=e||E<0||d&&C>=s}function x(){var T=g9();if(v(T))return w(T);o=setTimeout(x,m(T))}function w(T){return o=void 0,h&&n?f(T):(n=i=void 0,a)}function b(){o!==void 0&&clearTimeout(o),c=0,n=l=i=o=void 0}function _(){return o===void 0?a:w(g9())}function S(){var T=g9(),E=v(T);if(n=arguments,i=this,l=T,E){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(x,e),f(l)}return o===void 0&&(o=setTimeout(x,e)),a}return S.cancel=b,S.flush=_,S}var gct=mct,vct=gct,yct=px,xct="Expected a function";function bct(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(xct);return yct(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),vct(t,e,{leading:n,maxWait:e,trailing:i})}var wct=bct;const __e=ki(wct);function vN(t){"@babel/helpers - typeof";return vN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vN(t)}function Qse(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qse(Object(r),!0).forEach(function(n){_ct(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qse(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _ct(t,e,r){return e=Sct(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sct(t){var e=Act(t,"string");return vN(e)=="symbol"?e:e+""}function Act(t,e){if(vN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ect(t,e){return Pct(t)||kct(t,e)||Cct(t,e)||Tct()}function Tct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cct(t,e){if(t){if(typeof t=="string")return Jse(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jse(t,e)}}function Jse(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kct(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Pct(t){if(Array.isArray(t))return t}var Nct=O.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,h=t.maxHeight,f=t.children,g=t.debounce,m=g===void 0?0:g,v=t.id,x=t.className,w=t.onResize,b=t.style,_=b===void 0?{}:b,S=O.useRef(null),T=O.useRef();T.current=w,O.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=O.useState({containerWidth:i.width,containerHeight:i.height}),C=Ect(E,2),N=C[0],F=C[1],A=O.useCallback(function(M,U){F(function(Y){var X=Math.round(M),W=Math.round(U);return Y.containerWidth===X&&Y.containerHeight===W?Y:{containerWidth:X,containerHeight:W}})},[]);O.useEffect(function(){var M=function(B){var re,ae=B[0].contentRect,R=ae.width,j=ae.height;A(R,j),(re=T.current)===null||re===void 0||re.call(T,R,j)};m>0&&(M=__e(M,m,{trailing:!0,leading:!1}));var U=new ResizeObserver(M),Y=S.current.getBoundingClientRect(),X=Y.width,W=Y.height;return A(X,W),U.observe(S.current),function(){U.disconnect()}},[A,m]);var I=O.useMemo(function(){var M=N.containerWidth,U=N.containerHeight;if(M<0||U<0)return null;vg(fb(a)||fb(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),vg(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=fb(a)?M:a,X=fb(l)?U:l;r&&r>0&&(Y?X=Y/r:X&&(Y=X*r),h&&X>h&&(X=h)),vg(Y>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,X,a,l,u,d,r);var W=!Array.isArray(f)&&gg(f.type).endsWith("Chart");return Ae.Children.map(f,function(G){return Ae.isValidElement(G)?O.cloneElement(G,B3({width:Y,height:X},W?{style:B3({height:"100%",width:"100%",maxHeight:X,maxWidth:Y},G.props.style)}:{})):G})},[r,f,l,h,d,u,N,a]);return Ae.createElement("div",{id:v?"".concat(v):void 0,className:zn("recharts-responsive-container",x),style:B3(B3({},_),{},{width:a,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:S},I)}),S_e=function(e){return null};S_e.displayName="Cell";function yN(t){"@babel/helpers - typeof";return yN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yN(t)}function eae(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eae(Object(r),!0).forEach(function(n){Ict(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eae(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ict(t,e,r){return e=Oct(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oct(t){var e=Rct(t,"string");return yN(e)=="symbol"?e:e+""}function Rct(t,e){if(yN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(yN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B2={widthCache:{},cacheCount:0},Dct=2e3,Mct={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tae="recharts_measurement_span";function Fct(t){var e=bH({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var iP=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||yg.isSsr)return{width:0,height:0};var n=Fct(r),i=JSON.stringify({text:e,copyStyle:n});if(B2.widthCache[i])return B2.widthCache[i];try{var s=document.getElementById(tae);s||(s=document.createElement("span"),s.setAttribute("id",tae),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=bH(bH({},Mct),n);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return B2.widthCache[i]=l,++B2.cacheCount>Dct&&(B2.cacheCount=0,B2.widthCache={}),l}catch{return{width:0,height:0}}},jct=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function xN(t){"@babel/helpers - typeof";return xN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xN(t)}function Ij(t,e){return Vct(t)||$ct(t,e)||Bct(t,e)||Lct()}function Lct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bct(t,e){if(t){if(typeof t=="string")return rae(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rae(t,e)}}function rae(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $ct(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Vct(t){if(Array.isArray(t))return t}function Uct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hct(n.key),n)}}function zct(t,e,r){return e&&nae(t.prototype,e),r&&nae(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hct(t){var e=Wct(t,"string");return xN(e)=="symbol"?e:e+""}function Wct(t,e){if(xN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iae=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sae=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qct=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Gct=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,A_e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kct=Object.keys(A_e),PS="NaN";function Yct(t,e){return t*A_e[e]}var $3=function(){function t(e,r){Uct(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!qct.test(r)&&(this.num=NaN,this.unit=""),Kct.includes(r)&&(this.num=Yct(e,r),this.unit="px")}return zct(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Gct.exec(r))!==null&&n!==void 0?n:[],s=Ij(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])}();function E_e(t){if(t.includes(PS))return PS;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=iae.exec(e))!==null&&r!==void 0?r:[],i=Ij(n,4),s=i[1],a=i[2],o=i[3],l=$3.parse(s??""),c=$3.parse(o??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return PS;e=e.replace(iae,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=sae.exec(e))!==null&&d!==void 0?d:[],f=Ij(h,4),g=f[1],m=f[2],v=f[3],x=$3.parse(g??""),w=$3.parse(v??""),b=m==="+"?x.add(w):x.subtract(w);if(b.isNaN())return PS;e=e.replace(sae,b.toString())}return e}var aae=/\(([^()]*)\)/;function Xct(t){for(var e=t;e.includes("(");){var r=aae.exec(e),n=Ij(r,2),i=n[1];e=e.replace(aae,E_e(i))}return e}function Zct(t){var e=t.replace(/\s+/g,"");return e=Xct(e),e=E_e(e),e}function Qct(t){try{return Zct(t)}catch{return PS}}function v9(t){var e=Qct(t.slice(5,-1));return e===PS?"":e}var Jct=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],eut=["dx","dy","angle","className","breakAll"];function wH(){return wH=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wH.apply(this,arguments)}function oae(t,e){if(t==null)return{};var r=tut(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tut(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lae(t,e){return sut(t)||iut(t,e)||nut(t,e)||rut()}function rut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nut(t,e){if(t){if(typeof t=="string")return cae(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cae(t,e)}}function cae(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iut(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function sut(t){if(Array.isArray(t))return t}var T_e=/[ \f\n\r\t\v\u2028\u2029]+/,C_e=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];Ln(r)||(n?s=r.toString().split(""):s=r.toString().split(T_e));var a=s.map(function(l){return{word:l,width:iP(l,i).width}}),o=n?0:iP("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},aut=function(e,r,n,i,s){var a=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=Ft(a),d=o,h=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(X,W){var G=W.word,B=W.width,re=X[X.length-1];if(re&&(i==null||s||re.width+B+n<Number(i)))re.words.push(G),re.width+=B+n;else{var ae={words:[G],width:B};X.push(ae)}return X},[])},f=h(r),g=function(Y){return Y.reduce(function(X,W){return X.width>W.width?X:W})};if(!u)return f;for(var m="",v=function(Y){var X=d.slice(0,Y),W=C_e({breakAll:c,style:l,children:X+m}).wordsWithComputedWidth,G=h(W),B=G.length>a||g(G).width>Number(i);return[B,G]},x=0,w=d.length-1,b=0,_;x<=w&&b<=d.length-1;){var S=Math.floor((x+w)/2),T=S-1,E=v(T),C=lae(E,2),N=C[0],F=C[1],A=v(S),I=lae(A,1),M=I[0];if(!N&&!M&&(x=S+1),N&&M&&(w=S-1),!N&&M){_=F;break}b++}return _||f},uae=function(e){var r=Ln(e)?[]:e.toString().split(T_e);return[{words:r}]},out=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((r||n)&&!yg.isSsr){var l,c,u=C_e({breakAll:a,children:i,style:s});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return uae(i);return aut({breakAll:a,children:i,maxLines:o,style:s},l,c,r,n)}return uae(i)},dae="#808080",Oj=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,h=e.textAnchor,f=h===void 0?"start":h,g=e.verticalAnchor,m=g===void 0?"end":g,v=e.fill,x=v===void 0?dae:v,w=oae(e,Jct),b=O.useMemo(function(){return out({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),_=w.dx,S=w.dy,T=w.angle,E=w.className,C=w.breakAll,N=oae(w,eut);if(!ao(n)||!ao(s))return null;var F=n+(Ft(_)?_:0),A=s+(Ft(S)?S:0),I;switch(m){case"start":I=v9("calc(".concat(c,")"));break;case"middle":I=v9("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:I=v9("calc(".concat(b.length-1," * -").concat(o,")"));break}var M=[];if(d){var U=b[0].width,Y=w.width;M.push("scale(".concat((Ft(Y)?Y/U:1)/U,")"))}return T&&M.push("rotate(".concat(T,", ").concat(F,", ").concat(A,")")),M.length&&(N.transform=M.join(" ")),Ae.createElement("text",wH({},Cn(N,!0),{x:F,y:A,className:zn("recharts-text",E),textAnchor:f,fill:x.includes("url")?dae:x}),b.map(function(X,W){var G=X.words.join(C?"":" ");return Ae.createElement("tspan",{x:F,dy:W===0?I:o,key:"".concat(G,"-").concat(W)},G)}))};function Ey(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lut(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sZ(t){let e,r,n;t.length!==2?(e=Ey,r=(o,l)=>Ey(t(o),l),n=(o,l)=>t(o)-l):(e=t===Ey||t===lut?t:cut,r=t,n=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;r(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;r(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function a(o,l,c=0,u=o.length){const d=i(o,l,c,u-1);return d>c&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:i,center:a,right:s}}function cut(){return 0}function k_e(t){return t===null?NaN:+t}function*uut(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const dut=sZ(Ey),nR=dut.right;sZ(k_e).center;class hae extends Map{constructor(e,r=put){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(fae(this,e))}has(e){return super.has(fae(this,e))}set(e,r){return super.set(hut(this,e),r)}delete(e){return super.delete(fut(this,e))}}function fae({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function hut({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function fut({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function put(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mut(t=Ey){if(t===Ey)return P_e;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function P_e(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const gut=Math.sqrt(50),vut=Math.sqrt(10),yut=Math.sqrt(2);function Rj(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=gut?10:s>=vut?5:s>=yut?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=r&&r<2?Rj(t,e,r*2):[o,l,c]}function _H(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?Rj(e,t,r):Rj(t,e,r);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(n)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function SH(t,e,r){return e=+e,t=+t,r=+r,Rj(t,e,r)[2]}function AH(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?SH(e,t,r):SH(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function pae(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function mae(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function N_e(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?P_e:mut(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),f=Math.max(r,Math.floor(e-c*d/l+h)),g=Math.min(n,Math.floor(e+(l-c)*d/l+h));N_e(t,e,f,g,i)}const s=t[e];let a=r,o=n;for(Ek(t,r,e),i(t[n],s)>0&&Ek(t,r,n);a<o;){for(Ek(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?Ek(t,r,o):(++o,Ek(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Ek(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function xut(t,e,r){if(t=Float64Array.from(uut(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return mae(t);if(e>=1)return pae(t);var n,i=(n-1)*e,s=Math.floor(i),a=pae(N_e(t,s).subarray(0,s+1)),o=mae(t.subarray(s+1));return a+(o-a)*(i-s)}}function but(t,e,r=k_e){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function wut(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Ih(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function tv(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const EH=Symbol("implicit");function aZ(){var t=new hae,e=[],r=[],n=EH;function i(s){let a=t.get(s);if(a===void 0){if(n!==EH)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new hae;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return aZ(e,r).unknown(n)},Ih.apply(i,arguments),i}function bN(){var t=aZ().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,f=i<n,g=f?i:n,m=f?n:i;s=(m-g)/Math.max(1,h-l+c*2),o&&(s=Math.floor(s)),g+=(m-g-s*(h-l))*u,a=s*(1-l),o&&(g=Math.round(g),a=Math.round(a));var v=wut(h).map(function(x){return g+s*x});return r(f?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,d()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(h){return arguments.length?(o=!!h,d()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return bN(e(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Ih.apply(d(),arguments)}function I_e(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return I_e(e())},t}function sP(){return I_e(bN.apply(null,arguments).paddingInner(1))}function oZ(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function O_e(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function iR(){}var wN=.7,Dj=1/wN,sA="\\s*([+-]?\\d+)\\s*",_N="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_ut=/^#([0-9a-f]{3,8})$/,Sut=new RegExp(`^rgb\\(${sA},${sA},${sA}\\)$`),Aut=new RegExp(`^rgb\\(${vm},${vm},${vm}\\)$`),Eut=new RegExp(`^rgba\\(${sA},${sA},${sA},${_N}\\)$`),Tut=new RegExp(`^rgba\\(${vm},${vm},${vm},${_N}\\)$`),Cut=new RegExp(`^hsl\\(${_N},${vm},${vm}\\)$`),kut=new RegExp(`^hsla\\(${_N},${vm},${vm},${_N}\\)$`),gae={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oZ(iR,SN,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vae,formatHex:vae,formatHex8:Put,formatHsl:Nut,formatRgb:yae,toString:yae});function vae(){return this.rgb().formatHex()}function Put(){return this.rgb().formatHex8()}function Nut(){return R_e(this).formatHsl()}function yae(){return this.rgb().formatRgb()}function SN(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=_ut.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?xae(e):r===3?new iu(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?V3(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?V3(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Sut.exec(t))?new iu(e[1],e[2],e[3],1):(e=Aut.exec(t))?new iu(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Eut.exec(t))?V3(e[1],e[2],e[3],e[4]):(e=Tut.exec(t))?V3(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Cut.exec(t))?_ae(e[1],e[2]/100,e[3]/100,1):(e=kut.exec(t))?_ae(e[1],e[2]/100,e[3]/100,e[4]):gae.hasOwnProperty(t)?xae(gae[t]):t==="transparent"?new iu(NaN,NaN,NaN,0):null}function xae(t){return new iu(t>>16&255,t>>8&255,t&255,1)}function V3(t,e,r,n){return n<=0&&(t=e=r=NaN),new iu(t,e,r,n)}function Iut(t){return t instanceof iR||(t=SN(t)),t?(t=t.rgb(),new iu(t.r,t.g,t.b,t.opacity)):new iu}function TH(t,e,r,n){return arguments.length===1?Iut(t):new iu(t,e,r,n??1)}function iu(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}oZ(iu,TH,O_e(iR,{brighter(t){return t=t==null?Dj:Math.pow(Dj,t),new iu(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wN:Math.pow(wN,t),new iu(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new iu(Yw(this.r),Yw(this.g),Yw(this.b),Mj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bae,formatHex:bae,formatHex8:Out,formatRgb:wae,toString:wae}));function bae(){return`#${pb(this.r)}${pb(this.g)}${pb(this.b)}`}function Out(){return`#${pb(this.r)}${pb(this.g)}${pb(this.b)}${pb((isNaN(this.opacity)?1:this.opacity)*255)}`}function wae(){const t=Mj(this.opacity);return`${t===1?"rgb(":"rgba("}${Yw(this.r)}, ${Yw(this.g)}, ${Yw(this.b)}${t===1?")":`, ${t})`}`}function Mj(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Yw(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function pb(t){return t=Yw(t),(t<16?"0":"")+t.toString(16)}function _ae(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new gf(t,e,r,n)}function R_e(t){if(t instanceof gf)return new gf(t.h,t.s,t.l,t.opacity);if(t instanceof iR||(t=SN(t)),!t)return new gf;if(t instanceof gf)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new gf(a,o,l,t.opacity)}function Rut(t,e,r,n){return arguments.length===1?R_e(t):new gf(t,e,r,n??1)}function gf(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}oZ(gf,Rut,O_e(iR,{brighter(t){return t=t==null?Dj:Math.pow(Dj,t),new gf(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wN:Math.pow(wN,t),new gf(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new iu(y9(t>=240?t-240:t+120,i,n),y9(t,i,n),y9(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new gf(Sae(this.h),U3(this.s),U3(this.l),Mj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Mj(this.opacity);return`${t===1?"hsl(":"hsla("}${Sae(this.h)}, ${U3(this.s)*100}%, ${U3(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Sae(t){return t=(t||0)%360,t<0?t+360:t}function U3(t){return Math.max(0,Math.min(1,t||0))}function y9(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const lZ=t=>()=>t;function Dut(t,e){return function(r){return t+r*e}}function Mut(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Fut(t){return(t=+t)==1?D_e:function(e,r){return r-e?Mut(e,r,t):lZ(isNaN(e)?r:e)}}function D_e(t,e){var r=e-t;return r?Dut(t,r):lZ(isNaN(t)?e:t)}const Aae=function t(e){var r=Fut(e);function n(i,s){var a=r((i=TH(i)).r,(s=TH(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),c=D_e(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function jut(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function Lut(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function But(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=RC(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function $ut(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Fj(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Vut(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=RC(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var CH=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x9=new RegExp(CH.source,"g");function Uut(t){return function(){return t}}function zut(t){return function(e){return t(e)+""}}function Hut(t,e){var r=CH.lastIndex=x9.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(n=CH.exec(t))&&(i=x9.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Fj(n,i)})),r=x9.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?zut(l[0].x):Uut(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function RC(t,e){var r=typeof e,n;return e==null||r==="boolean"?lZ(e):(r==="number"?Fj:r==="string"?(n=SN(e))?(e=n,Aae):Hut:e instanceof SN?Aae:e instanceof Date?$ut:Lut(e)?jut:Array.isArray(e)?But:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Vut:Fj)(t,e)}function cZ(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Wut(t,e){e===void 0&&(e=t,t=RC);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function qut(t){return function(){return t}}function jj(t){return+t}var Eae=[0,1];function gc(t){return t}function kH(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:qut(isNaN(e)?NaN:.5)}function Gut(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Kut(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=kH(i,n),s=r(a,s)):(n=kH(n,i),s=r(s,a)),function(o){return s(n(o))}}function Yut(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=kH(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var l=nR(t,o,1,n)-1;return s[l](i[l](o))}}function sR(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function SB(){var t=Eae,e=Eae,r=RC,n,i,s,a=gc,o,l,c;function u(){var h=Math.min(t.length,e.length);return a!==gc&&(a=Gut(t[0],t[h-1])),o=h>2?Yut:Kut,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?s:(l||(l=o(t.map(n),e,r)))(n(a(h)))}return d.invert=function(h){return a(i((c||(c=o(e,t.map(n),Fj)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,jj),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=cZ,u()},d.clamp=function(h){return arguments.length?(a=h?!0:gc,u()):a!==gc},d.interpolate=function(h){return arguments.length?(r=h,u()):r},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,f){return n=h,i=f,u()}}function uZ(){return SB()(gc,gc)}function Xut(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Lj(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function CT(t){return t=Lj(Math.abs(t)),t?t[1]:NaN}function Zut(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Qut(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Jut=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function AN(t){if(!(e=Jut.exec(t)))throw new Error("invalid format: "+t);var e;return new dZ({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}AN.prototype=dZ.prototype;function dZ(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}dZ.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function edt(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var M_e;function tdt(t,e){var r=Lj(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(M_e=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Lj(t,Math.max(0,e+s-1))[0]}function Tae(t,e){var r=Lj(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Cae={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Xut,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Tae(t*100,e),r:Tae,s:tdt,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function kae(t){return t}var Pae=Array.prototype.map,Nae=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rdt(t){var e=t.grouping===void 0||t.thousands===void 0?kae:Zut(Pae.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?kae:Qut(Pae.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=AN(d);var h=d.fill,f=d.align,g=d.sign,m=d.symbol,v=d.zero,x=d.width,w=d.comma,b=d.precision,_=d.trim,S=d.type;S==="n"?(w=!0,S="g"):Cae[S]||(b===void 0&&(b=12),_=!0,S="g"),(v||h==="0"&&f==="=")&&(v=!0,h="0",f="=");var T=m==="$"?r:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=m==="$"?n:/[%p]/.test(S)?a:"",C=Cae[S],N=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function F(A){var I=T,M=E,U,Y,X;if(S==="c")M=C(A)+M,A="";else{A=+A;var W=A<0||1/A<0;if(A=isNaN(A)?l:C(Math.abs(A),b),_&&(A=edt(A)),W&&+A==0&&g!=="+"&&(W=!1),I=(W?g==="("?g:o:g==="-"||g==="("?"":g)+I,M=(S==="s"?Nae[8+M_e/3]:"")+M+(W&&g==="("?")":""),N){for(U=-1,Y=A.length;++U<Y;)if(X=A.charCodeAt(U),48>X||X>57){M=(X===46?i+A.slice(U+1):A.slice(U))+M,A=A.slice(0,U);break}}}w&&!v&&(A=e(A,1/0));var G=I.length+A.length+M.length,B=G<x?new Array(x-G+1).join(h):"";switch(w&&v&&(A=e(B+A,B.length?x-M.length:1/0),B=""),f){case"<":A=I+A+M+B;break;case"=":A=I+B+A+M;break;case"^":A=B.slice(0,G=B.length>>1)+I+A+M+B.slice(G);break;default:A=B+I+A+M;break}return s(A)}return F.toString=function(){return d+""},F}function u(d,h){var f=c((d=AN(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(CT(h)/3)))*3,m=Math.pow(10,-g),v=Nae[8+g/3];return function(x){return f(m*x)+v}}return{format:c,formatPrefix:u}}var z3,hZ,F_e;ndt({thousands:",",grouping:[3],currency:["$",""]});function ndt(t){return z3=rdt(t),hZ=z3.format,F_e=z3.formatPrefix,z3}function idt(t){return Math.max(0,-CT(Math.abs(t)))}function sdt(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(CT(e)/3)))*3-CT(Math.abs(t)))}function adt(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,CT(e)-CT(t))+1}function j_e(t,e,r,n){var i=AH(t,e,r),s;switch(n=AN(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=sdt(i,a))&&(n.precision=s),F_e(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=adt(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=idt(i))&&(n.precision=s-(n.type==="%")*2);break}}return hZ(n)}function gx(t){var e=t.domain;return t.ticks=function(r){var n=e();return _H(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return j_e(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],l,c,u=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);u-- >0;){if(c=SH(a,o,r),c===l)return n[i]=a,n[s]=o,e(n);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function Bj(){var t=uZ();return t.copy=function(){return sR(t,Bj())},Ih.apply(t,arguments),gx(t)}function L_e(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,jj),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return L_e(t).unknown(e)},t=arguments.length?Array.from(t,jj):[0,1],gx(r)}function B_e(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function Iae(t){return Math.log(t)}function Oae(t){return Math.exp(t)}function odt(t){return-Math.log(-t)}function ldt(t){return-Math.exp(-t)}function cdt(t){return isFinite(t)?+("1e"+t):t<0?0:t}function udt(t){return t===10?cdt:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ddt(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Rae(t){return(e,r)=>-t(-e,r)}function fZ(t){const e=t(Iae,Oae),r=e.domain;let n=10,i,s;function a(){return i=ddt(n),s=udt(n),r()[0]<0?(i=Rae(i),s=Rae(s),t(odt,ldt)):t(Iae,Oae),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),f=i(u),g,m;const v=o==null?10:+o;let x=[];if(!(n%1)&&f-h<v){if(h=Math.floor(h),f=Math.ceil(f),c>0){for(;h<=f;++h)for(g=1;g<n;++g)if(m=h<0?g/s(-h):g*s(h),!(m<c)){if(m>u)break;x.push(m)}}else for(;h<=f;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/s(-h):g*s(h),!(m<c)){if(m>u)break;x.push(m)}x.length*2<v&&(x=_H(c,u,v))}else x=_H(h,f,Math.min(f-h,v)).map(s);return d?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=AN(l)).precision==null&&(l.trim=!0),l=hZ(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return u=>{let d=u/s(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},e.nice=()=>r(B_e(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function $_e(){const t=fZ(SB()).domain([1,10]);return t.copy=()=>sR(t,$_e()).base(t.base()),Ih.apply(t,arguments),t}function Dae(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Mae(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function pZ(t){var e=1,r=t(Dae(e),Mae(e));return r.constant=function(n){return arguments.length?t(Dae(e=+n),Mae(e)):e},gx(r)}function V_e(){var t=pZ(SB());return t.copy=function(){return sR(t,V_e()).constant(t.constant())},Ih.apply(t,arguments)}function Fae(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function hdt(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function fdt(t){return t<0?-t*t:t*t}function mZ(t){var e=t(gc,gc),r=1;function n(){return r===1?t(gc,gc):r===.5?t(hdt,fdt):t(Fae(r),Fae(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},gx(e)}function gZ(){var t=mZ(SB());return t.copy=function(){return sR(t,gZ()).exponent(t.exponent())},Ih.apply(t,arguments),t}function pdt(){return gZ.apply(null,arguments).exponent(.5)}function jae(t){return Math.sign(t)*t*t}function mdt(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function U_e(){var t=uZ(),e=[0,1],r=!1,n;function i(s){var a=mdt(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(jae(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,jj)).map(jae)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return U_e(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ih.apply(i,arguments),gx(i)}function z_e(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=but(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[nR(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Ey),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return z_e().domain(t).range(e).unknown(n)},Ih.apply(s,arguments)}function H_e(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[nR(n,l,0,r)]:s}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return H_e().domain([t,e]).range(i).unknown(s)},Ih.apply(gx(a),arguments)}function W_e(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[nR(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return W_e().domain(t).range(e).unknown(r)},Ih.apply(i,arguments)}const b9=new Date,w9=new Date;function mo(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>mo(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(b9.setTime(+s),w9.setTime(+a),t(b9),t(w9),Math.floor(r(b9,w9))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const $j=mo(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);$j.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?mo(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):$j);$j.range;const sg=1e3,hh=sg*60,ag=hh*60,Lg=ag*24,vZ=Lg*7,Lae=Lg*30,_9=Lg*365,mb=mo(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*sg)},(t,e)=>(e-t)/sg,t=>t.getUTCSeconds());mb.range;const yZ=mo(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sg)},(t,e)=>{t.setTime(+t+e*hh)},(t,e)=>(e-t)/hh,t=>t.getMinutes());yZ.range;const xZ=mo(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*hh)},(t,e)=>(e-t)/hh,t=>t.getUTCMinutes());xZ.range;const bZ=mo(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sg-t.getMinutes()*hh)},(t,e)=>{t.setTime(+t+e*ag)},(t,e)=>(e-t)/ag,t=>t.getHours());bZ.range;const wZ=mo(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ag)},(t,e)=>(e-t)/ag,t=>t.getUTCHours());wZ.range;const aR=mo(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hh)/Lg,t=>t.getDate()-1);aR.range;const AB=mo(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Lg,t=>t.getUTCDate()-1);AB.range;const q_e=mo(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Lg,t=>Math.floor(t/Lg));q_e.range;function l2(t){return mo(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*hh)/vZ)}const EB=l2(0),Vj=l2(1),gdt=l2(2),vdt=l2(3),kT=l2(4),ydt=l2(5),xdt=l2(6);EB.range;Vj.range;gdt.range;vdt.range;kT.range;ydt.range;xdt.range;function c2(t){return mo(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/vZ)}const TB=c2(0),Uj=c2(1),bdt=c2(2),wdt=c2(3),PT=c2(4),_dt=c2(5),Sdt=c2(6);TB.range;Uj.range;bdt.range;wdt.range;PT.range;_dt.range;Sdt.range;const _Z=mo(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());_Z.range;const SZ=mo(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());SZ.range;const Bg=mo(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Bg.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mo(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Bg.range;const $g=mo(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());$g.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mo(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});$g.range;function G_e(t,e,r,n,i,s){const a=[[mb,1,sg],[mb,5,5*sg],[mb,15,15*sg],[mb,30,30*sg],[s,1,hh],[s,5,5*hh],[s,15,15*hh],[s,30,30*hh],[i,1,ag],[i,3,3*ag],[i,6,6*ag],[i,12,12*ag],[n,1,Lg],[n,2,2*Lg],[r,1,vZ],[e,1,Lae],[e,3,3*Lae],[t,1,_9]];function o(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const f=d&&typeof d.range=="function"?d:l(c,u,d),g=f?f.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,d){const h=Math.abs(u-c)/d,f=sZ(([,,v])=>v).right(a,h);if(f===a.length)return t.every(AH(c/_9,u/_9,d));if(f===0)return $j.every(Math.max(AH(c,u,d),1));const[g,m]=a[h/a[f-1][2]<a[f][2]/h?f-1:f];return g.every(m)}return[o,l]}const[Adt,Edt]=G_e($g,SZ,TB,q_e,wZ,xZ),[Tdt,Cdt]=G_e(Bg,_Z,EB,aR,bZ,yZ);function S9(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function A9(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Tk(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function kdt(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=Ck(i),u=kk(i),d=Ck(s),h=kk(s),f=Ck(a),g=kk(a),m=Ck(o),v=kk(o),x=Ck(l),w=kk(l),b={a:W,A:G,b:B,B:re,c:null,d:Hae,e:Hae,f:Zdt,g:oht,G:cht,H:Kdt,I:Ydt,j:Xdt,L:K_e,m:Qdt,M:Jdt,p:ae,q:R,Q:Gae,s:Kae,S:eht,u:tht,U:rht,V:nht,w:iht,W:sht,x:null,X:null,y:aht,Y:lht,Z:uht,"%":qae},_={a:j,A:V,b:K,B:ne,c:null,d:Wae,e:Wae,f:pht,g:Aht,G:Tht,H:dht,I:hht,j:fht,L:X_e,m:mht,M:ght,p:J,q:me,Q:Gae,s:Kae,S:vht,u:yht,U:xht,V:bht,w:wht,W:_ht,x:null,X:null,y:Sht,Y:Eht,Z:Cht,"%":qae},S={a:F,A,b:I,B:M,c:U,d:Uae,e:Uae,f:Hdt,g:Vae,G:$ae,H:zae,I:zae,j:$dt,L:zdt,m:Bdt,M:Vdt,p:N,q:Ldt,Q:qdt,s:Gdt,S:Udt,u:Rdt,U:Ddt,V:Mdt,w:Odt,W:Fdt,x:Y,X,y:Vae,Y:$ae,Z:jdt,"%":Wdt};b.x=T(r,b),b.X=T(n,b),b.c=T(e,b),_.x=T(r,_),_.X=T(n,_),_.c=T(e,_);function T(ce,he){return function(_e){var ee=[],je=-1,Ue=0,pe=ce.length,Me,Ye,xt;for(_e instanceof Date||(_e=new Date(+_e));++je<pe;)ce.charCodeAt(je)===37&&(ee.push(ce.slice(Ue,je)),(Ye=Bae[Me=ce.charAt(++je)])!=null?Me=ce.charAt(++je):Ye=Me==="e"?" ":"0",(xt=he[Me])&&(Me=xt(_e,Ye)),ee.push(Me),Ue=je+1);return ee.push(ce.slice(Ue,je)),ee.join("")}}function E(ce,he){return function(_e){var ee=Tk(1900,void 0,1),je=C(ee,ce,_e+="",0),Ue,pe;if(je!=_e.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(he&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(Ue=A9(Tk(ee.y,0,1)),pe=Ue.getUTCDay(),Ue=pe>4||pe===0?Uj.ceil(Ue):Uj(Ue),Ue=AB.offset(Ue,(ee.V-1)*7),ee.y=Ue.getUTCFullYear(),ee.m=Ue.getUTCMonth(),ee.d=Ue.getUTCDate()+(ee.w+6)%7):(Ue=S9(Tk(ee.y,0,1)),pe=Ue.getDay(),Ue=pe>4||pe===0?Vj.ceil(Ue):Vj(Ue),Ue=aR.offset(Ue,(ee.V-1)*7),ee.y=Ue.getFullYear(),ee.m=Ue.getMonth(),ee.d=Ue.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),pe="Z"in ee?A9(Tk(ee.y,0,1)).getUTCDay():S9(Tk(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(pe+5)%7:ee.w+ee.U*7-(pe+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,A9(ee)):S9(ee)}}function C(ce,he,_e,ee){for(var je=0,Ue=he.length,pe=_e.length,Me,Ye;je<Ue;){if(ee>=pe)return-1;if(Me=he.charCodeAt(je++),Me===37){if(Me=he.charAt(je++),Ye=S[Me in Bae?he.charAt(je++):Me],!Ye||(ee=Ye(ce,_e,ee))<0)return-1}else if(Me!=_e.charCodeAt(ee++))return-1}return ee}function N(ce,he,_e){var ee=c.exec(he.slice(_e));return ee?(ce.p=u.get(ee[0].toLowerCase()),_e+ee[0].length):-1}function F(ce,he,_e){var ee=f.exec(he.slice(_e));return ee?(ce.w=g.get(ee[0].toLowerCase()),_e+ee[0].length):-1}function A(ce,he,_e){var ee=d.exec(he.slice(_e));return ee?(ce.w=h.get(ee[0].toLowerCase()),_e+ee[0].length):-1}function I(ce,he,_e){var ee=x.exec(he.slice(_e));return ee?(ce.m=w.get(ee[0].toLowerCase()),_e+ee[0].length):-1}function M(ce,he,_e){var ee=m.exec(he.slice(_e));return ee?(ce.m=v.get(ee[0].toLowerCase()),_e+ee[0].length):-1}function U(ce,he,_e){return C(ce,e,he,_e)}function Y(ce,he,_e){return C(ce,r,he,_e)}function X(ce,he,_e){return C(ce,n,he,_e)}function W(ce){return a[ce.getDay()]}function G(ce){return s[ce.getDay()]}function B(ce){return l[ce.getMonth()]}function re(ce){return o[ce.getMonth()]}function ae(ce){return i[+(ce.getHours()>=12)]}function R(ce){return 1+~~(ce.getMonth()/3)}function j(ce){return a[ce.getUTCDay()]}function V(ce){return s[ce.getUTCDay()]}function K(ce){return l[ce.getUTCMonth()]}function ne(ce){return o[ce.getUTCMonth()]}function J(ce){return i[+(ce.getUTCHours()>=12)]}function me(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var he=T(ce+="",b);return he.toString=function(){return ce},he},parse:function(ce){var he=E(ce+="",!1);return he.toString=function(){return ce},he},utcFormat:function(ce){var he=T(ce+="",_);return he.toString=function(){return ce},he},utcParse:function(ce){var he=E(ce+="",!0);return he.toString=function(){return ce},he}}}var Bae={"-":"",_:" ",0:"0"},Mo=/^\s*\d+/,Pdt=/^%/,Ndt=/[\\^$*+?|[\]().{}]/g;function ii(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function Idt(t){return t.replace(Ndt,"\\$&")}function Ck(t){return new RegExp("^(?:"+t.map(Idt).join("|")+")","i")}function kk(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Odt(t,e,r){var n=Mo.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Rdt(t,e,r){var n=Mo.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Ddt(t,e,r){var n=Mo.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Mdt(t,e,r){var n=Mo.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Fdt(t,e,r){var n=Mo.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function $ae(t,e,r){var n=Mo.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Vae(t,e,r){var n=Mo.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function jdt(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Ldt(t,e,r){var n=Mo.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Bdt(t,e,r){var n=Mo.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function Uae(t,e,r){var n=Mo.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function $dt(t,e,r){var n=Mo.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function zae(t,e,r){var n=Mo.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Vdt(t,e,r){var n=Mo.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Udt(t,e,r){var n=Mo.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function zdt(t,e,r){var n=Mo.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Hdt(t,e,r){var n=Mo.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Wdt(t,e,r){var n=Pdt.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function qdt(t,e,r){var n=Mo.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Gdt(t,e,r){var n=Mo.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Hae(t,e){return ii(t.getDate(),e,2)}function Kdt(t,e){return ii(t.getHours(),e,2)}function Ydt(t,e){return ii(t.getHours()%12||12,e,2)}function Xdt(t,e){return ii(1+aR.count(Bg(t),t),e,3)}function K_e(t,e){return ii(t.getMilliseconds(),e,3)}function Zdt(t,e){return K_e(t,e)+"000"}function Qdt(t,e){return ii(t.getMonth()+1,e,2)}function Jdt(t,e){return ii(t.getMinutes(),e,2)}function eht(t,e){return ii(t.getSeconds(),e,2)}function tht(t){var e=t.getDay();return e===0?7:e}function rht(t,e){return ii(EB.count(Bg(t)-1,t),e,2)}function Y_e(t){var e=t.getDay();return e>=4||e===0?kT(t):kT.ceil(t)}function nht(t,e){return t=Y_e(t),ii(kT.count(Bg(t),t)+(Bg(t).getDay()===4),e,2)}function iht(t){return t.getDay()}function sht(t,e){return ii(Vj.count(Bg(t)-1,t),e,2)}function aht(t,e){return ii(t.getFullYear()%100,e,2)}function oht(t,e){return t=Y_e(t),ii(t.getFullYear()%100,e,2)}function lht(t,e){return ii(t.getFullYear()%1e4,e,4)}function cht(t,e){var r=t.getDay();return t=r>=4||r===0?kT(t):kT.ceil(t),ii(t.getFullYear()%1e4,e,4)}function uht(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ii(e/60|0,"0",2)+ii(e%60,"0",2)}function Wae(t,e){return ii(t.getUTCDate(),e,2)}function dht(t,e){return ii(t.getUTCHours(),e,2)}function hht(t,e){return ii(t.getUTCHours()%12||12,e,2)}function fht(t,e){return ii(1+AB.count($g(t),t),e,3)}function X_e(t,e){return ii(t.getUTCMilliseconds(),e,3)}function pht(t,e){return X_e(t,e)+"000"}function mht(t,e){return ii(t.getUTCMonth()+1,e,2)}function ght(t,e){return ii(t.getUTCMinutes(),e,2)}function vht(t,e){return ii(t.getUTCSeconds(),e,2)}function yht(t){var e=t.getUTCDay();return e===0?7:e}function xht(t,e){return ii(TB.count($g(t)-1,t),e,2)}function Z_e(t){var e=t.getUTCDay();return e>=4||e===0?PT(t):PT.ceil(t)}function bht(t,e){return t=Z_e(t),ii(PT.count($g(t),t)+($g(t).getUTCDay()===4),e,2)}function wht(t){return t.getUTCDay()}function _ht(t,e){return ii(Uj.count($g(t)-1,t),e,2)}function Sht(t,e){return ii(t.getUTCFullYear()%100,e,2)}function Aht(t,e){return t=Z_e(t),ii(t.getUTCFullYear()%100,e,2)}function Eht(t,e){return ii(t.getUTCFullYear()%1e4,e,4)}function Tht(t,e){var r=t.getUTCDay();return t=r>=4||r===0?PT(t):PT.ceil(t),ii(t.getUTCFullYear()%1e4,e,4)}function Cht(){return"+0000"}function qae(){return"%"}function Gae(t){return+t}function Kae(t){return Math.floor(+t/1e3)}var $2,Q_e,J_e;kht({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kht(t){return $2=kdt(t),Q_e=$2.format,$2.parse,J_e=$2.utcFormat,$2.utcParse,$2}function Pht(t){return new Date(t)}function Nht(t){return t instanceof Date?+t:+new Date(+t)}function AZ(t,e,r,n,i,s,a,o,l,c){var u=uZ(),d=u.invert,h=u.domain,f=c(".%L"),g=c(":%S"),m=c("%I:%M"),v=c("%I %p"),x=c("%a %d"),w=c("%b %d"),b=c("%B"),_=c("%Y");function S(T){return(l(T)<T?f:o(T)<T?g:a(T)<T?m:s(T)<T?v:n(T)<T?i(T)<T?x:w:r(T)<T?b:_)(T)}return u.invert=function(T){return new Date(d(T))},u.domain=function(T){return arguments.length?h(Array.from(T,Nht)):h().map(Pht)},u.ticks=function(T){var E=h();return t(E[0],E[E.length-1],T??10)},u.tickFormat=function(T,E){return E==null?S:c(E)},u.nice=function(T){var E=h();return(!T||typeof T.range!="function")&&(T=e(E[0],E[E.length-1],T??10)),T?h(B_e(E,T)):u},u.copy=function(){return sR(u,AZ(t,e,r,n,i,s,a,o,l,c))},u}function Iht(){return Ih.apply(AZ(Tdt,Cdt,Bg,_Z,EB,aR,bZ,yZ,mb,Q_e).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Oht(){return Ih.apply(AZ(Adt,Edt,$g,SZ,TB,AB,wZ,xZ,mb,J_e).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function CB(){var t=0,e=1,r,n,i,s,a=gc,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(s(d)-r)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(a=d,c):a};function u(d){return function(h){var f,g;return arguments.length?([f,g]=h,a=d(f,g),c):[a(0),a(1)]}}return c.range=u(RC),c.rangeRound=u(cZ),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return s=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),c}}function vx(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function e2e(){var t=gx(CB()(gc));return t.copy=function(){return vx(t,e2e())},tv.apply(t,arguments)}function t2e(){var t=fZ(CB()).domain([1,10]);return t.copy=function(){return vx(t,t2e()).base(t.base())},tv.apply(t,arguments)}function r2e(){var t=pZ(CB());return t.copy=function(){return vx(t,r2e()).constant(t.constant())},tv.apply(t,arguments)}function EZ(){var t=mZ(CB());return t.copy=function(){return vx(t,EZ()).exponent(t.exponent())},tv.apply(t,arguments)}function Rht(){return EZ.apply(null,arguments).exponent(.5)}function n2e(){var t=[],e=gc;function r(n){if(n!=null&&!isNaN(n=+n))return e((nR(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ey),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>xut(t,s/n))},r.copy=function(){return n2e(e).domain(t)},tv.apply(r,arguments)}function kB(){var t=0,e=.5,r=1,n=1,i,s,a,o,l,c=gc,u,d=!1,h;function f(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-s)*(n*m<n*s?o:l),c(d?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e,r]=m,i=u(t=+t),s=u(e=+e),a=u(r=+r),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,f):[t,e,r]},f.clamp=function(m){return arguments.length?(d=!!m,f):d},f.interpolator=function(m){return arguments.length?(c=m,f):c};function g(m){return function(v){var x,w,b;return arguments.length?([x,w,b]=v,c=Wut(m,[x,w,b]),f):[c(0),c(.5),c(1)]}}return f.range=g(RC),f.rangeRound=g(cZ),f.unknown=function(m){return arguments.length?(h=m,f):h},function(m){return u=m,i=m(t),s=m(e),a=m(r),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,f}}function i2e(){var t=gx(kB()(gc));return t.copy=function(){return vx(t,i2e())},tv.apply(t,arguments)}function s2e(){var t=fZ(kB()).domain([.1,1,10]);return t.copy=function(){return vx(t,s2e()).base(t.base())},tv.apply(t,arguments)}function a2e(){var t=pZ(kB());return t.copy=function(){return vx(t,a2e()).constant(t.constant())},tv.apply(t,arguments)}function TZ(){var t=mZ(kB());return t.copy=function(){return vx(t,TZ()).exponent(t.exponent())},tv.apply(t,arguments)}function Dht(){return TZ.apply(null,arguments).exponent(.5)}const Yae=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bN,scaleDiverging:i2e,scaleDivergingLog:s2e,scaleDivergingPow:TZ,scaleDivergingSqrt:Dht,scaleDivergingSymlog:a2e,scaleIdentity:L_e,scaleImplicit:EH,scaleLinear:Bj,scaleLog:$_e,scaleOrdinal:aZ,scalePoint:sP,scalePow:gZ,scaleQuantile:z_e,scaleQuantize:H_e,scaleRadial:U_e,scaleSequential:e2e,scaleSequentialLog:t2e,scaleSequentialPow:EZ,scaleSequentialQuantile:n2e,scaleSequentialSqrt:Rht,scaleSequentialSymlog:r2e,scaleSqrt:pdt,scaleSymlog:V_e,scaleThreshold:W_e,scaleTime:Iht,scaleUtc:Oht,tickFormat:j_e},Symbol.toStringTag,{value:"Module"}));var Mht=AC;function Fht(t,e,r){for(var n=-1,i=t.length;++n<i;){var s=t[n],a=e(s);if(a!=null&&(o===void 0?a===a&&!Mht(a):r(a,o)))var o=a,l=s}return l}var o2e=Fht;function jht(t,e){return t>e}var Lht=jht,Bht=o2e,$ht=Lht,Vht=OC;function Uht(t){return t&&t.length?Bht(t,Vht,$ht):void 0}var zht=Uht;const ey=ki(zht);function Hht(t,e){return t<e}var Wht=Hht,qht=o2e,Ght=Wht,Kht=OC;function Yht(t){return t&&t.length?qht(t,Kht,Ght):void 0}var Xht=Yht;const PB=ki(Xht);var Zht=$X,Qht=mx,Jht=m_e,eft=hu;function tft(t,e){var r=eft(t)?Zht:Jht;return r(t,Qht(e))}var rft=tft,nft=f_e,ift=rft;function sft(t,e){return nft(ift(t,e),1)}var aft=sft;const oft=ki(aft);var lft=tZ;function cft(t,e){return lft(t,e)}var uft=cft;const EN=ki(uft);var DC=1e9,dft={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kZ,Is=!0,Eh="[DecimalError] ",Xw=Eh+"Invalid argument: ",CZ=Eh+"Exponent out of range: ",MC=Math.floor,Gx=Math.pow,hft=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,id,ko=1e7,xs=7,l2e=9007199254740991,zj=MC(l2e/xs),ur={};ur.absoluteValue=ur.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ur.comparedTo=ur.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ur.decimalPlaces=ur.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*xs;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ur.dividedBy=ur.div=function(t){return xg(this,new this.constructor(t))};ur.dividedToIntegerBy=ur.idiv=function(t){var e=this,r=e.constructor;return Ki(xg(e,new r(t),0,1),r.precision)};ur.equals=ur.eq=function(t){return!this.cmp(t)};ur.exponent=function(){return Ha(this)};ur.greaterThan=ur.gt=function(t){return this.cmp(t)>0};ur.greaterThanOrEqualTo=ur.gte=function(t){return this.cmp(t)>=0};ur.isInteger=ur.isint=function(){return this.e>this.d.length-2};ur.isNegative=ur.isneg=function(){return this.s<0};ur.isPositive=ur.ispos=function(){return this.s>0};ur.isZero=function(){return this.s===0};ur.lessThan=ur.lt=function(t){return this.cmp(t)<0};ur.lessThanOrEqualTo=ur.lte=function(t){return this.cmp(t)<1};ur.logarithm=ur.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(id))throw Error(Eh+"NaN");if(r.s<1)throw Error(Eh+(r.s?"NaN":"-Infinity"));return r.eq(id)?new n(0):(Is=!1,e=xg(TN(r,s),TN(t,s),s),Is=!0,Ki(e,i))};ur.minus=ur.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?d2e(e,t):c2e(e,(t.s=-t.s,t))};ur.modulo=ur.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Eh+"NaN");return r.s?(Is=!1,e=xg(r,t,0,1).times(t),Is=!0,r.minus(e)):Ki(new n(r),i)};ur.naturalExponential=ur.exp=function(){return u2e(this)};ur.naturalLogarithm=ur.ln=function(){return TN(this)};ur.negated=ur.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ur.plus=ur.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?c2e(e,t):d2e(e,(t.s=-t.s,t))};ur.precision=ur.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Xw+t);if(e=Ha(i)+1,n=i.d.length-1,r=n*xs+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ur.squareRoot=ur.sqrt=function(){var t,e,r,n,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Eh+"NaN")}for(t=Ha(o),Is=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=im(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=MC((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=a=r+3;;)if(s=n,n=s.plus(xg(o,s,a+2)).times(.5),im(s.d).slice(0,a)===(e=im(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ki(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return Is=!0,Ki(n,r)};ur.times=ur.mul=function(t){var e,r,n,i,s,a,o,l,c,u=this,d=u.constructor,h=u.d,f=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,r=u.e+t.e,l=h.length,c=f.length,l<c&&(s=h,h=f,f=s,a=l,l=c,c=a),s=[],a=l+c,n=a;n--;)s.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)o=s[i]+f[n]*h[i-n-1]+e,s[i--]=o%ko|0,e=o/ko|0;s[i]=(s[i]+e)%ko|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Is?Ki(t,d.precision):t};ur.toDecimalPlaces=ur.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(km(t,0,DC),e===void 0?e=n.rounding:km(e,0,8),Ki(r,t+Ha(r)+1,e))};ur.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=S_(n,!0):(km(t,0,DC),e===void 0?e=i.rounding:km(e,0,8),n=Ki(new i(n),t+1,e),r=S_(n,!0,t+1)),r};ur.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?S_(i):(km(t,0,DC),e===void 0?e=s.rounding:km(e,0,8),n=Ki(new s(i),t+Ha(i)+1,e),r=S_(n.abs(),!1,t+Ha(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ur.toInteger=ur.toint=function(){var t=this,e=t.constructor;return Ki(new e(t),Ha(t)+1,e.rounding)};ur.toNumber=function(){return+this};ur.toPower=ur.pow=function(t){var e,r,n,i,s,a,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(id);if(o=new l(o),!o.s){if(t.s<1)throw Error(Eh+"Infinity");return o}if(o.eq(id))return o;if(n=l.precision,t.eq(id))return Ki(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=u<0?-u:u)<=l2e){for(i=new l(id),e=Math.ceil(n/xs+4),Is=!1;r%2&&(i=i.times(o),Zae(i.d,e)),r=MC(r/2),r!==0;)o=o.times(o),Zae(o.d,e);return Is=!0,t.s<0?new l(id).div(i):Ki(i,n)}}else if(s<0)throw Error(Eh+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Is=!1,i=t.times(TN(o,n+c)),Is=!0,i=u2e(i),i.s=s,i};ur.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Ha(i),n=S_(i,r<=s.toExpNeg||r>=s.toExpPos)):(km(t,1,DC),e===void 0?e=s.rounding:km(e,0,8),i=Ki(new s(i),t,e),r=Ha(i),n=S_(i,t<=r||r<=s.toExpNeg,t)),n};ur.toSignificantDigits=ur.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(km(t,1,DC),e===void 0?e=n.rounding:km(e,0,8)),Ki(new n(r),t,e)};ur.toString=ur.valueOf=ur.val=ur.toJSON=ur[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ha(t),r=t.constructor;return S_(t,e<=r.toExpNeg||e>=r.toExpPos)};function c2e(t,e){var r,n,i,s,a,o,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Is?Ki(e,d):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(n=l,s=-s,o=c.length):(n=c,i=a,o=l.length),a=Math.ceil(d/xs),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,n=c,c=l,l=n),r=0;s;)r=(l[--s]=l[s]+c[s]+r)/ko|0,l[s]%=ko;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Is?Ki(e,d):e}function km(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Xw+t)}function im(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=xs-n.length,r&&(s+=zv(r)),s+=n;a=t[e],n=a+"",r=xs-n.length,r&&(s+=zv(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var xg=function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%ko|0,a=s/ko|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*ko+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,l,c,u,d,h,f,g,m,v,x,w,b,_,S,T,E,C,N=n.constructor,F=n.s==i.s?1:-1,A=n.d,I=i.d;if(!n.s)return new N(n);if(!i.s)throw Error(Eh+"Division by zero");for(l=n.e-i.e,E=I.length,S=A.length,f=new N(F),g=f.d=[],c=0;I[c]==(A[c]||0);)++c;if(I[c]>(A[c]||0)&&--l,s==null?w=s=N.precision:a?w=s+(Ha(n)-Ha(i))+1:w=s,w<0)return new N(0);if(w=w/xs+2|0,c=0,E==1)for(u=0,I=I[0],w++;(c<S||u)&&w--;c++)b=u*ko+(A[c]||0),g[c]=b/I|0,u=b%I|0;else{for(u=ko/(I[0]+1)|0,u>1&&(I=t(I,u),A=t(A,u),E=I.length,S=A.length),_=E,m=A.slice(0,E),v=m.length;v<E;)m[v++]=0;C=I.slice(),C.unshift(0),T=I[0],I[1]>=ko/2&&++T;do u=0,o=e(I,m,E,v),o<0?(x=m[0],E!=v&&(x=x*ko+(m[1]||0)),u=x/T|0,u>1?(u>=ko&&(u=ko-1),d=t(I,u),h=d.length,v=m.length,o=e(d,m,h,v),o==1&&(u--,r(d,E<h?C:I,h))):(u==0&&(o=u=1),d=I.slice()),h=d.length,h<v&&d.unshift(0),r(m,d,v),o==-1&&(v=m.length,o=e(I,m,E,v),o<1&&(u++,r(m,E<v?C:I,v))),v=m.length):o===0&&(u++,m=[0]),g[c++]=u,o&&m[0]?m[v++]=A[_]||0:(m=[A[_]],v=1);while((_++<S||m[0]!==void 0)&&w--)}return g[0]||g.shift(),f.e=l,Ki(f,a?s+Ha(f)+1:s)}}();function u2e(t,e){var r,n,i,s,a,o,l=0,c=0,u=t.constructor,d=u.precision;if(Ha(t)>16)throw Error(CZ+Ha(t));if(!t.s)return new u(id);for(e==null?(Is=!1,o=d):o=e,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(n=Math.log(Gx(2,c))/Math.LN10*2+5|0,o+=n,r=i=s=new u(id),u.precision=o;;){if(i=Ki(i.times(t),o),r=r.times(++l),a=s.plus(xg(i,r,o)),im(a.d).slice(0,o)===im(s.d).slice(0,o)){for(;c--;)s=Ki(s.times(s),o);return u.precision=d,e==null?(Is=!0,Ki(s,d)):s}s=a}}function Ha(t){for(var e=t.e*xs,r=t.d[0];r>=10;r/=10)e++;return e}function E9(t,e,r){if(e>t.LN10.sd())throw Is=!0,r&&(t.precision=r),Error(Eh+"LN10 precision limit exceeded");return Ki(new t(t.LN10),e)}function zv(t){for(var e="";t--;)e+="0";return e}function TN(t,e){var r,n,i,s,a,o,l,c,u,d=1,h=10,f=t,g=f.d,m=f.constructor,v=m.precision;if(f.s<1)throw Error(Eh+(f.s?"NaN":"-Infinity"));if(f.eq(id))return new m(0);if(e==null?(Is=!1,c=v):c=e,f.eq(10))return e==null&&(Is=!0),E9(m,c);if(c+=h,m.precision=c,r=im(g),n=r.charAt(0),s=Ha(f),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(t),r=im(f.d),n=r.charAt(0),d++;s=Ha(f),n>1?(f=new m("0."+r),s++):f=new m(n+"."+r.slice(1))}else return l=E9(m,c+2,v).times(s+""),f=TN(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=v,e==null?(Is=!0,Ki(f,v)):f;for(o=a=f=xg(f.minus(id),f.plus(id),c),u=Ki(f.times(f),c),i=3;;){if(a=Ki(a.times(u),c),l=o.plus(xg(a,new m(i),c)),im(l.d).slice(0,c)===im(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(E9(m,c+2,v).times(s+""))),o=xg(o,new m(d),c),m.precision=v,e==null?(Is=!0,Ki(o,v)):o;o=l,i+=2}}function Xae(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=MC(r/xs),t.d=[],n=(r+1)%xs,r<0&&(n+=xs),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=xs;n<i;)t.d.push(+e.slice(n,n+=xs));e=e.slice(n),n=xs-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Is&&(t.e>zj||t.e<-zj))throw Error(CZ+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ki(t,e,r){var n,i,s,a,o,l,c,u,d=t.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=xs,i=e,c=d[u=0];else{if(u=Math.ceil((n+1)/xs),s=d.length,u>=s)return t;for(c=s=d[u],a=1;s>=10;s/=10)a++;n%=xs,i=n-xs+a}if(r!==void 0&&(s=Gx(10,a-i-1),o=c/s%10|0,l=e<0||d[u+1]!==void 0||c%s,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/Gx(10,a-i):0:d[u-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return l?(s=Ha(t),d.length=1,e=e-s-1,d[0]=Gx(10,(xs-e%xs)%xs),t.e=MC(-e/xs)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=u,s=1,u--):(d.length=u+1,s=Gx(10,xs-n),d[u]=i>0?(c/Gx(10,a-i)%Gx(10,i)|0)*s:0),l)for(;;)if(u==0){(d[0]+=s)==ko&&(d[0]=1,++t.e);break}else{if(d[u]+=s,d[u]!=ko)break;d[u--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(Is&&(t.e>zj||t.e<-zj))throw Error(CZ+Ha(t));return t}function d2e(t,e){var r,n,i,s,a,o,l,c,u,d,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Is?Ki(e,f):e;if(l=t.d,d=e.d,n=e.e,c=t.e,l=l.slice(),a=c-n,a){for(u=a<0,u?(r=l,a=-a,o=d.length):(r=d,n=c,o=l.length),i=Math.max(Math.ceil(f/xs),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=d.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}a=0}for(u&&(r=l,l=d,d=r,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(s=i;s&&l[--s]===0;)l[s]=ko-1;--l[s],l[i]+=ko}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Is?Ki(e,f):e):new h(0)}function S_(t,e,r){var n,i=Ha(t),s=im(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+zv(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+zv(-i-1)+s,r&&(n=r-a)>0&&(s+=zv(n))):i>=a?(s+=zv(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+zv(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=zv(n))),t.s<0?"-"+s:s}function Zae(t,e){if(t.length>e)return t.length=e,!0}function h2e(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Xw+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return Xae(a,s.toString())}else if(typeof s!="string")throw Error(Xw+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,hft.test(s))Xae(a,s);else throw Error(Xw+s)}if(i.prototype=ur,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=h2e,i.config=i.set=fft,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function fft(t){if(!t||typeof t!="object")throw Error(Eh+"Object expected");var e,r,n,i=["precision",1,DC,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(MC(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Xw+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Xw+r+": "+n);return this}var kZ=h2e(dft);id=new kZ(1);const Fi=kZ;function pft(t){return yft(t)||vft(t)||gft(t)||mft()}function mft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gft(t,e){if(t){if(typeof t=="string")return PH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PH(t,e)}}function vft(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yft(t){if(Array.isArray(t))return PH(t)}function PH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var xft=function(e){return e},f2e={"@@functional/placeholder":!0},p2e=function(e){return e===f2e},Qae=function(e){return function r(){return arguments.length===0||arguments.length===1&&p2e(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},bft=function t(e,r){return e===1?r:Qae(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==f2e}).length;return a>=e?r.apply(void 0,i):t(e-a,Qae(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(d){return p2e(d)?l.shift():d});return r.apply(void 0,pft(u).concat(l))}))})},NB=function(e){return bft(e.length,e)},NH=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},wft=NB(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),_ft=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return xft;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},IH=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},m2e=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r&&s.every(function(o,l){return o===r[l]})||(r=s,n=e.apply(void 0,s)),n}};function Sft(t){var e;return t===0?e=1:e=Math.floor(new Fi(t).abs().log(10).toNumber())+1,e}function Aft(t,e,r){for(var n=new Fi(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var Eft=NB(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Tft=NB(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Cft=NB(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const IB={rangeStep:Aft,getDigitCount:Sft,interpolateNumber:Eft,uninterpolateNumber:Tft,uninterpolateTruncation:Cft};function OH(t){return Nft(t)||Pft(t)||g2e(t)||kft()}function kft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pft(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Nft(t){if(Array.isArray(t))return RH(t)}function CN(t,e){return Rft(t)||Oft(t,e)||g2e(t,e)||Ift()}function Ift(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g2e(t,e){if(t){if(typeof t=="string")return RH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RH(t,e)}}function RH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Oft(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(n=(o=a.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,s=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}}function Rft(t){if(Array.isArray(t))return t}function v2e(t){var e=CN(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function y2e(t,e,r){if(t.lte(0))return new Fi(0);var n=IB.getDigitCount(t.toNumber()),i=new Fi(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new Fi(Math.ceil(s.div(a).toNumber())).add(r).mul(a),l=o.mul(i);return e?l:new Fi(Math.ceil(l))}function Dft(t,e,r){var n=1,i=new Fi(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Fi(10).pow(IB.getDigitCount(t)-1),i=new Fi(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Fi(Math.floor(t)))}else t===0?i=new Fi(Math.floor((e-1)/2)):r||(i=new Fi(Math.floor(t)));var a=Math.floor((e-1)/2),o=_ft(wft(function(l){return i.add(new Fi(l-a).mul(n)).toNumber()}),NH);return o(0,e)}function x2e(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Fi(0),tickMin:new Fi(0),tickMax:new Fi(0)};var s=y2e(new Fi(e).sub(t).div(r-1),n,i),a;t<=0&&e>=0?a=new Fi(0):(a=new Fi(t).add(e).div(2),a=a.sub(new Fi(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new Fi(e).sub(a).div(s).toNumber()),c=o+l+1;return c>r?x2e(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,o=e>0?o:o+(r-c)),{step:s,tickMin:a.sub(new Fi(o).mul(s)),tickMax:a.add(new Fi(l).mul(s))})}function Mft(t){var e=CN(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=v2e([r,n]),l=CN(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(OH(NH(0,i-1).map(function(){return 1/0}))):[].concat(OH(NH(0,i-1).map(function(){return-1/0})),[u]);return r>n?IH(d):d}if(c===u)return Dft(c,i,s);var h=x2e(c,u,a,s),f=h.step,g=h.tickMin,m=h.tickMax,v=IB.rangeStep(g,m.add(new Fi(.1).mul(f)),f);return r>n?IH(v):v}function Fft(t,e){var r=CN(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=v2e([n,i]),o=CN(a,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),d=y2e(new Fi(c).sub(l).div(u-1),s,0),h=[].concat(OH(IB.rangeStep(new Fi(l),new Fi(c).sub(new Fi(.99).mul(d)),d)),[c]);return n>i?IH(h):h}var jft=m2e(Mft),Lft=m2e(Fft),Bft="Invariant failed";function A_(t,e){throw new Error(Bft)}var $ft=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function NT(t){"@babel/helpers - typeof";return NT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NT(t)}function Hj(){return Hj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hj.apply(this,arguments)}function Vft(t,e){return Wft(t)||Hft(t,e)||zft(t,e)||Uft()}function Uft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zft(t,e){if(t){if(typeof t=="string")return Jae(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jae(t,e)}}function Jae(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hft(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Wft(t){if(Array.isArray(t))return t}function qft(t,e){if(t==null)return{};var r=Gft(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gft(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Kft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yft(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_2e(n.key),n)}}function Xft(t,e,r){return e&&Yft(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zft(t,e,r){return e=Wj(e),Qft(t,b2e()?Reflect.construct(e,r||[],Wj(t).constructor):e.apply(t,r))}function Qft(t,e){if(e&&(NT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jft(t)}function Jft(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b2e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b2e=function(){return!!t})()}function Wj(t){return Wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wj(t)}function ept(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DH(t,e)}function DH(t,e){return DH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DH(t,e)}function w2e(t,e,r){return e=_2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _2e(t){var e=tpt(t,"string");return NT(e)=="symbol"?e:e+""}function tpt(t,e){if(NT(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(NT(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OB=function(t){function e(){return Kft(this,e),Zft(this,e,arguments)}return ept(e,t),Xft(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,a=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,h=qft(n,$ft),f=Cn(h,!1);this.props.direction==="x"&&u.type!=="number"&&A_();var g=l.map(function(m){var v=c(m,o),x=v.x,w=v.y,b=v.value,_=v.errorVal;if(!_)return null;var S=[],T,E;if(Array.isArray(_)){var C=Vft(_,2);T=C[0],E=C[1]}else T=E=_;if(s==="vertical"){var N=u.scale,F=w+i,A=F+a,I=F-a,M=N(b-T),U=N(b+E);S.push({x1:U,y1:A,x2:U,y2:I}),S.push({x1:M,y1:F,x2:U,y2:F}),S.push({x1:M,y1:A,x2:M,y2:I})}else if(s==="horizontal"){var Y=d.scale,X=x+i,W=X-a,G=X+a,B=Y(b-T),re=Y(b+E);S.push({x1:W,y1:re,x2:G,y2:re}),S.push({x1:X,y1:B,x2:X,y2:re}),S.push({x1:W,y1:B,x2:G,y2:B})}return Ae.createElement(Ms,Hj({className:"recharts-errorBar",key:"bar-".concat(S.map(function(ae){return"".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))},f),S.map(function(ae){return Ae.createElement("line",Hj({},ae,{key:"line-".concat(ae.x1,"-").concat(ae.x2,"-").concat(ae.y1,"-").concat(ae.y2)}))}))});return Ae.createElement(Ms,{className:"recharts-errorBars"},g)}}])}(Ae.Component);w2e(OB,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});w2e(OB,"displayName","ErrorBar");function kN(t){"@babel/helpers - typeof";return kN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kN(t)}function eoe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eoe(Object(r),!0).forEach(function(n){rpt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eoe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rpt(t,e,r){return e=npt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function npt(t){var e=ipt(t,"string");return kN(e)=="symbol"?e:e+""}function ipt(t,e){if(kN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(kN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S2e=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=Xu(r,iA);if(!a)return null;var o=iA.defaultProps,l=o!==void 0?Fx(Fx({},o),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:s==="children"?c=(n||[]).reduce(function(u,d){var h=d.item,f=d.props,g=f.sectors||f.data||[];return u.concat(g.map(function(m){return{type:a.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var d=u.item,h=d.type.defaultProps,f=h!==void 0?Fx(Fx({},h),d.props):{},g=f.dataKey,m=f.name,v=f.legendType,x=f.hide;return{inactive:x,dataKey:g,type:l.iconType||v||"square",color:PZ(d),value:m||g,payload:f}}),Fx(Fx(Fx({},l),iA.getWithHeight(a,i)),{},{payload:c,item:a})};function PN(t){"@babel/helpers - typeof";return PN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PN(t)}function toe(t){return lpt(t)||opt(t)||apt(t)||spt()}function spt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function apt(t,e){if(t){if(typeof t=="string")return MH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MH(t,e)}}function opt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lpt(t){if(Array.isArray(t))return MH(t)}function MH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function roe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ra(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?roe(Object(r),!0).forEach(function(n){aA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):roe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aA(t,e,r){return e=cpt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cpt(t){var e=upt(t,"string");return PN(e)=="symbol"?e:e+""}function upt(t,e){if(PN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(PN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vd(t,e,r){return Ln(t)||Ln(e)?r:ao(e)?yh(t,e,r):fn(e)?e(t):r}function aP(t,e,r,n){var i=oft(t,function(o){return vd(o,e)});if(r==="number"){var s=i.filter(function(o){return Ft(o)||parseFloat(o)});return s.length?[PB(s),ey(s)]:[1/0,-1/0]}var a=n?i.filter(function(o){return!Ln(o)}):i;return a.map(function(o){return ao(o)||o instanceof Date?o:""})}var dpt=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,d=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,f=void 0;if(bf(d-u)!==bf(h-d)){var g=[];if(bf(h-d)===bf(l[1]-l[0])){f=h;var m=d+l[1]-l[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{f=u;var v=h+l[1]-l[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var x=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){a=i[c].index;break}}else{var w=Math.min(u,h),b=Math.max(u,h);if(e>(w+d)/2&&e<=(b+d)/2){a=i[c].index;break}}}else for(var _=0;_<o;_++)if(_===0&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<o-1&&e>(n[_].coordinate+n[_-1].coordinate)/2&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_===o-1&&e>(n[_].coordinate+n[_-1].coordinate)/2){a=n[_].index;break}return a},PZ=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ra(ra({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},hpt=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,c=o.length;l<c;l++)for(var u=s[o[l]].stackGroups,d=Object.keys(u),h=0,f=d.length;h<f;h++){var g=u[d[h]],m=g.items,v=g.cateAxisId,x=m.filter(function(E){return gg(E.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,b=w!==void 0?ra(ra({},w),x[0].props):x[0].props,_=b.barSize,S=b[v];a[S]||(a[S]=[]);var T=Ln(_)?r:_;a[S].push({item:x[0],stackList:x.slice(1),barSize:Ln(T)?void 0:__(T,n,0)})}}return a},fpt=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var c=__(r,i,0,!0),u,d=[];if(a[0].barSize===+a[0].barSize){var h=!1,f=i/l,g=a.reduce(function(_,S){return _+S.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&f>0&&(h=!0,f*=.9,g=l*f);var m=(i-g)/2>>0,v={offset:m-c,size:0};u=a.reduce(function(_,S){var T={item:S.item,position:{offset:v.offset+v.size+c,size:h?f:S.barSize}},E=[].concat(toe(_),[T]);return v=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){E.push({item:C,position:v})}),E},d)}else{var x=__(n,i,0,!0);i-2*x-(l-1)*c<=0&&(c=0);var w=(i-2*x-(l-1)*c)/l;w>1&&(w>>=0);var b=o===+o?Math.min(w,o):w;u=a.reduce(function(_,S,T){var E=[].concat(toe(_),[{item:S.item,position:{offset:x+(w+c)*T+(w-b)/2,size:b}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){E.push({item:C,position:E[E.length-1].position})}),E},d)}return u},ppt=function(e,r,n,i){var s=n.children,a=n.width,o=n.margin,l=a-(o.left||0)-(o.right||0),c=S2e({children:s,legendWidth:l});if(c){var u=i||{},d=u.width,h=u.height,f=c.align,g=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&f!=="center"&&Ft(e[f]))return ra(ra({},e),{},aA({},f,e[f]+(d||0)));if((m==="horizontal"||m==="vertical"&&f==="center")&&g!=="middle"&&Ft(e[g]))return ra(ra({},e),{},aA({},g,e[g]+(h||0)))}return e},mpt=function(e,r,n){return Ln(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},A2e=function(e,r,n,i,s){var a=r.props.children,o=Cf(a,OB).filter(function(c){return mpt(i,s,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=vd(u,n);if(Ln(d))return c;var h=Array.isArray(d)?[PB(d),ey(d)]:[d,d],f=l.reduce(function(g,m){var v=vd(u,m,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(f[0],c[0]),Math.max(f[1],c[1])]},[1/0,-1/0])}return null},gpt=function(e,r,n,i,s){var a=r.map(function(o){return A2e(e,o,n,s,i)}).filter(function(o){return!Ln(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},E2e=function(e,r,n,i,s){var a=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&A2e(e,l,c,i)||aP(e,c,n,s)});if(n==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},T2e=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},C2e=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var s,a,o=e.map(function(l){return l.coordinate===r&&(s=!0),l.coordinate===n&&(a=!0),l.coordinate});return s||o.push(r),a||o.push(n),o},og=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?bf(o[0]-o[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var h=s?s.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return u.filter(function(d){return!PC(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:s?s[d]:d,index:h,offset:c}})},T9=new WeakMap,H3=function(e,r){if(typeof r!="function")return e;T9.has(e)||T9.set(e,new WeakMap);var n=T9.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},vpt=function(e,r,n){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:bN(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:Bj(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:sP(),realScaleType:"point"}:s==="category"?{scale:bN(),realScaleType:"band"}:{scale:Bj(),realScaleType:"linear"};if(w_(i)){var l="scale".concat(gB(i));return{scale:(Yae[l]||sP)(),realScaleType:Yae[l]?l:"point"}}return fn(i)?{scale:i}:{scale:sP(),realScaleType:"point"}},noe=1e-4,ypt=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-noe,a=Math.max(i[0],i[1])+noe,o=e(r[0]),l=e(r[n-1]);(o<s||o>a||l<s||l>a)&&e.domain([r[0],r[n-1]])}},xpt=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},bpt=function(e,r){if(!r||r.length!==2||!Ft(r[0])||!Ft(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!Ft(e[0])||e[0]<n)&&(s[0]=n),(!Ft(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},wpt=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0,o=0;o<r;++o){var l=PC(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1])}},_pt=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0;a<r;++a){var o=PC(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=s,e[a][n][1]=s+o,s=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},Spt={sign:wpt,expand:jet,none:_T,silhouette:Let,wiggle:Bet,positive:_pt},Apt=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),s=Spt[n],a=Fet().keys(i).value(function(o,l){return+vd(o,l,0)}).order(aH).offset(s);return a(e)},Ept=function(e,r,n,i,s,a){if(!e)return null;var o=a?r.reverse():r,l={},c=o.reduce(function(d,h){var f,g=(f=h.type)!==null&&f!==void 0&&f.defaultProps?ra(ra({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return d;var x=g[n],w=d[x]||{hasStack:!1,stackGroups:{}};if(ao(m)){var b=w.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(h),w.hasStack=!0,w.stackGroups[m]=b}else w.stackGroups[tR("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return ra(ra({},d),{},aA({},x,w))},l),u={};return Object.keys(c).reduce(function(d,h){var f=c[h];if(f.hasStack){var g={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(m,v){var x=f.stackGroups[v];return ra(ra({},m),{},aA({},v,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:Apt(e,x.items,s)}))},g)}return ra(ra({},d),{},aA({},h,f))},u)},Tpt=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,a=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=jft(c,s,o);return e.domain([PB(u),ey(u)]),{niceTicks:u}}if(s&&i==="number"){var d=e.domain(),h=Lft(d,s,o);return{niceTicks:h}}return null};function ioe(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ln(i[e.dataKey])){var o=gj(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=vd(i,Ln(a)?e.dataKey:a);return Ln(l)?null:e.scale(l)}var soe=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=vd(a,r.dataKey,r.domain[o]);return Ln(l)?null:r.scale(l)-s/2+i},Cpt=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},kpt=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ra(ra({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(ao(s)){var a=r[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},Ppt=function(e){return e.reduce(function(r,n){return[PB(n.concat([r[0]]).filter(Ft)),ey(n.concat([r[1]]).filter(Ft))]},[1/0,-1/0])},k2e=function(e,r,n){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(c,u){var d=Ppt(u.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},aoe=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ooe=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FH=function(e,r,n){if(fn(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Ft(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(aoe.test(e[0])){var s=+aoe.exec(e[0])[1];i[0]=r[0]-s}else fn(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Ft(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(ooe.test(e[1])){var a=+ooe.exec(e[1])[1];i[1]=r[1]+a}else fn(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},qj=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=nZ(r,function(d){return d.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var c=s[o],u=s[o-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},loe=function(e,r,n){return!e||!e.length||EN(e,yh(n,"type.defaultProps.domain"))?r:e},P2e=function(e,r){var n=e.type.defaultProps?ra(ra({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,a=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return ra(ra({},Cn(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:PZ(e),value:vd(r,i),type:l,payload:r,chartType:c,hide:u})};function NN(t){"@babel/helpers - typeof";return NN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NN(t)}function coe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uoe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?coe(Object(r),!0).forEach(function(n){Npt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):coe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Npt(t,e,r){return e=Ipt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ipt(t){var e=Opt(t,"string");return NN(e)=="symbol"?e:e+""}function Opt(t,e){if(NN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(NN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gj=Math.PI/180,Rpt=function(e){return e*180/Math.PI},rl=function(e,r,n,i){return{x:e+Math.cos(-Gj*i)*n,y:r+Math.sin(-Gj*i)*n}},Dpt=function(e,r){var n=e.x,i=e.y,s=r.x,a=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-a,2))},Mpt=function(e,r){var n=e.x,i=e.y,s=r.cx,a=r.cy,o=Dpt({x:n,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(n-s)/o,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:o,angle:Rpt(c),angleInRadian:c}},Fpt=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return{startAngle:r-a*360,endAngle:n-a*360}},jpt=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},doe=function(e,r){var n=e.x,i=e.y,s=Mpt({x:n,y:i},r),a=s.radius,o=s.angle,l=r.innerRadius,c=r.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=Fpt(r),d=u.startAngle,h=u.endAngle,f=o,g;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;g=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;g=f>=h&&f<=d}return g?uoe(uoe({},r),{},{radius:a,angle:jpt(f,r)}):null};function IN(t){"@babel/helpers - typeof";return IN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IN(t)}var Lpt=["offset"];function Bpt(t){return zpt(t)||Upt(t)||Vpt(t)||$pt()}function $pt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vpt(t,e){if(t){if(typeof t=="string")return jH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jH(t,e)}}function Upt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zpt(t){if(Array.isArray(t))return jH(t)}function jH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hpt(t,e){if(t==null)return{};var r=Wpt(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wpt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hoe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hoe(Object(r),!0).forEach(function(n){qpt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hoe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qpt(t,e,r){return e=Gpt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gpt(t){var e=Kpt(t,"string");return IN(e)=="symbol"?e:e+""}function Kpt(t,e){if(IN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(IN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ON(){return ON=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ON.apply(this,arguments)}var Ypt=function(e){var r=e.value,n=e.formatter,i=Ln(e.children)?r:e.children;return fn(n)?n(i):i},Xpt=function(e,r){var n=bf(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Zpt=function(e,r,n){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,f=l.startAngle,g=l.endAngle,m=l.clockWise,v=(d+h)/2,x=Xpt(f,g),w=x>=0?1:-1,b,_;i==="insideStart"?(b=f+w*a,_=m):i==="insideEnd"?(b=g-w*a,_=!m):i==="end"&&(b=g+w*a,_=m),_=x<=0?_:!_;var S=rl(c,u,v,b),T=rl(c,u,v,b+(_?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(T.x,",").concat(T.y),C=Ln(e.id)?tR("recharts-radial-line-"):e.id;return Ae.createElement("text",ON({},n,{dominantBaseline:"central",className:zn("recharts-radial-bar-label",o)}),Ae.createElement("defs",null,Ae.createElement("path",{id:C,d:E})),Ae.createElement("textPath",{xlinkHref:"#".concat(C)},r))},Qpt=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,a=s.cx,o=s.cy,l=s.innerRadius,c=s.outerRadius,u=s.startAngle,d=s.endAngle,h=(u+d)/2;if(i==="outside"){var f=rl(a,o,c+n,h),g=f.x,m=f.y;return{x:g,y:m,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,x=rl(a,o,v,h),w=x.x,b=x.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Jpt=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,a=r,o=a.x,l=a.y,c=a.width,u=a.height,d=u>=0?1:-1,h=d*i,f=d>0?"end":"start",g=d>0?"start":"end",m=c>=0?1:-1,v=m*i,x=m>0?"end":"start",w=m>0?"start":"end";if(s==="top"){var b={x:o+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:f};return Qa(Qa({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(s==="bottom"){var _={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return Qa(Qa({},_),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(s==="left"){var S={x:o-v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return Qa(Qa({},S),n?{width:Math.max(S.x-n.x,0),height:u}:{})}if(s==="right"){var T={x:o+c+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return Qa(Qa({},T),n?{width:Math.max(n.x+n.width-T.x,0),height:u}:{})}var E=n?{width:c,height:u}:{};return s==="insideLeft"?Qa({x:o+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},E):s==="insideRight"?Qa({x:o+c-v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},E):s==="insideTop"?Qa({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},E):s==="insideBottom"?Qa({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:f},E):s==="insideTopLeft"?Qa({x:o+v,y:l+h,textAnchor:w,verticalAnchor:g},E):s==="insideTopRight"?Qa({x:o+c-v,y:l+h,textAnchor:x,verticalAnchor:g},E):s==="insideBottomLeft"?Qa({x:o+v,y:l+u-h,textAnchor:w,verticalAnchor:f},E):s==="insideBottomRight"?Qa({x:o+c-v,y:l+u-h,textAnchor:x,verticalAnchor:f},E):EC(s)&&(Ft(s.x)||fb(s.x))&&(Ft(s.y)||fb(s.y))?Qa({x:o+__(s.x,c),y:l+__(s.y,u),textAnchor:"end",verticalAnchor:"end"},E):Qa({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},emt=function(e){return"cx"in e&&Ft(e.cx)};function Rl(t){var e=t.offset,r=e===void 0?5:e,n=Hpt(t,Lpt),i=Qa({offset:r},n),s=i.viewBox,a=i.position,o=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,h=i.textBreakAll;if(!s||Ln(o)&&Ln(l)&&!O.isValidElement(c)&&!fn(c))return null;if(O.isValidElement(c))return O.cloneElement(c,i);var f;if(fn(c)){if(f=O.createElement(c,i),O.isValidElement(f))return f}else f=Ypt(i);var g=emt(s),m=Cn(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Zpt(i,f,m);var v=g?Qpt(i):Jpt(i);return Ae.createElement(Oj,ON({className:zn("recharts-label",d)},m,v,{breakAll:h}),f)}Rl.displayName="Label";var N2e=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,h=e.y,f=e.top,g=e.left,m=e.width,v=e.height,x=e.clockWise,w=e.labelViewBox;if(w)return w;if(Ft(m)&&Ft(v)){if(Ft(d)&&Ft(h))return{x:d,y:h,width:m,height:v};if(Ft(f)&&Ft(g))return{x:f,y:g,width:m,height:v}}return Ft(d)&&Ft(h)?{x:d,y:h,width:0,height:0}:Ft(r)&&Ft(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:x}:e.viewBox?e.viewBox:{}},tmt=function(e,r){return e?e===!0?Ae.createElement(Rl,{key:"label-implicit",viewBox:r}):ao(e)?Ae.createElement(Rl,{key:"label-implicit",viewBox:r,value:e}):O.isValidElement(e)?e.type===Rl?O.cloneElement(e,{key:"label-implicit",viewBox:r}):Ae.createElement(Rl,{key:"label-implicit",content:e,viewBox:r}):fn(e)?Ae.createElement(Rl,{key:"label-implicit",content:e,viewBox:r}):EC(e)?Ae.createElement(Rl,ON({viewBox:r},e,{key:"label-implicit"})):null:null},rmt=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=N2e(e),a=Cf(i,Rl).map(function(l,c){return O.cloneElement(l,{viewBox:r||s,key:"label-".concat(c)})});if(!n)return a;var o=tmt(e.label,r||s);return[o].concat(Bpt(a))};Rl.parseViewBox=N2e;Rl.renderCallByParent=rmt;function nmt(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var imt=nmt;const smt=ki(imt);function RN(t){"@babel/helpers - typeof";return RN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RN(t)}var amt=["valueAccessor"],omt=["data","dataKey","clockWise","id","textBreakAll"];function lmt(t){return hmt(t)||dmt(t)||umt(t)||cmt()}function cmt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function umt(t,e){if(t){if(typeof t=="string")return LH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LH(t,e)}}function dmt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hmt(t){if(Array.isArray(t))return LH(t)}function LH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kj(){return Kj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kj.apply(this,arguments)}function foe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function poe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?foe(Object(r),!0).forEach(function(n){fmt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):foe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fmt(t,e,r){return e=pmt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pmt(t){var e=mmt(t,"string");return RN(e)=="symbol"?e:e+""}function mmt(t,e){if(RN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(RN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function moe(t,e){if(t==null)return{};var r=gmt(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gmt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vmt=function(e){return Array.isArray(e.value)?smt(e.value):e.value};function Ty(t){var e=t.valueAccessor,r=e===void 0?vmt:e,n=moe(t,amt),i=n.data,s=n.dataKey,a=n.clockWise,o=n.id,l=n.textBreakAll,c=moe(n,omt);return!i||!i.length?null:Ae.createElement(Ms,{className:"recharts-label-list"},i.map(function(u,d){var h=Ln(s)?r(u,d):vd(u&&u.payload,s),f=Ln(o)?{}:{id:"".concat(o,"-").concat(d)};return Ae.createElement(Rl,Kj({},Cn(u,!0),c,f,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Rl.parseViewBox(Ln(a)?u:poe(poe({},u),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Ty.displayName="LabelList";function ymt(t,e){return t?t===!0?Ae.createElement(Ty,{key:"labelList-implicit",data:e}):Ae.isValidElement(t)||fn(t)?Ae.createElement(Ty,{key:"labelList-implicit",data:e,content:t}):EC(t)?Ae.createElement(Ty,Kj({data:e},t,{key:"labelList-implicit"})):null:null}function xmt(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Cf(n,Ty).map(function(a,o){return O.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var s=ymt(t.label,e);return[s].concat(lmt(i))}Ty.renderCallByParent=xmt;function DN(t){"@babel/helpers - typeof";return DN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DN(t)}function BH(){return BH=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BH.apply(this,arguments)}function goe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function voe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?goe(Object(r),!0).forEach(function(n){bmt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):goe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bmt(t,e,r){return e=wmt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wmt(t){var e=_mt(t,"string");return DN(e)=="symbol"?e:e+""}function _mt(t,e){if(DN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(DN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Smt=function(e,r){var n=bf(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},W3=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,d=Math.asin(l/u)/Gj,h=c?s:s+a*d,f=rl(r,n,u,h),g=rl(r,n,i,h),m=c?s-a*d:s,v=rl(r,n,u*Math.cos(d*Gj),m);return{center:f,circleTangency:g,lineTangency:v,theta:d}},I2e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=Smt(a,o),c=a+l,u=rl(r,n,s,a),d=rl(r,n,s,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var f=rl(r,n,i,a),g=rl(r,n,i,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Amt=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=bf(u-c),h=W3({cx:r,cy:n,radius:s,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),f=h.circleTangency,g=h.lineTangency,m=h.theta,v=W3({cx:r,cy:n,radius:s,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:l}),x=v.circleTangency,w=v.lineTangency,b=v.theta,_=l?Math.abs(c-u):Math.abs(c-u)-m-b;if(_<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):I2e({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var T=W3({cx:r,cy:n,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),E=T.circleTangency,C=T.lineTangency,N=T.theta,F=W3({cx:r,cy:n,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=F.circleTangency,I=F.lineTangency,M=F.theta,U=l?Math.abs(c-u):Math.abs(c-u)-N-M;if(U<0&&a===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(d>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},Emt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},O2e=function(e){var r=voe(voe({},Emt),e),n=r.cx,i=r.cy,s=r.innerRadius,a=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,h=r.className;if(a<s||u===d)return null;var f=zn("recharts-sector",h),g=a-s,m=__(o,g,0,!0),v;return m>0&&Math.abs(u-d)<360?v=Amt({cx:n,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=I2e({cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d}),Ae.createElement("path",BH({},Cn(r,!0),{className:f,d:v,role:"img"}))};function MN(t){"@babel/helpers - typeof";return MN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MN(t)}function $H(){return $H=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$H.apply(this,arguments)}function yoe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xoe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yoe(Object(r),!0).forEach(function(n){Tmt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yoe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tmt(t,e,r){return e=Cmt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cmt(t){var e=kmt(t,"string");return MN(e)=="symbol"?e:e+""}function kmt(t,e){if(MN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(MN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var boe={curveBasisClosed:Eet,curveBasisOpen:Tet,curveBasis:Aet,curveBumpX:cet,curveBumpY:uet,curveLinearClosed:Cet,curveLinear:yB,curveMonotoneX:ket,curveMonotoneY:Pet,curveNatural:Net,curveStep:Iet,curveStepAfter:Ret,curveStepBefore:Oet},q3=function(e){return e.x===+e.x&&e.y===+e.y},Pk=function(e){return e.x},Nk=function(e){return e.y},Pmt=function(e,r){if(fn(e))return e;var n="curve".concat(gB(e));return(n==="curveMonotone"||n==="curveBump")&&r?boe["".concat(n).concat(r==="vertical"?"Y":"X")]:boe[n]||yB},Nmt=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=Pmt(n,o),d=c?s.filter(function(m){return q3(m)}):s,h;if(Array.isArray(a)){var f=c?a.filter(function(m){return q3(m)}):a,g=d.map(function(m,v){return xoe(xoe({},m),{},{base:f[v]})});return o==="vertical"?h=F3().y(Nk).x1(Pk).x0(function(m){return m.base.x}):h=F3().x(Pk).y1(Nk).y0(function(m){return m.base.y}),h.defined(q3).curve(u),h(g)}return o==="vertical"&&Ft(a)?h=F3().y(Nk).x1(Pk).x0(a):Ft(a)?h=F3().x(Pk).y1(Nk).y0(a):h=Owe().x(Pk).y(Nk),h.defined(q3).curve(u),h(d)},oP=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?Nmt(e):i;return O.createElement("path",$H({},Cn(e,!1),vj(e),{className:zn("recharts-curve",r),d:a,ref:s}))},R2e={exports:{}},Imt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Omt=Imt,Rmt=Omt;function D2e(){}function M2e(){}M2e.resetWarningCache=D2e;var Dmt=function(){function t(n,i,s,a,o,l){if(l!==Rmt){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:M2e,resetWarningCache:D2e};return r.PropTypes=r,r};R2e.exports=Dmt();var Mmt=R2e.exports;const ui=ki(Mmt);var Fmt=Object.getOwnPropertyNames,jmt=Object.getOwnPropertySymbols,Lmt=Object.prototype.hasOwnProperty;function woe(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function G3(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,a=s.get(r),o=s.get(n);if(a&&o)return a===n&&o===r;s.set(r,n),s.set(n,r);var l=t(r,n,i);return s.delete(r),s.delete(n),l}}function _oe(t){return Fmt(t).concat(jmt(t))}var Bmt=Object.hasOwn||function(t,e){return Lmt.call(t,e)};function u2(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var $mt="__v",Vmt="__o",Umt="_owner",Soe=Object.getOwnPropertyDescriptor,Aoe=Object.keys;function zmt(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Hmt(t,e){return u2(t.getTime(),e.getTime())}function Wmt(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function qmt(t,e){return t===e}function Eoe(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),a,o,l=0;(a=s.next())&&!a.done;){for(var c=e.entries(),u=!1,d=0;(o=c.next())&&!o.done;){if(i[d]){d++;continue}var h=a.value,f=o.value;if(r.equals(h[0],f[0],l,d,t,e,r)&&r.equals(h[1],f[1],h[0],f[0],t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var Gmt=u2;function Kmt(t,e,r){var n=Aoe(t),i=n.length;if(Aoe(e).length!==i)return!1;for(;i-- >0;)if(!F2e(t,e,r,n[i]))return!1;return!0}function Ik(t,e,r){var n=_oe(t),i=n.length;if(_oe(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=n[i],!F2e(t,e,r,s)||(a=Soe(t,s),o=Soe(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function Ymt(t,e){return u2(t.valueOf(),e.valueOf())}function Xmt(t,e){return t.source===e.source&&t.flags===e.flags}function Toe(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!i[u]&&r.equals(a.value,o.value,a.value,o.value,t,e,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Zmt(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Qmt(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function F2e(t,e,r,n){return(n===Umt||n===Vmt||n===$mt)&&(t.$$typeof||e.$$typeof)?!0:Bmt(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Jmt="[object Arguments]",e0t="[object Boolean]",t0t="[object Date]",r0t="[object Error]",n0t="[object Map]",i0t="[object Number]",s0t="[object Object]",a0t="[object RegExp]",o0t="[object Set]",l0t="[object String]",c0t="[object URL]",u0t=Array.isArray,Coe=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,koe=Object.assign,d0t=Object.prototype.toString.call.bind(Object.prototype.toString);function h0t(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var x=typeof g;if(x!==typeof m)return!1;if(x!=="object")return x==="number"?a(g,m,v):x==="function"?i(g,m,v):!1;var w=g.constructor;if(w!==m.constructor)return!1;if(w===Object)return o(g,m,v);if(u0t(g))return e(g,m,v);if(Coe!=null&&Coe(g))return d(g,m,v);if(w===Date)return r(g,m,v);if(w===RegExp)return c(g,m,v);if(w===Map)return s(g,m,v);if(w===Set)return u(g,m,v);var b=d0t(g);return b===t0t?r(g,m,v):b===a0t?c(g,m,v):b===n0t?s(g,m,v):b===o0t?u(g,m,v):b===s0t?typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,v):b===c0t?h(g,m,v):b===r0t?n(g,m,v):b===Jmt?o(g,m,v):b===e0t||b===i0t||b===l0t?l(g,m,v):!1}}function f0t(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Ik:zmt,areDatesEqual:Hmt,areErrorsEqual:Wmt,areFunctionsEqual:qmt,areMapsEqual:n?woe(Eoe,Ik):Eoe,areNumbersEqual:Gmt,areObjectsEqual:n?Ik:Kmt,arePrimitiveWrappersEqual:Ymt,areRegExpsEqual:Xmt,areSetsEqual:n?woe(Toe,Ik):Toe,areTypedArraysEqual:n?Ik:Zmt,areUrlsEqual:Qmt};if(r&&(i=koe({},i,r(i))),e){var s=G3(i.areArraysEqual),a=G3(i.areMapsEqual),o=G3(i.areObjectsEqual),l=G3(i.areSetsEqual);i=koe({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return i}function p0t(t){return function(e,r,n,i,s,a,o){return t(e,r,o)}}function m0t(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(l,c){var u=n(),d=u.cache,h=d===void 0?e?new WeakMap:void 0:d,f=u.meta;return r(l,c,{cache:h,equals:i,meta:f,strict:s})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return r(l,c,a)}}var g0t=yx();yx({strict:!0});yx({circular:!0});yx({circular:!0,strict:!0});yx({createInternalComparator:function(){return u2}});yx({strict:!0,createInternalComparator:function(){return u2}});yx({circular:!0,createInternalComparator:function(){return u2}});yx({circular:!0,createInternalComparator:function(){return u2},strict:!0});function yx(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=f0t(t),l=h0t(o),c=n?n(l):p0t(l);return m0t({circular:r,comparator:l,createState:i,equals:c,strict:a})}function v0t(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Poe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):v0t(i)};requestAnimationFrame(n)}function VH(t){"@babel/helpers - typeof";return VH=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VH(t)}function y0t(t){return _0t(t)||w0t(t)||b0t(t)||x0t()}function x0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b0t(t,e){if(t){if(typeof t=="string")return Noe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Noe(t,e)}}function Noe(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w0t(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _0t(t){if(Array.isArray(t))return t}function S0t(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,o=y0t(a),l=o[0],c=o.slice(1);if(typeof l=="number"){Poe(i.bind(null,c),l);return}i(l),Poe(i.bind(null,c));return}VH(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function FN(t){"@babel/helpers - typeof";return FN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FN(t)}function Ioe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ooe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ioe(Object(r),!0).forEach(function(n){j2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ioe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j2e(t,e,r){return e=A0t(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A0t(t){var e=E0t(t,"string");return FN(e)==="symbol"?e:String(e)}function E0t(t,e){if(FN(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(FN(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T0t=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},C0t=function(e){return e},k0t=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},lP=function(e,r){return Object.keys(r).reduce(function(n,i){return Ooe(Ooe({},n),{},j2e({},i,e(i,r[i])))},{})},Roe=function(e,r,n){return e.map(function(i){return"".concat(k0t(i)," ").concat(r,"ms ").concat(n)}).join(",")};function P0t(t,e){return O0t(t)||I0t(t,e)||L2e(t,e)||N0t()}function N0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I0t(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function O0t(t){if(Array.isArray(t))return t}function R0t(t){return F0t(t)||M0t(t)||L2e(t)||D0t()}function D0t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L2e(t,e){if(t){if(typeof t=="string")return UH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UH(t,e)}}function M0t(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function F0t(t){if(Array.isArray(t))return UH(t)}function UH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Yj=1e-4,B2e=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},$2e=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},Doe=function(e,r){return function(n){var i=B2e(e,r);return $2e(i,n)}},j0t=function(e,r){return function(n){var i=B2e(e,r),s=[].concat(R0t(i.map(function(a,o){return a*o}).slice(1)),[0]);return $2e(s,n)}},Moe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],a=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=P0t(c,4);i=u[0],s=u[1],a=u[2],o=u[3]}}}var d=Doe(i,a),h=Doe(s,o),f=j0t(i,a),g=function(x){return x>1?1:x<0?0:x},m=function(x){for(var w=x>1?1:x,b=w,_=0;_<8;++_){var S=d(b)-w,T=f(b);if(Math.abs(S-w)<Yj||T<Yj)return h(b);b=g(b-S/T)}return h(b)};return m.isStepper=!1,m},L0t=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(u,d,h){var f=-(u-d)*n,g=h*s,m=h+(f-g)*o/1e3,v=h*o/1e3+u;return Math.abs(v-d)<Yj&&Math.abs(m)<Yj?[d,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},B0t=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Moe(i);case"spring":return L0t();default:if(i.split("(")[0]==="cubic-bezier")return Moe(i)}return typeof i=="function"?i:null};function jN(t){"@babel/helpers - typeof";return jN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jN(t)}function Foe(t){return U0t(t)||V0t(t)||V2e(t)||$0t()}function $0t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V0t(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function U0t(t){if(Array.isArray(t))return HH(t)}function joe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?joe(Object(r),!0).forEach(function(n){zH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):joe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zH(t,e,r){return e=z0t(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z0t(t){var e=H0t(t,"string");return jN(e)==="symbol"?e:String(e)}function H0t(t,e){if(jN(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jN(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W0t(t,e){return K0t(t)||G0t(t,e)||V2e(t,e)||q0t()}function q0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V2e(t,e){if(t){if(typeof t=="string")return HH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HH(t,e)}}function HH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function G0t(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function K0t(t){if(Array.isArray(t))return t}var Xj=function(e,r,n){return e+(r-e)*n},WH=function(e){var r=e.from,n=e.to;return r!==n},Y0t=function t(e,r,n){var i=lP(function(s,a){if(WH(a)){var o=e(a.from,a.to,a.velocity),l=W0t(o,2),c=l[0],u=l[1];return qo(qo({},a),{},{from:c,velocity:u})}return a},r);return n<1?lP(function(s,a){return WH(a)?qo(qo({},a),{},{velocity:Xj(a.velocity,i[s].velocity,n),from:Xj(a.from,i[s].from,n)}):a},r):t(e,i,n-1)};const X0t=function(t,e,r,n,i){var s=T0t(t,e),a=s.reduce(function(v,x){return qo(qo({},v),{},zH({},x,[t[x],e[x]]))},{}),o=s.reduce(function(v,x){return qo(qo({},v),{},zH({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return lP(function(x,w){return w.from},o)},f=function(){return!Object.values(o).filter(WH).length},g=function(x){c||(c=x);var w=x-c,b=w/r.dt;o=Y0t(r,o,b),i(qo(qo(qo({},t),e),h())),c=x,f()||(l=requestAnimationFrame(d))},m=function(x){u||(u=x);var w=(x-u)/n,b=lP(function(S,T){return Xj.apply(void 0,Foe(T).concat([r(w)]))},a);if(i(qo(qo(qo({},t),e),b)),w<1)l=requestAnimationFrame(d);else{var _=lP(function(S,T){return Xj.apply(void 0,Foe(T).concat([r(1)]))},a);i(qo(qo(qo({},t),e),_))}};return d=r.isStepper?g:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function IT(t){"@babel/helpers - typeof";return IT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IT(t)}var Z0t=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Q0t(t,e){if(t==null)return{};var r=J0t(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function J0t(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function C9(t){return ngt(t)||rgt(t)||tgt(t)||egt()}function egt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tgt(t,e){if(t){if(typeof t=="string")return qH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qH(t,e)}}function rgt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ngt(t){if(Array.isArray(t))return qH(t)}function qH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Loe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Loe(Object(r),!0).forEach(function(n){o5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Loe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o5(t,e,r){return e=U2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function igt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sgt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U2e(n.key),n)}}function agt(t,e,r){return e&&sgt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function U2e(t){var e=ogt(t,"string");return IT(e)==="symbol"?e:String(e)}function ogt(t,e){if(IT(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(IT(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lgt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GH(t,e)}function GH(t,e){return GH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GH(t,e)}function cgt(t){var e=ugt();return function(){var n=Zj(t),i;if(e){var s=Zj(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return KH(this,i)}}function KH(t,e){if(e&&(IT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YH(t)}function YH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ugt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zj(t){return Zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zj(t)}var Vg=function(t){lgt(r,t);var e=cgt(r);function r(n,i){var s;igt(this,r),s=e.call(this,n,i);var a=s.props,o=a.isActive,l=a.attributeName,c=a.from,u=a.to,d=a.steps,h=a.children,f=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(YH(s)),s.changeStyle=s.changeStyle.bind(YH(s)),!o||f<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:u}),KH(s);if(d&&d.length)s.state={style:d[0].style};else if(c){if(typeof h=="function")return s.state={style:c},KH(s);s.state={style:l?o5({},l,c):c}}else s.state={style:{}};return s}return agt(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,u=s.to,d=s.from,h=this.state.style;if(o){if(!a){var f={style:l?o5({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(f);return}if(!(g0t(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||c?d:i.to;if(this.state&&h){var v={style:l?o5({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(v)}this.runAnimation(zh(zh({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,f=X0t(a,o,B0t(c),l,this.changeStyle),g=function(){s.stopJSAnimation=f()};this.manager.start([h,u,g,l,d])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,d=c.duration,h=d===void 0?0:d,f=function(m,v,x){if(x===0)return m;var w=v.duration,b=v.easing,_=b===void 0?"ease":b,S=v.style,T=v.properties,E=v.onAnimationEnd,C=x>0?a[x-1]:v,N=T||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(C9(m),[s.runJSAnimation.bind(s,{from:C.style,to:S,duration:w,easing:_}),w]);var F=Roe(N,w,_),A=zh(zh(zh({},C.style),S),{},{transition:F});return[].concat(C9(m),[A,w,E]).filter(C0t)};return this.manager.start([l].concat(C9(a.reduce(f,[u,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=S0t());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,f=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof f=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=o?o5({},o,l):l,v=Roe(Object.keys(m),a,c);g.start([u,s,zh(zh({},m),{},{transition:v}),a,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Q0t(i,Z0t),c=O.Children.count(s),u=this.state.style;if(typeof s=="function")return s(u);if(!o||c===0||a<=0)return s;var d=function(f){var g=f.props,m=g.style,v=m===void 0?{}:m,x=g.className,w=O.cloneElement(f,zh(zh({},l),{},{style:zh(zh({},v),u),className:x}));return w};return c===1?d(O.Children.only(s)):Ae.createElement("div",null,O.Children.map(s,function(h){return d(h)}))}}]),r}(O.PureComponent);Vg.displayName="Animate";Vg.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Vg.propTypes={from:ui.oneOfType([ui.object,ui.string]),to:ui.oneOfType([ui.object,ui.string]),attributeName:ui.string,duration:ui.number,begin:ui.number,easing:ui.oneOfType([ui.string,ui.func]),steps:ui.arrayOf(ui.shape({duration:ui.number.isRequired,style:ui.object.isRequired,easing:ui.oneOfType([ui.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ui.func]),properties:ui.arrayOf("string"),onAnimationEnd:ui.func})),children:ui.oneOfType([ui.node,ui.func]),isActive:ui.bool,canBegin:ui.bool,onAnimationEnd:ui.func,shouldReAnimate:ui.bool,onAnimationStart:ui.func,onAnimationReStart:ui.func};function LN(t){"@babel/helpers - typeof";return LN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LN(t)}function Qj(){return Qj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qj.apply(this,arguments)}function dgt(t,e){return mgt(t)||pgt(t,e)||fgt(t,e)||hgt()}function hgt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fgt(t,e){if(t){if(typeof t=="string")return Boe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Boe(t,e)}}function Boe(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pgt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function mgt(t){if(Array.isArray(t))return t}function $oe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Voe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$oe(Object(r),!0).forEach(function(n){ggt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$oe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ggt(t,e,r){return e=vgt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vgt(t){var e=ygt(t,"string");return LN(e)=="symbol"?e:e+""}function ygt(t,e){if(LN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(LN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uoe=function(e,r,n,i,s){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(a>0&&s instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=s[h]>a?a:s[h];u="M".concat(e,",").concat(r+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(r)),u+="L ".concat(e+n-l*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+o*d[1])),u+="L ".concat(e+n,",").concat(r+i-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+n-l*d[2],",").concat(r+i)),u+="L ".concat(e+l*d[3],",").concat(r+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-o*d[3])),u+="Z"}else if(a>0&&s===+s&&s>0){var g=Math.min(a,s);u="M ".concat(e,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(r,`
            L `).concat(e+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+n,",").concat(r+o*g,`
            L `).concat(e+n,",").concat(r+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+n-l*g,",").concat(r+i,`
            L `).concat(e+l*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(r+i-o*g," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},xgt=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,a=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(s,s+o),u=Math.max(s,s+o),d=Math.min(a,a+l),h=Math.max(a,a+l);return n>=c&&n<=u&&i>=d&&i<=h}return!1},bgt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NZ=function(e){var r=Voe(Voe({},bgt),e),n=O.useRef(),i=O.useState(-1),s=dgt(i,2),a=s[0],o=s[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,c=r.y,u=r.width,d=r.height,h=r.radius,f=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var b=zn("recharts-rectangle",f);return w?Ae.createElement(Vg,{canBegin:a>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:m,animationEasing:g,isActive:w},function(_){var S=_.width,T=_.height,E=_.x,C=_.y;return Ae.createElement(Vg,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:x,easing:g},Ae.createElement("path",Qj({},Cn(r,!0),{className:b,d:Uoe(E,C,S,T,h),ref:n})))}):Ae.createElement("path",Qj({},Cn(r,!0),{className:b,d:Uoe(l,c,u,d,h)}))};function XH(){return XH=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XH.apply(this,arguments)}var IZ=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,a=zn("recharts-dot",s);return r===+r&&n===+n&&i===+i?O.createElement("circle",XH({},Cn(e,!1),vj(e),{className:a,cx:r,cy:n,r:i})):null};function BN(t){"@babel/helpers - typeof";return BN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BN(t)}var wgt=["x","y","top","left","width","height","className"];function ZH(){return ZH=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZH.apply(this,arguments)}function zoe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zoe(Object(r),!0).forEach(function(n){Sgt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zoe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sgt(t,e,r){return e=Agt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Agt(t){var e=Egt(t,"string");return BN(e)=="symbol"?e:e+""}function Egt(t,e){if(BN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(BN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tgt(t,e){if(t==null)return{};var r=Cgt(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cgt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kgt=function(e,r,n,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},Pgt=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,h=e.height,f=h===void 0?0:h,g=e.className,m=Tgt(e,wgt),v=_gt({x:n,y:s,top:o,left:c,width:d,height:f},m);return!Ft(n)||!Ft(s)||!Ft(d)||!Ft(f)||!Ft(o)||!Ft(c)?null:Ae.createElement("path",ZH({},Cn(v,!0),{className:zn("recharts-cross",g),d:kgt(n,s,d,f,o,c)}))},Ngt=r_e,Igt=Ngt(Object.getPrototypeOf,Object),Ogt=Igt,Rgt=Jg,Dgt=Ogt,Mgt=ev,Fgt="[object Object]",jgt=Function.prototype,Lgt=Object.prototype,z2e=jgt.toString,Bgt=Lgt.hasOwnProperty,$gt=z2e.call(Object);function Vgt(t){if(!Mgt(t)||Rgt(t)!=Fgt)return!1;var e=Dgt(t);if(e===null)return!0;var r=Bgt.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&z2e.call(r)==$gt}var Ugt=Vgt;const zgt=ki(Ugt);var Hgt=Jg,Wgt=ev,qgt="[object Boolean]";function Ggt(t){return t===!0||t===!1||Wgt(t)&&Hgt(t)==qgt}var Kgt=Ggt;const Ygt=ki(Kgt);function $N(t){"@babel/helpers - typeof";return $N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$N(t)}function Jj(){return Jj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jj.apply(this,arguments)}function Xgt(t,e){return evt(t)||Jgt(t,e)||Qgt(t,e)||Zgt()}function Zgt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qgt(t,e){if(t){if(typeof t=="string")return Hoe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hoe(t,e)}}function Hoe(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jgt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function evt(t){if(Array.isArray(t))return t}function Woe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qoe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Woe(Object(r),!0).forEach(function(n){tvt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Woe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tvt(t,e,r){return e=rvt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rvt(t){var e=nvt(t,"string");return $N(e)=="symbol"?e:e+""}function nvt(t,e){if($N(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($N(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Goe=function(e,r,n,i,s){var a=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-a/2,",").concat(r+s),o+="L ".concat(e+n-a/2-i,",").concat(r+s),o+="L ".concat(e,",").concat(r," Z"),o},ivt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},svt=function(e){var r=qoe(qoe({},ivt),e),n=O.useRef(),i=O.useState(-1),s=Xgt(i,2),a=s[0],o=s[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&o(b)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,d=r.lowerWidth,h=r.height,f=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var w=zn("recharts-trapezoid",f);return x?Ae.createElement(Vg,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:m,animationEasing:g,isActive:x},function(b){var _=b.upperWidth,S=b.lowerWidth,T=b.height,E=b.x,C=b.y;return Ae.createElement(Vg,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},Ae.createElement("path",Jj({},Cn(r,!0),{className:w,d:Goe(E,C,_,S,T),ref:n})))}):Ae.createElement("g",null,Ae.createElement("path",Jj({},Cn(r,!0),{className:w,d:Goe(l,c,u,d,h)})))},avt=["option","shapeType","propTransformer","activeClassName","isActive"];function VN(t){"@babel/helpers - typeof";return VN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VN(t)}function ovt(t,e){if(t==null)return{};var r=lvt(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lvt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Koe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Koe(Object(r),!0).forEach(function(n){cvt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Koe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cvt(t,e,r){return e=uvt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uvt(t){var e=dvt(t,"string");return VN(e)=="symbol"?e:e+""}function dvt(t,e){if(VN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(VN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hvt(t,e){return eL(eL({},e),t)}function fvt(t,e){return t==="symbols"}function Yoe(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Ae.createElement(NZ,r);case"trapezoid":return Ae.createElement(svt,r);case"sector":return Ae.createElement(O2e,r);case"symbols":if(fvt(e))return Ae.createElement(YX,r);break;default:return null}}function pvt(t){return O.isValidElement(t)?t.props:t}function mvt(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?hvt:n,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=ovt(t,avt),c;if(O.isValidElement(e))c=O.cloneElement(e,eL(eL({},l),pvt(e)));else if(fn(e))c=e(l);else if(zgt(e)&&!Ygt(e)){var u=i(e,l);c=Ae.createElement(Yoe,{shapeType:r,elementProps:u})}else{var d=l;c=Ae.createElement(Yoe,{shapeType:r,elementProps:d})}return o?Ae.createElement(Ms,{className:a},c):c}function RB(t,e){return e!=null&&"trapezoids"in t.props}function DB(t,e){return e!=null&&"sectors"in t.props}function UN(t,e){return e!=null&&"points"in t.props}function gvt(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function vvt(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function yvt(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function xvt(t,e){var r;return RB(t,e)?r=gvt:DB(t,e)?r=vvt:UN(t,e)&&(r=yvt),r}function bvt(t,e){var r;return RB(t,e)?r="trapezoids":DB(t,e)?r="sectors":UN(t,e)&&(r="points"),r}function wvt(t,e){if(RB(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(DB(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return UN(t,e)?e.payload:{}}function _vt(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=bvt(r,e),s=wvt(r,e),a=n.filter(function(l,c){var u=EN(s,l),d=r.props[i].filter(function(g){var m=xvt(r,e);return m(g,e)}),h=r.props[i].indexOf(d[d.length-1]),f=c===h;return u&&f}),o=n.indexOf(a[a.length-1]);return o}var Svt=Math.ceil,Avt=Math.max;function Evt(t,e,r,n){for(var i=-1,s=Avt(Svt((e-t)/(r||1)),0),a=Array(s);s--;)a[n?s:++i]=t,t+=r;return a}var Tvt=Evt,Cvt=w_e,Xoe=1/0,kvt=17976931348623157e292;function Pvt(t){if(!t)return t===0?t:0;if(t=Cvt(t),t===Xoe||t===-Xoe){var e=t<0?-1:1;return e*kvt}return t===t?t:0}var H2e=Pvt,Nvt=Tvt,Ivt=_B,k9=H2e;function Ovt(t){return function(e,r,n){return n&&typeof n!="number"&&Ivt(e,r,n)&&(r=n=void 0),e=k9(e),r===void 0?(r=e,e=0):r=k9(r),n=n===void 0?e<r?1:-1:k9(n),Nvt(e,r,n,t)}}var Rvt=Ovt,Dvt=Rvt,Mvt=Dvt(),Fvt=Mvt;const tL=ki(Fvt);function zN(t){"@babel/helpers - typeof";return zN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zN(t)}function Zoe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qoe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zoe(Object(r),!0).forEach(function(n){W2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zoe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W2e(t,e,r){return e=jvt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jvt(t){var e=Lvt(t,"string");return zN(e)=="symbol"?e:e+""}function Lvt(t,e){if(zN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bvt=["Webkit","Moz","O","ms"],$vt=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Bvt.reduce(function(s,a){return Qoe(Qoe({},s),{},W2e({},a+n,r))},{});return i[e]=r,i};function OT(t){"@babel/helpers - typeof";return OT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OT(t)}function rL(){return rL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rL.apply(this,arguments)}function Joe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function P9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Joe(Object(r),!0).forEach(function(n){Cu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Joe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vvt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ele(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G2e(n.key),n)}}function Uvt(t,e,r){return e&&ele(t.prototype,e),r&&ele(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zvt(t,e,r){return e=nL(e),Hvt(t,q2e()?Reflect.construct(e,r||[],nL(t).constructor):e.apply(t,r))}function Hvt(t,e){if(e&&(OT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wvt(t)}function Wvt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q2e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q2e=function(){return!!t})()}function nL(t){return nL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nL(t)}function qvt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QH(t,e)}function QH(t,e){return QH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QH(t,e)}function Cu(t,e,r){return e=G2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G2e(t){var e=Gvt(t,"string");return OT(e)=="symbol"?e:e+""}function Gvt(t,e){if(OT(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(OT(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kvt=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=sP().domain(tL(0,l)).range([s,s+a-o]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},tle=function(e){return e.changedTouches&&!!e.changedTouches.length},RT=function(t){function e(r){var n;return Vvt(this,e),n=zvt(this,e,[r]),Cu(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Cu(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Cu(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),n.detachDragEndListener()}),Cu(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Cu(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Cu(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Cu(n,"handleSlideDragStart",function(i){var s=tle(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return qvt(e,t),Uvt(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,a=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,d=Math.min(i,s),h=Math.max(i,s),f=e.getIndexInRange(a,d),g=e.getIndexInRange(a,h);return{startIndex:f-f%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=vd(s[n],o,n);return fn(a)?a(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,f=l.endIndex,g=l.onChange,m=n.pageX-s;m>0?m=Math.min(m,c+u-d-o,c+u-d-a):m<0&&(m=Math.max(m,c-a,c-o));var v=this.getIndex({startX:a+m,endX:o+m});(v.startIndex!==h||v.endIndex!==f)&&g&&g(v),this.setState({startX:a+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=tle(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[a],u=this.props,d=u.x,h=u.width,f=u.travellerWidth,g=u.onChange,m=u.gap,v=u.data,x={startX:this.state.startX,endX:this.state.endX},w=n.pageX-s;w>0?w=Math.min(w,d+h-f-c):w<0&&(w=Math.max(w,d-c)),x[a]=c+w;var b=this.getIndex(x),_=b.startIndex,S=b.endIndex,T=function(){var C=v.length-1;return a==="startX"&&(o>l?_%m===0:S%m===0)||o<l&&S===C||a==="endX"&&(o>l?S%m===0:_%m===0)||o>l&&S===C};this.setState(Cu(Cu({},a,c+w),"brushMoveStartX",n.pageX),function(){g&&T()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],d=o.indexOf(u);if(d!==-1){var h=d+n;if(!(h===-1||h>=o.length)){var f=o[h];i==="startX"&&f>=c||i==="endX"&&f<=l||this.setState(Cu({},i,f),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,l=n.fill,c=n.stroke;return Ae.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,d=O.Children.only(c);return d?Ae.cloneElement(d,{x:i,y:s,width:a,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,a,o=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,f=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,x=Math.max(n,this.props.x),w=P9(P9({},Cn(this.props,!1)),{},{x,y:c,width:u,height:d}),b=f||"Min value: ".concat((s=g[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=g[v])===null||a===void 0?void 0:a.name);return Ae.createElement(Ms,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,c=s.travellerWidth,u=Math.min(n,i)+c,d=Math.max(Math.abs(i-n)-c,0);return Ae.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:d,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,a=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,d=u.startX,h=u.endX,f=5,g={pointerEvents:"none",fill:c};return Ae.createElement(Ms,{className:"recharts-brush-texts"},Ae.createElement(Oj,rL({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-f,y:a+o/2},g),this.getTextOfTick(i)),Ae.createElement(Oj,rL({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+f,y:a+o/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,a=n.children,o=n.x,l=n.y,c=n.width,u=n.height,d=n.alwaysShowText,h=this.state,f=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!Ft(o)||!Ft(l)||!Ft(c)||!Ft(u)||c<=0||u<=0)return null;var b=zn("recharts-brush",s),_=Ae.Children.count(a)===1,S=$vt("userSelect","none");return Ae.createElement(Ms,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(f,g),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||x||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,a=n.width,o=n.height,l=n.stroke,c=Math.floor(s+o/2)-1;return Ae.createElement(Ae.Fragment,null,Ae.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),Ae.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),Ae.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return Ae.isValidElement(n)?s=Ae.cloneElement(n,i):fn(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,a=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,d=n.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return P9({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a},s&&s.length?Kvt({data:s,width:a,x:o,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var h=i.scale.domain().map(function(f){return i.scale(f)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);n[l]>i?o=l:a=l}return i>=n[o]?o:a}}])}(O.PureComponent);Cu(RT,"displayName","Brush");Cu(RT,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Yvt=rZ;function Xvt(t,e){var r;return Yvt(t,function(n,i,s){return r=e(n,i,s),!r}),!!r}var Zvt=Xvt,Qvt=Kwe,Jvt=mx,e1t=Zvt,t1t=hu,r1t=_B;function n1t(t,e,r){var n=t1t(t)?Qvt:e1t;return r&&r1t(t,e,r)&&(e=void 0),n(t,Jvt(e))}var i1t=n1t;const s1t=ki(i1t);var ym=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},rle=g_e;function a1t(t,e,r){e=="__proto__"&&rle?rle(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var o1t=a1t,l1t=o1t,c1t=p_e,u1t=mx;function d1t(t,e){var r={};return e=u1t(e),c1t(t,function(n,i,s){l1t(r,i,e(n,i,s))}),r}var h1t=d1t;const f1t=ki(h1t);function p1t(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var m1t=p1t,g1t=rZ;function v1t(t,e){var r=!0;return g1t(t,function(n,i,s){return r=!!e(n,i,s),r}),r}var y1t=v1t,x1t=m1t,b1t=y1t,w1t=mx,_1t=hu,S1t=_B;function A1t(t,e,r){var n=_1t(t)?x1t:b1t;return r&&S1t(t,e,r)&&(e=void 0),n(t,w1t(e))}var E1t=A1t;const K2e=ki(E1t);var T1t=["x","y"];function HN(t){"@babel/helpers - typeof";return HN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HN(t)}function JH(){return JH=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JH.apply(this,arguments)}function nle(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ok(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nle(Object(r),!0).forEach(function(n){C1t(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nle(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C1t(t,e,r){return e=k1t(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k1t(t){var e=P1t(t,"string");return HN(e)=="symbol"?e:e+""}function P1t(t,e){if(HN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(HN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N1t(t,e){if(t==null)return{};var r=I1t(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function I1t(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function O1t(t,e){var r=t.x,n=t.y,i=N1t(t,T1t),s="".concat(r),a=parseInt(s,10),o="".concat(n),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Ok(Ok(Ok(Ok(Ok({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function ile(t){return Ae.createElement(mvt,JH({shapeType:"rectangle",propTransformer:O1t,activeClassName:"recharts-active-bar"},t))}var R1t=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=Ft(n)||GQe(n);return s?e(n,i):(s||A_(),r)}},D1t=["value","background"],Y2e;function DT(t){"@babel/helpers - typeof";return DT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DT(t)}function M1t(t,e){if(t==null)return{};var r=F1t(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function F1t(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iL(){return iL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iL.apply(this,arguments)}function sle(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sle(Object(r),!0).forEach(function(n){ty(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sle(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j1t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ale(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z2e(n.key),n)}}function L1t(t,e,r){return e&&ale(t.prototype,e),r&&ale(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function B1t(t,e,r){return e=sL(e),$1t(t,X2e()?Reflect.construct(e,r||[],sL(t).constructor):e.apply(t,r))}function $1t(t,e){if(e&&(DT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V1t(t)}function V1t(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X2e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X2e=function(){return!!t})()}function sL(t){return sL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sL(t)}function U1t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eW(t,e)}function eW(t,e){return eW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eW(t,e)}function ty(t,e,r){return e=Z2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z2e(t){var e=z1t(t,"string");return DT(e)=="symbol"?e:e+""}function z1t(t,e){if(DT(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(DT(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oR=function(t){function e(){var r;j1t(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=B1t(this,e,[].concat(i)),ty(r,"state",{isAnimationFinished:!1}),ty(r,"id",tR("recharts-bar-")),ty(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),ty(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return U1t(e,t),L1t(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,c=s.activeBar,u=Cn(this.props,!1);return n&&n.map(function(d,h){var f=h===l,g=f?c:a,m=Oa(Oa(Oa({},u),d),{},{isActive:f,option:g,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Ae.createElement(Ms,iL({className:"recharts-bar-rectangle"},yj(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),Ae.createElement(ile,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state.prevData;return Ae.createElement(Vg,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var g=f.t,m=s.map(function(v,x){var w=h&&h[x];if(w){var b=oh(w.x,v.x),_=oh(w.y,v.y),S=oh(w.width,v.width),T=oh(w.height,v.height);return Oa(Oa({},v),{},{x:b(g),y:_(g),width:S(g),height:T(g)})}if(a==="horizontal"){var E=oh(0,v.height),C=E(g);return Oa(Oa({},v),{},{y:v.y+v.height-C,height:C})}var N=oh(0,v.width),F=N(g);return Oa(Oa({},v),{},{width:F})});return Ae.createElement(Ms,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!EN(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=Cn(this.props.background,!1);return s.map(function(c,u){c.value;var d=c.background,h=M1t(c,D1t);if(!d)return null;var f=Oa(Oa(Oa(Oa(Oa({},h),{},{fill:"#eee"},d),l),yj(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return Ae.createElement(ile,iL({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},f))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,d=Cf(u,OB);if(!d)return null;var h=c==="vertical"?a[0].height/2:a[0].width/2,f=function(v,x){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:vd(v,x)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Ae.createElement(Ms,g,d.map(function(m){return Ae.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,a=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,d=n.width,h=n.height,f=n.isAnimationActive,g=n.background,m=n.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=zn("recharts-bar",a),w=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,_=w||b,S=Ln(m)?this.id:m;return Ae.createElement(Ms,{className:x},w||b?Ae.createElement("defs",null,Ae.createElement("clipPath",{id:"clipPath-".concat(S)},Ae.createElement("rect",{x:w?c:c-d/2,y:b?u:u-h/2,width:w?d:d*2,height:b?h:h*2}))):null,Ae.createElement(Ms,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!f||v)&&Ty.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(O.PureComponent);Y2e=oR;ty(oR,"displayName","Bar");ty(oR,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!yg.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ty(oR,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,f=xpt(n,r);if(!f)return null;var g=e.layout,m=r.type.defaultProps,v=m!==void 0?Oa(Oa({},m),r.props):r.props,x=v.dataKey,w=v.children,b=v.minPointSize,_=g==="horizontal"?a:s,S=c?_.scale.domain():null,T=Cpt({numericAxis:_}),E=Cf(w,S_e),C=d.map(function(N,F){var A,I,M,U,Y,X;c?A=bpt(c[u+F],S):(A=vd(N,x),Array.isArray(A)||(A=[T,A]));var W=R1t(b,Y2e.defaultProps.minPointSize)(A[1],F);if(g==="horizontal"){var G,B=[a.scale(A[0]),a.scale(A[1])],re=B[0],ae=B[1];I=soe({axis:s,ticks:o,bandSize:i,offset:f.offset,entry:N,index:F}),M=(G=ae??re)!==null&&G!==void 0?G:void 0,U=f.size;var R=re-ae;if(Y=Number.isNaN(R)?0:R,X={x:I,y:a.y,width:U,height:a.height},Math.abs(W)>0&&Math.abs(Y)<Math.abs(W)){var j=bf(Y||W)*(Math.abs(W)-Math.abs(Y));M-=j,Y+=j}}else{var V=[s.scale(A[0]),s.scale(A[1])],K=V[0],ne=V[1];if(I=K,M=soe({axis:a,ticks:l,bandSize:i,offset:f.offset,entry:N,index:F}),U=ne-K,Y=f.size,X={x:s.x,y:M,width:s.width,height:Y},Math.abs(W)>0&&Math.abs(U)<Math.abs(W)){var J=bf(U||W)*(Math.abs(W)-Math.abs(U));U+=J}}return Oa(Oa(Oa({},N),{},{x:I,y:M,width:U,height:Y,value:c?A:A[1],payload:N,background:X},E&&E[F]&&E[F].props),{},{tooltipPayload:[P2e(r,N)],tooltipPosition:{x:I+U/2,y:M+Y/2}})});return Oa({data:C,layout:g},h)});function WN(t){"@babel/helpers - typeof";return WN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WN(t)}function H1t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ole(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q2e(n.key),n)}}function W1t(t,e,r){return e&&ole(t.prototype,e),r&&ole(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lle(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lle(Object(r),!0).forEach(function(n){MB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lle(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MB(t,e,r){return e=Q2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q2e(t){var e=q1t(t,"string");return WN(e)=="symbol"?e:e+""}function q1t(t,e){if(WN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(WN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G1t=function(e,r,n,i,s){var a=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Xu(c,oR);return u.reduce(function(f,g){var m=r[g],v=m.orientation,x=m.domain,w=m.padding,b=w===void 0?{}:w,_=m.mirror,S=m.reversed,T="".concat(v).concat(_?"Mirror":""),E,C,N,F,A;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var I=x[1]-x[0],M=1/0,U=m.categoricalDomain.sort(XQe);if(U.forEach(function(V,K){K>0&&(M=Math.min((V||0)-(U[K-1]||0),M))}),Number.isFinite(M)){var Y=M/I,X=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(E=Y*X/2),m.padding==="no-gap"){var W=__(e.barCategoryGap,Y*X),G=Y*X/2;E=G-W-(G-W)/X*W}}}i==="xAxis"?C=[n.left+(b.left||0)+(E||0),n.left+n.width-(b.right||0)-(E||0)]:i==="yAxis"?C=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(E||0),n.top+n.height-(b.bottom||0)-(E||0)]:C=m.range,S&&(C=[C[1],C[0]]);var B=vpt(m,s,h),re=B.scale,ae=B.realScaleType;re.domain(x).range(C),ypt(re);var R=Tpt(re,pf(pf({},m),{},{realScaleType:ae}));i==="xAxis"?(A=v==="top"&&!_||v==="bottom"&&_,N=n.left,F=d[T]-A*m.height):i==="yAxis"&&(A=v==="left"&&!_||v==="right"&&_,N=d[T]-A*m.width,F=n.top);var j=pf(pf(pf({},m),R),{},{realScaleType:ae,x:N,y:F,scale:re,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return j.bandSize=qj(j,R),!m.hide&&i==="xAxis"?d[T]+=(A?-1:1)*j.height:m.hide||(d[T]+=(A?-1:1)*j.width),pf(pf({},f),{},MB({},g,j))},{})},J2e=function(e,r){var n=e.x,i=e.y,s=r.x,a=r.y;return{x:Math.min(n,s),y:Math.min(i,a),width:Math.abs(s-n),height:Math.abs(a-i)}},K1t=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return J2e({x:r,y:n},{x:i,y:s})},eSe=function(){function t(e){H1t(this,t),this.scale=e}return W1t(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();MB(eSe,"EPS",1e-4);var OZ=function(e){var r=Object.keys(e).reduce(function(n,i){return pf(pf({},n),{},MB({},i,eSe.create(e[i])))},{});return pf(pf({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return f1t(i,function(l,c){return r[c].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return K2e(i,function(s,a){return r[a].isInRange(s)})}})};function Y1t(t){return(t%180+180)%180}var X1t=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Y1t(i),a=s*Math.PI/180,o=Math.atan(n/r),l=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(l)},Z1t=mx,Q1t=rR,J1t=bB;function eyt(t){return function(e,r,n){var i=Object(e);if(!Q1t(e)){var s=Z1t(r);e=J1t(e),r=function(o){return s(i[o],o,i)}}var a=t(e,r,n);return a>-1?i[s?e[a]:a]:void 0}}var tyt=eyt,ryt=H2e;function nyt(t){var e=ryt(t),r=e%1;return e===e?r?e-r:e:0}var iyt=nyt,syt=l_e,ayt=mx,oyt=iyt,lyt=Math.max;function cyt(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:oyt(r);return i<0&&(i=lyt(n+i,0)),syt(t,ayt(e),i)}var uyt=cyt,dyt=tyt,hyt=uyt,fyt=dyt(hyt),pyt=fyt;const myt=ki(pyt);var gyt=ZZe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),RZ=O.createContext(void 0),DZ=O.createContext(void 0),tSe=O.createContext(void 0),rSe=O.createContext({}),nSe=O.createContext(void 0),iSe=O.createContext(0),sSe=O.createContext(0),cle=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,u=gyt(s);return Ae.createElement(RZ.Provider,{value:n},Ae.createElement(DZ.Provider,{value:i},Ae.createElement(rSe.Provider,{value:s},Ae.createElement(tSe.Provider,{value:u},Ae.createElement(nSe.Provider,{value:a},Ae.createElement(iSe.Provider,{value:c},Ae.createElement(sSe.Provider,{value:l},o)))))))},vyt=function(){return O.useContext(nSe)},aSe=function(e){var r=O.useContext(RZ);r==null&&A_();var n=r[e];return n==null&&A_(),n},yyt=function(){var e=O.useContext(RZ);return Xv(e)},xyt=function(){var e=O.useContext(DZ),r=myt(e,function(n){return K2e(n.domain,Number.isFinite)});return r||Xv(e)},oSe=function(e){var r=O.useContext(DZ);r==null&&A_();var n=r[e];return n==null&&A_(),n},byt=function(){var e=O.useContext(tSe);return e},wyt=function(){return O.useContext(rSe)},MZ=function(){return O.useContext(sSe)},FZ=function(){return O.useContext(iSe)};function MT(t){"@babel/helpers - typeof";return MT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MT(t)}function _yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Syt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cSe(n.key),n)}}function Ayt(t,e,r){return e&&Syt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eyt(t,e,r){return e=aL(e),Tyt(t,lSe()?Reflect.construct(e,r||[],aL(t).constructor):e.apply(t,r))}function Tyt(t,e){if(e&&(MT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cyt(t)}function Cyt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lSe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lSe=function(){return!!t})()}function aL(t){return aL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aL(t)}function kyt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tW(t,e)}function tW(t,e){return tW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tW(t,e)}function ule(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dle(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ule(Object(r),!0).forEach(function(n){jZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ule(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jZ(t,e,r){return e=cSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cSe(t){var e=Pyt(t,"string");return MT(e)=="symbol"?e:e+""}function Pyt(t,e){if(MT(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(MT(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nyt(t,e){return Dyt(t)||Ryt(t,e)||Oyt(t,e)||Iyt()}function Iyt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oyt(t,e){if(t){if(typeof t=="string")return hle(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hle(t,e)}}function hle(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ryt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Dyt(t){if(Array.isArray(t))return t}function rW(){return rW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rW.apply(this,arguments)}var Myt=function(e,r){var n;return Ae.isValidElement(e)?n=Ae.cloneElement(e,r):fn(e)?n=e(r):n=Ae.createElement("line",rW({},r,{className:"recharts-reference-line-line"})),n},Fyt=function(e,r,n,i,s,a,o,l,c){var u=s.x,d=s.y,h=s.width,f=s.height;if(n){var g=c.y,m=e.y.apply(g,{position:a});if(ym(c,"discard")&&!e.y.isInRange(m))return null;var v=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?v.reverse():v}if(r){var x=c.x,w=e.x.apply(x,{position:a});if(ym(c,"discard")&&!e.x.isInRange(w))return null;var b=[{x:w,y:d+f},{x:w,y:d}];return o==="top"?b.reverse():b}if(i){var _=c.segment,S=_.map(function(T){return e.apply(T,{position:a})});return ym(c,"discard")&&s1t(S,function(T){return!e.isInRange(T)})?null:S}return null};function jyt(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,c=vyt(),u=aSe(i),d=oSe(s),h=byt();if(!c||!h)return null;vg(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=OZ({x:u.scale,y:d.scale}),g=ao(e),m=ao(r),v=n&&n.length===2,x=Fyt(f,g,m,v,h,t.position,u.orientation,d.orientation,t);if(!x)return null;var w=Nyt(x,2),b=w[0],_=b.x,S=b.y,T=w[1],E=T.x,C=T.y,N=ym(t,"hidden")?"url(#".concat(c,")"):void 0,F=dle(dle({clipPath:N},Cn(t,!0)),{},{x1:_,y1:S,x2:E,y2:C});return Ae.createElement(Ms,{className:zn("recharts-reference-line",o)},Myt(a,F),Rl.renderCallByParent(t,K1t({x1:_,y1:S,x2:E,y2:C})))}var LZ=function(t){function e(){return _yt(this,e),Eyt(this,e,arguments)}return kyt(e,t),Ayt(e,[{key:"render",value:function(){return Ae.createElement(jyt,this.props)}}])}(Ae.Component);jZ(LZ,"displayName","ReferenceLine");jZ(LZ,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function nW(){return nW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nW.apply(this,arguments)}function FT(t){"@babel/helpers - typeof";return FT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FT(t)}function fle(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ple(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fle(Object(r),!0).forEach(function(n){FB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fle(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lyt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Byt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dSe(n.key),n)}}function $yt(t,e,r){return e&&Byt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vyt(t,e,r){return e=oL(e),Uyt(t,uSe()?Reflect.construct(e,r||[],oL(t).constructor):e.apply(t,r))}function Uyt(t,e){if(e&&(FT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zyt(t)}function zyt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uSe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uSe=function(){return!!t})()}function oL(t){return oL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oL(t)}function Hyt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iW(t,e)}function iW(t,e){return iW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iW(t,e)}function FB(t,e,r){return e=dSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dSe(t){var e=Wyt(t,"string");return FT(e)=="symbol"?e:e+""}function Wyt(t,e){if(FT(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(FT(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qyt=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,a=OZ({x:i.scale,y:s.scale}),o=a.apply({x:r,y:n},{bandAware:!0});return ym(e,"discard")&&!a.isInRange(o)?null:o},jB=function(t){function e(){return Lyt(this,e),Vyt(this,e,arguments)}return Hyt(e,t),$yt(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,a=n.r,o=n.alwaysShow,l=n.clipPathId,c=ao(i),u=ao(s);if(vg(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=qyt(this.props);if(!d)return null;var h=d.x,f=d.y,g=this.props,m=g.shape,v=g.className,x=ym(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=ple(ple({clipPath:x},Cn(this.props,!0)),{},{cx:h,cy:f});return Ae.createElement(Ms,{className:zn("recharts-reference-dot",v)},e.renderDot(m,w),Rl.renderCallByParent(this.props,{x:h-a,y:f-a,width:2*a,height:2*a}))}}])}(Ae.Component);FB(jB,"displayName","ReferenceDot");FB(jB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});FB(jB,"renderDot",function(t,e){var r;return Ae.isValidElement(t)?r=Ae.cloneElement(t,e):fn(t)?r=t(e):r=Ae.createElement(IZ,nW({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function sW(){return sW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sW.apply(this,arguments)}function jT(t){"@babel/helpers - typeof";return jT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jT(t)}function mle(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gle(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mle(Object(r),!0).forEach(function(n){LB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mle(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gyt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kyt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fSe(n.key),n)}}function Yyt(t,e,r){return e&&Kyt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xyt(t,e,r){return e=lL(e),Zyt(t,hSe()?Reflect.construct(e,r||[],lL(t).constructor):e.apply(t,r))}function Zyt(t,e){if(e&&(jT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qyt(t)}function Qyt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hSe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hSe=function(){return!!t})()}function lL(t){return lL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lL(t)}function Jyt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aW(t,e)}function aW(t,e){return aW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aW(t,e)}function LB(t,e,r){return e=fSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fSe(t){var e=ext(t,"string");return jT(e)=="symbol"?e:e+""}function ext(t,e){if(jT(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jT(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var txt=function(e,r,n,i,s){var a=s.x1,o=s.x2,l=s.y1,c=s.y2,u=s.xAxis,d=s.yAxis;if(!u||!d)return null;var h=OZ({x:u.scale,y:d.scale}),f={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return ym(s,"discard")&&(!h.isInRange(f)||!h.isInRange(g))?null:J2e(f,g)},BB=function(t){function e(){return Gyt(this,e),Xyt(this,e,arguments)}return Jyt(e,t),Yyt(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,a=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;vg(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=ao(i),h=ao(s),f=ao(a),g=ao(o),m=this.props.shape;if(!d&&!h&&!f&&!g&&!m)return null;var v=txt(d,h,f,g,this.props);if(!v&&!m)return null;var x=ym(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Ae.createElement(Ms,{className:zn("recharts-reference-area",l)},e.renderRect(m,gle(gle({clipPath:x},Cn(this.props,!0)),v)),Rl.renderCallByParent(this.props,v))}}])}(Ae.Component);LB(BB,"displayName","ReferenceArea");LB(BB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});LB(BB,"renderRect",function(t,e){var r;return Ae.isValidElement(t)?r=Ae.cloneElement(t,e):fn(t)?r=t(e):r=Ae.createElement(NZ,sW({},e,{className:"recharts-reference-area-rect"})),r});function pSe(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function rxt(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return X1t(n,r)}function nxt(t,e,r){var n=r==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function cL(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function ixt(t,e){return pSe(t,e+1)}function sxt(t,e,r,n,i){for(var s=(n||[]).slice(),a=e.start,o=e.end,l=0,c=1,u=a,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:pSe(n,c)};var m=l,v,x=function(){return v===void 0&&(v=r(g,m)),v},w=g.coordinate,b=l===0||cL(t,w,x,u,o);b||(l=0,u=a,c+=1),b&&(u=w+t*(x()/2+i),l+=c)},h;c<=s.length;)if(h=d(),h)return h.v;return[]}function qN(t){"@babel/helpers - typeof";return qN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qN(t)}function vle(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vle(Object(r),!0).forEach(function(n){axt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vle(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function axt(t,e,r){return e=oxt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oxt(t){var e=lxt(t,"string");return qN(e)=="symbol"?e:e+""}function lxt(t,e){if(qN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cxt(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,o=e.start,l=e.end,c=function(h){var f=s[h],g,m=function(){return g===void 0&&(g=r(f,h)),g};if(h===a-1){var v=t*(f.coordinate+t*m()/2-l);s[h]=f=Cl(Cl({},f),{},{tickCoord:v>0?f.coordinate-v*t:f.coordinate})}else s[h]=f=Cl(Cl({},f),{},{tickCoord:f.coordinate});var x=cL(t,f.tickCoord,m,o,l);x&&(l=f.tickCoord-t*(m()/2+i),s[h]=Cl(Cl({},f),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return s}function uxt(t,e,r,n,i,s){var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end;if(s){var u=n[o-1],d=r(u,o-1),h=t*(u.coordinate+t*d/2-c);a[o-1]=u=Cl(Cl({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var f=cL(t,u.tickCoord,function(){return d},l,c);f&&(c=u.tickCoord-t*(d/2+i),a[o-1]=Cl(Cl({},u),{},{isShow:!0}))}for(var g=s?o-1:o,m=function(w){var b=a[w],_,S=function(){return _===void 0&&(_=r(b,w)),_};if(w===0){var T=t*(b.coordinate-t*S()/2-l);a[w]=b=Cl(Cl({},b),{},{tickCoord:T<0?b.coordinate-T*t:b.coordinate})}else a[w]=b=Cl(Cl({},b),{},{tickCoord:b.coordinate});var E=cL(t,b.tickCoord,S,l,c);E&&(l=b.tickCoord+t*(S()/2+i),a[w]=Cl(Cl({},b),{},{isShow:!0}))},v=0;v<g;v++)m(v);return a}function BZ(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!n)return[];if(Ft(l)||yg.isSsr)return ixt(i,typeof l=="number"&&Ft(l)?l:0);var h=[],f=o==="top"||o==="bottom"?"width":"height",g=u&&f==="width"?iP(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(b,_){var S=fn(c)?c(b.value,_):b.value;return f==="width"?rxt(iP(S,{fontSize:e,letterSpacing:r}),g,d):iP(S,{fontSize:e,letterSpacing:r})[f]},v=i.length>=2?bf(i[1].coordinate-i[0].coordinate):1,x=nxt(s,v,f);return l==="equidistantPreserveStart"?sxt(v,x,m,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=uxt(v,x,m,i,a,l==="preserveStartEnd"):h=cxt(v,x,m,i,a),h.filter(function(w){return w.isShow}))}var dxt=["viewBox"],hxt=["viewBox"],fxt=["ticks"];function LT(t){"@babel/helpers - typeof";return LT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LT(t)}function NS(){return NS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NS.apply(this,arguments)}function yle(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Za(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yle(Object(r),!0).forEach(function(n){$Z(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yle(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N9(t,e){if(t==null)return{};var r=pxt(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pxt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mxt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gSe(n.key),n)}}function gxt(t,e,r){return e&&xle(t.prototype,e),r&&xle(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vxt(t,e,r){return e=uL(e),yxt(t,mSe()?Reflect.construct(e,r||[],uL(t).constructor):e.apply(t,r))}function yxt(t,e){if(e&&(LT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xxt(t)}function xxt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mSe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mSe=function(){return!!t})()}function uL(t){return uL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uL(t)}function bxt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oW(t,e)}function oW(t,e){return oW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oW(t,e)}function $Z(t,e,r){return e=gSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gSe(t){var e=wxt(t,"string");return LT(e)=="symbol"?e:e+""}function wxt(t,e){if(LT(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(LT(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FC=function(t){function e(r){var n;return mxt(this,e),n=vxt(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return bxt(e,t),gxt(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,a=N9(n,dxt),o=this.props,l=o.viewBox,c=N9(o,hxt);return!nA(s,l)||!nA(a,c)||!nA(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,h=i.tickMargin,f,g,m,v,x,w,b=d?-1:1,_=n.tickSize||u,S=Ft(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":f=g=n.coordinate,v=a+ +!d*l,m=v-b*_,w=m-b*h,x=S;break;case"left":m=v=n.coordinate,g=s+ +!d*o,f=g-b*_,x=f-b*h,w=S;break;case"right":m=v=n.coordinate,g=s+ +d*o,f=g+b*_,x=f+b*h,w=S;break;default:f=g=n.coordinate,v=a+ +d*l,m=v+b*_,w=m+b*h,x=S;break}return{line:{x1:f,y1:m,x2:g,y2:v},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,d=Za(Za(Za({},Cn(this.props,!1)),Cn(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=Za(Za({},d),{},{x1:i,y1:s+h*o,x2:i+a,y2:s+h*o})}else{var f=+(l==="left"&&!c||l==="right"&&c);d=Za(Za({},d),{},{x1:i+f*a,y1:s,x2:i+f*a,y2:s+o})}return Ae.createElement("line",NS({},d,{className:zn("recharts-cartesian-axis-line",yh(u,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var a=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,d=o.tickFormatter,h=o.unit,f=BZ(Za(Za({},this.props),{},{ticks:n}),i,s),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=Cn(this.props,!1),x=Cn(u,!1),w=Za(Za({},v),{},{fill:"none"},Cn(l,!1)),b=f.map(function(_,S){var T=a.getTickLineCoord(_),E=T.line,C=T.tick,N=Za(Za(Za(Za({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:c},x),C),{},{index:S,payload:_,visibleTicksCount:f.length,tickFormatter:d});return Ae.createElement(Ms,NS({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},yj(a.props,_,S)),l&&Ae.createElement("line",NS({},w,E,{className:zn("recharts-cartesian-axis-tick-line",yh(l,"className"))})),u&&e.renderTickItem(u,N,"".concat(fn(d)?d(_.value,S):_.value).concat(h||"")))});return Ae.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,h=d.ticks,f=N9(d,fxt),g=h;return fn(l)&&(g=h&&h.length>0?l(this.props):l(f)),a<=0||o<=0||!g||!g.length?null:Ae.createElement(Ms,{className:zn("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Rl.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var a,o=zn(i.className,"recharts-cartesian-axis-tick-value");return Ae.isValidElement(n)?a=Ae.cloneElement(n,Za(Za({},i),{},{className:o})):fn(n)?a=n(Za(Za({},i),{},{className:o})):a=Ae.createElement(Oj,NS({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(O.Component);$Z(FC,"displayName","CartesianAxis");$Z(FC,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _xt=["x1","y1","x2","y2","key"],Sxt=["offset"];function E_(t){"@babel/helpers - typeof";return E_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E_(t)}function ble(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ble(Object(r),!0).forEach(function(n){Axt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ble(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Axt(t,e,r){return e=Ext(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ext(t){var e=Txt(t,"string");return E_(e)=="symbol"?e:e+""}function Txt(t,e){if(E_(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(E_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gb.apply(this,arguments)}function wle(t,e){if(t==null)return{};var r=Cxt(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cxt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kxt=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return Ae.createElement("rect",{x:i,y:s,ry:l,width:a,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function vSe(t,e){var r;if(Ae.isValidElement(t))r=Ae.cloneElement(t,e);else if(fn(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,l=wle(e,_xt),c=Cn(l,!1);c.offset;var u=wle(c,Sxt);r=Ae.createElement("line",gb({},u,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return r}function Pxt(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=Dl(Dl({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return vSe(i,c)});return Ae.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Nxt(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=Dl(Dl({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return vSe(i,c)});return Ae.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Ixt(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,f){return h-f});i!==u[0]&&u.unshift(0);var d=u.map(function(h,f){var g=!u[f+1],m=g?i+a-h:u[f+1]-h;if(m<=0)return null;var v=f%e.length;return Ae.createElement("rect",{key:"react-".concat(f),y:h,x:n,height:m,width:s,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ae.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Oxt(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+s-s)}).sort(function(h,f){return h-f});s!==u[0]&&u.unshift(0);var d=u.map(function(h,f){var g=!u[f+1],m=g?s+o-h:u[f+1]-h;if(m<=0)return null;var v=f%n.length;return Ae.createElement("rect",{key:"react-".concat(f),x:h,y:a,width:m,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Ae.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Rxt=function(e,r){var n=e.xAxis,i=e.width,s=e.height,a=e.offset;return C2e(BZ(Dl(Dl(Dl({},FC.defaultProps),n),{},{ticks:og(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,r)},Dxt=function(e,r){var n=e.yAxis,i=e.width,s=e.height,a=e.offset;return C2e(BZ(Dl(Dl(Dl({},FC.defaultProps),n),{},{ticks:og(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,r)},V2={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ySe(t){var e,r,n,i,s,a,o=MZ(),l=FZ(),c=wyt(),u=Dl(Dl({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:V2.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:V2.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:V2.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:V2.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:V2.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:V2.verticalFill,x:Ft(t.x)?t.x:c.left,y:Ft(t.y)?t.y:c.top,width:Ft(t.width)?t.width:c.width,height:Ft(t.height)?t.height:c.height}),d=u.x,h=u.y,f=u.width,g=u.height,m=u.syncWithTicks,v=u.horizontalValues,x=u.verticalValues,w=yyt(),b=xyt();if(!Ft(f)||f<=0||!Ft(g)||g<=0||!Ft(d)||d!==+d||!Ft(h)||h!==+h)return null;var _=u.verticalCoordinatesGenerator||Rxt,S=u.horizontalCoordinatesGenerator||Dxt,T=u.horizontalPoints,E=u.verticalPoints;if((!T||!T.length)&&fn(S)){var C=v&&v.length,N=S({yAxis:b?Dl(Dl({},b),{},{ticks:C?v:b.ticks}):void 0,width:o,height:l,offset:c},C?!0:m);vg(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(E_(N),"]")),Array.isArray(N)&&(T=N)}if((!E||!E.length)&&fn(_)){var F=x&&x.length,A=_({xAxis:w?Dl(Dl({},w),{},{ticks:F?x:w.ticks}):void 0,width:o,height:l,offset:c},F?!0:m);vg(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(E_(A),"]")),Array.isArray(A)&&(E=A)}return Ae.createElement("g",{className:"recharts-cartesian-grid"},Ae.createElement(kxt,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Ae.createElement(Pxt,gb({},u,{offset:c,horizontalPoints:T,xAxis:w,yAxis:b})),Ae.createElement(Nxt,gb({},u,{offset:c,verticalPoints:E,xAxis:w,yAxis:b})),Ae.createElement(Ixt,gb({},u,{horizontalPoints:T})),Ae.createElement(Oxt,gb({},u,{verticalPoints:E})))}ySe.displayName="CartesianGrid";var Mxt=["layout","type","stroke","connectNulls","isRange","ref"],Fxt=["key"],xSe;function BT(t){"@babel/helpers - typeof";return BT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BT(t)}function bSe(t,e){if(t==null)return{};var r=jxt(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jxt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vb(){return vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vb.apply(this,arguments)}function _le(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_le(Object(r),!0).forEach(function(n){sm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_le(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lxt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_Se(n.key),n)}}function Bxt(t,e,r){return e&&Sle(t.prototype,e),r&&Sle(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $xt(t,e,r){return e=dL(e),Vxt(t,wSe()?Reflect.construct(e,r||[],dL(t).constructor):e.apply(t,r))}function Vxt(t,e){if(e&&(BT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uxt(t)}function Uxt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wSe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wSe=function(){return!!t})()}function dL(t){return dL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dL(t)}function zxt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lW(t,e)}function lW(t,e){return lW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lW(t,e)}function sm(t,e,r){return e=_Se(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Se(t){var e=Hxt(t,"string");return BT(e)=="symbol"?e:e+""}function Hxt(t,e){if(BT(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(BT(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ug=function(t){function e(){var r;Lxt(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=$xt(this,e,[].concat(i)),sm(r,"state",{isAnimationFinished:!0}),sm(r,"id",tR("recharts-area-")),sm(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),fn(a)&&a()}),sm(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),fn(a)&&a()}),r}return zxt(e,t),Bxt(e,[{key:"renderDots",value:function(n,i,s){var a=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(a&&!o)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=Cn(this.props,!1),f=Cn(c,!0),g=u.map(function(v,x){var w=Bv(Bv(Bv({key:"dot-".concat(x),r:3},h),f),{},{index:x,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:u});return e.renderDotItem(c,w)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return Ae.createElement(Ms,vb({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,l=a[0].x,c=a[a.length-1].x,u=n*Math.abs(l-c),d=ey(a.map(function(h){return h.y||0}));return Ft(s)&&typeof s=="number"?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(ey(s.map(function(h){return h.y||0})),d)),Ft(d)?Ae.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,l=a[0].y,c=a[a.length-1].y,u=n*Math.abs(l-c),d=ey(a.map(function(h){return h.x||0}));return Ft(s)&&typeof s=="number"?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(ey(s.map(function(h){return h.x||0})),d)),Ft(d)?Ae.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,s,a){var o=this.props,l=o.layout,c=o.type,u=o.stroke,d=o.connectNulls,h=o.isRange;o.ref;var f=bSe(o,Mxt);return Ae.createElement(Ms,{clipPath:s?"url(#clipPath-".concat(a,")"):null},Ae.createElement(oP,vb({},Cn(f,!0),{points:n,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&Ae.createElement(oP,vb({},Cn(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})),u!=="none"&&h&&Ae.createElement(oP,vb({},Cn(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var s=this,a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,h=a.animationEasing,f=a.animationId,g=this.state,m=g.prevPoints,v=g.prevBaseLine;return Ae.createElement(Vg,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var w=x.t;if(m){var b=m.length/o.length,_=o.map(function(C,N){var F=Math.floor(N*b);if(m[F]){var A=m[F],I=oh(A.x,C.x),M=oh(A.y,C.y);return Bv(Bv({},C),{},{x:I(w),y:M(w)})}return C}),S;if(Ft(l)&&typeof l=="number"){var T=oh(v,l);S=T(w)}else if(Ln(l)||PC(l)){var E=oh(v,0);S=E(w)}else S=l.map(function(C,N){var F=Math.floor(N*b);if(v[F]){var A=v[F],I=oh(A.x,C.x),M=oh(A.y,C.y);return Bv(Bv({},C),{},{x:I(w),y:M(w)})}return C});return s.renderAreaStatically(_,S,n,i)}return Ae.createElement(Ms,null,Ae.createElement("defs",null,Ae.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(w))),Ae.createElement(Ms,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(o,l,n,i)))})}},{key:"renderArea",value:function(n,i){var s=this.props,a=s.points,o=s.baseLine,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&a&&a.length&&(!u&&h>0||!EN(u,a)||!EN(d,o))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(a,o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,c=i.top,u=i.left,d=i.xAxis,h=i.yAxis,f=i.width,g=i.height,m=i.isAnimationActive,v=i.id;if(s||!o||!o.length)return null;var x=this.state.isAnimationFinished,w=o.length===1,b=zn("recharts-area",l),_=d&&d.allowDataOverflow,S=h&&h.allowDataOverflow,T=_||S,E=Ln(v)?this.id:v,C=(n=Cn(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=C.r,F=N===void 0?3:N,A=C.strokeWidth,I=A===void 0?2:A,M=sJe(a)?a:{},U=M.clipDot,Y=U===void 0?!0:U,X=F*2+I;return Ae.createElement(Ms,{className:b},_||S?Ae.createElement("defs",null,Ae.createElement("clipPath",{id:"clipPath-".concat(E)},Ae.createElement("rect",{x:_?u:u-f/2,y:S?c:c-g/2,width:_?f:f*2,height:S?g:g*2})),!Y&&Ae.createElement("clipPath",{id:"clipPath-dots-".concat(E)},Ae.createElement("rect",{x:u-X/2,y:c-X/2,width:f+X,height:g+X}))):null,w?null:this.renderArea(T,E),(a||w)&&this.renderDots(T,Y,E),(!m||x)&&Ty.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(O.PureComponent);xSe=Ug;sm(Ug,"displayName","Area");sm(Ug,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!yg.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});sm(Ug,"getBaseValue",function(t,e,r,n){var i=t.layout,s=t.baseValue,a=e.props.baseValue,o=a??s;if(Ft(o)&&typeof o=="number")return o;var l=i==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return o==="dataMin"?d:o==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});sm(Ug,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,f=e.layout,g=c&&c.length,m=xSe.getBaseValue(e,r,n,i),v=f==="horizontal",x=!1,w=d.map(function(_,S){var T;g?T=c[u+S]:(T=vd(_,l),Array.isArray(T)?x=!0:T=[m,T]);var E=T[1]==null||g&&vd(_,l)==null;return v?{x:ioe({axis:n,ticks:s,bandSize:o,entry:_,index:S}),y:E?null:i.scale(T[1]),value:T,payload:_}:{x:E?null:n.scale(T[1]),y:ioe({axis:i,ticks:a,bandSize:o,entry:_,index:S}),value:T,payload:_}}),b;return g||x?b=w.map(function(_){var S=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:S!=null&&_.y!=null?i.scale(S):null}:{x:S!=null?n.scale(S):null,y:_.y}}):b=v?i.scale(m):n.scale(m),Bv({points:w,baseLine:b,layout:f,isRange:x},h)});sm(Ug,"renderDotItem",function(t,e){var r;if(Ae.isValidElement(t))r=Ae.cloneElement(t,e);else if(fn(t))r=t(e);else{var n=zn("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=bSe(e,Fxt);r=Ae.createElement(IZ,vb({},s,{key:i,className:n}))}return r});function $T(t){"@babel/helpers - typeof";return $T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$T(t)}function Wxt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qxt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ESe(n.key),n)}}function Gxt(t,e,r){return e&&qxt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kxt(t,e,r){return e=hL(e),Yxt(t,SSe()?Reflect.construct(e,r||[],hL(t).constructor):e.apply(t,r))}function Yxt(t,e){if(e&&($T(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xxt(t)}function Xxt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SSe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SSe=function(){return!!t})()}function hL(t){return hL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hL(t)}function Zxt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cW(t,e)}function cW(t,e){return cW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cW(t,e)}function ASe(t,e,r){return e=ESe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ESe(t){var e=Qxt(t,"string");return $T(e)=="symbol"?e:e+""}function Qxt(t,e){if($T(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($T(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uW(){return uW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uW.apply(this,arguments)}function Jxt(t){var e=t.xAxisId,r=MZ(),n=FZ(),i=aSe(e);return i==null?null:O.createElement(FC,uW({},i,{className:zn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return og(a,!0)}}))}var $B=function(t){function e(){return Wxt(this,e),Kxt(this,e,arguments)}return Zxt(e,t),Gxt(e,[{key:"render",value:function(){return O.createElement(Jxt,this.props)}}])}(O.Component);ASe($B,"displayName","XAxis");ASe($B,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function VT(t){"@babel/helpers - typeof";return VT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VT(t)}function ebt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tbt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kSe(n.key),n)}}function rbt(t,e,r){return e&&tbt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nbt(t,e,r){return e=fL(e),ibt(t,TSe()?Reflect.construct(e,r||[],fL(t).constructor):e.apply(t,r))}function ibt(t,e){if(e&&(VT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sbt(t)}function sbt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TSe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TSe=function(){return!!t})()}function fL(t){return fL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fL(t)}function abt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dW(t,e)}function dW(t,e){return dW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dW(t,e)}function CSe(t,e,r){return e=kSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kSe(t){var e=obt(t,"string");return VT(e)=="symbol"?e:e+""}function obt(t,e){if(VT(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(VT(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hW(){return hW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hW.apply(this,arguments)}var lbt=function(e){var r=e.yAxisId,n=MZ(),i=FZ(),s=oSe(r);return s==null?null:O.createElement(FC,hW({},s,{className:zn("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return og(o,!0)}}))},VB=function(t){function e(){return ebt(this,e),nbt(this,e,arguments)}return abt(e,t),rbt(e,[{key:"render",value:function(){return O.createElement(lbt,this.props)}}])}(O.Component);CSe(VB,"displayName","YAxis");CSe(VB,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Ale(t){return hbt(t)||dbt(t)||ubt(t)||cbt()}function cbt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ubt(t,e){if(t){if(typeof t=="string")return fW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fW(t,e)}}function dbt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hbt(t){if(Array.isArray(t))return fW(t)}function fW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var pW=function(e,r,n,i,s){var a=Cf(e,LZ),o=Cf(e,jB),l=[].concat(Ale(a),Ale(o)),c=Cf(e,BB),u="".concat(i,"Id"),d=i[0],h=r;if(l.length&&(h=l.reduce(function(m,v){if(v.props[u]===n&&ym(v.props,"extendDomain")&&Ft(v.props[d])){var x=v.props[d];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},h)),c.length){var f="".concat(d,"1"),g="".concat(d,"2");h=c.reduce(function(m,v){if(v.props[u]===n&&ym(v.props,"extendDomain")&&Ft(v.props[f])&&Ft(v.props[g])){var x=v.props[f],w=v.props[g];return[Math.min(m[0],x,w),Math.max(m[1],x,w)]}return m},h)}return s&&s.length&&(h=s.reduce(function(m,v){return Ft(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},PSe={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,d||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],f]:l._events[g].push(f):(l._events[g]=f,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,g=new Array(f);h<f;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,f,g){var m=r?r+c:c;if(!this._events[m])return!1;var v=this._events[m],x=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,h),!0;case 5:return v.fn.call(v.context,u,d,h,f),!0;case 6:return v.fn.call(v.context,u,d,h,f,g),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var _=v.length,S;for(b=0;b<_;b++)switch(v[b].once&&this.removeListener(c,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,u);break;case 3:v[b].fn.call(v[b].context,u,d);break;case 4:v[b].fn.call(v[b].context,u,d,h);break;default:if(!w)for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];v[b].fn.apply(v[b].context,w)}}return!0},o.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var f=r?r+c:c;if(!this._events[f])return this;if(!u)return a(this,f),this;var g=this._events[f];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&a(this,f);else{for(var m=0,v=[],x=g.length;m<x;m++)(g[m].fn!==u||h&&!g[m].once||d&&g[m].context!==d)&&v.push(g[m]);v.length?this._events[f]=v.length===1?v[0]:v:a(this,f)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(PSe);var fbt=PSe.exports;const pbt=ki(fbt);var I9=new pbt,O9="recharts.syncMouseEvents";function GN(t){"@babel/helpers - typeof";return GN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GN(t)}function mbt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gbt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NSe(n.key),n)}}function vbt(t,e,r){return e&&gbt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R9(t,e,r){return e=NSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NSe(t){var e=ybt(t,"string");return GN(e)=="symbol"?e:e+""}function ybt(t,e){if(GN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(GN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xbt=function(){function t(){mbt(this,t),R9(this,"activeIndex",0),R9(this,"coordinateList",[]),R9(this,"layout","horizontal")}return vbt(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,a=r.container,o=a===void 0?null:a,l=r.layout,c=l===void 0?null:l,u=r.offset,d=u===void 0?null:u,h=r.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=s+l+c,h=a+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function bbt(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Ft(n)&&Ft(i))return!0}return!1}function wbt(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function ISe(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,a=rl(e,r,n,i),o=rl(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function _bt(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,h=rl(o,l,c,d),f=rl(o,l,u,d);n=h.x,i=h.y,s=f.x,a=f.y}else return ISe(e);return[{x:n,y:i},{x:s,y:a}]}function KN(t){"@babel/helpers - typeof";return KN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KN(t)}function Ele(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function K3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ele(Object(r),!0).forEach(function(n){Sbt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ele(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sbt(t,e,r){return e=Abt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Abt(t){var e=Ebt(t,"string");return KN(e)=="symbol"?e:e+""}function Ebt(t,e){if(KN(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(KN(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tbt(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,f=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!f||!s||!a||h!=="ScatterChart"&&i!=="axis")return null;var g,m=oP;if(h==="ScatterChart")g=a,m=Pgt;else if(h==="BarChart")g=wbt(d,a,l,u),m=NZ;else if(d==="radial"){var v=ISe(a),x=v.cx,w=v.cy,b=v.radius,_=v.startAngle,S=v.endAngle;g={cx:x,cy:w,startAngle:_,endAngle:S,innerRadius:b,outerRadius:b},m=O2e}else g={points:_bt(d,a,l)},m=oP;var T=K3(K3(K3(K3({stroke:"#ccc",pointerEvents:"none"},l),g),Cn(f,!1)),{},{payload:o,payloadIndex:c,className:zn("recharts-tooltip-cursor",f.className)});return O.isValidElement(f)?O.cloneElement(f,T):O.createElement(m,T)}var Cbt=["item"],kbt=["children","className","width","height","style","compact","title","desc"];function UT(t){"@babel/helpers - typeof";return UT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UT(t)}function IS(){return IS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IS.apply(this,arguments)}function Tle(t,e){return Ibt(t)||Nbt(t,e)||RSe(t,e)||Pbt()}function Pbt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nbt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Ibt(t){if(Array.isArray(t))return t}function Cle(t,e){if(t==null)return{};var r=Obt(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Obt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rbt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dbt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DSe(n.key),n)}}function Mbt(t,e,r){return e&&Dbt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fbt(t,e,r){return e=pL(e),jbt(t,OSe()?Reflect.construct(e,r||[],pL(t).constructor):e.apply(t,r))}function jbt(t,e){if(e&&(UT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lbt(t)}function Lbt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OSe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OSe=function(){return!!t})()}function pL(t){return pL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pL(t)}function Bbt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mW(t,e)}function mW(t,e){return mW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mW(t,e)}function zT(t){return Ubt(t)||Vbt(t)||RSe(t)||$bt()}function $bt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RSe(t,e){if(t){if(typeof t=="string")return gW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gW(t,e)}}function Vbt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ubt(t){if(Array.isArray(t))return gW(t)}function gW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kle(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kle(Object(r),!0).forEach(function(n){Mr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kle(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mr(t,e,r){return e=DSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DSe(t){var e=zbt(t,"string");return UT(e)=="symbol"?e:e+""}function zbt(t,e){if(UT(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(UT(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hbt={xAxis:["bottom","top"],yAxis:["left","right"]},Wbt={width:"100%",height:"100%"},MSe={x:0,y:0};function Y3(t){return t}var qbt=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Gbt=function(e,r,n,i){var s=r.find(function(u){return u&&u.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return lt(lt(lt({},i),rl(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,c=i.angle;return lt(lt(lt({},i),rl(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return MSe},UB=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,a=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(zT(o),zT(c)):o},[]);return a.length>0?a:e&&e.length&&Ft(i)&&Ft(s)?e.slice(i,s+1):[]};function FSe(t){return t==="number"?[0,"auto"]:void 0}var vW=function(e,r,n,i){var s=e.graphicalItems,a=e.tooltipAxis,o=UB(r,e);return n<0||!s||!s.length||n>=o.length?null:s.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:r;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var f=d===void 0?o:d;h=gj(f,a.dataKey,i)}else h=d&&d[n]||o[n];return h?[].concat(zT(l),[P2e(c,h)]):l},[])},Ple=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},a=qbt(s,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=dpt(a,o,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=vW(e,r,u,d),f=Gbt(n,o,u,s);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:f}}return null},Kbt=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,a=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,d=e.children,h=e.stackOffset,f=T2e(u,s);return n.reduce(function(g,m){var v,x=m.type.defaultProps!==void 0?lt(lt({},m.type.defaultProps),m.props):m.props,w=x.type,b=x.dataKey,_=x.allowDataOverflow,S=x.allowDuplicatedCategory,T=x.scale,E=x.ticks,C=x.includeHidden,N=x[a];if(g[N])return g;var F=UB(e.data,{graphicalItems:i.filter(function(R){var j,V=a in R.props?R.props[a]:(j=R.type.defaultProps)===null||j===void 0?void 0:j[a];return V===N}),dataStartIndex:l,dataEndIndex:c}),A=F.length,I,M,U;bbt(x.domain,_,w)&&(I=FH(x.domain,null,_),f&&(w==="number"||T!=="auto")&&(U=aP(F,b,"category")));var Y=FSe(w);if(!I||I.length===0){var X,W=(X=x.domain)!==null&&X!==void 0?X:Y;if(b){if(I=aP(F,b,w),w==="category"&&f){var G=YQe(I);S&&G?(M=I,I=tL(0,A)):S||(I=loe(W,I,m).reduce(function(R,j){return R.indexOf(j)>=0?R:[].concat(zT(R),[j])},[]))}else if(w==="category")S?I=I.filter(function(R){return R!==""&&!Ln(R)}):I=loe(W,I,m).reduce(function(R,j){return R.indexOf(j)>=0||j===""||Ln(j)?R:[].concat(zT(R),[j])},[]);else if(w==="number"){var B=gpt(F,i.filter(function(R){var j,V,K=a in R.props?R.props[a]:(j=R.type.defaultProps)===null||j===void 0?void 0:j[a],ne="hide"in R.props?R.props.hide:(V=R.type.defaultProps)===null||V===void 0?void 0:V.hide;return K===N&&(C||!ne)}),b,s,u);B&&(I=B)}f&&(w==="number"||T!=="auto")&&(U=aP(F,b,"category"))}else f?I=tL(0,A):o&&o[N]&&o[N].hasStack&&w==="number"?I=h==="expand"?[0,1]:k2e(o[N].stackGroups,l,c):I=E2e(F,i.filter(function(R){var j=a in R.props?R.props[a]:R.type.defaultProps[a],V="hide"in R.props?R.props.hide:R.type.defaultProps.hide;return j===N&&(C||!V)}),w,u,!0);if(w==="number")I=pW(d,I,N,s,E),W&&(I=FH(W,I,_));else if(w==="category"&&W){var re=W,ae=I.every(function(R){return re.indexOf(R)>=0});ae&&(I=re)}}return lt(lt({},g),{},Mr({},N,lt(lt({},x),{},{axisType:s,domain:I,categoricalDomain:U,duplicateDomain:M,originalDomain:(v=x.domain)!==null&&v!==void 0?v:Y,isCategorical:f,layout:u})))},{})},Ybt=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,a=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,d=e.children,h=UB(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),f=h.length,g=T2e(u,s),m=-1;return n.reduce(function(v,x){var w=x.type.defaultProps!==void 0?lt(lt({},x.type.defaultProps),x.props):x.props,b=w[a],_=FSe("number");if(!v[b]){m++;var S;return g?S=tL(0,f):o&&o[b]&&o[b].hasStack?(S=k2e(o[b].stackGroups,l,c),S=pW(d,S,b,s)):(S=FH(_,E2e(h,n.filter(function(T){var E,C,N=a in T.props?T.props[a]:(E=T.type.defaultProps)===null||E===void 0?void 0:E[a],F="hide"in T.props?T.props.hide:(C=T.type.defaultProps)===null||C===void 0?void 0:C.hide;return N===b&&!F}),"number",u),i.defaultProps.allowDataOverflow),S=pW(d,S,b,s)),lt(lt({},v),{},Mr({},b,lt(lt({axisType:s},i.defaultProps),{},{hide:!0,orientation:yh(Hbt,"".concat(s,".").concat(m%2),null),domain:S,originalDomain:_,isCategorical:g,layout:u})))}return v},{})},Xbt=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,a=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,d="".concat(i,"Id"),h=Cf(u,s),f={};return h&&h.length?f=Kbt(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(f=Ybt(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),f},Zbt=function(e){var r=Xv(e),n=og(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:nZ(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:qj(r,n)}},Nle=function(e){var r=e.children,n=e.defaultShowTooltip,i=Xu(r,RT),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},Qbt=function(e){return!e||!e.length?!1:e.some(function(r){var n=gg(r&&r.type);return n&&n.indexOf("Bar")>=0})},Ile=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Jbt=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,d=n.children,h=n.margin||{},f=Xu(d,RT),g=Xu(d,iA),m=Object.keys(l).reduce(function(S,T){var E=l[T],C=E.orientation;return!E.mirror&&!E.hide?lt(lt({},S),{},Mr({},C,S[C]+E.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(a).reduce(function(S,T){var E=a[T],C=E.orientation;return!E.mirror&&!E.hide?lt(lt({},S),{},Mr({},C,yh(S,"".concat(C))+E.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=lt(lt({},v),m),w=x.bottom;f&&(x.bottom+=f.props.height||RT.defaultProps.height),g&&r&&(x=ppt(x,i,n,r));var b=c-x.left-x.right,_=u-x.top-x.bottom;return lt(lt({brushBottom:w},x),{},{width:Math.max(b,0),height:Math.max(_,0)})},ewt=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},twt=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(x,w){var b=w.graphicalItems,_=w.stackGroups,S=w.offset,T=w.updateId,E=w.dataStartIndex,C=w.dataEndIndex,N=x.barSize,F=x.layout,A=x.barGap,I=x.barCategoryGap,M=x.maxBarSize,U=Ile(F),Y=U.numericAxisName,X=U.cateAxisName,W=Qbt(b),G=[];return b.forEach(function(B,re){var ae=UB(x.data,{graphicalItems:[B],dataStartIndex:E,dataEndIndex:C}),R=B.type.defaultProps!==void 0?lt(lt({},B.type.defaultProps),B.props):B.props,j=R.dataKey,V=R.maxBarSize,K=R["".concat(Y,"Id")],ne=R["".concat(X,"Id")],J={},me=l.reduce(function(Pe,De){var Je=w["".concat(De.axisType,"Map")],it=R["".concat(De.axisType,"Id")];Je&&Je[it]||De.axisType==="zAxis"||A_();var rt=Je[it];return lt(lt({},Pe),{},Mr(Mr({},De.axisType,rt),"".concat(De.axisType,"Ticks"),og(rt)))},J),ce=me[X],he=me["".concat(X,"Ticks")],_e=_&&_[K]&&_[K].hasStack&&kpt(B,_[K].stackGroups),ee=gg(B.type).indexOf("Bar")>=0,je=qj(ce,he),Ue=[],pe=W&&hpt({barSize:N,stackGroups:_,totalSize:ewt(me,X)});if(ee){var Me,Ye,xt=Ln(V)?M:V,Ke=(Me=(Ye=qj(ce,he,!0))!==null&&Ye!==void 0?Ye:xt)!==null&&Me!==void 0?Me:0;Ue=fpt({barGap:A,barCategoryGap:I,bandSize:Ke!==je?Ke:je,sizeList:pe[ne],maxBarSize:xt}),Ke!==je&&(Ue=Ue.map(function(Pe){return lt(lt({},Pe),{},{position:lt(lt({},Pe.position),{},{offset:Pe.position.offset-Ke/2})})}))}var be=B&&B.type&&B.type.getComposedData;be&&G.push({props:lt(lt({},be(lt(lt({},me),{},{displayedData:ae,props:x,dataKey:j,item:B,bandSize:je,barPosition:Ue,offset:S,stackedData:_e,layout:F,dataStartIndex:E,dataEndIndex:C}))),{},Mr(Mr(Mr({key:B.key||"item-".concat(re)},Y,me[Y]),X,me[X]),"animationId",T)),childIndex:lJe(B,x.children),item:B})}),G},f=function(x,w){var b=x.props,_=x.dataStartIndex,S=x.dataEndIndex,T=x.updateId;if(!tse({props:b}))return null;var E=b.children,C=b.layout,N=b.stackOffset,F=b.data,A=b.reverseStackOrder,I=Ile(C),M=I.numericAxisName,U=I.cateAxisName,Y=Cf(E,n),X=Ept(F,Y,"".concat(M,"Id"),"".concat(U,"Id"),N,A),W=l.reduce(function(R,j){var V="".concat(j.axisType,"Map");return lt(lt({},R),{},Mr({},V,Xbt(b,lt(lt({},j),{},{graphicalItems:Y,stackGroups:j.axisType===M&&X,dataStartIndex:_,dataEndIndex:S}))))},{}),G=Jbt(lt(lt({},W),{},{props:b,graphicalItems:Y}),w==null?void 0:w.legendBBox);Object.keys(W).forEach(function(R){W[R]=u(b,W[R],G,R.replace("Map",""),r)});var B=W["".concat(U,"Map")],re=Zbt(B),ae=h(b,lt(lt({},W),{},{dataStartIndex:_,dataEndIndex:S,updateId:T,graphicalItems:Y,stackGroups:X,offset:G}));return lt(lt({formattedGraphicalItems:ae,graphicalItems:Y,offset:G,stackGroups:X},re),W)},g=function(v){function x(w){var b,_,S;return Rbt(this,x),S=Fbt(this,x,[w]),Mr(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Mr(S,"accessibilityManager",new xbt),Mr(S,"handleLegendBBoxUpdate",function(T){if(T){var E=S.state,C=E.dataStartIndex,N=E.dataEndIndex,F=E.updateId;S.setState(lt({legendBBox:T},f({props:S.props,dataStartIndex:C,dataEndIndex:N,updateId:F},lt(lt({},S.state),{},{legendBBox:T}))))}}),Mr(S,"handleReceiveSyncEvent",function(T,E,C){if(S.props.syncId===T){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),Mr(S,"handleBrushChange",function(T){var E=T.startIndex,C=T.endIndex;if(E!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var N=S.state.updateId;S.setState(function(){return lt({dataStartIndex:E,dataEndIndex:C},f({props:S.props,dataStartIndex:E,dataEndIndex:C,updateId:N},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:C})}}),Mr(S,"handleMouseEnter",function(T){var E=S.getMouseInfo(T);if(E){var C=lt(lt({},E),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var N=S.props.onMouseEnter;fn(N)&&N(C,T)}}),Mr(S,"triggeredAfterMouseMove",function(T){var E=S.getMouseInfo(T),C=E?lt(lt({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var N=S.props.onMouseMove;fn(N)&&N(C,T)}),Mr(S,"handleItemMouseEnter",function(T){S.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),Mr(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Mr(S,"handleMouseMove",function(T){T.persist(),S.throttleTriggeredAfterMouseMove(T)}),Mr(S,"handleMouseLeave",function(T){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var C=S.props.onMouseLeave;fn(C)&&C(E,T)}),Mr(S,"handleOuterEvent",function(T){var E=oJe(T),C=yh(S.props,"".concat(E));if(E&&fn(C)){var N,F;/.*touch.*/i.test(E)?F=S.getMouseInfo(T.changedTouches[0]):F=S.getMouseInfo(T),C((N=F)!==null&&N!==void 0?N:{},T)}}),Mr(S,"handleClick",function(T){var E=S.getMouseInfo(T);if(E){var C=lt(lt({},E),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var N=S.props.onClick;fn(N)&&N(C,T)}}),Mr(S,"handleMouseDown",function(T){var E=S.props.onMouseDown;if(fn(E)){var C=S.getMouseInfo(T);E(C,T)}}),Mr(S,"handleMouseUp",function(T){var E=S.props.onMouseUp;if(fn(E)){var C=S.getMouseInfo(T);E(C,T)}}),Mr(S,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),Mr(S,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.handleMouseDown(T.changedTouches[0])}),Mr(S,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.handleMouseUp(T.changedTouches[0])}),Mr(S,"handleDoubleClick",function(T){var E=S.props.onDoubleClick;if(fn(E)){var C=S.getMouseInfo(T);E(C,T)}}),Mr(S,"handleContextMenu",function(T){var E=S.props.onContextMenu;if(fn(E)){var C=S.getMouseInfo(T);E(C,T)}}),Mr(S,"triggerSyncEvent",function(T){S.props.syncId!==void 0&&I9.emit(O9,S.props.syncId,T,S.eventEmitterSymbol)}),Mr(S,"applySyncEvent",function(T){var E=S.props,C=E.layout,N=E.syncMethod,F=S.state.updateId,A=T.dataStartIndex,I=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)S.setState(lt({dataStartIndex:A,dataEndIndex:I},f({props:S.props,dataStartIndex:A,dataEndIndex:I,updateId:F},S.state)));else if(T.activeTooltipIndex!==void 0){var M=T.chartX,U=T.chartY,Y=T.activeTooltipIndex,X=S.state,W=X.offset,G=X.tooltipTicks;if(!W)return;if(typeof N=="function")Y=N(G,T);else if(N==="value"){Y=-1;for(var B=0;B<G.length;B++)if(G[B].value===T.activeLabel){Y=B;break}}var re=lt(lt({},W),{},{x:W.left,y:W.top}),ae=Math.min(M,re.x+re.width),R=Math.min(U,re.y+re.height),j=G[Y]&&G[Y].value,V=vW(S.state,S.props.data,Y),K=G[Y]?{x:C==="horizontal"?G[Y].coordinate:ae,y:C==="horizontal"?R:G[Y].coordinate}:MSe;S.setState(lt(lt({},T),{},{activeLabel:j,activeCoordinate:K,activePayload:V,activeTooltipIndex:Y}))}else S.setState(T)}),Mr(S,"renderCursor",function(T){var E,C=S.state,N=C.isTooltipActive,F=C.activeCoordinate,A=C.activePayload,I=C.offset,M=C.activeTooltipIndex,U=C.tooltipAxisBandSize,Y=S.getTooltipEventType(),X=(E=T.props.active)!==null&&E!==void 0?E:N,W=S.props.layout,G=T.key||"_recharts-cursor";return Ae.createElement(Tbt,{key:G,activeCoordinate:F,activePayload:A,activeTooltipIndex:M,chartName:r,element:T,isActive:X,layout:W,offset:I,tooltipAxisBandSize:U,tooltipEventType:Y})}),Mr(S,"renderPolarAxis",function(T,E,C){var N=yh(T,"type.axisType"),F=yh(S.state,"".concat(N,"Map")),A=T.type.defaultProps,I=A!==void 0?lt(lt({},A),T.props):T.props,M=F&&F[I["".concat(N,"Id")]];return O.cloneElement(T,lt(lt({},M),{},{className:zn(N,M.className),key:T.key||"".concat(E,"-").concat(C),ticks:og(M,!0)}))}),Mr(S,"renderPolarGrid",function(T){var E=T.props,C=E.radialLines,N=E.polarAngles,F=E.polarRadius,A=S.state,I=A.radiusAxisMap,M=A.angleAxisMap,U=Xv(I),Y=Xv(M),X=Y.cx,W=Y.cy,G=Y.innerRadius,B=Y.outerRadius;return O.cloneElement(T,{polarAngles:Array.isArray(N)?N:og(Y,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(F)?F:og(U,!0).map(function(re){return re.coordinate}),cx:X,cy:W,innerRadius:G,outerRadius:B,key:T.key||"polar-grid",radialLines:C})}),Mr(S,"renderLegend",function(){var T=S.state.formattedGraphicalItems,E=S.props,C=E.children,N=E.width,F=E.height,A=S.props.margin||{},I=N-(A.left||0)-(A.right||0),M=S2e({children:C,formattedGraphicalItems:T,legendWidth:I,legendContent:c});if(!M)return null;var U=M.item,Y=Cle(M,Cbt);return O.cloneElement(U,lt(lt({},Y),{},{chartWidth:N,chartHeight:F,margin:A,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Mr(S,"renderTooltip",function(){var T,E=S.props,C=E.children,N=E.accessibilityLayer,F=Xu(C,Sp);if(!F)return null;var A=S.state,I=A.isTooltipActive,M=A.activeCoordinate,U=A.activePayload,Y=A.activeLabel,X=A.offset,W=(T=F.props.active)!==null&&T!==void 0?T:I;return O.cloneElement(F,{viewBox:lt(lt({},X),{},{x:X.left,y:X.top}),active:W,label:Y,payload:W?U:[],coordinate:M,accessibilityLayer:N})}),Mr(S,"renderBrush",function(T){var E=S.props,C=E.margin,N=E.data,F=S.state,A=F.offset,I=F.dataStartIndex,M=F.dataEndIndex,U=F.updateId;return O.cloneElement(T,{key:T.key||"_recharts-brush",onChange:H3(S.handleBrushChange,T.props.onChange),data:N,x:Ft(T.props.x)?T.props.x:A.left,y:Ft(T.props.y)?T.props.y:A.top+A.height+A.brushBottom-(C.bottom||0),width:Ft(T.props.width)?T.props.width:A.width,startIndex:I,endIndex:M,updateId:"brush-".concat(U)})}),Mr(S,"renderReferenceElement",function(T,E,C){if(!T)return null;var N=S,F=N.clipPathId,A=S.state,I=A.xAxisMap,M=A.yAxisMap,U=A.offset,Y=T.type.defaultProps||{},X=T.props,W=X.xAxisId,G=W===void 0?Y.xAxisId:W,B=X.yAxisId,re=B===void 0?Y.yAxisId:B;return O.cloneElement(T,{key:T.key||"".concat(E,"-").concat(C),xAxis:I[G],yAxis:M[re],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:F})}),Mr(S,"renderActivePoints",function(T){var E=T.item,C=T.activePoint,N=T.basePoint,F=T.childIndex,A=T.isRange,I=[],M=E.props.key,U=E.item.type.defaultProps!==void 0?lt(lt({},E.item.type.defaultProps),E.item.props):E.item.props,Y=U.activeDot,X=U.dataKey,W=lt(lt({index:F,dataKey:X,cx:C.x,cy:C.y,r:4,fill:PZ(E.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Cn(Y,!1)),vj(Y));return I.push(x.renderActiveDot(Y,W,"".concat(M,"-activePoint-").concat(F))),N?I.push(x.renderActiveDot(Y,lt(lt({},W),{},{cx:N.x,cy:N.y}),"".concat(M,"-basePoint-").concat(F))):A&&I.push(null),I}),Mr(S,"renderGraphicChild",function(T,E,C){var N=S.filterFormatItem(T,E,C);if(!N)return null;var F=S.getTooltipEventType(),A=S.state,I=A.isTooltipActive,M=A.tooltipAxis,U=A.activeTooltipIndex,Y=A.activeLabel,X=S.props.children,W=Xu(X,Sp),G=N.props,B=G.points,re=G.isRange,ae=G.baseLine,R=N.item.type.defaultProps!==void 0?lt(lt({},N.item.type.defaultProps),N.item.props):N.item.props,j=R.activeDot,V=R.hide,K=R.activeBar,ne=R.activeShape,J=!!(!V&&I&&W&&(j||K||ne)),me={};F!=="axis"&&W&&W.props.trigger==="click"?me={onClick:H3(S.handleItemMouseEnter,T.props.onClick)}:F!=="axis"&&(me={onMouseLeave:H3(S.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:H3(S.handleItemMouseEnter,T.props.onMouseEnter)});var ce=O.cloneElement(T,lt(lt({},N.props),me));function he(De){return typeof M.dataKey=="function"?M.dataKey(De.payload):null}if(J)if(U>=0){var _e,ee;if(M.dataKey&&!M.allowDuplicatedCategory){var je=typeof M.dataKey=="function"?he:"payload.".concat(M.dataKey.toString());_e=gj(B,je,Y),ee=re&&ae&&gj(ae,je,Y)}else _e=B==null?void 0:B[U],ee=re&&ae&&ae[U];if(ne||K){var Ue=T.props.activeIndex!==void 0?T.props.activeIndex:U;return[O.cloneElement(T,lt(lt(lt({},N.props),me),{},{activeIndex:Ue})),null,null]}if(!Ln(_e))return[ce].concat(zT(S.renderActivePoints({item:N,activePoint:_e,basePoint:ee,childIndex:U,isRange:re})))}else{var pe,Me=(pe=S.getItemByXY(S.state.activeCoordinate))!==null&&pe!==void 0?pe:{graphicalItem:ce},Ye=Me.graphicalItem,xt=Ye.item,Ke=xt===void 0?T:xt,be=Ye.childIndex,Pe=lt(lt(lt({},N.props),me),{},{activeIndex:be});return[O.cloneElement(Ke,Pe),null,null]}return re?[ce,null,null]:[ce,null]}),Mr(S,"renderCustomized",function(T,E,C){return O.cloneElement(T,lt(lt({key:"recharts-customized-".concat(C)},S.props),S.state))}),Mr(S,"renderMap",{CartesianGrid:{handler:Y3,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Y3},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Y3},YAxis:{handler:Y3},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:tR("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=__e(S.triggeredAfterMouseMove,(_=w.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return Bbt(x,v),Mbt(x,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,S=b.data,T=b.height,E=b.layout,C=Xu(_,Sp);if(C){var N=C.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,A=vW(this.state,S,N,F),I=this.state.tooltipTicks[N].coordinate,M=(this.state.offset.top+T)/2,U=E==="horizontal",Y=U?{x:I,y:M}:{y:I,x:M},X=this.state.formattedGraphicalItems.find(function(G){var B=G.item;return B.type.name==="Scatter"});X&&(Y=lt(lt({},Y),X.props.points[N].tooltipPosition),A=X.props.points[N].tooltipPayload);var W={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:F,activePayload:A,activeCoordinate:Y};this.setState(W),this.renderCursor(C),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var S,T;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(b){Zz([Xu(b.children,Sp)],[Xu(this.props.children,Sp)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Xu(this.props.children,Sp);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return o.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),T=jct(S),E={chartX:Math.round(b.pageX-T.left),chartY:Math.round(b.pageY-T.top)},C=S.width/_.offsetWidth||1,N=this.inRange(E.chartX,E.chartY,C);if(!N)return null;var F=this.state,A=F.xAxisMap,I=F.yAxisMap,M=this.getTooltipEventType(),U=Ple(this.state,this.props.data,this.props.layout,N);if(M!=="axis"&&A&&I){var Y=Xv(A).scale,X=Xv(I).scale,W=Y&&Y.invert?Y.invert(E.chartX):null,G=X&&X.invert?X.invert(E.chartY):null;return lt(lt({},E),{},{xValue:W,yValue:G},U)}return U?lt(lt({},E),U):null}},{key:"inRange",value:function(b,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,E=b/S,C=_/S;if(T==="horizontal"||T==="vertical"){var N=this.state.offset,F=E>=N.left&&E<=N.left+N.width&&C>=N.top&&C<=N.top+N.height;return F?{x:E,y:C}:null}var A=this.state,I=A.angleAxisMap,M=A.radiusAxisMap;if(I&&M){var U=Xv(I);return doe({x:E,y:C},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),S=Xu(b,Sp),T={};S&&_==="axis"&&(S.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=vj(this.props,this.handleOuterEvent);return lt(lt({},E),T)}},{key:"addListener",value:function(){I9.on(O9,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){I9.removeListener(O9,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,S){for(var T=this.state.formattedGraphicalItems,E=0,C=T.length;E<C;E++){var N=T[E];if(N.item===b||N.props.key===b.key||_===gg(N.item.type)&&S===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,S=_.left,T=_.top,E=_.height,C=_.width;return Ae.createElement("defs",null,Ae.createElement("clipPath",{id:b},Ae.createElement("rect",{x:S,y:T,height:E,width:C})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,S){var T=Tle(S,2),E=T[0],C=T[1];return lt(lt({},_),{},Mr({},E,C.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,S){var T=Tle(S,2),E=T[0],C=T[1];return lt(lt({},_),{},Mr({},E,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,S=_.formattedGraphicalItems,T=_.activeItem;if(S&&S.length)for(var E=0,C=S.length;E<C;E++){var N=S[E],F=N.props,A=N.item,I=A.type.defaultProps!==void 0?lt(lt({},A.type.defaultProps),A.props):A.props,M=gg(A.type);if(M==="Bar"){var U=(F.data||[]).find(function(G){return xgt(b,G)});if(U)return{graphicalItem:N,payload:U}}else if(M==="RadialBar"){var Y=(F.data||[]).find(function(G){return doe(b,G)});if(Y)return{graphicalItem:N,payload:Y}}else if(RB(N,T)||DB(N,T)||UN(N,T)){var X=_vt({graphicalItem:N,activeTooltipItem:T,itemData:I.data}),W=I.activeIndex===void 0?X:I.activeIndex;return{graphicalItem:lt(lt({},N),{},{childIndex:W}),payload:UN(N,T)?I.data[X]:N.props.data[X]}}}return null}},{key:"render",value:function(){var b=this;if(!tse(this))return null;var _=this.props,S=_.children,T=_.className,E=_.width,C=_.height,N=_.style,F=_.compact,A=_.title,I=_.desc,M=Cle(_,kbt),U=Cn(M,!1);if(F)return Ae.createElement(cle,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ae.createElement(Jz,IS({},U,{width:E,height:C,title:A,desc:I}),this.renderClipPath(),nse(S,this.renderMap)));if(this.props.accessibilityLayer){var Y,X;U.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,U.role=(X=this.props.role)!==null&&X!==void 0?X:"application",U.onKeyDown=function(G){b.accessibilityManager.keyboardEvent(G)},U.onFocus=function(){b.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return Ae.createElement(cle,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ae.createElement("div",IS({className:zn("recharts-wrapper",T),style:lt({position:"relative",cursor:"default",width:E,height:C},N)},W,{ref:function(B){b.container=B}}),Ae.createElement(Jz,IS({},U,{width:E,height:C,title:A,desc:I,style:Wbt}),this.renderClipPath(),nse(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);Mr(g,"displayName",r),Mr(g,"defaultProps",lt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Mr(g,"getDerivedStateFromProps",function(v,x){var w=v.dataKey,b=v.data,_=v.children,S=v.width,T=v.height,E=v.layout,C=v.stackOffset,N=v.margin,F=x.dataStartIndex,A=x.dataEndIndex;if(x.updateId===void 0){var I=Nle(v);return lt(lt(lt({},I),{},{updateId:0},f(lt(lt({props:v},I),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:b,prevWidth:S,prevHeight:T,prevLayout:E,prevStackOffset:C,prevMargin:N,prevChildren:_})}if(w!==x.prevDataKey||b!==x.prevData||S!==x.prevWidth||T!==x.prevHeight||E!==x.prevLayout||C!==x.prevStackOffset||!nA(N,x.prevMargin)){var M=Nle(v),U={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},Y=lt(lt({},Ple(x,b,E)),{},{updateId:x.updateId+1}),X=lt(lt(lt({},M),U),Y);return lt(lt(lt({},X),f(lt({props:v},X),x)),{},{prevDataKey:w,prevData:b,prevWidth:S,prevHeight:T,prevLayout:E,prevStackOffset:C,prevMargin:N,prevChildren:_})}if(!Zz(_,x.prevChildren)){var W,G,B,re,ae=Xu(_,RT),R=ae&&(W=(G=ae.props)===null||G===void 0?void 0:G.startIndex)!==null&&W!==void 0?W:F,j=ae&&(B=(re=ae.props)===null||re===void 0?void 0:re.endIndex)!==null&&B!==void 0?B:A,V=R!==F||j!==A,K=!Ln(b),ne=K&&!V?x.updateId:x.updateId+1;return lt(lt({updateId:ne},f(lt(lt({props:v},x),{},{updateId:ne,dataStartIndex:R,dataEndIndex:j}),x)),{},{prevChildren:_,dataStartIndex:R,dataEndIndex:j})}return null}),Mr(g,"renderActiveDot",function(v,x,w){var b;return O.isValidElement(v)?b=O.cloneElement(v,x):fn(v)?b=v(x):b=Ae.createElement(IZ,x),Ae.createElement(Ms,{className:"recharts-active-dot",key:w},b)});var m=O.forwardRef(function(x,w){return Ae.createElement(g,IS({},x,{ref:w}))});return m.displayName=g.displayName,m},rwt=twt({chartName:"AreaChart",GraphicalChild:Ug,axisComponents:[{axisType:"xAxis",AxisComp:$B},{axisType:"yAxis",AxisComp:VB}],formatAxisMap:G1t});function nwt(){const[t,e]=O.useState([]),[r,n]=O.useState(!0);O.useEffect(()=>{i()},[]);const i=async()=>{try{const s=await _C(),a=[],o=new Date;for(let l=6;l>=0;l--){const c=hN(o,l),u=_a(c),d=Cm(c),h=s.filter(m=>{var x,w;const v=((w=(x=m.createdAt)==null?void 0:x.toDate)==null?void 0:w.call(x))||new Date(m.createdAt);return v>=u&&v<=d}),f=h.reduce((m,v)=>m+v.valorContrato,0),g=h.reduce((m,v)=>m+v.comissao,0);a.push({mes:Pr(c,"MMM",{locale:Zr}),vendas:f,comissoes:g})}e(a)}catch(s){console.error("Erro ao carregar dados do grfico:",s)}finally{n(!1)}};return r?p.jsxs("div",{className:"bg-card rounded-xl border border-border/50 shadow-sm p-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Evoluo de Vendas"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"ltimos 7 meses"})]}),p.jsx(mc,{className:"h-[300px] w-full"})]}):p.jsxs("div",{className:"bg-card rounded-xl border border-border/50 shadow-sm p-6 animate-fade-in",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Evoluo de Vendas"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"ltimos 7 meses"})]}),p.jsx("div",{className:"h-[300px]",children:p.jsx(Nct,{width:"100%",height:"100%",children:p.jsxs(rwt,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"colorVendas",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"hsl(230, 80%, 55%)",stopOpacity:.3}),p.jsx("stop",{offset:"95%",stopColor:"hsl(230, 80%, 55%)",stopOpacity:0})]}),p.jsxs("linearGradient",{id:"colorComissoes",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"hsl(175, 70%, 40%)",stopOpacity:.3}),p.jsx("stop",{offset:"95%",stopColor:"hsl(175, 70%, 40%)",stopOpacity:0})]})]}),p.jsx(ySe,{strokeDasharray:"3 3",stroke:"hsl(220, 15%, 88%)",vertical:!1}),p.jsx($B,{dataKey:"mes",axisLine:!1,tickLine:!1,tick:{fill:"hsl(220, 10%, 45%)",fontSize:12}}),p.jsx(VB,{axisLine:!1,tickLine:!1,tick:{fill:"hsl(220, 10%, 45%)",fontSize:12},tickFormatter:s=>`${(s/1e3).toFixed(0)}k`}),p.jsx(Sp,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(220, 15%, 88%)",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)"},formatter:(s,a)=>[`R$ ${s.toLocaleString("pt-BR")}`,a==="vendas"?"Vendas":"Comisses"]}),p.jsx(Ug,{type:"monotone",dataKey:"vendas",stroke:"hsl(230, 80%, 55%)",strokeWidth:2,fillOpacity:1,fill:"url(#colorVendas)"}),p.jsx(Ug,{type:"monotone",dataKey:"comissoes",stroke:"hsl(175, 70%, 40%)",strokeWidth:2,fillOpacity:1,fill:"url(#colorComissoes)"})]})})}),p.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"}),p.jsx("span",{className:"text-sm text-muted-foreground",children:"Vendas"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-accent"}),p.jsx("span",{className:"text-sm text-muted-foreground",children:"Comisses"})]})]})]})}var VZ="Progress",UZ=100,[iwt,eHt]=Cc(VZ),[swt,awt]=iwt(VZ),jSe=O.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=owt,...a}=t;(i||i===0)&&!Ole(i)&&console.error(lwt(`${i}`,"Progress"));const o=Ole(i)?i:UZ;n!==null&&!Rle(n,o)&&console.error(cwt(`${n}`,"Progress"));const l=Rle(n,o)?n:null,c=mL(l)?s(l,o):void 0;return p.jsx(swt,{scope:r,value:l,max:o,children:p.jsx(pr.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":mL(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":$Se(l,o),"data-value":l??void 0,"data-max":o,...a,ref:e})})});jSe.displayName=VZ;var LSe="ProgressIndicator",BSe=O.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=awt(LSe,r);return p.jsx(pr.div,{"data-state":$Se(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});BSe.displayName=LSe;function owt(t,e){return`${Math.round(t/e*100)}%`}function $Se(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function mL(t){return typeof t=="number"}function Ole(t){return mL(t)&&!isNaN(t)&&t>0}function Rle(t,e){return mL(t)&&!isNaN(t)&&t<=e&&t>=0}function lwt(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${UZ}\`.`}function cwt(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${UZ} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var VSe=jSe,uwt=BSe;const USe=O.forwardRef(({className:t,value:e,...r},n)=>p.jsx(VSe,{ref:n,className:Pt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:p.jsx(uwt,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));USe.displayName=VSe.displayName;function dwt(){const[t,e]=O.useState([]),[r,n]=O.useState(!0);O.useEffect(()=>{i()},[]);const i=async()=>{try{const[s,a]=await Promise.all([_C(),fx()]),o=new Date,l=_a(o),c=Cm(o),u=s.filter(f=>{var m,v;const g=((v=(m=f.createdAt)==null?void 0:m.toDate)==null?void 0:v.call(m))||new Date(f.createdAt);return g>=l&&g<=c}),d=new Map;u.forEach(f=>{const g=d.get(f.funcionarioId)||{vendas:0,valor:0};d.set(f.funcionarioId,{vendas:g.vendas+1,valor:g.valor+f.valorContrato})});const h=[];d.forEach((f,g)=>{const m=a.find(v=>v.id===g);m&&h.push({id:g,name:m.nome,vendas:f.vendas,valor:f.valor,meta:40})}),h.sort((f,g)=>g.vendas-f.vendas),e(h.slice(0,4))}catch(s){console.error("Erro ao carregar top agentes:",s)}finally{n(!1)}};return r?p.jsxs("div",{className:"bg-card rounded-xl border border-border/50 shadow-sm p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Top Agentes"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Desempenho do ms"})]}),p.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:p.jsx(uT,{className:"w-5 h-5 text-success"})})]}),p.jsx("div",{className:"space-y-5",children:[1,2,3,4].map(s=>p.jsx(mc,{className:"h-16 w-full"},s))})]}):p.jsxs("div",{className:"bg-card rounded-xl border border-border/50 shadow-sm p-6 animate-fade-in",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Top Agentes"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Desempenho do ms"})]}),p.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:p.jsx(uT,{className:"w-5 h-5 text-success"})})]}),p.jsx("div",{className:"space-y-5",children:t.length===0?p.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"Nenhuma venda registrada este ms"}):t.map((s,a)=>{const o=s.vendas/s.meta*100;return p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"relative",children:[p.jsx(dx,{className:"w-9 h-9",children:p.jsx(hx,{className:"bg-primary/10 text-primary text-xs font-medium",children:s.name.split(" ").map(l=>l[0]).join("")})}),p.jsx("span",{className:"absolute -top-1 -left-1 w-4 h-4 rounded-full bg-primary text-primary-foreground text-[10px] font-bold flex items-center justify-center",children:a+1})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:s.name}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.vendas," vendas  R$ ",s.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),p.jsxs("span",{className:"text-sm font-semibold text-success",children:[Math.round(o),"%"]})]}),p.jsx(USe,{value:o,className:"h-1.5"})]},s.id)})})]})}function hwt(){const[t,e]=O.useState(null),[r,n]=O.useState(!0);O.useEffect(()=>{i()},[]);const i=async()=>{try{const[s,a]=await Promise.all([_C(),wC()]),o=new Date,l=_a(o),c=Cm(o),u=_a(hN(o,1)),d=Cm(hN(o,1)),h=s.filter(_=>{var T,E;const S=((E=(T=_.createdAt)==null?void 0:T.toDate)==null?void 0:E.call(T))||new Date(_.createdAt);return S>=l&&S<=c}),f=s.filter(_=>{var T,E;const S=((E=(T=_.createdAt)==null?void 0:T.toDate)==null?void 0:E.call(T))||new Date(_.createdAt);return S>=u&&S<=d}),g=h.reduce((_,S)=>_+S.valorContrato,0),m=h.reduce((_,S)=>_+(S.comissaoFornecedor||0),0),v=f.reduce((_,S)=>_+S.valorContrato,0),x=f.reduce((_,S)=>_+(S.comissaoFornecedor||0),0);console.log("Vendas do ms atual:",h),console.log("Total de comisses dos fornecedores:",m),console.log("Vendas com comisso fornecedor:",h.filter(_=>(_.comissaoFornecedor||0)>0));const w=v>0?(g-v)/v*100:0,b=x>0?(m-x)/x*100:0;e({vendasMes:g,comissoesMes:m,totalVendas:h.length,clientesAtivos:a.filter(_=>_.status==="ativo").length,crescimentoVendas:w,crescimentoComissoes:b})}catch(s){console.error("Erro ao carregar dados do dashboard:",s)}finally{n(!1)}};return r?p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),p.jsx("p",{className:"text-muted-foreground",children:"Viso geral do desempenho da sua operao"})]})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(s=>p.jsx(mc,{className:"h-32 w-full"},s))}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsx(mc,{className:"lg:col-span-2 h-96"}),p.jsx(mc,{className:"h-96"})]}),p.jsx(mc,{className:"h-96"})]}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),p.jsx("p",{className:"text-muted-foreground",children:"Viso geral do desempenho da sua operao"})]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-card px-4 py-2 rounded-lg border border-border/50",children:[p.jsx("span",{children:"Perodo:"}),p.jsx("span",{className:"font-medium text-foreground",children:new Date().toLocaleDateString("pt-BR",{month:"long",year:"numeric"})})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[p.jsx(D3,{title:"Vendas do Ms",value:`R$ ${t.vendasMes.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,change:`${t.crescimentoVendas>0?"+":""}${t.crescimentoVendas.toFixed(1)}% vs ms anterior`,changeType:t.crescimentoVendas>=0?"positive":"negative",icon:Q0,iconColor:"primary"}),p.jsx(D3,{title:"Receita (Comisso Fornecedores)",value:`R$ ${t.comissoesMes.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,change:`${t.crescimentoComissoes>0?"+":""}${t.crescimentoComissoes.toFixed(1)}% vs ms anterior`,changeType:t.crescimentoComissoes>=0?"positive":"negative",icon:uT,iconColor:"success"}),p.jsx(D3,{title:"Total de Vendas",value:t.totalVendas.toString(),change:`${t.totalVendas} vendas este ms`,changeType:"positive",icon:dge,iconColor:"accent"}),p.jsx(D3,{title:"Clientes Ativos",value:t.clientesAtivos.toString(),change:"Base de clientes",changeType:"positive",icon:IO,iconColor:"warning"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsx("div",{className:"lg:col-span-2",children:p.jsx(nwt,{})}),p.jsx(dwt,{})]}),p.jsx(pYe,{})]})}function uu({title:t,description:e,action:r,children:n}){return p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold",children:t}),e&&p.jsx("p",{className:"text-muted-foreground",children:e})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[n,r&&p.jsxs(mt,{onClick:r.onClick,className:"gap-2",children:[p.jsx(oC,{className:"w-4 h-4"}),r.label]})]})]})}function lR({columns:t,data:e,searchPlaceholder:r="Buscar...",onEdit:n,onDelete:i,onView:s,deleteLabel:a,customActions:o}){const l=n||i||s||o&&o.length>0;return p.jsxs("div",{className:"bg-card rounded-xl border border-border/50 shadow-sm overflow-hidden animate-fade-in",children:[p.jsx("div",{className:"p-4 border-b border-border",children:p.jsxs("div",{className:"relative w-full max-w-sm",children:[p.jsx(JK,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),p.jsx(pt,{placeholder:r,className:"pl-9"})]})}),p.jsxs(Ff,{children:[p.jsx(jf,{children:p.jsxs(di,{className:"hover:bg-transparent",children:[t.map(c=>p.jsx(Xt,{className:c.className,children:c.header},String(c.key))),l&&p.jsx(Xt,{className:"text-right w-[80px]",children:"Aes"})]})}),p.jsx(Lf,{children:e.map(c=>p.jsxs(di,{className:"cursor-pointer hover:bg-muted/50",children:[t.map(u=>p.jsx(Vt,{className:u.className,children:u.render?u.render(c):String(c[u.key]??"")},String(u.key))),l&&p.jsx(Vt,{className:"text-right",children:p.jsxs(Cbe,{children:[p.jsx(kbe,{asChild:!0,children:p.jsx(mt,{variant:"ghost",size:"icon",className:"h-8 w-8",children:p.jsx(MDe,{className:"w-4 h-4"})})}),p.jsxs(AX,{align:"end",children:[s&&p.jsx(hb,{onClick:()=>s(c),children:"Visualizar"}),n&&p.jsx(hb,{onClick:()=>n(c),children:"Editar"}),o&&o.map((u,d)=>p.jsx(hb,{onClick:()=>u.onClick(c),className:typeof u.className=="function"?u.className(c):u.className,children:u.label(c)},d)),i&&p.jsx(hb,{onClick:()=>i(c),className:"text-destructive focus:text-destructive",children:a?a(c):"Excluir"})]})]})})]},c.id))})]}),p.jsxs("div",{className:"p-4 border-t border-border flex items-center justify-between",children:[p.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando ",p.jsx("span",{className:"font-medium",children:e.length})," registros"]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(mt,{variant:"outline",size:"sm",disabled:!0,children:p.jsx(QK,{className:"w-4 h-4"})}),p.jsx(mt,{variant:"outline",size:"sm",className:"px-3",children:"1"}),p.jsx(mt,{variant:"ghost",size:"sm",className:"px-3",children:"2"}),p.jsx(mt,{variant:"ghost",size:"sm",className:"px-3",children:"3"}),p.jsx(mt,{variant:"outline",size:"sm",children:p.jsx(e8,{className:"w-4 h-4"})})]})]})]})}var zB="Dialog",[zSe,HSe]=Cc(zB),[fwt,qf]=zSe(zB),WSe=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=O.useRef(null),l=O.useRef(null),[c,u]=Ig({prop:n,defaultProp:i??!1,onChange:s,caller:zB});return p.jsx(fwt,{scope:e,triggerRef:o,contentRef:l,contentId:il(),titleId:il(),descriptionId:il(),open:c,onOpenChange:u,onOpenToggle:O.useCallback(()=>u(d=>!d),[u]),modal:a,children:r})};WSe.displayName=zB;var qSe="DialogTrigger",GSe=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=qf(qSe,r),s=kn(e,i.triggerRef);return p.jsx(pr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":WZ(i.open),...n,ref:s,onClick:Ut(t.onClick,i.onOpenToggle)})});GSe.displayName=qSe;var zZ="DialogPortal",[pwt,KSe]=zSe(zZ,{forceMount:void 0}),YSe=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=qf(zZ,e);return p.jsx(pwt,{scope:e,forceMount:r,children:O.Children.map(n,a=>p.jsx(_d,{present:r||s.open,children:p.jsx(aC,{asChild:!0,container:i,children:a})}))})};YSe.displayName=zZ;var gL="DialogOverlay",XSe=O.forwardRef((t,e)=>{const r=KSe(gL,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=qf(gL,t.__scopeDialog);return s.modal?p.jsx(_d,{present:n||s.open,children:p.jsx(gwt,{...i,ref:e})}):null});XSe.displayName=gL;var mwt=Dy("DialogOverlay.RemoveScroll"),gwt=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=qf(gL,r);return p.jsx(KO,{as:mwt,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(pr.div,{"data-state":WZ(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),T_="DialogContent",ZSe=O.forwardRef((t,e)=>{const r=KSe(T_,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=qf(T_,t.__scopeDialog);return p.jsx(_d,{present:n||s.open,children:s.modal?p.jsx(vwt,{...i,ref:e}):p.jsx(ywt,{...i,ref:e})})});ZSe.displayName=T_;var vwt=O.forwardRef((t,e)=>{const r=qf(T_,t.__scopeDialog),n=O.useRef(null),i=kn(e,r.contentRef,n);return O.useEffect(()=>{const s=n.current;if(s)return z8(s)},[]),p.jsx(QSe,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ut(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ut(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:Ut(t.onFocusOutside,s=>s.preventDefault())})}),ywt=O.forwardRef((t,e)=>{const r=qf(T_,t.__scopeDialog),n=O.useRef(!1),i=O.useRef(!1);return p.jsx(QSe,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((c=r.triggerRef.current)==null?void 0:c.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),QSe=O.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=qf(T_,r),l=O.useRef(null),c=kn(e,l);return V8(),p.jsxs(p.Fragment,{children:[p.jsx(qO,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:p.jsx(K_,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":WZ(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(bwt,{titleId:o.titleId}),p.jsx(_wt,{contentRef:l,descriptionId:o.descriptionId})]})]})}),HZ="DialogTitle",JSe=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=qf(HZ,r);return p.jsx(pr.h2,{id:i.titleId,...n,ref:e})});JSe.displayName=HZ;var eAe="DialogDescription",tAe=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=qf(eAe,r);return p.jsx(pr.p,{id:i.descriptionId,...n,ref:e})});tAe.displayName=eAe;var rAe="DialogClose",nAe=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=qf(rAe,r);return p.jsx(pr.button,{type:"button",...n,ref:e,onClick:Ut(t.onClick,()=>i.onOpenChange(!1))})});nAe.displayName=rAe;function WZ(t){return t?"open":"closed"}var iAe="DialogTitleWarning",[xwt,sAe]=M3e(iAe,{contentName:T_,titleName:HZ,docsSlug:"dialog"}),bwt=({titleId:t})=>{const e=sAe(iAe),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return O.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},wwt="DialogDescriptionWarning",_wt=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sAe(wwt).contentName}}.`;return O.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},qZ=WSe,aAe=GSe,GZ=YSe,HB=XSe,WB=ZSe,KZ=JSe,YZ=tAe,XZ=nAe;const oo=qZ,qB=aAe,Swt=GZ,oAe=O.forwardRef(({className:t,...e},r)=>p.jsx(HB,{ref:r,className:Pt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));oAe.displayName=HB.displayName;const $a=O.forwardRef(({className:t,children:e,...r},n)=>p.jsxs(Swt,{children:[p.jsx(oAe,{}),p.jsxs(WB,{ref:n,className:Pt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,p.jsxs(XZ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[p.jsx(Y_,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$a.displayName=WB.displayName;const Va=({className:t,...e})=>p.jsx("div",{className:Pt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Va.displayName="DialogHeader";const Zw=({className:t,...e})=>p.jsx("div",{className:Pt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Zw.displayName="DialogFooter";const Ua=O.forwardRef(({className:t,...e},r)=>p.jsx(KZ,{ref:r,className:Pt("text-lg font-semibold leading-none tracking-tight",t),...e}));Ua.displayName=KZ.displayName;const Pm=O.forwardRef(({className:t,...e},r)=>p.jsx(YZ,{ref:r,className:Pt("text-sm text-muted-foreground",t),...e}));Pm.displayName=YZ.displayName;var cR=t=>t.type==="checkbox",yb=t=>t instanceof Date,dc=t=>t==null;const lAe=t=>typeof t=="object";var Sa=t=>!dc(t)&&!Array.isArray(t)&&lAe(t)&&!yb(t),Awt=t=>Sa(t)&&t.target?cR(t.target)?t.target.checked:t.target.value:t,Ewt=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Twt=(t,e)=>t.has(Ewt(e)),Cwt=t=>{const e=t.constructor&&t.constructor.prototype;return Sa(e)&&e.hasOwnProperty("isPrototypeOf")},ZZ=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function yo(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(ZZ&&(t instanceof Blob||n))&&(r||Sa(t)))if(e=r?[]:{},!r&&!Cwt(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=yo(t[i]));else return t;return e}var GB=t=>/^\w*$/.test(t),Ma=t=>t===void 0,QZ=t=>Array.isArray(t)?t.filter(Boolean):[],JZ=t=>QZ(t.replace(/["|']|\]/g,"").split(/\.|\[/)),hr=(t,e,r)=>{if(!e||!Sa(t))return r;const n=(GB(e)?[e]:JZ(e)).reduce((i,s)=>dc(i)?i:i[s],t);return Ma(n)||n===t?Ma(t[e])?r:t[e]:n},Ap=t=>typeof t=="boolean",Hi=(t,e,r)=>{let n=-1;const i=GB(e)?[e]:JZ(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const c=t[o];l=Sa(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const Dle={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},vf={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qm={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},kwt=Ae.createContext(null);kwt.displayName="HookFormContext";var Pwt=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==vf.all&&(e._proxyFormState[a]=!n||vf.all),t[a]}});return i};const Nwt=typeof window<"u"?Ae.useLayoutEffect:Ae.useEffect;var am=t=>typeof t=="string",Iwt=(t,e,r,n,i)=>am(t)?(n&&e.watch.add(t),hr(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),hr(r,s))):(n&&(e.watchAll=!0),r),yW=t=>dc(t)||!lAe(t);function Zv(t,e,r=new WeakSet){if(yW(t)||yW(e))return t===e;if(yb(t)&&yb(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(yb(a)&&yb(o)||Sa(a)&&Sa(o)||Array.isArray(a)&&Array.isArray(o)?!Zv(a,o,r):a!==o)return!1}}return!0}var cAe=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},cP=t=>Array.isArray(t)?t:[t],Mle=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Kc=t=>Sa(t)&&!Object.keys(t).length,eQ=t=>t.type==="file",yf=t=>typeof t=="function",vL=t=>{if(!ZZ)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},uAe=t=>t.type==="select-multiple",tQ=t=>t.type==="radio",Owt=t=>tQ(t)||cR(t),D9=t=>vL(t)&&t.isConnected;function Rwt(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Ma(t)?n++:t[e[n++]];return t}function Dwt(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ma(t[e]))return!1;return!0}function ka(t,e){const r=Array.isArray(e)?e:GB(e)?[e]:JZ(e),n=r.length===1?t:Rwt(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Sa(n)&&Kc(n)||Array.isArray(n)&&Dwt(n))&&ka(t,r.slice(0,-1)),t}var dAe=t=>{for(const e in t)if(yf(t[e]))return!0;return!1};function yL(t,e={}){const r=Array.isArray(t);if(Sa(t)||r)for(const n in t)Array.isArray(t[n])||Sa(t[n])&&!dAe(t[n])?(e[n]=Array.isArray(t[n])?[]:{},yL(t[n],e[n])):dc(t[n])||(e[n]=!0);return e}function hAe(t,e,r){const n=Array.isArray(t);if(Sa(t)||n)for(const i in t)Array.isArray(t[i])||Sa(t[i])&&!dAe(t[i])?Ma(e)||yW(r[i])?r[i]=Array.isArray(t[i])?yL(t[i],[]):{...yL(t[i])}:hAe(t[i],dc(e)?{}:e[i],r[i]):r[i]=!Zv(t[i],e[i]);return r}var Rk=(t,e)=>hAe(t,e,yL(e));const Fle={value:!1,isValid:!1},jle={value:!0,isValid:!0};var fAe=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ma(t[0].attributes.value)?Ma(t[0].value)||t[0].value===""?jle:{value:t[0].value,isValid:!0}:jle:Fle}return Fle},pAe=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Ma(t)?t:e?t===""?NaN:t&&+t:r&&am(t)?new Date(t):n?n(t):t;const Lle={isValid:!1,value:null};var mAe=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Lle):Lle;function Ble(t){const e=t.ref;return eQ(e)?e.files:tQ(e)?mAe(t.refs).value:uAe(e)?[...e.selectedOptions].map(({value:r})=>r):cR(e)?fAe(t.refs).value:pAe(Ma(e.value)?t.ref.value:e.value,t)}var Mwt=(t,e,r,n)=>{const i={};for(const s of t){const a=hr(e,s);a&&Hi(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},xL=t=>t instanceof RegExp,Dk=t=>Ma(t)?t:xL(t)?t.source:Sa(t)?xL(t.value)?t.value.source:t.value:t,$le=t=>({isOnSubmit:!t||t===vf.onSubmit,isOnBlur:t===vf.onBlur,isOnChange:t===vf.onChange,isOnAll:t===vf.all,isOnTouch:t===vf.onTouched});const Vle="AsyncFunction";var Fwt=t=>!!t&&!!t.validate&&!!(yf(t.validate)&&t.validate.constructor.name===Vle||Sa(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Vle)),jwt=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Ule=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const uP=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=hr(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(uP(o,e))break}else if(Sa(o)&&uP(o,e))break}}};function zle(t,e,r){const n=hr(t,r);if(n||GB(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=hr(e,s),o=hr(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var Lwt=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Kc(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||vf.all))},Bwt=(t,e,r)=>!t||!e||t===e||cP(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),$wt=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Vwt=(t,e)=>!QZ(hr(t,e)).length&&ka(t,e),Uwt=(t,e,r)=>{const n=cP(hr(t,r));return Hi(n,"root",e[r]),Hi(t,r,n),t},mM=t=>am(t);function Hle(t,e,r="validate"){if(mM(t)||Array.isArray(t)&&t.every(mM)||Ap(t)&&!t)return{type:r,message:mM(t)?t:"",ref:e}}var U2=t=>Sa(t)&&!xL(t)?t:{value:t,message:""},Wle=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:g,name:m,valueAsNumber:v,mount:x}=t._f,w=hr(r,m);if(!x||e.has(m))return{};const b=o?o[0]:a,_=I=>{i&&b.reportValidity&&(b.setCustomValidity(Ap(I)?"":I||""),b.reportValidity())},S={},T=tQ(a),E=cR(a),C=T||E,N=(v||eQ(a))&&Ma(a.value)&&Ma(w)||vL(a)&&a.value===""||w===""||Array.isArray(w)&&!w.length,F=cAe.bind(null,m,n,S),A=(I,M,U,Y=Qm.maxLength,X=Qm.minLength)=>{const W=I?M:U;S[m]={type:I?Y:X,message:W,ref:a,...F(I?Y:X,W)}};if(s?!Array.isArray(w)||!w.length:l&&(!C&&(N||dc(w))||Ap(w)&&!w||E&&!fAe(o).isValid||T&&!mAe(o).isValid)){const{value:I,message:M}=mM(l)?{value:!!l,message:l}:U2(l);if(I&&(S[m]={type:Qm.required,message:M,ref:b,...F(Qm.required,M)},!n))return _(M),S}if(!N&&(!dc(d)||!dc(h))){let I,M;const U=U2(h),Y=U2(d);if(!dc(w)&&!isNaN(w)){const X=a.valueAsNumber||w&&+w;dc(U.value)||(I=X>U.value),dc(Y.value)||(M=X<Y.value)}else{const X=a.valueAsDate||new Date(w),W=re=>new Date(new Date().toDateString()+" "+re),G=a.type=="time",B=a.type=="week";am(U.value)&&w&&(I=G?W(w)>W(U.value):B?w>U.value:X>new Date(U.value)),am(Y.value)&&w&&(M=G?W(w)<W(Y.value):B?w<Y.value:X<new Date(Y.value))}if((I||M)&&(A(!!I,U.message,Y.message,Qm.max,Qm.min),!n))return _(S[m].message),S}if((c||u)&&!N&&(am(w)||s&&Array.isArray(w))){const I=U2(c),M=U2(u),U=!dc(I.value)&&w.length>+I.value,Y=!dc(M.value)&&w.length<+M.value;if((U||Y)&&(A(U,I.message,M.message),!n))return _(S[m].message),S}if(f&&!N&&am(w)){const{value:I,message:M}=U2(f);if(xL(I)&&!w.match(I)&&(S[m]={type:Qm.pattern,message:M,ref:a,...F(Qm.pattern,M)},!n))return _(M),S}if(g){if(yf(g)){const I=await g(w,r),M=Hle(I,b);if(M&&(S[m]={...M,...F(Qm.validate,M.message)},!n))return _(M.message),S}else if(Sa(g)){let I={};for(const M in g){if(!Kc(I)&&!n)break;const U=Hle(await g[M](w,r),b,M);U&&(I={...U,...F(M,U.message)},_(U.message),n&&(S[m]=I))}if(!Kc(I)&&(S[m]={ref:b,...I},!n))return S}}return _(!0),S};const zwt={mode:vf.onSubmit,reValidateMode:vf.onChange,shouldFocusError:!0};function Hwt(t={}){let e={...zwt,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:yf(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Sa(e.defaultValues)||Sa(e.values)?yo(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:yo(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const h={array:Mle(),state:Mle()},f=e.criteriaMode===vf.all,g=be=>Pe=>{clearTimeout(c),c=setTimeout(be,Pe)},m=async be=>{if(!e.disabled&&(u.isValid||d.isValid||be)){const Pe=e.resolver?Kc((await E()).errors):await N(n,!0);Pe!==r.isValid&&h.state.next({isValid:Pe})}},v=(be,Pe)=>{!e.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((be||Array.from(o.mount)).forEach(De=>{De&&(Pe?Hi(r.validatingFields,De,Pe):ka(r.validatingFields,De))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Kc(r.validatingFields)}))},x=(be,Pe=[],De,Je,it=!0,rt=!0)=>{if(Je&&De&&!e.disabled){if(a.action=!0,rt&&Array.isArray(hr(n,be))){const st=De(hr(n,be),Je.argA,Je.argB);it&&Hi(n,be,st)}if(rt&&Array.isArray(hr(r.errors,be))){const st=De(hr(r.errors,be),Je.argA,Je.argB);it&&Hi(r.errors,be,st),Vwt(r.errors,be)}if((u.touchedFields||d.touchedFields)&&rt&&Array.isArray(hr(r.touchedFields,be))){const st=De(hr(r.touchedFields,be),Je.argA,Je.argB);it&&Hi(r.touchedFields,be,st)}(u.dirtyFields||d.dirtyFields)&&(r.dirtyFields=Rk(i,s)),h.state.next({name:be,isDirty:A(be,Pe),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Hi(s,be,Pe)},w=(be,Pe)=>{Hi(r.errors,be,Pe),h.state.next({errors:r.errors})},b=be=>{r.errors=be,h.state.next({errors:r.errors,isValid:!1})},_=(be,Pe,De,Je)=>{const it=hr(n,be);if(it){const rt=hr(s,be,Ma(De)?hr(i,be):De);Ma(rt)||Je&&Je.defaultChecked||Pe?Hi(s,be,Pe?rt:Ble(it._f)):U(be,rt),a.mount&&m()}},S=(be,Pe,De,Je,it)=>{let rt=!1,st=!1;const Dt={name:be};if(!e.disabled){if(!De||Je){(u.isDirty||d.isDirty)&&(st=r.isDirty,r.isDirty=Dt.isDirty=A(),rt=st!==Dt.isDirty);const kt=Zv(hr(i,be),Pe);st=!!hr(r.dirtyFields,be),kt?ka(r.dirtyFields,be):Hi(r.dirtyFields,be,!0),Dt.dirtyFields=r.dirtyFields,rt=rt||(u.dirtyFields||d.dirtyFields)&&st!==!kt}if(De){const kt=hr(r.touchedFields,be);kt||(Hi(r.touchedFields,be,De),Dt.touchedFields=r.touchedFields,rt=rt||(u.touchedFields||d.touchedFields)&&kt!==De)}rt&&it&&h.state.next(Dt)}return rt?Dt:{}},T=(be,Pe,De,Je)=>{const it=hr(r.errors,be),rt=(u.isValid||d.isValid)&&Ap(Pe)&&r.isValid!==Pe;if(e.delayError&&De?(l=g(()=>w(be,De)),l(e.delayError)):(clearTimeout(c),l=null,De?Hi(r.errors,be,De):ka(r.errors,be)),(De?!Zv(it,De):it)||!Kc(Je)||rt){const st={...Je,...rt&&Ap(Pe)?{isValid:Pe}:{},errors:r.errors,name:be};r={...r,...st},h.state.next(st)}},E=async be=>{v(be,!0);const Pe=await e.resolver(s,e.context,Mwt(be||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return v(be),Pe},C=async be=>{const{errors:Pe}=await E(be);if(be)for(const De of be){const Je=hr(Pe,De);Je?Hi(r.errors,De,Je):ka(r.errors,De)}else r.errors=Pe;return Pe},N=async(be,Pe,De={valid:!0})=>{for(const Je in be){const it=be[Je];if(it){const{_f:rt,...st}=it;if(rt){const Dt=o.array.has(rt.name),kt=it._f&&Fwt(it._f);kt&&u.validatingFields&&v([Je],!0);const Nt=await Wle(it,o.disabled,s,f,e.shouldUseNativeValidation&&!Pe,Dt);if(kt&&u.validatingFields&&v([Je]),Nt[rt.name]&&(De.valid=!1,Pe))break;!Pe&&(hr(Nt,rt.name)?Dt?Uwt(r.errors,Nt,rt.name):Hi(r.errors,rt.name,Nt[rt.name]):ka(r.errors,rt.name))}!Kc(st)&&await N(st,Pe,De)}}return De.valid},F=()=>{for(const be of o.unMount){const Pe=hr(n,be);Pe&&(Pe._f.refs?Pe._f.refs.every(De=>!D9(De)):!D9(Pe._f.ref))&&J(be)}o.unMount=new Set},A=(be,Pe)=>!e.disabled&&(be&&Pe&&Hi(s,be,Pe),!Zv(re(),i)),I=(be,Pe,De)=>Iwt(be,o,{...a.mount?s:Ma(Pe)?i:am(be)?{[be]:Pe}:Pe},De,Pe),M=be=>QZ(hr(a.mount?s:i,be,e.shouldUnregister?hr(i,be,[]):[])),U=(be,Pe,De={})=>{const Je=hr(n,be);let it=Pe;if(Je){const rt=Je._f;rt&&(!rt.disabled&&Hi(s,be,pAe(Pe,rt)),it=vL(rt.ref)&&dc(Pe)?"":Pe,uAe(rt.ref)?[...rt.ref.options].forEach(st=>st.selected=it.includes(st.value)):rt.refs?cR(rt.ref)?rt.refs.forEach(st=>{(!st.defaultChecked||!st.disabled)&&(Array.isArray(it)?st.checked=!!it.find(Dt=>Dt===st.value):st.checked=it===st.value||!!it)}):rt.refs.forEach(st=>st.checked=st.value===it):eQ(rt.ref)?rt.ref.value="":(rt.ref.value=it,rt.ref.type||h.state.next({name:be,values:yo(s)})))}(De.shouldDirty||De.shouldTouch)&&S(be,it,De.shouldTouch,De.shouldDirty,!0),De.shouldValidate&&B(be)},Y=(be,Pe,De)=>{for(const Je in Pe){if(!Pe.hasOwnProperty(Je))return;const it=Pe[Je],rt=be+"."+Je,st=hr(n,rt);(o.array.has(be)||Sa(it)||st&&!st._f)&&!yb(it)?Y(rt,it,De):U(rt,it,De)}},X=(be,Pe,De={})=>{const Je=hr(n,be),it=o.array.has(be),rt=yo(Pe);Hi(s,be,rt),it?(h.array.next({name:be,values:yo(s)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&De.shouldDirty&&h.state.next({name:be,dirtyFields:Rk(i,s),isDirty:A(be,rt)})):Je&&!Je._f&&!dc(rt)?Y(be,rt,De):U(be,rt,De),Ule(be,o)&&h.state.next({...r,name:be}),h.state.next({name:a.mount?be:void 0,values:yo(s)})},W=async be=>{a.mount=!0;const Pe=be.target;let De=Pe.name,Je=!0;const it=hr(n,De),rt=kt=>{Je=Number.isNaN(kt)||yb(kt)&&isNaN(kt.getTime())||Zv(kt,hr(s,De,kt))},st=$le(e.mode),Dt=$le(e.reValidateMode);if(it){let kt,Nt;const At=Pe.type?Ble(it._f):Awt(be),Tt=be.type===Dle.BLUR||be.type===Dle.FOCUS_OUT,Ur=!jwt(it._f)&&!e.resolver&&!hr(r.errors,De)&&!it._f.deps||$wt(Tt,hr(r.touchedFields,De),r.isSubmitted,Dt,st),Yt=Ule(De,o,Tt);Hi(s,De,At),Tt?(it._f.onBlur&&it._f.onBlur(be),l&&l(0)):it._f.onChange&&it._f.onChange(be);const sr=S(De,At,Tt),Cr=!Kc(sr)||Yt;if(!Tt&&h.state.next({name:De,type:be.type,values:yo(s)}),Ur)return(u.isValid||d.isValid)&&(e.mode==="onBlur"?Tt&&m():Tt||m()),Cr&&h.state.next({name:De,...Yt?{}:sr});if(!Tt&&Yt&&h.state.next({...r}),e.resolver){const{errors:jr}=await E([De]);if(rt(At),Je){const Ne=zle(r.errors,n,De),Gt=zle(jr,n,Ne.name||De);kt=Gt.error,De=Gt.name,Nt=Kc(jr)}}else v([De],!0),kt=(await Wle(it,o.disabled,s,f,e.shouldUseNativeValidation))[De],v([De]),rt(At),Je&&(kt?Nt=!1:(u.isValid||d.isValid)&&(Nt=await N(n,!0)));Je&&(it._f.deps&&B(it._f.deps),T(De,Nt,kt,sr))}},G=(be,Pe)=>{if(hr(r.errors,Pe)&&be.focus)return be.focus(),1},B=async(be,Pe={})=>{let De,Je;const it=cP(be);if(e.resolver){const rt=await C(Ma(be)?be:it);De=Kc(rt),Je=be?!it.some(st=>hr(rt,st)):De}else be?(Je=(await Promise.all(it.map(async rt=>{const st=hr(n,rt);return await N(st&&st._f?{[rt]:st}:st)}))).every(Boolean),!(!Je&&!r.isValid)&&m()):Je=De=await N(n);return h.state.next({...!am(be)||(u.isValid||d.isValid)&&De!==r.isValid?{}:{name:be},...e.resolver||!be?{isValid:De}:{},errors:r.errors}),Pe.shouldFocus&&!Je&&uP(n,G,be?it:o.mount),Je},re=be=>{const Pe={...a.mount?s:i};return Ma(be)?Pe:am(be)?hr(Pe,be):be.map(De=>hr(Pe,De))},ae=(be,Pe)=>({invalid:!!hr((Pe||r).errors,be),isDirty:!!hr((Pe||r).dirtyFields,be),error:hr((Pe||r).errors,be),isValidating:!!hr(r.validatingFields,be),isTouched:!!hr((Pe||r).touchedFields,be)}),R=be=>{be&&cP(be).forEach(Pe=>ka(r.errors,Pe)),h.state.next({errors:be?r.errors:{}})},j=(be,Pe,De)=>{const Je=(hr(n,be,{_f:{}})._f||{}).ref,it=hr(r.errors,be)||{},{ref:rt,message:st,type:Dt,...kt}=it;Hi(r.errors,be,{...kt,...Pe,ref:Je}),h.state.next({name:be,errors:r.errors,isValid:!1}),De&&De.shouldFocus&&Je&&Je.focus&&Je.focus()},V=(be,Pe)=>yf(be)?h.state.subscribe({next:De=>"values"in De&&be(I(void 0,Pe),De)}):I(be,Pe,!0),K=be=>h.state.subscribe({next:Pe=>{Bwt(be.name,Pe.name,be.exact)&&Lwt(Pe,be.formState||u,Ye,be.reRenderRoot)&&be.callback({values:{...s},...r,...Pe,defaultValues:i})}}).unsubscribe,ne=be=>(a.mount=!0,d={...d,...be.formState},K({...be,formState:d})),J=(be,Pe={})=>{for(const De of be?cP(be):o.mount)o.mount.delete(De),o.array.delete(De),Pe.keepValue||(ka(n,De),ka(s,De)),!Pe.keepError&&ka(r.errors,De),!Pe.keepDirty&&ka(r.dirtyFields,De),!Pe.keepTouched&&ka(r.touchedFields,De),!Pe.keepIsValidating&&ka(r.validatingFields,De),!e.shouldUnregister&&!Pe.keepDefaultValue&&ka(i,De);h.state.next({values:yo(s)}),h.state.next({...r,...Pe.keepDirty?{isDirty:A()}:{}}),!Pe.keepIsValid&&m()},me=({disabled:be,name:Pe})=>{(Ap(be)&&a.mount||be||o.disabled.has(Pe))&&(be?o.disabled.add(Pe):o.disabled.delete(Pe))},ce=(be,Pe={})=>{let De=hr(n,be);const Je=Ap(Pe.disabled)||Ap(e.disabled);return Hi(n,be,{...De||{},_f:{...De&&De._f?De._f:{ref:{name:be}},name:be,mount:!0,...Pe}}),o.mount.add(be),De?me({disabled:Ap(Pe.disabled)?Pe.disabled:e.disabled,name:be}):_(be,!0,Pe.value),{...Je?{disabled:Pe.disabled||e.disabled}:{},...e.progressive?{required:!!Pe.required,min:Dk(Pe.min),max:Dk(Pe.max),minLength:Dk(Pe.minLength),maxLength:Dk(Pe.maxLength),pattern:Dk(Pe.pattern)}:{},name:be,onChange:W,onBlur:W,ref:it=>{if(it){ce(be,Pe),De=hr(n,be);const rt=Ma(it.value)&&it.querySelectorAll&&it.querySelectorAll("input,select,textarea")[0]||it,st=Owt(rt),Dt=De._f.refs||[];if(st?Dt.find(kt=>kt===rt):rt===De._f.ref)return;Hi(n,be,{_f:{...De._f,...st?{refs:[...Dt.filter(D9),rt,...Array.isArray(hr(i,be))?[{}]:[]],ref:{type:rt.type,name:be}}:{ref:rt}}}),_(be,!1,void 0,rt)}else De=hr(n,be,{}),De._f&&(De._f.mount=!1),(e.shouldUnregister||Pe.shouldUnregister)&&!(Twt(o.array,be)&&a.action)&&o.unMount.add(be)}}},he=()=>e.shouldFocusError&&uP(n,G,o.mount),_e=be=>{Ap(be)&&(h.state.next({disabled:be}),uP(n,(Pe,De)=>{const Je=hr(n,De);Je&&(Pe.disabled=Je._f.disabled||be,Array.isArray(Je._f.refs)&&Je._f.refs.forEach(it=>{it.disabled=Je._f.disabled||be}))},0,!1))},ee=(be,Pe)=>async De=>{let Je;De&&(De.preventDefault&&De.preventDefault(),De.persist&&De.persist());let it=yo(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:rt,values:st}=await E();r.errors=rt,it=yo(st)}else await N(n);if(o.disabled.size)for(const rt of o.disabled)ka(it,rt);if(ka(r.errors,"root"),Kc(r.errors)){h.state.next({errors:{}});try{await be(it,De)}catch(rt){Je=rt}}else Pe&&await Pe({...r.errors},De),he(),setTimeout(he);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Kc(r.errors)&&!Je,submitCount:r.submitCount+1,errors:r.errors}),Je)throw Je},je=(be,Pe={})=>{hr(n,be)&&(Ma(Pe.defaultValue)?X(be,yo(hr(i,be))):(X(be,Pe.defaultValue),Hi(i,be,yo(Pe.defaultValue))),Pe.keepTouched||ka(r.touchedFields,be),Pe.keepDirty||(ka(r.dirtyFields,be),r.isDirty=Pe.defaultValue?A(be,yo(hr(i,be))):A()),Pe.keepError||(ka(r.errors,be),u.isValid&&m()),h.state.next({...r}))},Ue=(be,Pe={})=>{const De=be?yo(be):i,Je=yo(De),it=Kc(be),rt=it?i:Je;if(Pe.keepDefaultValues||(i=De),!Pe.keepValues){if(Pe.keepDirtyValues){const st=new Set([...o.mount,...Object.keys(Rk(i,s))]);for(const Dt of Array.from(st))hr(r.dirtyFields,Dt)?Hi(rt,Dt,hr(s,Dt)):X(Dt,hr(rt,Dt))}else{if(ZZ&&Ma(be))for(const st of o.mount){const Dt=hr(n,st);if(Dt&&Dt._f){const kt=Array.isArray(Dt._f.refs)?Dt._f.refs[0]:Dt._f.ref;if(vL(kt)){const Nt=kt.closest("form");if(Nt){Nt.reset();break}}}}if(Pe.keepFieldsRef)for(const st of o.mount)X(st,hr(rt,st));else n={}}s=e.shouldUnregister?Pe.keepDefaultValues?yo(i):{}:yo(rt),h.array.next({values:{...rt}}),h.state.next({values:{...rt}})}o={mount:Pe.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!u.isValid||!!Pe.keepIsValid||!!Pe.keepDirtyValues,a.watch=!!e.shouldUnregister,h.state.next({submitCount:Pe.keepSubmitCount?r.submitCount:0,isDirty:it?!1:Pe.keepDirty?r.isDirty:!!(Pe.keepDefaultValues&&!Zv(be,i)),isSubmitted:Pe.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:it?{}:Pe.keepDirtyValues?Pe.keepDefaultValues&&s?Rk(i,s):r.dirtyFields:Pe.keepDefaultValues&&be?Rk(i,be):Pe.keepDirty?r.dirtyFields:{},touchedFields:Pe.keepTouched?r.touchedFields:{},errors:Pe.keepErrors?r.errors:{},isSubmitSuccessful:Pe.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},pe=(be,Pe)=>Ue(yf(be)?be(s):be,Pe),Me=(be,Pe={})=>{const De=hr(n,be),Je=De&&De._f;if(Je){const it=Je.refs?Je.refs[0]:Je.ref;it.focus&&(it.focus(),Pe.shouldSelect&&yf(it.select)&&it.select())}},Ye=be=>{r={...r,...be}},Ke={control:{register:ce,unregister:J,getFieldState:ae,handleSubmit:ee,setError:j,_subscribe:K,_runSchema:E,_focusError:he,_getWatch:I,_getDirty:A,_setValid:m,_setFieldArray:x,_setDisabledField:me,_setErrors:b,_getFieldArray:M,_reset:Ue,_resetDefaultValues:()=>yf(e.defaultValues)&&e.defaultValues().then(be=>{pe(be,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:F,_disableForm:_e,_subjects:h,_proxyFormState:u,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(be){a=be},get _defaultValues(){return i},get _names(){return o},set _names(be){o=be},get _formState(){return r},get _options(){return e},set _options(be){e={...e,...be}}},subscribe:ne,trigger:B,register:ce,handleSubmit:ee,watch:V,setValue:X,getValues:re,reset:pe,resetField:je,clearErrors:R,unregister:J,setError:j,setFocus:Me,getFieldState:ae};return{...Ke,formControl:Ke}}function rQ(t={}){const e=Ae.useRef(void 0),r=Ae.useRef(void 0),[n,i]=Ae.useState({isDirty:!1,isValidating:!1,isLoading:yf(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:yf(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!yf(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=Hwt(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,Nwt(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Ae.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ae.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Ae.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Ae.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Ae.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Ae.useEffect(()=>{t.values&&!Zv(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),Ae.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=Pwt(n,s),e.current}const qle=(t,e,r)=>{if(t&&"reportValidity"in t){const n=hr(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},gAe=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?qle(n.ref,r,t):n.refs&&n.refs.forEach(i=>qle(i,r,t))}},Wwt=(t,e)=>{e.shouldUseNativeValidation&&gAe(t,e);const r={};for(const n in t){const i=hr(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(qwt(e.names||Object.keys(t),n)){const a=Object.assign({},hr(r,n));Hi(a,"root",s),Hi(r,n,a)}else Hi(r,n,s)}return r},qwt=(t,e)=>t.some(r=>r.startsWith(e+"."));var Gwt=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,s=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[a]={message:o.message,type:o.code}}else r[a]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return t.push(d)})}),e){var l=r[a].types,c=l&&l[n.code];r[a]=cAe(a,e,r,i,c?[].concat(c,n.message):n.message)}t.shift()}return r},nQ=function(t,e,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(a,o){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(c){return s.shouldUseNativeValidation&&gAe({},s),{errors:{},values:r.raw?n:c}})}catch(c){return o(c)}return l&&l.then?l.then(void 0,o):l}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:Wwt(Gwt(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}},ni;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(ni||(ni={}));var Gle;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Gle||(Gle={}));const vr=ni.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Hv=t=>{switch(typeof t){case"undefined":return vr.undefined;case"string":return vr.string;case"number":return Number.isNaN(t)?vr.nan:vr.number;case"boolean":return vr.boolean;case"function":return vr.function;case"bigint":return vr.bigint;case"symbol":return vr.symbol;case"object":return Array.isArray(t)?vr.array:t===null?vr.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?vr.promise:typeof Map<"u"&&t instanceof Map?vr.map:typeof Set<"u"&&t instanceof Set?vr.set:typeof Date<"u"&&t instanceof Date?vr.date:vr.object;default:return vr.unknown}},Mt=ni.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class zg extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(a))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),n}static assert(e){if(!(e instanceof zg))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ni.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}zg.create=t=>new zg(t);const xW=(t,e)=>{let r;switch(t.code){case Mt.invalid_type:t.received===vr.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Mt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ni.jsonStringifyReplacer)}`;break;case Mt.unrecognized_keys:r=`Unrecognized key(s) in object: ${ni.joinValues(t.keys,", ")}`;break;case Mt.invalid_union:r="Invalid input";break;case Mt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ni.joinValues(t.options)}`;break;case Mt.invalid_enum_value:r=`Invalid enum value. Expected ${ni.joinValues(t.options)}, received '${t.received}'`;break;case Mt.invalid_arguments:r="Invalid function arguments";break;case Mt.invalid_return_type:r="Invalid function return type";break;case Mt.invalid_date:r="Invalid date";break;case Mt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ni.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Mt.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Mt.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Mt.custom:r="Invalid input";break;case Mt.invalid_intersection_types:r="Intersection results could not be merged";break;case Mt.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Mt.not_finite:r="Number must be finite";break;default:r=e.defaultError,ni.assertNever(t)}return{message:r}};let Kwt=xW;function Ywt(){return Kwt}const Xwt=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)o=c(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}};function rr(t,e){const r=Ywt(),n=Xwt({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===xW?void 0:xW].filter(i=>!!i)});t.common.issues.push(n)}class yd{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Jr;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const s=await i.key,a=await i.value;n.push({key:s,value:a})}return yd.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return Jr;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[s.value]=a.value)}return{status:e.value,value:n}}}const Jr=Object.freeze({status:"aborted"}),l5=t=>({status:"dirty",value:t}),Oh=t=>({status:"valid",value:t}),Kle=t=>t.status==="aborted",Yle=t=>t.status==="dirty",HT=t=>t.status==="valid",bL=t=>typeof Promise<"u"&&t instanceof Promise;var Ar;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ar||(Ar={}));class Wy{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Xle=(t,e)=>{if(HT(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new zg(t.common.issues);return this._error=r,this._error}}};function En(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{const{message:l}=t;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:i}}class Jn{get description(){return this._def.description}_getType(e){return Hv(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Hv(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new yd,ctx:{common:e.parent.common,data:e.data,parsedType:Hv(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(bL(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hv(e)},i=this._parseSync({data:e,path:n.path,parent:n});return Xle(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hv(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:r});return HT(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(i=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(s=>HT(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hv(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(bL(i)?i:Promise.resolve(i));return Xle(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:Mt.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new qT({schema:this,typeName:tn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Cy.create(this,this._def)}nullable(){return GT.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xm.create(this)}promise(){return AL.create(this,this._def)}or(e){return _L.create([this,e],this._def)}and(e){return SL.create(this,e,this._def)}transform(e){return new qT({...En(this._def),schema:this,typeName:tn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new wW({...En(this._def),innerType:this,defaultValue:r,typeName:tn.ZodDefault})}brand(){return new x_t({typeName:tn.ZodBranded,type:this,...En(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new _W({...En(this._def),innerType:this,catchValue:r,typeName:tn.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return iQ.create(this,e)}readonly(){return SW.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Zwt=/^c[^\s-]{8,}$/i,Qwt=/^[0-9a-z]+$/,Jwt=/^[0-9A-HJKMNP-TV-Z]{26}$/i,e_t=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,t_t=/^[a-z0-9_-]{21}$/i,r_t=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,n_t=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,i_t=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,s_t="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let M9;const a_t=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,o_t=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,l_t=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,c_t=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,u_t=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,d_t=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,vAe="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",h_t=new RegExp(`^${vAe}$`);function yAe(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function f_t(t){return new RegExp(`^${yAe(t)}$`)}function p_t(t){let e=`${vAe}T${yAe(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function m_t(t,e){return!!((e==="v4"||!e)&&a_t.test(t)||(e==="v6"||!e)&&l_t.test(t))}function g_t(t,e){if(!r_t.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function v_t(t,e){return!!((e==="v4"||!e)&&o_t.test(t)||(e==="v6"||!e)&&c_t.test(t))}class ry extends Jn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==vr.string){const s=this._getOrReturnCtx(e);return rr(s,{code:Mt.invalid_type,expected:vr.string,received:s.parsedType}),Jr}const n=new yd;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),rr(i,{code:Mt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),rr(i,{code:Mt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?rr(i,{code:Mt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&rr(i,{code:Mt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")i_t.test(e.data)||(i=this._getOrReturnCtx(e,i),rr(i,{validation:"email",code:Mt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")M9||(M9=new RegExp(s_t,"u")),M9.test(e.data)||(i=this._getOrReturnCtx(e,i),rr(i,{validation:"emoji",code:Mt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")e_t.test(e.data)||(i=this._getOrReturnCtx(e,i),rr(i,{validation:"uuid",code:Mt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")t_t.test(e.data)||(i=this._getOrReturnCtx(e,i),rr(i,{validation:"nanoid",code:Mt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Zwt.test(e.data)||(i=this._getOrReturnCtx(e,i),rr(i,{validation:"cuid",code:Mt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Qwt.test(e.data)||(i=this._getOrReturnCtx(e,i),rr(i,{validation:"cuid2",code:Mt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Jwt.test(e.data)||(i=this._getOrReturnCtx(e,i),rr(i,{validation:"ulid",code:Mt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),rr(i,{validation:"url",code:Mt.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),rr(i,{validation:"regex",code:Mt.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),rr(i,{code:Mt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),rr(i,{code:Mt.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),rr(i,{code:Mt.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?p_t(s).test(e.data)||(i=this._getOrReturnCtx(e,i),rr(i,{code:Mt.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?h_t.test(e.data)||(i=this._getOrReturnCtx(e,i),rr(i,{code:Mt.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?f_t(s).test(e.data)||(i=this._getOrReturnCtx(e,i),rr(i,{code:Mt.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?n_t.test(e.data)||(i=this._getOrReturnCtx(e,i),rr(i,{validation:"duration",code:Mt.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?m_t(e.data,s.version)||(i=this._getOrReturnCtx(e,i),rr(i,{validation:"ip",code:Mt.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?g_t(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),rr(i,{validation:"jwt",code:Mt.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?v_t(e.data,s.version)||(i=this._getOrReturnCtx(e,i),rr(i,{validation:"cidr",code:Mt.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?u_t.test(e.data)||(i=this._getOrReturnCtx(e,i),rr(i,{validation:"base64",code:Mt.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?d_t.test(e.data)||(i=this._getOrReturnCtx(e,i),rr(i,{validation:"base64url",code:Mt.invalid_string,message:s.message}),n.dirty()):ni.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Mt.invalid_string,...Ar.errToObj(n)})}_addCheck(e){return new ry({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ar.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ar.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ar.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ar.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ar.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ar.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ar.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ar.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ar.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ar.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ar.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ar.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ar.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ar.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ar.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ar.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ar.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Ar.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ar.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ar.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ar.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ar.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ar.errToObj(r)})}nonempty(e){return this.min(1,Ar.errToObj(e))}trim(){return new ry({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ry({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ry({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ry.create=t=>new ry({checks:[],typeName:tn.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...En(t)});function y_t(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class YN extends Jn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==vr.number){const s=this._getOrReturnCtx(e);return rr(s,{code:Mt.invalid_type,expected:vr.number,received:s.parsedType}),Jr}let n;const i=new yd;for(const s of this._def.checks)s.kind==="int"?ni.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),rr(n,{code:Mt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),rr(n,{code:Mt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),rr(n,{code:Mt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?y_t(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),rr(n,{code:Mt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),rr(n,{code:Mt.not_finite,message:s.message}),i.dirty()):ni.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ar.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ar.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ar.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ar.toString(r))}setLimit(e,r,n,i){return new YN({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ar.toString(i)}]})}_addCheck(e){return new YN({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ar.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ar.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ar.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ar.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ar.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ar.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ar.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ar.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ar.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ni.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}YN.create=t=>new YN({checks:[],typeName:tn.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...En(t)});class XN extends Jn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==vr.bigint)return this._getInvalidInput(e);let n;const i=new yd;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),rr(n,{code:Mt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),rr(n,{code:Mt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),rr(n,{code:Mt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):ni.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return rr(r,{code:Mt.invalid_type,expected:vr.bigint,received:r.parsedType}),Jr}gte(e,r){return this.setLimit("min",e,!0,Ar.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ar.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ar.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ar.toString(r))}setLimit(e,r,n,i){return new XN({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ar.toString(i)}]})}_addCheck(e){return new XN({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ar.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ar.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ar.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ar.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ar.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}XN.create=t=>new XN({checks:[],typeName:tn.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...En(t)});class Zle extends Jn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==vr.boolean){const n=this._getOrReturnCtx(e);return rr(n,{code:Mt.invalid_type,expected:vr.boolean,received:n.parsedType}),Jr}return Oh(e.data)}}Zle.create=t=>new Zle({typeName:tn.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...En(t)});class wL extends Jn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==vr.date){const s=this._getOrReturnCtx(e);return rr(s,{code:Mt.invalid_type,expected:vr.date,received:s.parsedType}),Jr}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return rr(s,{code:Mt.invalid_date}),Jr}const n=new yd;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),rr(i,{code:Mt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),rr(i,{code:Mt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):ni.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new wL({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ar.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ar.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}wL.create=t=>new wL({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:tn.ZodDate,...En(t)});class Qle extends Jn{_parse(e){if(this._getType(e)!==vr.symbol){const n=this._getOrReturnCtx(e);return rr(n,{code:Mt.invalid_type,expected:vr.symbol,received:n.parsedType}),Jr}return Oh(e.data)}}Qle.create=t=>new Qle({typeName:tn.ZodSymbol,...En(t)});class Jle extends Jn{_parse(e){if(this._getType(e)!==vr.undefined){const n=this._getOrReturnCtx(e);return rr(n,{code:Mt.invalid_type,expected:vr.undefined,received:n.parsedType}),Jr}return Oh(e.data)}}Jle.create=t=>new Jle({typeName:tn.ZodUndefined,...En(t)});class ece extends Jn{_parse(e){if(this._getType(e)!==vr.null){const n=this._getOrReturnCtx(e);return rr(n,{code:Mt.invalid_type,expected:vr.null,received:n.parsedType}),Jr}return Oh(e.data)}}ece.create=t=>new ece({typeName:tn.ZodNull,...En(t)});class tce extends Jn{constructor(){super(...arguments),this._any=!0}_parse(e){return Oh(e.data)}}tce.create=t=>new tce({typeName:tn.ZodAny,...En(t)});class rce extends Jn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Oh(e.data)}}rce.create=t=>new rce({typeName:tn.ZodUnknown,...En(t)});class qy extends Jn{_parse(e){const r=this._getOrReturnCtx(e);return rr(r,{code:Mt.invalid_type,expected:vr.never,received:r.parsedType}),Jr}}qy.create=t=>new qy({typeName:tn.ZodNever,...En(t)});class nce extends Jn{_parse(e){if(this._getType(e)!==vr.undefined){const n=this._getOrReturnCtx(e);return rr(n,{code:Mt.invalid_type,expected:vr.void,received:n.parsedType}),Jr}return Oh(e.data)}}nce.create=t=>new nce({typeName:tn.ZodVoid,...En(t)});class xm extends Jn{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==vr.array)return rr(r,{code:Mt.invalid_type,expected:vr.array,received:r.parsedType}),Jr;if(i.exactLength!==null){const a=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(a||o)&&(rr(r,{code:a?Mt.too_big:Mt.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(rr(r,{code:Mt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(rr(r,{code:Mt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>i.type._parseAsync(new Wy(r,a,r.path,o)))).then(a=>yd.mergeArray(n,a));const s=[...r.data].map((a,o)=>i.type._parseSync(new Wy(r,a,r.path,o)));return yd.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new xm({...this._def,minLength:{value:e,message:Ar.toString(r)}})}max(e,r){return new xm({...this._def,maxLength:{value:e,message:Ar.toString(r)}})}length(e,r){return new xm({...this._def,exactLength:{value:e,message:Ar.toString(r)}})}nonempty(e){return this.min(1,e)}}xm.create=(t,e)=>new xm({type:t,minLength:null,maxLength:null,exactLength:null,typeName:tn.ZodArray,...En(e)});function nS(t){if(t instanceof Js){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Cy.create(nS(n))}return new Js({...t._def,shape:()=>e})}else return t instanceof xm?new xm({...t._def,type:nS(t.element)}):t instanceof Cy?Cy.create(nS(t.unwrap())):t instanceof GT?GT.create(nS(t.unwrap())):t instanceof C_?C_.create(t.items.map(e=>nS(e))):t}class Js extends Jn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ni.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==vr.object){const c=this._getOrReturnCtx(e);return rr(c,{code:Mt.invalid_type,expected:vr.object,received:c.parsedType}),Jr}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof qy&&this._def.unknownKeys==="strip"))for(const c in i.data)a.includes(c)||o.push(c);const l=[];for(const c of a){const u=s[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Wy(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof qy){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(rr(i,{code:Mt.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Wy(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>yd.mergeObjectSync(n,c)):yd.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return Ar.errToObj,new Js({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,a;const i=((a=(s=this._def).errorMap)==null?void 0:a.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ar.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Js({...this._def,unknownKeys:"strip"})}passthrough(){return new Js({...this._def,unknownKeys:"passthrough"})}extend(e){return new Js({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Js({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:tn.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Js({...this._def,catchall:e})}pick(e){const r={};for(const n of ni.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Js({...this._def,shape:()=>r})}omit(e){const r={};for(const n of ni.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Js({...this._def,shape:()=>r})}deepPartial(){return nS(this)}partial(e){const r={};for(const n of ni.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new Js({...this._def,shape:()=>r})}required(e){const r={};for(const n of ni.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Cy;)s=s._def.innerType;r[n]=s}return new Js({...this._def,shape:()=>r})}keyof(){return xAe(ni.objectKeys(this.shape))}}Js.create=(t,e)=>new Js({shape:()=>t,unknownKeys:"strip",catchall:qy.create(),typeName:tn.ZodObject,...En(e)});Js.strictCreate=(t,e)=>new Js({shape:()=>t,unknownKeys:"strict",catchall:qy.create(),typeName:tn.ZodObject,...En(e)});Js.lazycreate=(t,e)=>new Js({shape:t,unknownKeys:"strip",catchall:qy.create(),typeName:tn.ZodObject,...En(e)});class _L extends Jn{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new zg(o.ctx.common.issues));return rr(r,{code:Mt.invalid_union,unionErrors:a}),Jr}if(r.common.async)return Promise.all(n.map(async s=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(l=>new zg(l));return rr(r,{code:Mt.invalid_union,unionErrors:o}),Jr}}get options(){return this._def.options}}_L.create=(t,e)=>new _L({options:t,typeName:tn.ZodUnion,...En(e)});function bW(t,e){const r=Hv(t),n=Hv(e);if(t===e)return{valid:!0,data:t};if(r===vr.object&&n===vr.object){const i=ni.objectKeys(e),s=ni.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const l=bW(t[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(r===vr.array&&n===vr.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],l=bW(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===vr.date&&n===vr.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class SL extends Jn{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,a)=>{if(Kle(s)||Kle(a))return Jr;const o=bW(s.value,a.value);return o.valid?((Yle(s)||Yle(a))&&r.dirty(),{status:r.value,value:o.data}):(rr(n,{code:Mt.invalid_intersection_types}),Jr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}SL.create=(t,e,r)=>new SL({left:t,right:e,typeName:tn.ZodIntersection,...En(r)});class C_ extends Jn{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==vr.array)return rr(n,{code:Mt.invalid_type,expected:vr.array,received:n.parsedType}),Jr;if(n.data.length<this._def.items.length)return rr(n,{code:Mt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Jr;!this._def.rest&&n.data.length>this._def.items.length&&(rr(n,{code:Mt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Wy(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>yd.mergeArray(r,a)):yd.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new C_({...this._def,rest:e})}}C_.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new C_({items:t,typeName:tn.ZodTuple,rest:null,...En(e)})};class ice extends Jn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==vr.map)return rr(n,{code:Mt.invalid_type,expected:vr.map,received:n.parsedType}),Jr;const i=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([o,l],c)=>({key:i._parse(new Wy(n,o,n.path,[c,"key"])),value:s._parse(new Wy(n,l,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Jr;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of a){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Jr;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}}ice.create=(t,e,r)=>new ice({valueType:e,keyType:t,typeName:tn.ZodMap,...En(r)});class ZN extends Jn{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==vr.set)return rr(n,{code:Mt.invalid_type,expected:vr.set,received:n.parsedType}),Jr;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(rr(n,{code:Mt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(rr(n,{code:Mt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function a(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Jr;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((l,c)=>s._parse(new Wy(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,r){return new ZN({...this._def,minSize:{value:e,message:Ar.toString(r)}})}max(e,r){return new ZN({...this._def,maxSize:{value:e,message:Ar.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}ZN.create=(t,e)=>new ZN({valueType:t,minSize:null,maxSize:null,typeName:tn.ZodSet,...En(e)});class sce extends Jn{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}sce.create=(t,e)=>new sce({getter:t,typeName:tn.ZodLazy,...En(e)});class ace extends Jn{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return rr(r,{received:r.data,code:Mt.invalid_literal,expected:this._def.value}),Jr}return{status:"valid",value:e.data}}get value(){return this._def.value}}ace.create=(t,e)=>new ace({value:t,typeName:tn.ZodLiteral,...En(e)});function xAe(t,e){return new WT({values:t,typeName:tn.ZodEnum,...En(e)})}class WT extends Jn{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return rr(r,{expected:ni.joinValues(n),received:r.parsedType,code:Mt.invalid_type}),Jr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return rr(r,{received:r.data,code:Mt.invalid_enum_value,options:n}),Jr}return Oh(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return WT.create(e,{...this._def,...r})}exclude(e,r=this._def){return WT.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}WT.create=xAe;class oce extends Jn{_parse(e){const r=ni.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==vr.string&&n.parsedType!==vr.number){const i=ni.objectValues(r);return rr(n,{expected:ni.joinValues(i),received:n.parsedType,code:Mt.invalid_type}),Jr}if(this._cache||(this._cache=new Set(ni.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=ni.objectValues(r);return rr(n,{received:n.data,code:Mt.invalid_enum_value,options:i}),Jr}return Oh(e.data)}get enum(){return this._def.values}}oce.create=(t,e)=>new oce({values:t,typeName:tn.ZodNativeEnum,...En(e)});class AL extends Jn{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==vr.promise&&r.common.async===!1)return rr(r,{code:Mt.invalid_type,expected:vr.promise,received:r.parsedType}),Jr;const n=r.parsedType===vr.promise?r.data:Promise.resolve(r.data);return Oh(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}AL.create=(t,e)=>new AL({type:t,typeName:tn.ZodPromise,...En(e)});class qT extends Jn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{rr(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return Jr;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?Jr:l.status==="dirty"||r.value==="dirty"?l5(l.value):l});{if(r.value==="aborted")return Jr;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?Jr:o.status==="dirty"||r.value==="dirty"?l5(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,s);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Jr:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Jr:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!HT(a))return Jr;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>HT(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:r.value,value:o})):Jr);ni.assertNever(i)}}qT.create=(t,e,r)=>new qT({schema:t,typeName:tn.ZodEffects,effect:e,...En(r)});qT.createWithPreprocess=(t,e,r)=>new qT({schema:e,effect:{type:"preprocess",transform:t},typeName:tn.ZodEffects,...En(r)});class Cy extends Jn{_parse(e){return this._getType(e)===vr.undefined?Oh(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Cy.create=(t,e)=>new Cy({innerType:t,typeName:tn.ZodOptional,...En(e)});class GT extends Jn{_parse(e){return this._getType(e)===vr.null?Oh(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}GT.create=(t,e)=>new GT({innerType:t,typeName:tn.ZodNullable,...En(e)});class wW extends Jn{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===vr.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}wW.create=(t,e)=>new wW({innerType:t,typeName:tn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...En(e)});class _W extends Jn{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return bL(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new zg(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new zg(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}_W.create=(t,e)=>new _W({innerType:t,typeName:tn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...En(e)});class lce extends Jn{_parse(e){if(this._getType(e)!==vr.nan){const n=this._getOrReturnCtx(e);return rr(n,{code:Mt.invalid_type,expected:vr.nan,received:n.parsedType}),Jr}return{status:"valid",value:e.data}}}lce.create=t=>new lce({typeName:tn.ZodNaN,...En(t)});class x_t extends Jn{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class iQ extends Jn{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Jr:s.status==="dirty"?(r.dirty(),l5(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Jr:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new iQ({in:e,out:r,typeName:tn.ZodPipeline})}}class SW extends Jn{_parse(e){const r=this._def.innerType._parse(e),n=i=>(HT(i)&&(i.value=Object.freeze(i.value)),i);return bL(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}SW.create=(t,e)=>new SW({innerType:t,typeName:tn.ZodReadonly,...En(e)});Js.lazycreate;var tn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(tn||(tn={}));const ys=ry.create;qy.create;xm.create;const sQ=Js.create;Js.strictCreate;_L.create;SL.create;C_.create;const b_t=WT.create;AL.create;Cy.create;GT.create;function cce(t,[e,r]){return Math.min(r,Math.max(e,t))}function bAe(t){const e=O.useRef({value:t,previous:t});return O.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var w_t=[" ","Enter","ArrowUp","ArrowDown"],__t=[" ","Enter"],k_="Select",[KB,YB,S_t]=Z6(k_),[jC,tHt]=Cc(k_,[S_t,ax]),XB=ax(),[A_t,xx]=jC(k_),[E_t,T_t]=jC(k_),wAe=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:f,form:g}=t,m=XB(e),[v,x]=O.useState(null),[w,b]=O.useState(null),[_,S]=O.useState(!1),T=$8(c),[E,C]=Ig({prop:n,defaultProp:i??!1,onChange:s,caller:k_}),[N,F]=Ig({prop:a,defaultProp:o,onChange:l,caller:k_}),A=O.useRef(null),I=v?g||!!v.closest("form"):!0,[M,U]=O.useState(new Set),Y=Array.from(M).map(X=>X.props.value).join(";");return p.jsx(hY,{...m,children:p.jsxs(A_t,{required:f,scope:e,trigger:v,onTriggerChange:x,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:il(),value:N,onValueChange:F,open:E,onOpenChange:C,dir:T,triggerPointerDownPosRef:A,disabled:h,children:[p.jsx(KB.Provider,{scope:e,children:p.jsx(E_t,{scope:t.__scopeSelect,onNativeOptionAdd:O.useCallback(X=>{U(W=>new Set(W).add(X))},[]),onNativeOptionRemove:O.useCallback(X=>{U(W=>{const G=new Set(W);return G.delete(X),G})},[]),children:r})}),I?p.jsxs(WAe,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:d,value:N,onChange:X=>F(X.target.value),disabled:h,form:g,children:[N===void 0?p.jsx("option",{value:""}):null,Array.from(M)]},Y):null]})})};wAe.displayName=k_;var _Ae="SelectTrigger",SAe=O.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=XB(r),a=xx(_Ae,r),o=a.disabled||n,l=kn(e,a.onTriggerChange),c=YB(r),u=O.useRef("touch"),[d,h,f]=GAe(m=>{const v=c().filter(b=>!b.disabled),x=v.find(b=>b.value===a.value),w=KAe(v,m,x);w!==void 0&&a.onValueChange(w.value)}),g=m=>{o||(a.onOpenChange(!0),f()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return p.jsx(RO,{asChild:!0,...s,children:p.jsx(pr.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":qAe(a.value)?"":void 0,...i,ref:l,onClick:Ut(i.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&g(m)}),onPointerDown:Ut(i.onPointerDown,m=>{u.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:Ut(i.onKeyDown,m=>{const v=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&w_t.includes(m.key)&&(g(),m.preventDefault())})})})});SAe.displayName=_Ae;var AAe="SelectValue",EAe=O.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:a="",...o}=t,l=xx(AAe,r),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=kn(e,l.onValueNodeChange);return qa(()=>{c(u)},[c,u]),p.jsx(pr.span,{...o,ref:d,style:{pointerEvents:"none"},children:qAe(l.value)?p.jsx(p.Fragment,{children:a}):s})});EAe.displayName=AAe;var C_t="SelectIcon",TAe=O.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return p.jsx(pr.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});TAe.displayName=C_t;var k_t="SelectPortal",CAe=t=>p.jsx(aC,{asChild:!0,...t});CAe.displayName=k_t;var P_="SelectContent",kAe=O.forwardRef((t,e)=>{const r=xx(P_,t.__scopeSelect),[n,i]=O.useState();if(qa(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?G_.createPortal(p.jsx(PAe,{scope:t.__scopeSelect,children:p.jsx(KB.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),s):null}return p.jsx(NAe,{...t,ref:e})});kAe.displayName=P_;var Kh=10,[PAe,bx]=jC(P_),P_t="SelectContentImpl",N_t=Dy("SelectContent.RemoveScroll"),NAe=O.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:g,hideWhenDetached:m,avoidCollisions:v,...x}=t,w=xx(P_,r),[b,_]=O.useState(null),[S,T]=O.useState(null),E=kn(e,J=>_(J)),[C,N]=O.useState(null),[F,A]=O.useState(null),I=YB(r),[M,U]=O.useState(!1),Y=O.useRef(!1);O.useEffect(()=>{if(b)return z8(b)},[b]),V8();const X=O.useCallback(J=>{const[me,...ce]=I().map(ee=>ee.ref.current),[he]=ce.slice(-1),_e=document.activeElement;for(const ee of J)if(ee===_e||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===me&&S&&(S.scrollTop=0),ee===he&&S&&(S.scrollTop=S.scrollHeight),ee==null||ee.focus(),document.activeElement!==_e))return},[I,S]),W=O.useCallback(()=>X([C,b]),[X,C,b]);O.useEffect(()=>{M&&W()},[M,W]);const{onOpenChange:G,triggerPointerDownPosRef:B}=w;O.useEffect(()=>{if(b){let J={x:0,y:0};const me=he=>{var _e,ee;J={x:Math.abs(Math.round(he.pageX)-(((_e=B.current)==null?void 0:_e.x)??0)),y:Math.abs(Math.round(he.pageY)-(((ee=B.current)==null?void 0:ee.y)??0))}},ce=he=>{J.x<=10&&J.y<=10?he.preventDefault():b.contains(he.target)||G(!1),document.removeEventListener("pointermove",me),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",ce,{capture:!0})}}},[b,G,B]),O.useEffect(()=>{const J=()=>G(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[G]);const[re,ae]=GAe(J=>{const me=I().filter(_e=>!_e.disabled),ce=me.find(_e=>_e.ref.current===document.activeElement),he=KAe(me,J,ce);he&&setTimeout(()=>he.ref.current.focus())}),R=O.useCallback((J,me,ce)=>{const he=!Y.current&&!ce;(w.value!==void 0&&w.value===me||he)&&(N(J),he&&(Y.current=!0))},[w.value]),j=O.useCallback(()=>b==null?void 0:b.focus(),[b]),V=O.useCallback((J,me,ce)=>{const he=!Y.current&&!ce;(w.value!==void 0&&w.value===me||he)&&A(J)},[w.value]),K=n==="popper"?AW:IAe,ne=K===AW?{side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return p.jsx(PAe,{scope:r,content:b,viewport:S,onViewportChange:T,itemRefCallback:R,selectedItem:C,onItemLeave:j,itemTextRefCallback:V,focusSelectedItem:W,selectedItemText:F,position:n,isPositioned:M,searchRef:re,children:p.jsx(KO,{as:N_t,allowPinchZoom:!0,children:p.jsx(qO,{asChild:!0,trapped:w.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:Ut(i,J=>{var me;(me=w.trigger)==null||me.focus({preventScroll:!0}),J.preventDefault()}),children:p.jsx(K_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:p.jsx(K,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:J=>J.preventDefault(),...x,...ne,onPlaced:()=>U(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Ut(x.onKeyDown,J=>{const me=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!me&&J.key.length===1&&ae(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let he=I().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(J.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const _e=J.target,ee=he.indexOf(_e);he=he.slice(ee+1)}setTimeout(()=>X(he)),J.preventDefault()}})})})})})})});NAe.displayName=P_t;var I_t="SelectItemAlignedPosition",IAe=O.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=xx(P_,r),a=bx(P_,r),[o,l]=O.useState(null),[c,u]=O.useState(null),d=kn(e,E=>u(E)),h=YB(r),f=O.useRef(!1),g=O.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:x,focusSelectedItem:w}=a,b=O.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&c&&m&&v&&x){const E=s.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),N=s.valueNode.getBoundingClientRect(),F=x.getBoundingClientRect();if(s.dir!=="rtl"){const _e=F.left-C.left,ee=N.left-_e,je=E.left-ee,Ue=E.width+je,pe=Math.max(Ue,C.width),Me=window.innerWidth-Kh,Ye=cce(ee,[Kh,Math.max(Kh,Me-pe)]);o.style.minWidth=Ue+"px",o.style.left=Ye+"px"}else{const _e=C.right-F.right,ee=window.innerWidth-N.right-_e,je=window.innerWidth-E.right-ee,Ue=E.width+je,pe=Math.max(Ue,C.width),Me=window.innerWidth-Kh,Ye=cce(ee,[Kh,Math.max(Kh,Me-pe)]);o.style.minWidth=Ue+"px",o.style.right=Ye+"px"}const A=h(),I=window.innerHeight-Kh*2,M=m.scrollHeight,U=window.getComputedStyle(c),Y=parseInt(U.borderTopWidth,10),X=parseInt(U.paddingTop,10),W=parseInt(U.borderBottomWidth,10),G=parseInt(U.paddingBottom,10),B=Y+X+M+G+W,re=Math.min(v.offsetHeight*5,B),ae=window.getComputedStyle(m),R=parseInt(ae.paddingTop,10),j=parseInt(ae.paddingBottom,10),V=E.top+E.height/2-Kh,K=I-V,ne=v.offsetHeight/2,J=v.offsetTop+ne,me=Y+X+J,ce=B-me;if(me<=V){const _e=A.length>0&&v===A[A.length-1].ref.current;o.style.bottom="0px";const ee=c.clientHeight-m.offsetTop-m.offsetHeight,je=Math.max(K,ne+(_e?j:0)+ee+W),Ue=me+je;o.style.height=Ue+"px"}else{const _e=A.length>0&&v===A[0].ref.current;o.style.top="0px";const je=Math.max(V,Y+m.offsetTop+(_e?R:0)+ne)+ce;o.style.height=je+"px",m.scrollTop=me-V+m.offsetTop}o.style.margin=`${Kh}px 0`,o.style.minHeight=re+"px",o.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[h,s.trigger,s.valueNode,o,c,m,v,x,s.dir,n]);qa(()=>b(),[b]);const[_,S]=O.useState();qa(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const T=O.useCallback(E=>{E&&g.current===!0&&(b(),w==null||w(),g.current=!1)},[b,w]);return p.jsx(R_t,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:f,onScrollButtonChange:T,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:p.jsx(pr.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});IAe.displayName=I_t;var O_t="SelectPopperPosition",AW=O.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Kh,...s}=t,a=XB(r);return p.jsx(o8,{...a,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});AW.displayName=O_t;var[R_t,aQ]=jC(P_,{}),EW="SelectViewport",OAe=O.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=bx(EW,r),a=aQ(EW,r),o=kn(e,s.onViewportChange),l=O.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),p.jsx(KB.Slot,{scope:r,children:p.jsx(pr.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ut(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&d){const f=Math.abs(l.current-u.scrollTop);if(f>0){const g=window.innerHeight-Kh*2,m=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),x=Math.max(m,v);if(x<g){const w=x+f,b=Math.min(g,w),_=w-b;d.style.height=b+"px",d.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});OAe.displayName=EW;var RAe="SelectGroup",[D_t,M_t]=jC(RAe),F_t=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=il();return p.jsx(D_t,{scope:r,id:i,children:p.jsx(pr.div,{role:"group","aria-labelledby":i,...n,ref:e})})});F_t.displayName=RAe;var DAe="SelectLabel",MAe=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=M_t(DAe,r);return p.jsx(pr.div,{id:i.id,...n,ref:e})});MAe.displayName=DAe;var EL="SelectItem",[j_t,FAe]=jC(EL),jAe=O.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...a}=t,o=xx(EL,r),l=bx(EL,r),c=o.value===n,[u,d]=O.useState(s??""),[h,f]=O.useState(!1),g=kn(e,w=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,w,n,i)}),m=il(),v=O.useRef("touch"),x=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(j_t,{scope:r,value:n,disabled:i,textId:m,isSelected:c,onItemTextChange:O.useCallback(w=>{d(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:p.jsx(KB.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:p.jsx(pr.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:Ut(a.onFocus,()=>f(!0)),onBlur:Ut(a.onBlur,()=>f(!1)),onClick:Ut(a.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:Ut(a.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:Ut(a.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:Ut(a.onPointerMove,w=>{var b;v.current=w.pointerType,i?(b=l.onItemLeave)==null||b.call(l):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ut(a.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:Ut(a.onKeyDown,w=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(__t.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});jAe.displayName=EL;var c5="SelectItemText",LAe=O.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,a=xx(c5,r),o=bx(c5,r),l=FAe(c5,r),c=T_t(c5,r),[u,d]=O.useState(null),h=kn(e,x=>d(x),l.onItemTextChange,x=>{var w;return(w=o.itemTextRefCallback)==null?void 0:w.call(o,x,l.value,l.disabled)}),f=u==null?void 0:u.textContent,g=O.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=c;return qa(()=>(m(g),()=>v(g)),[m,v,g]),p.jsxs(p.Fragment,{children:[p.jsx(pr.span,{id:l.textId,...s,ref:h}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?G_.createPortal(s.children,a.valueNode):null]})});LAe.displayName=c5;var BAe="SelectItemIndicator",$Ae=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return FAe(BAe,r).isSelected?p.jsx(pr.span,{"aria-hidden":!0,...n,ref:e}):null});$Ae.displayName=BAe;var TW="SelectScrollUpButton",VAe=O.forwardRef((t,e)=>{const r=bx(TW,t.__scopeSelect),n=aQ(TW,t.__scopeSelect),[i,s]=O.useState(!1),a=kn(e,n.onScrollButtonChange);return qa(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=l.scrollTop>0;s(c)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?p.jsx(zAe,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});VAe.displayName=TW;var CW="SelectScrollDownButton",UAe=O.forwardRef((t,e)=>{const r=bx(CW,t.__scopeSelect),n=aQ(CW,t.__scopeSelect),[i,s]=O.useState(!1),a=kn(e,n.onScrollButtonChange);return qa(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?p.jsx(zAe,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});UAe.displayName=CW;var zAe=O.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=bx("SelectScrollButton",r),a=O.useRef(null),o=YB(r),l=O.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return O.useEffect(()=>()=>l(),[l]),qa(()=>{var u;const c=o().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),p.jsx(pr.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ut(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:Ut(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:Ut(i.onPointerLeave,()=>{l()})})}),L_t="SelectSeparator",HAe=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return p.jsx(pr.div,{"aria-hidden":!0,...n,ref:e})});HAe.displayName=L_t;var kW="SelectArrow",B_t=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=XB(r),s=xx(kW,r),a=bx(kW,r);return s.open&&a.position==="popper"?p.jsx(l8,{...i,...n,ref:e}):null});B_t.displayName=kW;var $_t="SelectBubbleInput",WAe=O.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=O.useRef(null),s=kn(n,i),a=bAe(e);return O.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const d=new Event("change",{bubbles:!0});u.call(o,e),o.dispatchEvent(d)}},[a,e]),p.jsx(pr.select,{...r,style:{...D0e,...r.style},ref:s,defaultValue:e})});WAe.displayName=$_t;function qAe(t){return t===""||t===void 0}function GAe(t){const e=Sc(t),r=O.useRef(""),n=O.useRef(0),i=O.useCallback(a=>{const o=r.current+a;e(o),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),s=O.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return O.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function KAe(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=V_t(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==r));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function V_t(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var U_t=wAe,YAe=SAe,z_t=EAe,H_t=TAe,W_t=CAe,XAe=kAe,q_t=OAe,ZAe=MAe,QAe=jAe,G_t=LAe,K_t=$Ae,JAe=VAe,eEe=UAe,tEe=HAe;const yn=U_t,xn=z_t,pn=O.forwardRef(({className:t,children:e,...r},n)=>p.jsxs(YAe,{ref:n,className:Pt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,p.jsx(H_t,{asChild:!0,children:p.jsx(nge,{className:"h-4 w-4 opacity-50"})})]}));pn.displayName=YAe.displayName;const rEe=O.forwardRef(({className:t,...e},r)=>p.jsx(JAe,{ref:r,className:Pt("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(PDe,{className:"h-4 w-4"})}));rEe.displayName=JAe.displayName;const nEe=O.forwardRef(({className:t,...e},r)=>p.jsx(eEe,{ref:r,className:Pt("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(nge,{className:"h-4 w-4"})}));nEe.displayName=eEe.displayName;const mn=O.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>p.jsx(W_t,{children:p.jsxs(XAe,{ref:i,className:Pt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[p.jsx(rEe,{}),p.jsx(q_t,{className:Pt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(nEe,{})]})}));mn.displayName=XAe.displayName;const Y_t=O.forwardRef(({className:t,...e},r)=>p.jsx(ZAe,{ref:r,className:Pt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Y_t.displayName=ZAe.displayName;const $t=O.forwardRef(({className:t,children:e,...r},n)=>p.jsxs(QAe,{ref:n,className:Pt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(K_t,{children:p.jsx(ZK,{className:"h-4 w-4"})})}),p.jsx(G_t,{children:e})]}));$t.displayName=QAe.displayName;const X_t=O.forwardRef(({className:t,...e},r)=>p.jsx(tEe,{ref:r,className:Pt("-mx-1 my-1 h-px bg-muted",t),...e}));X_t.displayName=tEe.displayName;function Fm(t){return t.replace(/\D/g,"")}function Z_t(t){const e=Fm(t);if(e.length!==11||/^(\d)\1{10}$/.test(e))return!1;let r=0;for(let a=0;a<9;a++)r+=parseInt(e.charAt(a))*(10-a);let n=11-r%11;if((n===10||n===11?0:n)!==parseInt(e.charAt(9)))return!1;r=0;for(let a=0;a<10;a++)r+=parseInt(e.charAt(a))*(11-a);return n=11-r%11,(n===10||n===11?0:n)===parseInt(e.charAt(10))}function Q_t(t){const e=Fm(t);if(e.length!==14||/^(\d)\1{13}$/.test(e))return!1;let r=e.length-2,n=e.substring(0,r);const i=e.substring(r);let s=0,a=r-7;for(let l=r;l>=1;l--)s+=parseInt(n.charAt(r-l))*a--,a<2&&(a=9);let o=s%11<2?0:11-s%11;if(o!==parseInt(i.charAt(0)))return!1;r=r+1,n=e.substring(0,r),s=0,a=r-7;for(let l=r;l>=1;l--)s+=parseInt(n.charAt(r-l))*a--,a<2&&(a=9);return o=s%11<2?0:11-s%11,o===parseInt(i.charAt(1))}function J_t(t){const e=Fm(t);if(e.length!==10&&e.length!==11)return!1;const r=parseInt(e.substring(0,2));return!(r<10||r>99||e.length===11&&parseInt(e.charAt(2))!==9)}function iEe(t){return Fm(t).substring(0,11).replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2")}function e2t(t){return Fm(t).substring(0,14).replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d{1,2})$/,"$1-$2")}function oQ(t){const e=Fm(t);return e.length<=10?e.substring(0,10).replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4})(\d{1,4})$/,"$1-$2"):e.substring(0,11).replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d{1,4})$/,"$1-$2")}function sEe(t){return Fm(t).substring(0,8).replace(/(\d{5})(\d{1,3})$/,"$1-$2")}async function aEe(t){const e=Fm(t);if(e.length!==8)throw new Error("CEP invlido");try{const r=await fetch(`https://viacep.com.br/ws/${e}/json/`);if(!r.ok)throw new Error("Erro ao buscar CEP");const n=await r.json();if(n.erro)throw new Error("CEP no encontrado");return n}catch(r){throw console.error("Erro ao buscar CEP:",r),r}}const oEe=ys().min(1,"CPF  obrigatrio").refine(t=>Z_t(t),{message:"CPF invlido"}),t2t=ys().min(1,"CNPJ  obrigatrio").refine(t=>Q_t(t),{message:"CNPJ invlido"}),lQ=ys().min(1,"Telefone  obrigatrio").refine(t=>J_t(t),{message:"Telefone invlido"}),lEe=ys().refine(t=>t?Fm(t).length===8:!0,{message:"CEP invlido"});ys().min(1,"CEP  obrigatrio").refine(t=>Fm(t).length===8,{message:"CEP deve ter 8 dgitos"});const r2t=sQ({nome:ys().min(3,"Nome deve ter pelo menos 3 caracteres"),cpf:oEe,email:ys().email("Email invlido"),telefone:lQ,endereco:ys().min(5,"Endereo  obrigatrio"),cidade:ys().min(2,"Cidade  obrigatria"),estado:ys().min(2,"Estado  obrigatrio"),cep:lEe,dataNascimento:ys().min(10,"Data de nascimento  obrigatria"),senhaINSS:ys().optional()}),n2t=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"];function i2t({onSuccess:t,initialData:e}){const[r,n]=O.useState(!1),[i,s]=O.useState(!1),{register:a,handleSubmit:o,setValue:l,watch:c,formState:{errors:u,isSubmitting:d}}=rQ({resolver:nQ(r2t),defaultValues:e}),h=c("dataNascimento"),g=(b=>{if(!b)return null;const _=new Date,S=new Date(b);let T=_.getFullYear()-S.getFullYear();const E=_.getMonth()-S.getMonth();return(E<0||E===0&&_.getDate()<S.getDate())&&T--,T})(h),m=b=>{const _=iEe(b.target.value);l("cpf",_)},v=b=>{const _=oQ(b.target.value);l("telefone",_)},x=async b=>{const _=sEe(b.target.value);if(l("cep",_),_.replace(/\D/g,"").length===8){n(!0);try{const S=await aEe(_);S&&(l("endereco",S.logradouro),l("cidade",S.localidade),l("estado",S.uf),Be.success("CEP encontrado!"))}catch{Be.error("CEP no encontrado")}finally{n(!1)}}},w=async b=>{try{e!=null&&e.id?(await Xqe(e.id,{...b,status:"ativo"}),Be.success("Cliente atualizado com sucesso!")):(await Yqe({...b,status:"ativo"}),Be.success("Cliente cadastrado com sucesso!")),t()}catch(_){console.error("Erro ao salvar cliente:",_),Be.error("Erro ao salvar cliente. Tente novamente.")}};return p.jsxs("form",{onSubmit:o(w),className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(Xe,{htmlFor:"nome",children:"Nome Completo *"}),p.jsx(pt,{id:"nome",...a("nome"),placeholder:"Digite o nome completo"}),u.nome&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:u.nome.message})]}),p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"cpf",children:"CPF *"}),p.jsx(pt,{id:"cpf",...a("cpf"),onChange:m,placeholder:"000.000.000-00",maxLength:14}),u.cpf&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:u.cpf.message})]}),p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"dataNascimento",children:"Data de Nascimento *"}),p.jsx(pt,{id:"dataNascimento",type:"date",...a("dataNascimento")}),g!==null&&p.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Idade: ",g," ano",g!==1?"s":""]}),u.dataNascimento&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:u.dataNascimento.message})]}),p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"email",children:"Email *"}),p.jsx(pt,{id:"email",type:"email",...a("email"),placeholder:"email@exemplo.com"}),u.email&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:u.email.message})]}),p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"telefone",children:"Telefone *"}),p.jsx(pt,{id:"telefone",...a("telefone"),onChange:v,placeholder:"(00) 00000-0000",maxLength:15}),u.telefone&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:u.telefone.message})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(Xe,{htmlFor:"endereco",children:"Endereo *"}),p.jsx(pt,{id:"endereco",...a("endereco"),placeholder:"Rua, nmero, bairro"}),u.endereco&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:u.endereco.message})]}),p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"cidade",children:"Cidade *"}),p.jsx(pt,{id:"cidade",...a("cidade"),placeholder:"Digite a cidade"}),u.cidade&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:u.cidade.message})]}),p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"estado",children:"Estado *"}),p.jsxs(yn,{onValueChange:b=>l("estado",b),children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Selecione o estado"})}),p.jsx(mn,{children:n2t.map(b=>p.jsx($t,{value:b,children:b},b))})]}),u.estado&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:u.estado.message})]}),p.jsxs("div",{children:[p.jsxs(Xe,{htmlFor:"cep",children:["CEP ",r&&"(Buscando...)"]}),p.jsx(pt,{id:"cep",...a("cep"),onChange:x,placeholder:"00000-000",maxLength:9,disabled:r}),u.cep&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:u.cep.message})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"relative",children:[p.jsx(pt,{id:"senhaINSS",type:i?"text":"password",...a("senhaINSS"),placeholder:"Digite a senha do INSS",className:"pr-10"}),p.jsx(mt,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!i),children:i?p.jsx(FDe,{className:"h-4 w-4 text-muted-foreground"}):p.jsx(ige,{className:"h-4 w-4 text-muted-foreground"})})]}),p.jsx(pt,{id:"senhaINSS",type:"password",...a("senhaINSS"),placeholder:""})]})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(mt,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),p.jsx(mt,{type:"submit",disabled:d,children:d?"Salvando...":"Salvar Cliente"})]})]})}function cQ({open:t,onOpenChange:e,title:r,description:n,templateColumns:i,onImport:s}){const[a,o]=O.useState(null),[l,c]=O.useState(!1),[u,d]=O.useState([]),h=O.useRef(null),f=w=>{var _;const b=(_=w.target.files)==null?void 0:_[0];if(b){if(!b.name.endsWith(".csv")){Be.error("Por favor, selecione um arquivo CSV");return}o(b),g(b)}},g=w=>{const b=new FileReader;b.onload=_=>{var N;const T=((N=_.target)==null?void 0:N.result).split(`
`).filter(F=>F.trim());if(T.length<2){Be.error("Arquivo vazio ou sem dados");return}const E=T[0].split(";").map(F=>F.trim().replace(/"/g,"")),C=[];for(let F=1;F<Math.min(T.length,6);F++){const A=T[F].split(";").map(M=>M.trim().replace(/"/g,"")),I={};E.forEach((M,U)=>{I[M]=A[U]||""}),C.push(I)}d(C)},b.readAsText(w,"UTF-8")},m=()=>{if(!a)return;c(!0);const w=new FileReader;w.onload=b=>{var C;const S=((C=b.target)==null?void 0:C.result).split(`
`).filter(N=>N.trim()),T=S[0].split(";").map(N=>N.trim().replace(/"/g,"")),E=[];for(let N=1;N<S.length;N++){const F=S[N].split(";").map(I=>I.trim().replace(/"/g,"")),A={};T.forEach((I,M)=>{A[I]=F[M]||""}),E.push(A)}setTimeout(()=>{s(E),c(!1),o(null),d([]),e(!1),Be.success(`${E.length} registros importados com sucesso!`)},1e3)},w.readAsText(a,"UTF-8")},v=()=>{const w=i.join(";")+`
`,b=new Blob(["\uFEFF"+w],{type:"text/csv;charset=utf-8;"}),_=document.createElement("a");_.href=URL.createObjectURL(b),_.download=`modelo_${r.toLowerCase().replace(/\s/g,"_")}.csv`,_.click(),Be.success("Modelo CSV baixado!")},x=()=>{o(null),d([]),e(!1)};return p.jsx(oo,{open:t,onOpenChange:x,children:p.jsxs($a,{className:"max-w-2xl",children:[p.jsxs(Va,{children:[p.jsxs(Ua,{className:"flex items-center gap-2",children:[p.jsx(fg,{className:"w-5 h-5"}),"Importar ",r]}),p.jsx(Pm,{children:n})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(lT,{className:"w-5 h-5 text-muted-foreground"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:"Modelo CSV"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Baixe o modelo e preencha com seus dados"})]})]}),p.jsxs(mt,{variant:"outline",size:"sm",onClick:v,className:"gap-2",children:[p.jsx(d_,{className:"w-4 h-4"}),"Baixar Modelo"]})]}),p.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center cursor-pointer hover:border-primary/50 hover:bg-muted/30 transition-colors",onClick:()=>{var w;return(w=h.current)==null?void 0:w.click()},children:[p.jsx("input",{ref:h,type:"file",accept:".csv",onChange:f,className:"hidden"}),a?p.jsxs("div",{className:"flex items-center justify-center gap-3",children:[p.jsx(Z5,{className:"w-8 h-8 text-success"}),p.jsxs("div",{className:"text-left",children:[p.jsx("p",{className:"font-medium",children:a.name}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:[(a.size/1024).toFixed(1)," KB  Clique para trocar"]})]})]}):p.jsxs(p.Fragment,{children:[p.jsx(fg,{className:"w-10 h-10 mx-auto text-muted-foreground mb-3"}),p.jsx("p",{className:"font-medium",children:"Clique para selecionar o arquivo CSV"}),p.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"ou arraste e solte aqui"})]})]}),u.length>0&&p.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[p.jsx("div",{className:"bg-muted/50 px-4 py-2 border-b",children:p.jsx("p",{className:"text-sm font-medium",children:"Pr-visualizao (primeiras 5 linhas)"})}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{className:"bg-muted/30",children:p.jsx("tr",{children:Object.keys(u[0]).map(w=>p.jsx("th",{className:"px-3 py-2 text-left font-medium",children:w},w))})}),p.jsx("tbody",{children:u.map((w,b)=>p.jsx("tr",{className:"border-t",children:Object.values(w).map((_,S)=>p.jsx("td",{className:"px-3 py-2 text-muted-foreground",children:_||"-"},S))},b))})]})})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[p.jsx(mt,{variant:"outline",onClick:x,children:"Cancelar"}),p.jsx(mt,{onClick:m,disabled:!a||l,className:"gap-2",children:l?p.jsx(p.Fragment,{children:"Importando..."}):p.jsxs(p.Fragment,{children:[p.jsx(fg,{className:"w-4 h-4"}),"Importar Dados"]})})]})]})]})})}const s2t=t=>{if(!t)return 0;const e=new Date,r=new Date(t);let n=e.getFullYear()-r.getFullYear();const i=e.getMonth()-r.getMonth();return(i<0||i===0&&e.getDate()<r.getDate())&&n--,n},a2t=t=>{if(!t)return"";const[e,r,n]=t.split("-");return`${n}/${r}/${e}`},o2t=[{key:"nome",header:"Cliente",render:t=>p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(dx,{className:"w-9 h-9",children:p.jsx(hx,{className:"bg-primary/10 text-primary text-xs",children:t.nome.split(" ").map(e=>e[0]).slice(0,2).join("")})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-sm",children:t.nome}),p.jsx("p",{className:"text-xs text-muted-foreground",children:t.cpf})]})]})},{key:"email",header:"Contato",render:t=>p.jsxs("div",{children:[p.jsx("p",{className:"text-sm",children:t.email}),p.jsx("p",{className:"text-xs text-muted-foreground",children:t.telefone})]})},{key:"cidade",header:"Localizao",render:t=>p.jsxs("span",{className:"text-sm",children:[t.cidade,", ",t.estado]})},{key:"dataNascimento",header:"Data de Nasc.",render:t=>p.jsxs("div",{children:[p.jsx("p",{className:"text-sm",children:a2t(t.dataNascimento)}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[s2t(t.dataNascimento)," anos"]})]})},{key:"status",header:"Status",render:t=>p.jsx(Ns,{variant:t.status==="ativo"?"default":"secondary",className:t.status==="ativo"?"bg-success hover:bg-success/90":"",children:t.status==="ativo"?"Ativo":"Inativo"})}],l2t=["Nome","CPF","Email","Telefone","Endereo","Cidade","Estado","CEP","Data Nascimento","Senha INSS"];function c2t(){const[t,e]=O.useState(!1),[r,n]=O.useState(!1),[i,s]=O.useState(!1),[a,o]=O.useState([]),[l,c]=O.useState(!0),[u,d]=O.useState(null),[h,f]=O.useState([]),[g,m]=O.useState([]),[v,x]=O.useState([]),[w,b]=O.useState(!1);O.useEffect(()=>{_(),S()},[]);const _=async()=>{try{c(!0);const W=await wC();o(W)}catch(W){console.error("Erro ao carregar clientes:",W),Be.error("Erro ao carregar clientes")}finally{c(!1)}},S=async()=>{try{const[W,G]=await Promise.all([SC(),fx()]);m(W),x(G)}catch(W){console.error("Erro ao carregar dados:",W)}},T=async W=>{d(W),b(!0),s(!0);try{const G=await Qqe(W.id);f(G)}catch(G){console.error("Erro ao carregar histrico:",G),Be.error("Erro ao carregar histrico do cliente")}finally{b(!1)}},E=W=>{const G=g.find(B=>B.id===W);return(G==null?void 0:G.nome)||"Produto no encontrado"},C=W=>{const G=v.find(B=>B.id===W);return(G==null?void 0:G.nome)||"Funcionrio no encontrado"},N=W=>{if(!W)return"-";try{return(W.seconds?new Date(W.seconds*1e3):new Date(W)).toLocaleDateString("pt-BR")}catch{return"-"}},F=W=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(W),A=W=>{switch(W){case"aprovada":return"default";case"pendente":return"secondary";case"em_analise":return"outline";case"recusada":return"destructive";default:return"secondary"}},I=W=>{switch(W){case"aprovada":return"Aprovada";case"pendente":return"Pendente";case"em_analise":return"Em Anlise";case"recusada":return"Recusada";default:return W}},M=W=>{d(W),e(!0)},U=async W=>{if(confirm(`Deseja realmente excluir o cliente ${W.nome}?`))try{await Zqe(W.id),Be.success("Cliente excludo com sucesso!"),_()}catch(G){console.error("Erro ao excluir cliente:",G),Be.error("Erro ao excluir cliente")}},Y=()=>{e(!1),d(null),_()},X=W=>{console.log("Dados importados:",W)};return p.jsxs("div",{children:[p.jsx(uu,{title:"Clientes",description:"Gerencie os clientes cadastrados no sistema",action:{label:"Novo Cliente",onClick:()=>e(!0)},children:p.jsxs(mt,{variant:"outline",className:"gap-2",onClick:()=>n(!0),children:[p.jsx(fg,{className:"w-4 h-4"}),"Importar"]})}),p.jsx(lR,{columns:o2t,data:a,searchPlaceholder:"Buscar por nome, CPF ou email...",onEdit:M,onDelete:U,onView:T}),p.jsx(oo,{open:t,onOpenChange:W=>{e(W),W||d(null)},children:p.jsxs($a,{className:"max-w-2xl",children:[p.jsx(Va,{children:p.jsx(Ua,{children:u?"Editar Cliente":"Novo Cliente"})}),p.jsx(i2t,{initialData:u||void 0,onSuccess:Y})]})}),p.jsx(cQ,{open:r,onOpenChange:n,title:"Clientes",description:"Importe sua base de clientes a partir de um arquivo CSV",templateColumns:l2t,onImport:X}),p.jsx(oo,{open:i,onOpenChange:W=>{s(W),W||(d(null),f([]))},children:p.jsxs($a,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[p.jsxs(Va,{children:[p.jsxs(Ua,{className:"flex items-center gap-2",children:[p.jsx(LDe,{className:"w-5 h-5"}),"Histrico de Vendas"]}),p.jsx(Pm,{children:u&&p.jsxs("div",{className:"mt-2",children:[p.jsx("p",{className:"font-semibold text-foreground",children:u.nome}),p.jsxs("p",{className:"text-sm",children:["CPF: ",u.cpf]})]})})]}),p.jsx("div",{className:"space-y-4 mt-4",children:w?p.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando histrico..."}):h.length===0?p.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma venda encontrada para este cliente."}):p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[p.jsxs(Tr,{children:[p.jsx(fj,{className:"pb-2",children:p.jsx(pj,{className:"text-sm font-medium",children:"Total de Vendas"})}),p.jsx(tA,{children:p.jsx("p",{className:"text-2xl font-bold",children:h.length})})]}),p.jsxs(Tr,{children:[p.jsx(fj,{className:"pb-2",children:p.jsx(pj,{className:"text-sm font-medium",children:"Valor Total"})}),p.jsx(tA,{children:p.jsx("p",{className:"text-2xl font-bold",children:F(h.reduce((W,G)=>W+(G.valorContrato||0),0))})})]})]}),p.jsx(qi,{}),p.jsx("div",{className:"space-y-3",children:h.map(W=>p.jsx(Tr,{children:p.jsx(tA,{className:"pt-4",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Produto"}),p.jsx("p",{className:"font-semibold",children:E(W.produtoId)})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendedor"}),p.jsx("p",{className:"font-semibold",children:C(W.funcionarioId)})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor do Contrato"}),p.jsx("p",{className:"font-semibold text-lg",children:F(W.valorContrato)})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Prazo"}),p.jsxs("p",{className:"font-semibold",children:[W.prazo," meses"]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Comisso"}),p.jsxs("p",{className:"font-semibold",children:[F(W.comissao)," (",W.comissaoPercentual,"%)"]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Data da Venda"}),p.jsx("p",{className:"font-semibold",children:N(W.createdAt)})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Status"}),p.jsx(Ns,{variant:A(W.status),children:I(W.status)})]})]})})},W.id))})]})})]})})]})}const u2t=sQ({razaoSocial:ys().min(3,"Razo Social  obrigatria"),nomeFantasia:ys().min(2,"Nome Fantasia  obrigatrio"),cnpj:t2t,telefone:lQ,email:ys().email("Email invlido")});function d2t({onSuccess:t,initialData:e}){const{register:r,handleSubmit:n,setValue:i,formState:{errors:s,isSubmitting:a}}=rQ({resolver:nQ(u2t),defaultValues:e}),o=u=>{const d=e2t(u.target.value);i("cnpj",d)},l=u=>{const d=oQ(u.target.value);i("telefone",d)},c=async u=>{try{e!=null&&e.id?(await eGe(e.id,{...u,status:"ativo"}),Be.success("Fornecedor atualizado com sucesso!")):(await Jqe({...u,status:"ativo"}),Be.success("Fornecedor cadastrado com sucesso!")),t()}catch(d){console.error("Erro ao salvar fornecedor:",d),Be.error("Erro ao salvar fornecedor. Tente novamente.")}};return p.jsxs("form",{onSubmit:n(c),className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"razaoSocial",children:"Razo Social *"}),p.jsx(pt,{id:"razaoSocial",...r("razaoSocial"),placeholder:"Nome completo da empresa"}),s.razaoSocial&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:s.razaoSocial.message})]}),p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"nomeFantasia",children:"Nome Fantasia *"}),p.jsx(pt,{id:"nomeFantasia",...r("nomeFantasia"),placeholder:"Nome comercial"}),s.nomeFantasia&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:s.nomeFantasia.message})]}),p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"cnpj",children:"CNPJ *"}),p.jsx(pt,{id:"cnpj",...r("cnpj"),onChange:o,placeholder:"00.000.000/0000-00",maxLength:18}),s.cnpj&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:s.cnpj.message})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"email",children:"Email *"}),p.jsx(pt,{id:"email",type:"email",...r("email"),placeholder:"contato@empresa.com"}),s.email&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:s.email.message})]}),p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"telefone",children:"Telefone *"}),p.jsx(pt,{id:"telefone",...r("telefone"),onChange:l,placeholder:"(00) 0000-0000",maxLength:15}),s.telefone&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:s.telefone.message})]})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(mt,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),p.jsx(mt,{type:"submit",disabled:a,children:a?"Salvando...":"Salvar Fornecedor"})]})]})}const h2t=[{key:"nomeFantasia",header:"Fornecedor",render:t=>p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-9 h-9 rounded-lg bg-accent/10 flex items-center justify-center",children:p.jsx(XK,{className:"w-5 h-5 text-accent"})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-sm",children:t.nomeFantasia}),p.jsx("p",{className:"text-xs text-muted-foreground",children:t.razaoSocial})]})]})},{key:"cnpj",header:"CNPJ"},{key:"email",header:"Contato",render:t=>p.jsxs("div",{children:[p.jsx("p",{className:"text-sm",children:t.email}),p.jsx("p",{className:"text-xs text-muted-foreground",children:t.telefone})]})},{key:"status",header:"Status",render:t=>p.jsx(Ns,{variant:t.status==="ativo"?"default":"secondary",className:t.status==="ativo"?"bg-success hover:bg-success/90":"",children:t.status==="ativo"?"Ativo":"Inativo"})}],f2t=["Razo Social","Nome Fantasia","CNPJ","Telefone","Email"];function p2t(){const[t,e]=O.useState(!1),[r,n]=O.useState(!1),[i,s]=O.useState([]),[a,o]=O.useState(!0),[l,c]=O.useState(null);O.useEffect(()=>{u()},[]);const u=async()=>{try{o(!0);const v=(await x_()).map(x=>({id:x.id,razaoSocial:x.razaoSocial,nomeFantasia:x.nomeFantasia,cnpj:x.cnpj,telefone:x.telefone,email:x.email,status:x.status}));s(v)}catch(m){console.error("Erro ao carregar fornecedores:",m),Be.error("Erro ao carregar fornecedores")}finally{o(!1)}},d=m=>{const v={id:m.id,razaoSocial:m.razaoSocial,nomeFantasia:m.nomeFantasia,cnpj:m.cnpj,telefone:m.telefone,email:m.email,status:m.status};c(v),e(!0)},h=async m=>{if(confirm(`Deseja realmente excluir o fornecedor ${m.nomeFantasia}?`))try{await tGe(m.id),Be.success("Fornecedor excludo com sucesso!"),u()}catch(v){console.error("Erro ao excluir fornecedor:",v),Be.error("Erro ao excluir fornecedor")}},f=()=>{e(!1),c(null),u()},g=m=>{console.log("Fornecedores importados:",m)};return p.jsxs("div",{children:[p.jsx(uu,{title:"Fornecedores / Parceiros",description:"Bancos e instituies financeiras parceiras",action:{label:"Novo Fornecedor",onClick:()=>e(!0)},children:p.jsxs(mt,{variant:"outline",className:"gap-2",onClick:()=>n(!0),children:[p.jsx(fg,{className:"w-4 h-4"}),"Importar"]})}),p.jsx(lR,{columns:h2t,data:i,searchPlaceholder:"Buscar por nome ou CNPJ...",onEdit:d,onDelete:h}),p.jsx(oo,{open:t,onOpenChange:m=>{e(m),m||c(null)},children:p.jsxs($a,{className:"max-w-xl",children:[p.jsx(Va,{children:p.jsx(Ua,{children:l?"Editar Fornecedor":"Novo Fornecedor"})}),p.jsx(d2t,{initialData:l||void 0,onSuccess:f})]})}),p.jsx(cQ,{open:r,onOpenChange:n,title:"Fornecedores",description:"Importe seus fornecedores e parceiros bancrios a partir de um arquivo CSV",templateColumns:f2t,onImport:g})]})}const uQ=O.forwardRef(({className:t,...e},r)=>p.jsx("textarea",{className:Pt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));uQ.displayName="Textarea";function m2t({onSuccess:t,initialData:e}){const[r,n]=O.useState({nome:(e==null?void 0:e.nome)||"",categoria:(e==null?void 0:e.categoria)||"",categoriaId:(e==null?void 0:e.categoriaId)||"",descricao:(e==null?void 0:e.descricao)||"",valorMinimo:(e==null?void 0:e.valorMinimo)||0,valorMaximo:(e==null?void 0:e.valorMaximo)||0,prazoMinimo:(e==null?void 0:e.prazoMinimo)||(e==null?void 0:e.prazoMin)||12,prazoMaximo:(e==null?void 0:e.prazoMaximo)||(e==null?void 0:e.prazoMax)||84,taxaJuros:(e==null?void 0:e.taxaJuros)||0,taxaNegociada:(e==null?void 0:e.taxaNegociada)||0,comissaoFornecedor:(e==null?void 0:e.comissaoFornecedor)||0,comissaoAgente:(e==null?void 0:e.comissaoAgente)||(e==null?void 0:e.comissao)||0,fornecedorId:(e==null?void 0:e.fornecedorId)||"",bancoId:(e==null?void 0:e.bancoId)||"",status:(e==null?void 0:e.status)||"ativo",comissoes:(e==null?void 0:e.comissoes)||[{id:"1",valorMin:0,valorMax:1e4,percentual:3.5}]}),[i,s]=O.useState(!1),[a,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState([]),h=["Emprstimo Pessoal","Emprstimo Consignado","Portabilidade","FGTS","Troca Carto","Venda Digital","Refin da Portabilidade","REFIN","Saque Digital"];O.useEffect(()=>{(async()=>{try{const[b,_,S]=await Promise.all([x_(),kX(),uN()]);o(b),c(_),d(S)}catch(b){console.error("Erro ao carregar dados:",b)}})()},[]);const f=(w,b)=>{n(_=>({..._,[w]:b}))},g=()=>{var b;const w={id:Date.now().toString(),valorMin:((b=r.comissoes[r.comissoes.length-1])==null?void 0:b.valorMax)||0,valorMax:0,percentual:0};f("comissoes",[...r.comissoes,w])},m=w=>{if(r.comissoes.length===1){Be.error("Deve haver pelo menos uma faixa de comisso");return}f("comissoes",r.comissoes.filter(b=>b.id!==w))},v=(w,b,_)=>{f("comissoes",r.comissoes.map(S=>S.id===w?{...S,[b]:_}:S))},x=async w=>{if(w.preventDefault(),!r.nome.trim()){Be.error("Nome do produto  obrigatrio");return}if(!r.categoriaId&&!r.categoria){Be.error("Selecione uma categoria");return}if(r.valorMinimo<=0){Be.error("Valor mnimo deve ser maior que zero");return}if(r.valorMaximo<=r.valorMinimo){Be.error("Valor mximo deve ser maior que o valor mnimo");return}for(const b of r.comissoes){if(b.percentual<=0||b.percentual>100){Be.error("Percentual de comisso deve estar entre 0 e 100");return}if(b.valorMax<=b.valorMin){Be.error("Valor mximo da faixa deve ser maior que o mnimo");return}}s(!0);try{e!=null&&e.id?(await sGe(e.id,{...r,updatedAt:new Date}),Be.success("Produto atualizado com sucesso!")):Be.success("Produto salvo com sucesso!"),t()}catch(b){console.error("Erro ao salvar produto:",b),Be.error("Erro ao salvar produto")}finally{s(!1)}};return p.jsxs("form",{onSubmit:x,className:"space-y-6 max-h-[70vh] overflow-y-auto px-1",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"nome",children:"Nome do Produto *"}),p.jsx(pt,{id:"nome",value:r.nome,onChange:w=>f("nome",w.target.value),placeholder:"Ex: Consignado INSS"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"categoria",children:"Categoria *"}),p.jsxs(yn,{value:r.categoriaId,onValueChange:w=>{const b=u.find(_=>_.id===w);f("categoriaId",w),b&&f("categoria",b.nome)},children:[p.jsx(pn,{id:"categoria",children:p.jsx(xn,{placeholder:"Selecione a categoria"})}),p.jsxs(mn,{className:"max-h-[300px]",children:[h.map(w=>{const b=u.find(_=>_.nome.toLowerCase()===w.toLowerCase());return b?p.jsx($t,{value:b.id,children:b.nome},b.id):null}),u.filter(w=>!h.some(b=>b.toLowerCase()===w.nome.toLowerCase())).map(w=>p.jsx($t,{value:w.id,children:w.nome},w.id))]})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"descricao",children:"Descrio"}),p.jsx(uQ,{id:"descricao",value:r.descricao,onChange:w=>f("descricao",w.target.value),placeholder:"Descreva as caractersticas do produto...",rows:3})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"valorMinimo",children:"Valor Mnimo (R$)"}),p.jsx(pt,{id:"valorMinimo",type:"number",value:r.valorMinimo,onChange:w=>f("valorMinimo",parseFloat(w.target.value)||0),min:"0",step:"100"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"valorMaximo",children:"Valor Mximo (R$)"}),p.jsx(pt,{id:"valorMaximo",type:"number",value:r.valorMaximo,onChange:w=>f("valorMaximo",parseFloat(w.target.value)||0),min:"0",step:"100"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"prazoMinimo",children:"Prazo Mn. (meses)"}),p.jsx(pt,{id:"prazoMinimo",type:"number",value:r.prazoMinimo,onChange:w=>f("prazoMinimo",parseInt(w.target.value)||0),min:"1"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"prazoMaximo",children:"Prazo Mx. (meses)"}),p.jsx(pt,{id:"prazoMaximo",type:"number",value:r.prazoMaximo,onChange:w=>f("prazoMaximo",parseInt(w.target.value)||0),min:"1"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"taxaJuros",children:"Taxa de Juros (% a.m.)"}),p.jsx(pt,{id:"taxaJuros",type:"number",value:r.taxaJuros,onChange:w=>f("taxaJuros",parseFloat(w.target.value)||0),min:"0",step:"0.01"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"taxaNegociada",children:"Taxa Negociada (% a.m.)"}),p.jsx(pt,{id:"taxaNegociada",type:"number",value:r.taxaNegociada||0,onChange:w=>f("taxaNegociada",parseFloat(w.target.value)||0),min:"0",step:"0.01",placeholder:"Taxa acordada com fornecedor"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"comissaoFornecedor",children:"Comisso Fornecedor (%)"}),p.jsx(pt,{id:"comissaoFornecedor",type:"number",value:r.comissaoFornecedor,onChange:w=>f("comissaoFornecedor",parseFloat(w.target.value)||0),min:"0",max:"100",step:"0.1",placeholder:"% paga pelo fornecedor"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"comissaoAgente",children:"Comisso Agente (%)"}),p.jsx(pt,{id:"comissaoAgente",type:"number",value:r.comissaoAgente,onChange:w=>f("comissaoAgente",parseFloat(w.target.value)||0),min:"0",max:"100",step:"0.1",placeholder:"% para o agente"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"fornecedor",children:"Fornecedor"}),p.jsxs(yn,{value:r.fornecedorId,onValueChange:w=>f("fornecedorId",w),children:[p.jsx(pn,{id:"fornecedor",children:p.jsx(xn,{placeholder:"Selecione o fornecedor"})}),p.jsx(mn,{children:a.map(w=>p.jsx($t,{value:w.id,children:w.nomeFantasia||w.razaoSocial},w.id))})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"banco",children:"Banco"}),p.jsxs(yn,{value:r.bancoId,onValueChange:w=>f("bancoId",w),children:[p.jsx(pn,{id:"banco",children:p.jsx(xn,{placeholder:"Selecione o banco"})}),p.jsx(mn,{children:l.length===0?p.jsx($t,{value:"sem-banco",disabled:!0,children:"Nenhum banco cadastrado"}):l.map(w=>p.jsx($t,{value:w.id,children:w.codigo?`${w.codigo} - ${w.nome}`:w.nome},w.id))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"status",children:"Status"}),p.jsxs(yn,{value:r.status,onValueChange:w=>f("status",w),children:[p.jsx(pn,{id:"status",children:p.jsx(xn,{})}),p.jsxs(mn,{children:[p.jsx($t,{value:"ativo",children:"Ativo"}),p.jsx($t,{value:"inativo",children:"Inativo"})]})]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Xe,{className:"text-base font-semibold",children:"Tabela de Comisses"}),p.jsxs(mt,{type:"button",variant:"outline",size:"sm",onClick:g,className:"gap-2",children:[p.jsx(oC,{className:"w-4 h-4"}),"Adicionar Faixa"]})]}),p.jsx("div",{className:"space-y-3",children:r.comissoes.map(w=>p.jsx(Tr,{className:"p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-3",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx(Xe,{className:"text-xs",children:"Valor Mn. (R$)"}),p.jsx(pt,{type:"number",value:w.valorMin,onChange:b=>v(w.id,"valorMin",parseFloat(b.target.value)||0),min:"0",step:"100"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx(Xe,{className:"text-xs",children:"Valor Mx. (R$)"}),p.jsx(pt,{type:"number",value:w.valorMax,onChange:b=>v(w.id,"valorMax",parseFloat(b.target.value)||0),min:"0",step:"100"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx(Xe,{className:"text-xs",children:"Comisso (%)"}),p.jsx(pt,{type:"number",value:w.percentual,onChange:b=>v(w.id,"percentual",parseFloat(b.target.value)||0),min:"0",max:"100",step:"0.1"})]})]}),p.jsx(mt,{type:"button",variant:"ghost",size:"icon",onClick:()=>m(w.id),className:"text-destructive hover:text-destructive",children:p.jsx(Y_,{className:"w-4 h-4"})})]})},w.id))})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(mt,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),p.jsx(mt,{type:"submit",disabled:i,children:i?"Salvando...":e!=null&&e.id?"Atualizar Produto":"Salvar Produto"})]})]})}function g2t({open:t,onOpenChange:e,onSalvar:r}){const[n,i]=O.useState({nome:"",categoria:"",descricao:"",valorMinimo:0,valorMaximo:0,prazoMinimo:12,prazoMaximo:84,taxaJuros:0,taxaNegociada:0,comissaoFornecedor:0,comissaoAgente:0,status:"ativo",comissoes:[{id:"1",valorMin:0,valorMax:1e4,percentual:3.5}]}),[s,a]=O.useState(!1),[o,l]=O.useState([]),[c,u]=O.useState([]),[d,h]=O.useState([]),[f,g]=O.useState(!1),[m,v]=O.useState(""),x=["Emprstimo Pessoal","Emprstimo Consignado","Portabilidade","FGTS","Troca Carto","Venda Digital","Refin da Portabilidade","REFIN","Saque Digital"];O.useEffect(()=>{t&&(async()=>{try{const[N,F,A]=await Promise.all([x_(),kX(),uN()]);l(N),u(F),h(A)}catch(N){console.error("Erro ao carregar dados:",N)}})()},[t]);const w=async()=>{if(!m.trim()){Be.error("Digite o nome da categoria");return}try{await PX({nome:m.trim(),status:"ativo"}),Be.success("Categoria cadastrada com sucesso!"),g(!1),v("");const C=await uN();h(C)}catch(C){console.error("Erro ao criar categoria:",C),Be.error("Erro ao cadastrar categoria")}},b=(C,N)=>{i(F=>({...F,[C]:N}))},_=()=>{var N;const C={id:Date.now().toString(),valorMin:((N=n.comissoes[n.comissoes.length-1])==null?void 0:N.valorMax)||0,valorMax:0,percentual:0};b("comissoes",[...n.comissoes,C])},S=C=>{if(n.comissoes.length===1){Be.error("Deve haver pelo menos uma faixa de comisso");return}b("comissoes",n.comissoes.filter(N=>N.id!==C))},T=(C,N,F)=>{b("comissoes",n.comissoes.map(A=>A.id===C?{...A,[N]:F}:A))},E=async()=>{if(!n.nome.trim()){Be.error("Nome do produto  obrigatrio");return}if(!n.categoriaId&&!n.categoria){Be.error("Selecione uma categoria");return}if(n.valorMinimo<=0){Be.error("Valor mnimo deve ser maior que zero");return}if(n.valorMaximo<=n.valorMinimo){Be.error("Valor mximo deve ser maior que o valor mnimo");return}for(const C of n.comissoes){if(C.percentual<=0||C.percentual>100){Be.error("Percentual de comisso deve estar entre 0 e 100");return}if(C.valorMax<=C.valorMin){Be.error("Valor mximo da faixa deve ser maior que o mnimo");return}}a(!0);try{await r(n),Be.success("Produto cadastrado com sucesso!"),e(!1),i({nome:"",categoria:"",descricao:"",valorMinimo:0,valorMaximo:0,prazoMinimo:12,prazoMaximo:84,taxaJuros:0,taxaNegociada:0,comissaoFornecedor:0,comissaoAgente:0,status:"ativo",comissoes:[{id:"1",valorMin:0,valorMax:1e4,percentual:3.5}]})}catch(C){console.error("Erro ao salvar produto:",C),Be.error("Erro ao cadastrar produto")}finally{a(!1)}};return p.jsxs(oo,{open:t,onOpenChange:e,children:[p.jsxs($a,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[p.jsxs(Va,{children:[p.jsx(Ua,{children:"Novo Produto"}),p.jsx(Pm,{children:"Cadastre um novo produto financeiro com suas caractersticas e comisses"})]}),p.jsxs("div",{className:"grid gap-6 py-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"nome",children:"Nome do Produto *"}),p.jsx(pt,{id:"nome",value:n.nome,onChange:C=>b("nome",C.target.value),placeholder:"Ex: Consignado INSS"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Xe,{htmlFor:"categoria",className:"flex items-center justify-between",children:["Categoria *",p.jsx(mt,{type:"button",variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>g(!0),children:"+ Nova Categoria"})]}),p.jsxs(yn,{value:n.categoriaId,onValueChange:C=>{const N=d.find(F=>F.id===C);b("categoriaId",C),N&&b("categoria",N.nome)},children:[p.jsx(pn,{id:"categoria",children:p.jsx(xn,{placeholder:"Selecione a categoria"})}),p.jsxs(mn,{className:"max-h-[300px]",children:[x.map(C=>{const N=d.find(F=>F.nome.toLowerCase()===C.toLowerCase());return N?p.jsx($t,{value:N.id,children:N.nome},N.id):null}),d.filter(C=>!x.some(N=>N.toLowerCase()===C.nome.toLowerCase())).map(C=>p.jsx($t,{value:C.id,children:C.nome},C.id))]})]}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.length," categorias padro disponveis"]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"descricao",children:"Descrio"}),p.jsx(uQ,{id:"descricao",value:n.descricao,onChange:C=>b("descricao",C.target.value),placeholder:"Descreva as caractersticas do produto...",rows:3})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"valorMinimo",children:"Valor Mnimo (R$)"}),p.jsx(pt,{id:"valorMinimo",type:"number",value:n.valorMinimo,onChange:C=>b("valorMinimo",parseFloat(C.target.value)||0),min:"0",step:"100"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"valorMaximo",children:"Valor Mximo (R$)"}),p.jsx(pt,{id:"valorMaximo",type:"number",value:n.valorMaximo,onChange:C=>b("valorMaximo",parseFloat(C.target.value)||0),min:"0",step:"100"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"prazoMinimo",children:"Prazo Mn. (meses)"}),p.jsx(pt,{id:"prazoMinimo",type:"number",value:n.prazoMinimo,onChange:C=>b("prazoMinimo",parseInt(C.target.value)||0),min:"1"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"prazoMaximo",children:"Prazo Mx. (meses)"}),p.jsx(pt,{id:"prazoMaximo",type:"number",value:n.prazoMaximo,onChange:C=>b("prazoMaximo",parseInt(C.target.value)||0),min:"1"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"taxaJuros",children:"Taxa de Juros (% a.m.)"}),p.jsx(pt,{id:"taxaJuros",type:"number",value:n.taxaJuros,onChange:C=>b("taxaJuros",parseFloat(C.target.value)||0),min:"0",step:"0.01"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"taxaNegociada",children:"Taxa Negociada (% a.m.)"}),p.jsx(pt,{id:"taxaNegociada",type:"number",value:n.taxaNegociada||0,onChange:C=>b("taxaNegociada",parseFloat(C.target.value)||0),min:"0",step:"0.01",placeholder:"Taxa acordada com fornecedor"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Taxa especfica negociada para este produto"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"comissaoFornecedor",children:"Comisso Fornecedor (%)"}),p.jsx(pt,{id:"comissaoFornecedor",type:"number",value:n.comissaoFornecedor,onChange:C=>b("comissaoFornecedor",parseFloat(C.target.value)||0),min:"0",max:"100",step:"0.1",placeholder:"% paga pelo fornecedor"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Percentual que o fornecedor paga sobre a venda"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"comissaoAgente",children:"Comisso Agente (%)"}),p.jsx(pt,{id:"comissaoAgente",type:"number",value:n.comissaoAgente,onChange:C=>b("comissaoAgente",parseFloat(C.target.value)||0),min:"0",max:"100",step:"0.1",placeholder:"% para o agente"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Percentual que o agente recebe sobre a venda"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"fornecedor",children:"Fornecedor"}),p.jsxs(yn,{value:n.fornecedorId,onValueChange:C=>b("fornecedorId",C),children:[p.jsx(pn,{id:"fornecedor",children:p.jsx(xn,{placeholder:"Selecione o fornecedor"})}),p.jsx(mn,{children:o.map(C=>p.jsx($t,{value:C.id,children:C.nomeFantasia||C.razaoSocial},C.id))})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"banco",children:"Banco"}),p.jsxs(yn,{value:n.bancoId,onValueChange:C=>b("bancoId",C),children:[p.jsx(pn,{id:"banco",children:p.jsx(xn,{placeholder:"Selecione o banco"})}),p.jsx(mn,{children:c.length===0?p.jsx($t,{value:"sem-banco",disabled:!0,children:"Nenhum banco cadastrado"}):c.map(C=>p.jsx($t,{value:C.id,children:C.codigo?`${C.codigo} - ${C.nome}`:C.nome},C.id))})]}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Banco responsvel pelo produto"})]})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"comissaoFornecedor",children:"Comisso Paga pelo Fornecedor (%)"}),p.jsx(pt,{id:"comissaoFornecedor",type:"number",value:n.comissaoFornecedor,onChange:C=>b("comissaoFornecedor",parseFloat(C.target.value)||0),min:"0",max:"100",step:"0.01",placeholder:"Ex: 3.5"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Percentual que o banco paga sobre o valor do contrato"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"comissaoAgente",children:"Comisso do Agente Vendedor (%)"}),p.jsx(pt,{id:"comissaoAgente",type:"number",value:n.comissaoAgente,onChange:C=>b("comissaoAgente",parseFloat(C.target.value)||0),min:"0",max:"100",step:"0.01",placeholder:"Ex: 2.5"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Percentual de comisso para o agente vendedor"})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"status",children:"Status"}),p.jsxs(yn,{value:n.status,onValueChange:C=>b("status",C),children:[p.jsx(pn,{id:"status",children:p.jsx(xn,{})}),p.jsxs(mn,{children:[p.jsx($t,{value:"ativo",children:"Ativo"}),p.jsx($t,{value:"inativo",children:"Inativo"})]})]})]})}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Xe,{className:"text-base font-semibold",children:"Tabela de Comisses"}),p.jsxs(mt,{type:"button",variant:"outline",size:"sm",onClick:_,className:"gap-2",children:[p.jsx(oC,{className:"w-4 h-4"}),"Adicionar Faixa"]})]}),p.jsx("div",{className:"space-y-3",children:n.comissoes.map((C,N)=>p.jsx(Tr,{className:"p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-3",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx(Xe,{className:"text-xs",children:"Valor Mn. (R$)"}),p.jsx(pt,{type:"number",value:C.valorMin,onChange:F=>T(C.id,"valorMin",parseFloat(F.target.value)||0),min:"0",step:"100"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx(Xe,{className:"text-xs",children:"Valor Mx. (R$)"}),p.jsx(pt,{type:"number",value:C.valorMax,onChange:F=>T(C.id,"valorMax",parseFloat(F.target.value)||0),min:"0",step:"100"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx(Xe,{className:"text-xs",children:"Comisso (%)"}),p.jsx(pt,{type:"number",value:C.percentual,onChange:F=>T(C.id,"percentual",parseFloat(F.target.value)||0),min:"0",max:"100",step:"0.1"})]})]}),p.jsx(mt,{type:"button",variant:"ghost",size:"icon",onClick:()=>S(C.id),className:"text-destructive hover:text-destructive",children:p.jsx(Y_,{className:"w-4 h-4"})})]})},C.id))})]})]}),p.jsxs(Zw,{children:[p.jsx(mt,{variant:"outline",onClick:()=>e(!1),children:"Cancelar"}),p.jsx(mt,{onClick:E,disabled:s,children:s?"Salvando...":"Cadastrar Produto"})]})]}),p.jsx(oo,{open:f,onOpenChange:g,children:p.jsxs($a,{className:"max-w-md",children:[p.jsxs(Va,{children:[p.jsx(Ua,{children:"Nova Categoria"}),p.jsx(Pm,{children:"Cadastre uma nova categoria de produto"})]}),p.jsx("div",{className:"space-y-4 py-4",children:p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"nomeCategoria",children:"Nome da Categoria *"}),p.jsx(pt,{id:"nomeCategoria",value:m,onChange:C=>v(C.target.value),placeholder:"Ex: Saque Aniversrio FGTS",onKeyDown:C=>{C.key==="Enter"&&(C.preventDefault(),w())}})]})}),p.jsxs(Zw,{children:[p.jsx(mt,{variant:"outline",onClick:()=>{g(!1),v("")},children:"Cancelar"}),p.jsx(mt,{onClick:w,children:"Cadastrar"})]})]})})]})}var cEe="AlertDialog",[v2t,rHt]=Cc(cEe,[HSe]),rv=HSe(),uEe=t=>{const{__scopeAlertDialog:e,...r}=t,n=rv(e);return p.jsx(qZ,{...n,...r,modal:!0})};uEe.displayName=cEe;var y2t="AlertDialogTrigger",x2t=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=rv(r);return p.jsx(aAe,{...i,...n,ref:e})});x2t.displayName=y2t;var b2t="AlertDialogPortal",dEe=t=>{const{__scopeAlertDialog:e,...r}=t,n=rv(e);return p.jsx(GZ,{...n,...r})};dEe.displayName=b2t;var w2t="AlertDialogOverlay",hEe=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=rv(r);return p.jsx(HB,{...i,...n,ref:e})});hEe.displayName=w2t;var oA="AlertDialogContent",[_2t,S2t]=v2t(oA),A2t=N0e("AlertDialogContent"),fEe=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=rv(r),a=O.useRef(null),o=kn(e,a),l=O.useRef(null);return p.jsx(xwt,{contentName:oA,titleName:pEe,docsSlug:"alert-dialog",children:p.jsx(_2t,{scope:r,cancelRef:l,children:p.jsxs(WB,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:Ut(i.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[p.jsx(A2t,{children:n}),p.jsx(T2t,{contentRef:a})]})})})});fEe.displayName=oA;var pEe="AlertDialogTitle",mEe=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=rv(r);return p.jsx(KZ,{...i,...n,ref:e})});mEe.displayName=pEe;var gEe="AlertDialogDescription",vEe=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=rv(r);return p.jsx(YZ,{...i,...n,ref:e})});vEe.displayName=gEe;var E2t="AlertDialogAction",yEe=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=rv(r);return p.jsx(XZ,{...i,...n,ref:e})});yEe.displayName=E2t;var xEe="AlertDialogCancel",bEe=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=S2t(xEe,r),s=rv(r),a=kn(e,i);return p.jsx(XZ,{...s,...n,ref:a})});bEe.displayName=xEe;var T2t=({contentRef:t})=>{const e=`\`${oA}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${oA}\` by passing a \`${gEe}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${oA}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return O.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},C2t=uEe,k2t=dEe,wEe=hEe,_Ee=fEe,SEe=yEe,AEe=bEe,EEe=mEe,TEe=vEe;const dQ=C2t,P2t=k2t,CEe=O.forwardRef(({className:t,...e},r)=>p.jsx(wEe,{className:Pt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));CEe.displayName=wEe.displayName;const ZB=O.forwardRef(({className:t,...e},r)=>p.jsxs(P2t,{children:[p.jsx(CEe,{}),p.jsx(_Ee,{ref:r,className:Pt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));ZB.displayName=_Ee.displayName;const QB=({className:t,...e})=>p.jsx("div",{className:Pt("flex flex-col space-y-2 text-center sm:text-left",t),...e});QB.displayName="AlertDialogHeader";const JB=({className:t,...e})=>p.jsx("div",{className:Pt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});JB.displayName="AlertDialogFooter";const e7=O.forwardRef(({className:t,...e},r)=>p.jsx(EEe,{ref:r,className:Pt("text-lg font-semibold",t),...e}));e7.displayName=EEe.displayName;const t7=O.forwardRef(({className:t,...e},r)=>p.jsx(TEe,{ref:r,className:Pt("text-sm text-muted-foreground",t),...e}));t7.displayName=TEe.displayName;const r7=O.forwardRef(({className:t,...e},r)=>p.jsx(SEe,{ref:r,className:Pt(ZP(),t),...e}));r7.displayName=SEe.displayName;const n7=O.forwardRef(({className:t,...e},r)=>p.jsx(AEe,{ref:r,className:Pt(ZP({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));n7.displayName=AEe.displayName;function N2t({open:t,onOpenChange:e}){const[r,n]=O.useState([]),[i,s]=O.useState(!1),[a,o]=O.useState(""),[l,c]=O.useState(null),[u,d]=O.useState(null);O.useEffect(()=>{t&&h()},[t]);const h=async()=>{try{s(!0);const x=await uN();n(x)}catch(x){console.error("Erro ao carregar categorias:",x),Be.error("Erro ao carregar categorias")}finally{s(!1)}},f=async()=>{if(!a.trim()){Be.error("Digite o nome da categoria");return}try{await PX({nome:a.trim(),status:"ativo"}),Be.success("Categoria cadastrada com sucesso!"),o(""),h()}catch(x){console.error("Erro ao adicionar categoria:",x),Be.error("Erro ao cadastrar categoria")}},g=async()=>{if(!l||!l.nome.trim()){Be.error("Digite o nome da categoria");return}try{await Fie(l.id,{nome:l.nome.trim()}),Be.success("Categoria atualizada com sucesso!"),c(null),h()}catch(x){console.error("Erro ao atualizar categoria:",x),Be.error("Erro ao atualizar categoria")}},m=async()=>{if(u)try{await pGe(u.id),Be.success("Categoria excluda com sucesso!"),d(null),h()}catch(x){console.error("Erro ao excluir categoria:",x),Be.error("Erro ao excluir categoria")}},v=async x=>{try{const w=x.status==="ativo"?"inativo":"ativo";await Fie(x.id,{status:w}),Be.success(`Categoria ${w==="ativo"?"ativada":"desativada"} com sucesso!`),h()}catch(w){console.error("Erro ao alterar status:",w),Be.error("Erro ao alterar status da categoria")}};return p.jsxs(p.Fragment,{children:[p.jsx(oo,{open:t,onOpenChange:e,children:p.jsxs($a,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[p.jsxs(Va,{children:[p.jsx(Ua,{children:"Gerenciar Categorias de Produtos"}),p.jsx(Pm,{children:"Cadastre e gerencie as categorias disponveis para os produtos"})]}),p.jsxs("div",{className:"space-y-6 py-4",children:[p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx(Xe,{htmlFor:"novaCategoria",children:"Nova Categoria"}),p.jsx(pt,{id:"novaCategoria",value:a,onChange:x=>o(x.target.value),placeholder:"Ex: Financiamento Imobilirio",onKeyDown:x=>{x.key==="Enter"&&(x.preventDefault(),f())}})]}),p.jsxs(mt,{onClick:f,className:"mt-6 gap-2",children:[p.jsx(oC,{className:"w-4 h-4"}),"Adicionar"]})]}),p.jsx("div",{className:"border rounded-lg",children:p.jsxs(Ff,{children:[p.jsx(jf,{children:p.jsxs(di,{children:[p.jsx(Xt,{children:"Nome"}),p.jsx(Xt,{className:"w-24",children:"Status"}),p.jsx(Xt,{className:"w-32 text-right",children:"Aes"})]})}),p.jsx(Lf,{children:i?p.jsx(di,{children:p.jsx(Vt,{colSpan:3,className:"text-center py-8",children:"Carregando..."})}):r.length===0?p.jsx(di,{children:p.jsx(Vt,{colSpan:3,className:"text-center py-8 text-muted-foreground",children:"Nenhuma categoria cadastrada"})}):r.map(x=>p.jsxs(di,{children:[p.jsx(Vt,{children:(l==null?void 0:l.id)===x.id?p.jsx(pt,{value:l.nome,onChange:w=>c({...l,nome:w.target.value}),onKeyDown:w=>{w.key==="Enter"&&(w.preventDefault(),g()),w.key==="Escape"&&c(null)},autoFocus:!0}):p.jsx("span",{className:"font-medium",children:x.nome})}),p.jsx(Vt,{children:p.jsx(Ns,{variant:x.status==="ativo"?"default":"secondary",className:`cursor-pointer ${x.status==="ativo"?"bg-success hover:bg-success/90":""}`,onClick:()=>v(x),children:x.status==="ativo"?"Ativo":"Inativo"})}),p.jsx(Vt,{className:"text-right",children:(l==null?void 0:l.id)===x.id?p.jsxs("div",{className:"flex gap-2 justify-end",children:[p.jsx(mt,{size:"sm",variant:"outline",onClick:()=>c(null),children:"Cancelar"}),p.jsx(mt,{size:"sm",onClick:g,children:"Salvar"})]}):p.jsxs("div",{className:"flex gap-2 justify-end",children:[p.jsx(mt,{size:"icon",variant:"ghost",onClick:()=>c(x),children:p.jsx(FF,{className:"w-4 h-4"})}),p.jsx(mt,{size:"icon",variant:"ghost",className:"text-destructive hover:text-destructive",onClick:()=>d(x),children:p.jsx(eY,{className:"w-4 h-4"})})]})})]},x.id))})]})})]})]})}),p.jsx(dQ,{open:!!u,onOpenChange:x=>!x&&d(null),children:p.jsxs(ZB,{children:[p.jsxs(QB,{children:[p.jsx(e7,{children:"Confirmar excluso"}),p.jsxs(t7,{children:['Tem certeza que deseja excluir a categoria "',u==null?void 0:u.nome,'"? Esta ao no pode ser desfeita.']})]}),p.jsxs(JB,{children:[p.jsx(n7,{children:"Cancelar"}),p.jsx(r7,{onClick:m,className:"bg-destructive hover:bg-destructive/90",children:"Excluir"})]})]})})]})}const I2t=[{key:"nome",header:"Produto",render:t=>p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-9 h-9 rounded-lg bg-primary/10 flex items-center justify-center",children:p.jsx(r8,{className:"w-5 h-5 text-primary"})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-sm",children:t.nome}),p.jsx("p",{className:"text-xs text-muted-foreground",children:t.codigo})]})]})},{key:"prazo",header:"Prazo",render:t=>p.jsxs("span",{className:"text-sm",children:[t.prazoMin," - ",t.prazoMax," meses"]})},{key:"tipoTabela",header:"Tipo de Tabela"},{key:"comissaoFornecedor",header:"Comisso Fornecedor",render:t=>p.jsx("span",{className:"font-medium text-blue-600",children:t.comissaoFornecedor?`${t.comissaoFornecedor}%`:"-"})},{key:"comissao",header:"Comisso Agente",render:t=>p.jsxs("span",{className:"font-medium text-success",children:[t.comissao,"%"]})},{key:"status",header:"Status",render:t=>p.jsx(Ns,{variant:t.status==="ativo"?"default":"secondary",className:t.status==="ativo"?"bg-success hover:bg-success/90":"",children:t.status==="ativo"?"Ativo":"Inativo"})}],O2t=["Nome","Cdigo","Descrio","Prazo Mnimo","Prazo Mximo","Tipo Tabela","Comisso %"];function R2t(){const[t,e]=O.useState(!1),[r,n]=O.useState(!1),[i,s]=O.useState(!1),[a,o]=O.useState(!1),[l,c]=O.useState([]),[u,d]=O.useState(!0),[h,f]=O.useState(null);O.useEffect(()=>{g()},[]);const g=async()=>{try{d(!0);const S=(await SC()).map(T=>({id:T.id,nome:T.nome,codigo:T.codigo,descricao:T.descricao,prazoMin:T.prazoMin,prazoMax:T.prazoMax,tipoTabela:T.tipoTabela,comissao:T.comissao,comissaoFornecedor:T.comissaoFornecedor,status:T.status}));c(S)}catch(_){console.error("Erro ao carregar produtos:",_),Be.error("Erro ao carregar produtos")}finally{d(!1)}},m=_=>{const S=l.find(T=>T.id===_.id);f(S||{id:_.id,nome:_.nome,codigo:_.codigo,descricao:_.descricao,prazoMin:_.prazoMin,prazoMax:_.prazoMax,tipoTabela:_.tipoTabela,comissao:_.comissao,comissaoFornecedor:_.comissaoFornecedor,status:_.status}),e(!0)},v=async _=>{if(confirm(`Deseja realmente excluir o produto ${_.nome}?`))try{await aGe(_.id),Be.success("Produto excludo com sucesso!"),g()}catch(S){console.error("Erro ao excluir produto:",S),Be.error("Erro ao excluir produto")}},x=()=>{e(!1),f(null),g()},w=async _=>{try{await Hf(pi(_r,"produtos"),{..._,createdAt:new Date,updatedAt:new Date}),n(!1),g()}catch(S){throw console.error("Erro ao salvar produto:",S),S}},b=_=>{console.log("Produtos importados:",_)};return p.jsxs("div",{children:[p.jsxs(uu,{title:"Produtos",description:"Catlogo de produtos de crdito consignado",action:{label:"Novo Produto",onClick:()=>n(!0)},children:[p.jsxs(mt,{variant:"outline",className:"gap-2",onClick:()=>o(!0),children:[p.jsx(jDe,{className:"w-4 h-4"}),"Categorias"]}),p.jsxs(mt,{variant:"outline",className:"gap-2",onClick:()=>s(!0),children:[p.jsx(fg,{className:"w-4 h-4"}),"Importar"]})]}),p.jsx(lR,{columns:I2t,data:l,searchPlaceholder:"Buscar por nome ou cdigo...",onEdit:m,onDelete:v}),p.jsx(oo,{open:t,onOpenChange:_=>{e(_),_||f(null)},children:p.jsxs($a,{className:"max-w-3xl max-h-[90vh] overflow-hidden",children:[p.jsx(Va,{children:p.jsx(Ua,{children:h?"Editar Produto":"Produto"})}),p.jsx(m2t,{initialData:h||void 0,onSuccess:x})]})}),p.jsx(g2t,{open:r,onOpenChange:n,onSalvar:w}),p.jsx(cQ,{open:i,onOpenChange:s,title:"Produtos",description:"Importe seu catlogo de produtos a partir de um arquivo CSV",templateColumns:O2t,onImport:b}),p.jsx(N2t,{open:a,onOpenChange:o})]})}const D2t=sQ({nome:ys().min(3,"Nome deve ter pelo menos 3 caracteres"),cpf:oEe,email:ys().email("Email invlido"),telefone:lQ,cargo:b_t(["admin","gerente","agente","atendente"],{errorMap:()=>({message:"Selecione um cargo vlido"})}),salarioBruto:ys().min(1,"Salrio bruto  obrigatrio"),endereco:ys().min(5,"Endereo  obrigatrio"),cidade:ys().min(2,"Cidade  obrigatria"),uf:ys().min(2,"UF  obrigatria"),cep:lEe,dataNascimento:ys().min(10,"Data de nascimento  obrigatria"),dataAdmissao:ys().min(10,"Data de admisso  obrigatria"),dataDemissao:ys().optional(),senhaInicial:ys().min(6,"Senha deve ter pelo menos 6 caracteres").optional()}),M2t=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"];function F2t({onSuccess:t,initialData:e}){const[r,n]=O.useState(!1),{register:i,handleSubmit:s,setValue:a,formState:{errors:o,isSubmitting:l}}=rQ({resolver:nQ(D2t),defaultValues:e}),c=g=>{const m=iEe(g.target.value);a("cpf",m)},u=g=>{let m=g.target.value.replace(/\D/g,"");m=(Number(m)/100).toFixed(2);const v=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(m));a("salarioBruto",v)},d=g=>{const m=oQ(g.target.value);a("telefone",m)},h=async g=>{const m=sEe(g.target.value);if(a("cep",m),m.replace(/\D/g,"").length===8){n(!0);try{const v=await aEe(m);v&&(a("endereco",v.logradouro),a("cidade",v.localidade),a("uf",v.uf),Be.success("CEP encontrado!"))}catch{Be.error("CEP no encontrado")}finally{n(!1)}}},f=async g=>{try{if(e!=null&&e.id){const m=Number(g.salarioBruto.replace(/[^0-9,]/g,"").replace(",","."));await nGe(e.id,{...g,salario:m,status:"ativo"}),Be.success("Funcionrio atualizado com sucesso!")}else{const m=g.senhaInicial||`${g.cpf.replace(/\D/g,"").slice(0,6)}`;let v;try{v=(await i7e(Ay,g.email,m)).user.uid;const b={admin:"admin",gerente:"gerente",agente:"agente",atendente:"atendente"};await f0(ri(_r,"users",v),{uid:v,email:g.email,displayName:g.nome,role:b[g.cargo],createdAt:new Date}),Be.success("Usurio de acesso criado com sucesso!")}catch(w){if(w.code==="auth/email-already-in-use")Be.warning("Email j cadastrado. Funcionrio ser criado sem usurio de acesso.");else throw w}const x=Number(g.salarioBruto.replace(/[^0-9,]/g,"").replace(",","."));await rGe({...g,funcao:g.cargo,salario:x,status:"ativo"}),Be.success(`Funcionrio cadastrado com sucesso! Login: ${g.email} | Senha inicial: ${m}`)}t()}catch(m){console.error("Erro ao salvar funcionrio:",m),Be.error("Erro ao salvar funcionrio. Tente novamente.")}};return p.jsxs("form",{onSubmit:s(f),className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(Xe,{htmlFor:"nome",children:"Nome Completo *"}),p.jsx(pt,{id:"nome",...i("nome"),placeholder:"Digite o nome completo"}),o.nome&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:o.nome.message})]}),p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"cpf",children:"CPF *"}),p.jsx(pt,{id:"cpf",...i("cpf"),onChange:c,placeholder:"000.000.000-00",maxLength:14}),o.cpf&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:o.cpf.message})]}),p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"dataNascimento",children:"Data de Nascimento *"}),p.jsx(pt,{id:"dataNascimento",type:"date",...i("dataNascimento")}),o.dataNascimento&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:o.dataNascimento.message})]}),p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"email",children:"Email *"}),p.jsx(pt,{id:"email",type:"email",...i("email"),placeholder:"email@empresa.com"}),o.email&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:o.email.message})]}),p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"cargo",children:"Cargo/Nvel de Acesso *"}),p.jsxs(yn,{onValueChange:g=>a("cargo",g),children:[p.jsx(pn,{id:"cargo",children:p.jsx(xn,{placeholder:"Selecione o cargo"})}),p.jsxs(mn,{children:[p.jsx($t,{value:"atendente",children:"Atendente (Nvel 1)"}),p.jsx($t,{value:"agente",children:"Agente (Nvel 2)"}),p.jsx($t,{value:"gerente",children:"Gerente (Nvel 3)"}),p.jsx($t,{value:"admin",children:"Administrador (Nvel 4)"})]})]}),o.cargo&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:o.cargo.message})]}),p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"salarioBruto",children:"Salrio Bruto *"}),p.jsx(pt,{id:"salarioBruto",...i("salarioBruto"),onChange:u,placeholder:"R$ 0,00"}),o.salarioBruto&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:o.salarioBruto.message})]}),p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"telefone",children:"Telefone *"}),p.jsx(pt,{id:"telefone",...i("telefone"),onChange:d,placeholder:"(00) 00000-0000",maxLength:15}),o.telefone&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:o.telefone.message})]}),!(e!=null&&e.id)&&p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(Xe,{htmlFor:"senhaInicial",children:"Senha Inicial (opcional)"}),p.jsx(pt,{id:"senhaInicial",type:"password",...i("senhaInicial"),placeholder:"Deixe vazio para usar os 6 primeiros dgitos do CPF"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Se no informada, ser gerada automaticamente usando os primeiros 6 dgitos do CPF"}),o.senhaInicial&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:o.senhaInicial.message})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(Xe,{htmlFor:"endereco",children:"Endereo *"}),p.jsx(pt,{id:"endereco",...i("endereco"),placeholder:"Rua, nmero, bairro"}),o.endereco&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:o.endereco.message})]}),p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"cidade",children:"Cidade *"}),p.jsx(pt,{id:"cidade",...i("cidade"),placeholder:"Digite a cidade"}),o.cidade&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:o.cidade.message})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"uf",children:"UF *"}),p.jsxs(yn,{onValueChange:g=>a("uf",g),children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"UF"})}),p.jsx(mn,{children:M2t.map(g=>p.jsx($t,{value:g,children:g},g))})]}),o.uf&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:o.uf.message})]}),p.jsxs("div",{children:[p.jsxs(Xe,{htmlFor:"cep",children:["CEP ",r&&"(Buscando...)"]}),p.jsx(pt,{id:"cep",...i("cep"),onChange:h,placeholder:"00000-000",maxLength:9,disabled:r}),o.cep&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:o.cep.message})]})]}),p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"dataAdmissao",children:"Data de Admisso *"}),p.jsx(pt,{id:"dataAdmissao",type:"date",...i("dataAdmissao")}),o.dataAdmissao&&p.jsx("p",{className:"text-sm text-destructive mt-1",children:o.dataAdmissao.message})]}),p.jsxs("div",{children:[p.jsx(Xe,{htmlFor:"dataDemissao",children:"Data de Demisso"}),p.jsx(pt,{id:"dataDemissao",type:"date",...i("dataDemissao")})]})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(mt,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),p.jsx(mt,{type:"submit",disabled:l,children:l?"Salvando...":"Salvar Funcionrio"})]})]})}const j2t={Agente:"bg-primary hover:bg-primary/90",Gerente:"bg-accent hover:bg-accent/90",Atendente:"bg-warning hover:bg-warning/90 text-warning-foreground",Diretor:"bg-success hover:bg-success/90"},L2t=[{key:"nome",header:"Funcionrio",render:t=>p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(dx,{className:"w-9 h-9",children:p.jsx(hx,{className:"bg-primary/10 text-primary text-xs",children:t.nome.split(" ").map(e=>e[0]).slice(0,2).join("")})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-sm",children:t.nome}),p.jsx("p",{className:"text-xs text-muted-foreground",children:t.cpf})]})]})},{key:"funcao",header:"Funo",render:t=>p.jsx(Ns,{className:j2t[t.funcao]||"bg-secondary",children:t.funcao})},{key:"email",header:"Contato",render:t=>p.jsxs("div",{children:[p.jsx("p",{className:"text-sm",children:t.email}),p.jsx("p",{className:"text-xs text-muted-foreground",children:t.telefone})]})},{key:"cidade",header:"Localizao",render:t=>p.jsxs("span",{className:"text-sm",children:[t.cidade,", ",t.uf]})},{key:"dataAdmissao",header:"Admisso"},{key:"status",header:"Status",render:t=>p.jsx(Ns,{variant:t.status==="ativo"?"default":"secondary",className:t.status==="ativo"?"bg-success hover:bg-success/90":"",children:t.status==="ativo"?"Ativo":"Inativo"})}];function B2t(){const[t,e]=O.useState(!1),[r,n]=O.useState([]),[i,s]=O.useState(!0),[a,o]=O.useState(null);O.useEffect(()=>{l()},[]);const l=async()=>{try{s(!0);const f=(await fx()).map(g=>({id:g.id,nome:g.nome,cpf:g.cpf,email:g.email,telefone:g.telefone,cidade:g.cidade,uf:g.uf,funcao:g.funcao,dataAdmissao:g.dataAdmissao,status:g.status}));n(f)}catch(h){console.error("Erro ao carregar funcionrios:",h),Be.error("Erro ao carregar funcionrios")}finally{s(!1)}},c=h=>{const f={id:h.id,nome:h.nome,cpf:h.cpf,email:h.email,telefone:h.telefone,endereco:"",cidade:h.cidade,uf:h.uf,cep:"",funcao:h.funcao,dataAdmissao:h.dataAdmissao,status:h.status};o(f),e(!0)},u=async h=>{if(confirm(`Deseja realmente excluir o funcionrio ${h.nome}?`))try{await iGe(h.id),Be.success("Funcionrio excludo com sucesso!"),l()}catch(f){console.error("Erro ao excluir funcionrio:",f),Be.error("Erro ao excluir funcionrio")}},d=()=>{e(!1),o(null),l()};return p.jsxs("div",{children:[p.jsx(uu,{title:"Funcionrios / Agentes",description:"Gerencie a equipe de colaboradores",action:{label:"Novo Funcionrio",onClick:()=>e(!0)}}),p.jsx(lR,{columns:L2t,data:r,searchPlaceholder:"Buscar por nome, CPF ou funo...",onEdit:c,onDelete:u}),p.jsx(oo,{open:t,onOpenChange:h=>{e(h),h||o(null)},children:p.jsxs($a,{className:"max-w-2xl",children:[p.jsx(Va,{children:p.jsx(Ua,{children:a?"Editar Funcionrio":"Novo Funcionrio"})}),p.jsx(F2t,{initialData:a||void 0,onSuccess:d})]})})]})}var uce=1,$2t=.9,V2t=.8,U2t=.17,F9=.1,j9=.999,z2t=.9999,H2t=.99,W2t=/[\\\/_+.#"@\[\(\{&]/,q2t=/[\\\/_+.#"@\[\(\{&]/g,G2t=/[\s-]/,kEe=/[\s-]/g;function PW(t,e,r,n,i,s,a){if(s===e.length)return i===t.length?uce:H2t;var o=`${i},${s}`;if(a[o]!==void 0)return a[o];for(var l=n.charAt(s),c=r.indexOf(l,i),u=0,d,h,f,g;c>=0;)d=PW(t,e,r,n,c+1,s+1,a),d>u&&(c===i?d*=uce:W2t.test(t.charAt(c-1))?(d*=V2t,f=t.slice(i,c-1).match(q2t),f&&i>0&&(d*=Math.pow(j9,f.length))):G2t.test(t.charAt(c-1))?(d*=$2t,g=t.slice(i,c-1).match(kEe),g&&i>0&&(d*=Math.pow(j9,g.length))):(d*=U2t,i>0&&(d*=Math.pow(j9,c-i))),t.charAt(c)!==e.charAt(s)&&(d*=z2t)),(d<F9&&r.charAt(c-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(c-1)!==n.charAt(s))&&(h=PW(t,e,r,n,c+1,s+2,a),h*F9>d&&(d=h*F9)),d>u&&(u=d),c=r.indexOf(l,c+1);return a[o]=u,u}function dce(t){return t.toLowerCase().replace(kEe," ")}function K2t(t,e,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,PW(t,e,dce(t),dce(e),0,0,{})}var Mk='[cmdk-group=""]',L9='[cmdk-group-items=""]',Y2t='[cmdk-group-heading=""]',PEe='[cmdk-item=""]',hce=`${PEe}:not([aria-disabled="true"])`,NW="cmdk-item-select",iS="data-value",X2t=(t,e,r)=>K2t(t,e,r),NEe=O.createContext(void 0),uR=()=>O.useContext(NEe),IEe=O.createContext(void 0),hQ=()=>O.useContext(IEe),OEe=O.createContext(void 0),REe=O.forwardRef((t,e)=>{let r=sS(()=>{var R,j;return{search:"",value:(j=(R=t.value)!=null?R:t.defaultValue)!=null?j:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=sS(()=>new Set),i=sS(()=>new Map),s=sS(()=>new Map),a=sS(()=>new Set),o=DEe(t),{label:l,children:c,value:u,onValueChange:d,filter:h,shouldFilter:f,loop:g,disablePointerSelection:m=!1,vimBindings:v=!0,...x}=t,w=il(),b=il(),_=il(),S=O.useRef(null),T=oSt();N_(()=>{if(u!==void 0){let R=u.trim();r.current.value=R,E.emit()}},[u]),N_(()=>{T(6,M)},[]);let E=O.useMemo(()=>({subscribe:R=>(a.current.add(R),()=>a.current.delete(R)),snapshot:()=>r.current,setState:(R,j,V)=>{var K,ne,J,me;if(!Object.is(r.current[R],j)){if(r.current[R]=j,R==="search")I(),F(),T(1,A);else if(R==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ce=document.getElementById(_);ce?ce.focus():(K=document.getElementById(w))==null||K.focus()}if(T(7,()=>{var ce;r.current.selectedItemId=(ce=U())==null?void 0:ce.id,E.emit()}),V||T(5,M),((ne=o.current)==null?void 0:ne.value)!==void 0){let ce=j??"";(me=(J=o.current).onValueChange)==null||me.call(J,ce);return}}E.emit()}},emit:()=>{a.current.forEach(R=>R())}}),[]),C=O.useMemo(()=>({value:(R,j,V)=>{var K;j!==((K=s.current.get(R))==null?void 0:K.value)&&(s.current.set(R,{value:j,keywords:V}),r.current.filtered.items.set(R,N(j,V)),T(2,()=>{F(),E.emit()}))},item:(R,j)=>(n.current.add(R),j&&(i.current.has(j)?i.current.get(j).add(R):i.current.set(j,new Set([R]))),T(3,()=>{I(),F(),r.current.value||A(),E.emit()}),()=>{s.current.delete(R),n.current.delete(R),r.current.filtered.items.delete(R);let V=U();T(4,()=>{I(),(V==null?void 0:V.getAttribute("id"))===R&&A(),E.emit()})}),group:R=>(i.current.has(R)||i.current.set(R,new Set),()=>{s.current.delete(R),i.current.delete(R)}),filter:()=>o.current.shouldFilter,label:l||t["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:w,inputId:_,labelId:b,listInnerRef:S}),[]);function N(R,j){var V,K;let ne=(K=(V=o.current)==null?void 0:V.filter)!=null?K:X2t;return R?ne(R,r.current.search,j):0}function F(){if(!r.current.search||o.current.shouldFilter===!1)return;let R=r.current.filtered.items,j=[];r.current.filtered.groups.forEach(K=>{let ne=i.current.get(K),J=0;ne.forEach(me=>{let ce=R.get(me);J=Math.max(ce,J)}),j.push([K,J])});let V=S.current;Y().sort((K,ne)=>{var J,me;let ce=K.getAttribute("id"),he=ne.getAttribute("id");return((J=R.get(he))!=null?J:0)-((me=R.get(ce))!=null?me:0)}).forEach(K=>{let ne=K.closest(L9);ne?ne.appendChild(K.parentElement===ne?K:K.closest(`${L9} > *`)):V.appendChild(K.parentElement===V?K:K.closest(`${L9} > *`))}),j.sort((K,ne)=>ne[1]-K[1]).forEach(K=>{var ne;let J=(ne=S.current)==null?void 0:ne.querySelector(`${Mk}[${iS}="${encodeURIComponent(K[0])}"]`);J==null||J.parentElement.appendChild(J)})}function A(){let R=Y().find(V=>V.getAttribute("aria-disabled")!=="true"),j=R==null?void 0:R.getAttribute(iS);E.setState("value",j||void 0)}function I(){var R,j,V,K;if(!r.current.search||o.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ne=0;for(let J of n.current){let me=(j=(R=s.current.get(J))==null?void 0:R.value)!=null?j:"",ce=(K=(V=s.current.get(J))==null?void 0:V.keywords)!=null?K:[],he=N(me,ce);r.current.filtered.items.set(J,he),he>0&&ne++}for(let[J,me]of i.current)for(let ce of me)if(r.current.filtered.items.get(ce)>0){r.current.filtered.groups.add(J);break}r.current.filtered.count=ne}function M(){var R,j,V;let K=U();K&&(((R=K.parentElement)==null?void 0:R.firstChild)===K&&((V=(j=K.closest(Mk))==null?void 0:j.querySelector(Y2t))==null||V.scrollIntoView({block:"nearest"})),K.scrollIntoView({block:"nearest"}))}function U(){var R;return(R=S.current)==null?void 0:R.querySelector(`${PEe}[aria-selected="true"]`)}function Y(){var R;return Array.from(((R=S.current)==null?void 0:R.querySelectorAll(hce))||[])}function X(R){let j=Y()[R];j&&E.setState("value",j.getAttribute(iS))}function W(R){var j;let V=U(),K=Y(),ne=K.findIndex(me=>me===V),J=K[ne+R];(j=o.current)!=null&&j.loop&&(J=ne+R<0?K[K.length-1]:ne+R===K.length?K[0]:K[ne+R]),J&&E.setState("value",J.getAttribute(iS))}function G(R){let j=U(),V=j==null?void 0:j.closest(Mk),K;for(;V&&!K;)V=R>0?sSt(V,Mk):aSt(V,Mk),K=V==null?void 0:V.querySelector(hce);K?E.setState("value",K.getAttribute(iS)):W(R)}let B=()=>X(Y().length-1),re=R=>{R.preventDefault(),R.metaKey?B():R.altKey?G(1):W(1)},ae=R=>{R.preventDefault(),R.metaKey?X(0):R.altKey?G(-1):W(-1)};return O.createElement(pr.div,{ref:e,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:R=>{var j;(j=x.onKeyDown)==null||j.call(x,R);let V=R.nativeEvent.isComposing||R.keyCode===229;if(!(R.defaultPrevented||V))switch(R.key){case"n":case"j":{v&&R.ctrlKey&&re(R);break}case"ArrowDown":{re(R);break}case"p":case"k":{v&&R.ctrlKey&&ae(R);break}case"ArrowUp":{ae(R);break}case"Home":{R.preventDefault(),X(0);break}case"End":{R.preventDefault(),B();break}case"Enter":{R.preventDefault();let K=U();if(K){let ne=new Event(NW);K.dispatchEvent(ne)}}}}},O.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:cSt},l),i7(t,R=>O.createElement(IEe.Provider,{value:E},O.createElement(NEe.Provider,{value:C},R))))}),Z2t=O.forwardRef((t,e)=>{var r,n;let i=il(),s=O.useRef(null),a=O.useContext(OEe),o=uR(),l=DEe(t),c=(n=(r=l.current)==null?void 0:r.forceMount)!=null?n:a==null?void 0:a.forceMount;N_(()=>{if(!c)return o.item(i,a==null?void 0:a.id)},[c]);let u=MEe(i,s,[t.value,t.children,s],t.keywords),d=hQ(),h=Gy(T=>T.value&&T.value===u.current),f=Gy(T=>c||o.filter()===!1?!0:T.search?T.filtered.items.get(i)>0:!0);O.useEffect(()=>{let T=s.current;if(!(!T||t.disabled))return T.addEventListener(NW,g),()=>T.removeEventListener(NW,g)},[f,t.onSelect,t.disabled]);function g(){var T,E;m(),(E=(T=l.current).onSelect)==null||E.call(T,u.current)}function m(){d.setState("value",u.current,!0)}if(!f)return null;let{disabled:v,value:x,onSelect:w,forceMount:b,keywords:_,...S}=t;return O.createElement(pr.div,{ref:Ng(s,e),...S,id:i,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!h,"data-disabled":!!v,"data-selected":!!h,onPointerMove:v||o.getDisablePointerSelection()?void 0:m,onClick:v?void 0:g},t.children)}),Q2t=O.forwardRef((t,e)=>{let{heading:r,children:n,forceMount:i,...s}=t,a=il(),o=O.useRef(null),l=O.useRef(null),c=il(),u=uR(),d=Gy(f=>i||u.filter()===!1?!0:f.search?f.filtered.groups.has(a):!0);N_(()=>u.group(a),[]),MEe(a,o,[t.value,t.heading,l]);let h=O.useMemo(()=>({id:a,forceMount:i}),[i]);return O.createElement(pr.div,{ref:Ng(o,e),...s,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},r&&O.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),i7(t,f=>O.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},O.createElement(OEe.Provider,{value:h},f))))}),J2t=O.forwardRef((t,e)=>{let{alwaysRender:r,...n}=t,i=O.useRef(null),s=Gy(a=>!a.search);return!r&&!s?null:O.createElement(pr.div,{ref:Ng(i,e),...n,"cmdk-separator":"",role:"separator"})}),eSt=O.forwardRef((t,e)=>{let{onValueChange:r,...n}=t,i=t.value!=null,s=hQ(),a=Gy(c=>c.search),o=Gy(c=>c.selectedItemId),l=uR();return O.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),O.createElement(pr.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":o,id:l.inputId,type:"text",value:i?t.value:a,onChange:c=>{i||s.setState("search",c.target.value),r==null||r(c.target.value)}})}),tSt=O.forwardRef((t,e)=>{let{children:r,label:n="Suggestions",...i}=t,s=O.useRef(null),a=O.useRef(null),o=Gy(c=>c.selectedItemId),l=uR();return O.useEffect(()=>{if(a.current&&s.current){let c=a.current,u=s.current,d,h=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let f=c.offsetHeight;u.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return h.observe(c),()=>{cancelAnimationFrame(d),h.unobserve(c)}}},[]),O.createElement(pr.div,{ref:Ng(s,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":n,id:l.listId},i7(t,c=>O.createElement("div",{ref:Ng(a,l.listInnerRef),"cmdk-list-sizer":""},c)))}),rSt=O.forwardRef((t,e)=>{let{open:r,onOpenChange:n,overlayClassName:i,contentClassName:s,container:a,...o}=t;return O.createElement(qZ,{open:r,onOpenChange:n},O.createElement(GZ,{container:a},O.createElement(HB,{"cmdk-overlay":"",className:i}),O.createElement(WB,{"aria-label":t.label,"cmdk-dialog":"",className:s},O.createElement(REe,{ref:e,...o}))))}),nSt=O.forwardRef((t,e)=>Gy(r=>r.filtered.count===0)?O.createElement(pr.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),iSt=O.forwardRef((t,e)=>{let{progress:r,children:n,label:i="Loading...",...s}=t;return O.createElement(pr.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},i7(t,a=>O.createElement("div",{"aria-hidden":!0},a)))}),fu=Object.assign(REe,{List:tSt,Item:Z2t,Input:eSt,Group:Q2t,Separator:J2t,Dialog:rSt,Empty:nSt,Loading:iSt});function sSt(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return r;r=r.nextElementSibling}}function aSt(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return r;r=r.previousElementSibling}}function DEe(t){let e=O.useRef(t);return N_(()=>{e.current=t}),e}var N_=typeof window>"u"?O.useEffect:O.useLayoutEffect;function sS(t){let e=O.useRef();return e.current===void 0&&(e.current=t()),e}function Gy(t){let e=hQ(),r=()=>t(e.snapshot());return O.useSyncExternalStore(e.subscribe,r,r)}function MEe(t,e,r,n=[]){let i=O.useRef(),s=uR();return N_(()=>{var a;let o=(()=>{var c;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(c=u.current.textContent)==null?void 0:c.trim():i.current}})(),l=n.map(c=>c.trim());s.value(t,o,l),(a=e.current)==null||a.setAttribute(iS,o),i.current=o}),i}var oSt=()=>{let[t,e]=O.useState(),r=sS(()=>new Map);return N_(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,i)=>{r.current.set(n,i),e({})}};function lSt(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function i7({asChild:t,children:e},r){return t&&O.isValidElement(e)?O.cloneElement(lSt(e),{ref:e.ref},r(e.props.children)):r(e)}var cSt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const FEe=O.forwardRef(({className:t,...e},r)=>p.jsx(fu,{ref:r,className:Pt("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));FEe.displayName=fu.displayName;const jEe=O.forwardRef(({className:t,...e},r)=>p.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[p.jsx(JK,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),p.jsx(fu.Input,{ref:r,className:Pt("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));jEe.displayName=fu.Input.displayName;const LEe=O.forwardRef(({className:t,...e},r)=>p.jsx(fu.List,{ref:r,className:Pt("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));LEe.displayName=fu.List.displayName;const BEe=O.forwardRef((t,e)=>p.jsx(fu.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));BEe.displayName=fu.Empty.displayName;const $Ee=O.forwardRef(({className:t,...e},r)=>p.jsx(fu.Group,{ref:r,className:Pt("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));$Ee.displayName=fu.Group.displayName;const uSt=O.forwardRef(({className:t,...e},r)=>p.jsx(fu.Separator,{ref:r,className:Pt("-mx-1 h-px bg-border",t),...e}));uSt.displayName=fu.Separator.displayName;const VEe=O.forwardRef(({className:t,...e},r)=>p.jsx(fu.Item,{ref:r,className:Pt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));VEe.displayName=fu.Item.displayName;var s7="Popover",[UEe,nHt]=Cc(s7,[ax]),dR=ax(),[dSt,wx]=UEe(s7),zEe=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!1}=t,o=dR(e),l=O.useRef(null),[c,u]=O.useState(!1),[d,h]=Ig({prop:n,defaultProp:i??!1,onChange:s,caller:s7});return p.jsx(hY,{...o,children:p.jsx(dSt,{scope:e,contentId:il(),triggerRef:l,open:d,onOpenChange:h,onOpenToggle:O.useCallback(()=>h(f=>!f),[h]),hasCustomAnchor:c,onCustomAnchorAdd:O.useCallback(()=>u(!0),[]),onCustomAnchorRemove:O.useCallback(()=>u(!1),[]),modal:a,children:r})})};zEe.displayName=s7;var HEe="PopoverAnchor",hSt=O.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=wx(HEe,r),s=dR(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=i;return O.useEffect(()=>(a(),()=>o()),[a,o]),p.jsx(RO,{...s,...n,ref:e})});hSt.displayName=HEe;var WEe="PopoverTrigger",qEe=O.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=wx(WEe,r),s=dR(r),a=kn(e,i.triggerRef),o=p.jsx(pr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ZEe(i.open),...n,ref:a,onClick:Ut(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:p.jsx(RO,{asChild:!0,...s,children:o})});qEe.displayName=WEe;var fQ="PopoverPortal",[fSt,pSt]=UEe(fQ,{forceMount:void 0}),GEe=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,s=wx(fQ,e);return p.jsx(fSt,{scope:e,forceMount:r,children:p.jsx(_d,{present:r||s.open,children:p.jsx(aC,{asChild:!0,container:i,children:n})})})};GEe.displayName=fQ;var KT="PopoverContent",KEe=O.forwardRef((t,e)=>{const r=pSt(KT,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,s=wx(KT,t.__scopePopover);return p.jsx(_d,{present:n||s.open,children:s.modal?p.jsx(gSt,{...i,ref:e}):p.jsx(vSt,{...i,ref:e})})});KEe.displayName=KT;var mSt=Dy("PopoverContent.RemoveScroll"),gSt=O.forwardRef((t,e)=>{const r=wx(KT,t.__scopePopover),n=O.useRef(null),i=kn(e,n),s=O.useRef(!1);return O.useEffect(()=>{const a=n.current;if(a)return z8(a)},[]),p.jsx(KO,{as:mSt,allowPinchZoom:!0,children:p.jsx(YEe,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ut(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),s.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ut(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,c=o.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Ut(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),vSt=O.forwardRef((t,e)=>{const r=wx(KT,t.__scopePopover),n=O.useRef(!1),i=O.useRef(!1);return p.jsx(YEe,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((c=r.triggerRef.current)==null?void 0:c.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),YEe=O.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=t,h=wx(KT,r),f=dR(r);return V8(),p.jsx(qO,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:p.jsx(K_,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:u,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:p.jsx(o8,{"data-state":ZEe(h.open),role:"dialog",id:h.contentId,...f,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),XEe="PopoverClose",ySt=O.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=wx(XEe,r);return p.jsx(pr.button,{type:"button",...n,ref:e,onClick:Ut(t.onClick,()=>i.onOpenChange(!1))})});ySt.displayName=XEe;var xSt="PopoverArrow",bSt=O.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=dR(r);return p.jsx(l8,{...i,...n,ref:e})});bSt.displayName=xSt;function ZEe(t){return t?"open":"closed"}var wSt=zEe,_St=qEe,SSt=GEe,QEe=KEe;const Hg=wSt,Wg=_St,Nm=O.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>p.jsx(SSt,{children:p.jsx(QEe,{ref:i,align:e,sideOffset:r,className:Pt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Nm.displayName=QEe.displayName;const B9=[{codigo:"001",nome:"Banco do Brasil S.A."},{codigo:"237",nome:"Banco Bradesco S.A."},{codigo:"104",nome:"Caixa Econmica Federal"},{codigo:"341",nome:"Ita Unibanco S.A."},{codigo:"033",nome:"Banco Santander (Brasil) S.A."},{codigo:"260",nome:"Nu Pagamentos S.A. (Nubank)"},{codigo:"290",nome:"Pagseguro Internet S.A."},{codigo:"323",nome:"Mercado Pago"},{codigo:"077",nome:"Banco Inter S.A."},{codigo:"212",nome:"Banco Original S.A."},{codigo:"336",nome:"Banco C6 S.A."},{codigo:"380",nome:"PicPay Servios S.A."},{codigo:"403",nome:"Cora Sociedade de Crdito Direto S.A."},{codigo:"070",nome:"BRB - Banco de Braslia S.A."},{codigo:"021",nome:"BANESTES S.A. Banco do Estado do Esprito Santo"},{codigo:"037",nome:"Banco do Estado do Par S.A."},{codigo:"041",nome:"Banco do Estado do Rio Grande do Sul S.A."},{codigo:"047",nome:"Banco do Estado de Sergipe S.A."},{codigo:"208",nome:"Banco BTG Pactual S.A."},{codigo:"623",nome:"Banco Pan S.A."},{codigo:"422",nome:"Banco Safra S.A."},{codigo:"655",nome:"Banco Votorantim S.A."},{codigo:"633",nome:"Banco Rendimento S.A."},{codigo:"643",nome:"Banco Pine S.A."},{codigo:"637",nome:"Banco Sofisa S.A."},{codigo:"654",nome:"Banco A.J.Renner S.A."},{codigo:"653",nome:"Banco Indusval S.A."},{codigo:"069",nome:"Banco Crefisa S.A."},{codigo:"756",nome:"Banco Cooperativo do Brasil S.A. - BANCOOB"},{codigo:"748",nome:"Banco Cooperativo Sicredi S.A."},{codigo:"085",nome:"Cooperativa Central de Crdito - AILOS"},{codigo:"107",nome:"Banco Bocom BBM S.A."},{codigo:"249",nome:"Banco Investcred Unibanco S.A."},{codigo:"318",nome:"Banco BMG S.A."},{codigo:"626",nome:"Banco C6 Consignado S.A."},{codigo:"654",nome:"Banco Digimais S.A."},{codigo:"739",nome:"Banco Cetelem S.A."},{codigo:"743",nome:"Banco Semear S.A."},{codigo:"074",nome:"Banco J. Safra S.A."},{codigo:"246",nome:"Banco ABC Brasil S.A."},{codigo:"025",nome:"Banco Alfa S.A."},{codigo:"213",nome:"Banco Arbi S.A."},{codigo:"096",nome:"Banco B3 S.A."},{codigo:"394",nome:"Banco Bradesco Financiamentos S.A."},{codigo:"218",nome:"Banco BS2 S.A."},{codigo:"036",nome:"Banco Bradesco BBI S.A."},{codigo:"122",nome:"Banco Bradesco BERJ S.A."},{codigo:"204",nome:"Banco Bradesco Cartes S.A."},{codigo:"063",nome:"Banco Bradescard S.A."},{codigo:"065",nome:"Banco AndBank (Brasil) S.A."},{codigo:"024",nome:"Banco Bandepe S.A."},{codigo:"318",nome:"Banco BMG S.A."},{codigo:"752",nome:"Banco BNP Paribas Brasil S.A."},{codigo:"107",nome:"Banco BOCOM BBM S.A."},{codigo:"063",nome:"Banco Bradescard S.A."},{codigo:"036",nome:"Banco Bradesco BBI S.A."},{codigo:"122",nome:"Banco Bradesco BERJ S.A."},{codigo:"204",nome:"Banco Bradesco Cartes S.A."},{codigo:"394",nome:"Banco Bradesco Financiamentos S.A."},{codigo:"218",nome:"Banco BS2 S.A."},{codigo:"336",nome:"Banco C6 S.A."},{codigo:"473",nome:"Banco Caixa Geral - Brasil S.A."},{codigo:"412",nome:"Banco Capital S.A."},{codigo:"040",nome:"Banco Cargill S.A."},{codigo:"739",nome:"Banco Cetelem S.A."},{codigo:"233",nome:"Banco Cifra S.A."},{codigo:"745",nome:"Banco Citibank S.A."},{codigo:"756",nome:"Banco Cooperativo do Brasil S.A. - BANCOOB"},{codigo:"748",nome:"Banco Cooperativo Sicredi S.A."},{codigo:"075",nome:"Banco CR2 S.A."},{codigo:"069",nome:"Banco Crefisa S.A."},{codigo:"003",nome:"Banco da Amaznia S.A."},{codigo:"083",nome:"Banco da China Brasil S.A."},{codigo:"707",nome:"Banco Daycoval S.A."},{codigo:"300",nome:"Banco de La Nacion Argentina"},{codigo:"495",nome:"Banco de La Provincia de Buenos Aires"},{codigo:"494",nome:"Banco de La Republica Oriental del Uruguay"},{codigo:"456",nome:"Banco MUFG Brasil S.A."},{codigo:"214",nome:"Banco Dibens S.A."},{codigo:"654",nome:"Banco Digimais S.A."},{codigo:"047",nome:"Banco do Estado de Sergipe S.A."},{codigo:"037",nome:"Banco do Estado do Par S.A."},{codigo:"041",nome:"Banco do Estado do Rio Grande do Sul S.A."},{codigo:"004",nome:"Banco do Nordeste do Brasil S.A."},{codigo:"265",nome:"Banco Fator S.A."},{codigo:"224",nome:"Banco Fibra S.A."},{codigo:"626",nome:"Banco Ficsa S.A."},{codigo:"094",nome:"Banco Finaxis S.A."},{codigo:"612",nome:"Banco Guanabara S.A."},{codigo:"604",nome:"Banco Industrial do Brasil S.A."},{codigo:"653",nome:"Banco Indusval S.A."},{codigo:"077",nome:"Banco Inter S.A."},{codigo:"249",nome:"Banco Investcred Unibanco S.A."},{codigo:"184",nome:"Banco Ita BBA S.A."},{codigo:"029",nome:"Banco Ita Consignado S.A."},{codigo:"074",nome:"Banco J. Safra S.A."},{codigo:"376",nome:"Banco J.P. Morgan S.A."},{codigo:"217",nome:"Banco John Deere S.A."},{codigo:"076",nome:"Banco KDB do Brasil S.A."},{codigo:"757",nome:"Banco KEB HANA do Brasil S.A."},{codigo:"600",nome:"Banco Luso Brasileiro S.A."},{codigo:"389",nome:"Banco Mercantil do Brasil S.A."},{codigo:"370",nome:"Banco Mizuho do Brasil S.A."},{codigo:"746",nome:"Banco Modal S.A."},{codigo:"456",nome:"Banco MUFG Brasil S.A."},{codigo:"169",nome:"Banco Ol Consignado S.A."},{codigo:"212",nome:"Banco Original S.A."},{codigo:"623",nome:"Banco Pan S.A."},{codigo:"611",nome:"Banco Paulista S.A."},{codigo:"643",nome:"Banco Pine S.A."},{codigo:"658",nome:"Banco Porto Real de Investimentos S.A."},{codigo:"747",nome:"Banco Rabobank International Brasil S.A."},{codigo:"633",nome:"Banco Rendimento S.A."},{codigo:"741",nome:"Banco Ribeiro Preto S.A."},{codigo:"120",nome:"Banco Rodobens S.A."},{codigo:"422",nome:"Banco Safra S.A."},{codigo:"033",nome:"Banco Santander (Brasil) S.A."},{codigo:"743",nome:"Banco Semear S.A."},{codigo:"366",nome:"Banco Socit Gnrale Brasil S.A."},{codigo:"637",nome:"Banco Sofisa S.A."},{codigo:"464",nome:"Banco Sumitomo Mitsui Brasileiro S.A."},{codigo:"082",nome:"Banco Topzio S.A."},{codigo:"634",nome:"Banco Tringulo S.A."},{codigo:"018",nome:"Banco Tricury S.A."},{codigo:"655",nome:"Banco Votorantim S.A."},{codigo:"610",nome:"Banco VR S.A."},{codigo:"119",nome:"Banco Western Union do Brasil S.A."},{codigo:"124",nome:"Banco Woori Bank do Brasil S.A."},{codigo:"348",nome:"Banco XP S.A."},{codigo:"081",nome:"BancoSeguro S.A."},{codigo:"021",nome:"BANESTES S.A. Banco do Estado do Esprito Santo"},{codigo:"755",nome:"Bank of America Merrill Lynch Banco Mltiplo S.A."},{codigo:"250",nome:"BCV - Banco de Crdito e Varejo S.A."},{codigo:"017",nome:"BNY Mellon Banco S.A."},{codigo:"070",nome:"BRB - Banco de Braslia S.A."},{codigo:"126",nome:"BR Partners Banco de Investimento S.A."},{codigo:"173",nome:"BRL Trust Distribuidora de Ttulos e Valores Mobilirios S.A."},{codigo:"080",nome:"B&T Corretora de Cmbio Ltda."},{codigo:"078",nome:"Haitong Banco de Investimento do Brasil S.A."},{codigo:"062",nome:"Hipercard Banco Mltiplo S.A."},{codigo:"399",nome:"Kirton Bank S.A. - Banco Mltiplo"},{codigo:"630",nome:"Smartbank S.A."},{codigo:"352",nome:"Travelex Banco de Cmbio S.A."},{codigo:"091",nome:"Unicred Central do Rio Grande do Sul"},{codigo:"084",nome:"Uniprime Norte do Paran - Coop de Econ e Crd Mtuo dos Mdicos"}].sort((t,e)=>t.nome.localeCompare(e.nome)),ASt="modulepreload",ESt=function(t){return"/creditflow-manager/"+t},fce={},$9=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=ESt(l),l in fce)return;fce[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":ASt,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Ai(t){"@babel/helpers - typeof";return Ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ai(t)}var Bf=Uint8Array,cd=Uint16Array,pQ=Int32Array,mQ=new Bf([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gQ=new Bf([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),pce=new Bf([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),JEe=function(t,e){for(var r=new cd(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new pQ(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},eTe=JEe(mQ,2),TSt=eTe.b,IW=eTe.r;TSt[28]=258,IW[258]=28;var CSt=JEe(gQ,0),mce=CSt.r,OW=new cd(32768);for(var ws=0;ws<32768;++ws){var Ov=(ws&43690)>>1|(ws&21845)<<1;Ov=(Ov&52428)>>2|(Ov&13107)<<2,Ov=(Ov&61680)>>4|(Ov&3855)<<4,OW[ws]=((Ov&65280)>>8|(Ov&255)<<8)>>1}var dP=function(t,e,r){for(var n=t.length,i=0,s=new cd(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new cd(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new cd(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],d=a[t[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[OW[d]>>l]=c}else for(o=new cd(n),i=0;i<n;++i)t[i]&&(o[i]=OW[a[t[i]-1]++]>>15-t[i]);return o},I_=new Bf(288);for(var ws=0;ws<144;++ws)I_[ws]=8;for(var ws=144;ws<256;++ws)I_[ws]=9;for(var ws=256;ws<280;++ws)I_[ws]=7;for(var ws=280;ws<288;++ws)I_[ws]=8;var TL=new Bf(32);for(var ws=0;ws<32;++ws)TL[ws]=5;var kSt=dP(I_,9,0),PSt=dP(TL,5,0),tTe=function(t){return(t+7)/8|0},NSt=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Bf(t.subarray(e,r))},Jm=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Fk=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},V9=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:nTe,l:0};if(i==1){var a=new Bf(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(S,T){return S.f-T.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,d=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=r[r[c].f<r[d].f?c++:d++],l=r[c!=u&&r[c].f<r[d].f?c++:d++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=s[0].s,n=1;n<i;++n)s[n].s>h&&(h=s[n].s);var f=new cd(h+1),g=RW(r[u-1],f,0);if(g>e){var n=0,m=0,v=g-e,x=1<<v;for(s.sort(function(T,E){return f[E.s]-f[T.s]||T.f-E.f});n<i;++n){var w=s[n].s;if(f[w]>e)m+=x-(1<<g-f[w]),f[w]=e;else break}for(m>>=v;m>0;){var b=s[n].s;f[b]<e?m-=1<<e-f[b]++-1:++n}for(;n>=0&&m;--n){var _=s[n].s;f[_]==e&&(--f[_],++m)}g=e}return{t:new Bf(f),l:g}},RW=function(t,e,r){return t.s==-1?Math.max(RW(t.l,e,r+1),RW(t.r,e,r+1)):e[t.s]=r},gce=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new cd(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},jk=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},rTe=function(t,e,r){var n=r.length,i=tTe(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},vce=function(t,e,r,n,i,s,a,o,l,c,u){Jm(e,u++,r),++i[256];for(var d=V9(i,15),h=d.t,f=d.l,g=V9(s,15),m=g.t,v=g.l,x=gce(h),w=x.c,b=x.n,_=gce(m),S=_.c,T=_.n,E=new cd(19),C=0;C<w.length;++C)++E[w[C]&31];for(var C=0;C<S.length;++C)++E[S[C]&31];for(var N=V9(E,7),F=N.t,A=N.l,I=19;I>4&&!F[pce[I-1]];--I);var M=c+5<<3,U=jk(i,I_)+jk(s,TL)+a,Y=jk(i,h)+jk(s,m)+a+14+3*I+jk(E,F)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&M<=U&&M<=Y)return rTe(e,u,t.subarray(l,l+c));var X,W,G,B;if(Jm(e,u,1+(Y<U)),u+=2,Y<U){X=dP(h,f,0),W=h,G=dP(m,v,0),B=m;var re=dP(F,A,0);Jm(e,u,b-257),Jm(e,u+5,T-1),Jm(e,u+10,I-4),u+=14;for(var C=0;C<I;++C)Jm(e,u+3*C,F[pce[C]]);u+=3*I;for(var ae=[w,S],R=0;R<2;++R)for(var j=ae[R],C=0;C<j.length;++C){var V=j[C]&31;Jm(e,u,re[V]),u+=F[V],V>15&&(Jm(e,u,j[C]>>5&127),u+=j[C]>>12)}}else X=kSt,W=I_,G=PSt,B=TL;for(var C=0;C<o;++C){var K=n[C];if(K>255){var V=K>>18&31;Fk(e,u,X[V+257]),u+=W[V+257],V>7&&(Jm(e,u,K>>23&31),u+=mQ[V]);var ne=K&31;Fk(e,u,G[ne]),u+=B[ne],ne>3&&(Fk(e,u,K>>5&8191),u+=gQ[ne])}else Fk(e,u,X[K]),u+=W[K]}return Fk(e,u,X[256]),u+W[256]},ISt=new pQ([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nTe=new Bf(0),OSt=function(t,e,r,n,i,s){var a=s.z||t.length,o=new Bf(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var d=ISt[e-1],h=d>>13,f=d&8191,g=(1<<r)-1,m=s.p||new cd(32768),v=s.h||new cd(g+1),x=Math.ceil(r/3),w=2*x,b=function(Ue){return(t[Ue]^t[Ue+1]<<x^t[Ue+2]<<w)&g},_=new pQ(25e3),S=new cd(288),T=new cd(32),E=0,C=0,N=s.i||0,F=0,A=s.w||0,I=0;N+2<a;++N){var M=b(N),U=N&32767,Y=v[M];if(m[U]=Y,v[M]=U,A<=N){var X=a-N;if((E>7e3||F>24576)&&(X>423||!c)){u=vce(t,l,0,_,S,T,C,F,I,N-I,u),F=E=C=0,I=N;for(var W=0;W<286;++W)S[W]=0;for(var W=0;W<30;++W)T[W]=0}var G=2,B=0,re=f,ae=U-Y&32767;if(X>2&&M==b(N-ae))for(var R=Math.min(h,X)-1,j=Math.min(32767,N),V=Math.min(258,X);ae<=j&&--re&&U!=Y;){if(t[N+G]==t[N+G-ae]){for(var K=0;K<V&&t[N+K]==t[N+K-ae];++K);if(K>G){if(G=K,B=ae,K>R)break;for(var ne=Math.min(ae,K-2),J=0,W=0;W<ne;++W){var me=N-ae+W&32767,ce=m[me],he=me-ce&32767;he>J&&(J=he,Y=me)}}}U=Y,Y=m[U],ae+=U-Y&32767}if(B){_[F++]=268435456|IW[G]<<18|mce[B];var _e=IW[G]&31,ee=mce[B]&31;C+=mQ[_e]+gQ[ee],++S[257+_e],++T[ee],A=N+G,++E}else _[F++]=t[N],++S[t[N]]}}for(N=Math.max(N,A);N<a;++N)_[F++]=t[N],++S[t[N]];u=vce(t,l,c,_,S,T,C,F,I,N-I,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=v,s.p=m,s.i=N,s.w=A)}else{for(var N=s.w||0;N<a+c;N+=65535){var je=N+65535;je>=a&&(l[u/8|0]=c,je=a),u=rTe(l,u+1,t.subarray(N,je))}s.i=a}return NSt(o,0,n+tTe(u)+i)},iTe=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},RSt=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Bf(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return OSt(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},sTe=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},DSt=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=iTe();i.p(e.dictionary),sTe(t,2,i.d())}};function DW(t,e){e||(e={});var r=iTe();r.p(t);var n=RSt(t,e,e.dictionary?6:2,4);return DSt(n,e),sTe(n,n.length-4,r.d()),n}var MSt=typeof TextDecoder<"u"&&new TextDecoder,FSt=0;try{MSt.decode(nTe,{stream:!0}),FSt=1}catch{}function jSt(t){if(Array.isArray(t))return t}function LSt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function yce(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function BSt(t,e){if(t){if(typeof t=="string")return yce(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yce(t,e):void 0}}function $St(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xce(t,e){return jSt(t)||LSt(t,e)||BSt(t,e)||$St()}function bce(t,e="utf8"){return new TextDecoder(e).decode(t)}const VSt=new TextEncoder;function USt(t){return VSt.encode(t)}const zSt=1024*8,HSt=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),U9={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class vQ{constructor(e=zSt,r={}){Le(this,"buffer");Le(this,"byteLength");Le(this,"byteOffset");Le(this,"length");Le(this,"offset");Le(this,"lastWrittenByte");Le(this,"littleEndian");Le(this,"_data");Le(this,"_mark");Le(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof vQ)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=U9[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===HSt&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new U9[r](o.buffer);return this.offset+=n,l.reverse(),l}const a=new U9[r](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return bce(this.readBytes(e))}decodeText(e=1,r="utf8"){return bce(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(USt(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const WSt=4,wce=0,_ce=1,qSt=2;function LC(t){let e=t.length;for(;--e>=0;)t[e]=0}const GSt=0,aTe=1,KSt=2,YSt=3,XSt=258,yQ=29,hR=256,QN=hR+1+yQ,lA=30,xQ=19,oTe=2*QN+1,xb=15,z9=16,ZSt=7,bQ=256,lTe=16,cTe=17,uTe=18,MW=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),gM=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),QSt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),dTe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),JSt=512,p0=new Array((QN+2)*2);LC(p0);const hP=new Array(lA*2);LC(hP);const JN=new Array(JSt);LC(JN);const eI=new Array(XSt-YSt+1);LC(eI);const wQ=new Array(yQ);LC(wQ);const CL=new Array(lA);LC(CL);function H9(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let hTe,fTe,pTe;function W9(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const mTe=t=>t<256?JN[t]:JN[256+(t>>>7)],tI=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},su=(t,e,r)=>{t.bi_valid>z9-r?(t.bi_buf|=e<<t.bi_valid&65535,tI(t,t.bi_buf),t.bi_buf=e>>z9-t.bi_valid,t.bi_valid+=r-z9):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},em=(t,e,r)=>{su(t,r[e*2],r[e*2+1])},gTe=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},eAt=t=>{t.bi_valid===16?(tI(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},tAt=(t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,u,d,h,f,g,m=0;for(h=0;h<=xb;h++)t.bl_count[h]=0;for(r[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<oTe;c++)u=t.heap[c],h=r[r[u*2+1]*2+1]+1,h>l&&(h=l,m++),r[u*2+1]=h,!(u>n)&&(t.bl_count[h]++,f=0,u>=o&&(f=a[u-o]),g=r[u*2],t.opt_len+=g*(h+f),s&&(t.static_len+=g*(i[u*2+1]+f)));if(m!==0){do{for(h=l-1;t.bl_count[h]===0;)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[l]--,m-=2}while(m>0);for(h=l;h!==0;h--)for(u=t.bl_count[h];u!==0;)d=t.heap[--c],!(d>n)&&(r[d*2+1]!==h&&(t.opt_len+=(h-r[d*2+1])*r[d*2],r[d*2+1]=h),u--)}},vTe=(t,e,r)=>{const n=new Array(xb+1);let i=0,s,a;for(s=1;s<=xb;s++)i=i+r[s-1]<<1,n[s]=i;for(a=0;a<=e;a++){let o=t[a*2+1];o!==0&&(t[a*2]=gTe(n[o]++,o))}},rAt=()=>{let t,e,r,n,i;const s=new Array(xb+1);for(r=0,n=0;n<yQ-1;n++)for(wQ[n]=r,t=0;t<1<<MW[n];t++)eI[r++]=n;for(eI[r-1]=n,i=0,n=0;n<16;n++)for(CL[n]=i,t=0;t<1<<gM[n];t++)JN[i++]=n;for(i>>=7;n<lA;n++)for(CL[n]=i<<7,t=0;t<1<<gM[n]-7;t++)JN[256+i++]=n;for(e=0;e<=xb;e++)s[e]=0;for(t=0;t<=143;)p0[t*2+1]=8,t++,s[8]++;for(;t<=255;)p0[t*2+1]=9,t++,s[9]++;for(;t<=279;)p0[t*2+1]=7,t++,s[7]++;for(;t<=287;)p0[t*2+1]=8,t++,s[8]++;for(vTe(p0,QN+1,s),t=0;t<lA;t++)hP[t*2+1]=5,hP[t*2]=gTe(t,5);hTe=new H9(p0,MW,hR+1,QN,xb),fTe=new H9(hP,gM,0,lA,xb),pTe=new H9(new Array(0),QSt,0,xQ,ZSt)},yTe=t=>{let e;for(e=0;e<QN;e++)t.dyn_ltree[e*2]=0;for(e=0;e<lA;e++)t.dyn_dtree[e*2]=0;for(e=0;e<xQ;e++)t.bl_tree[e*2]=0;t.dyn_ltree[bQ*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},xTe=t=>{t.bi_valid>8?tI(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Sce=(t,e,r,n)=>{const i=e*2,s=r*2;return t[i]<t[s]||t[i]===t[s]&&n[e]<=n[r]},q9=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&Sce(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!Sce(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},Ace=(t,e,r)=>{let n,i,s=0,a,o;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+s++]&255,n+=(t.pending_buf[t.sym_buf+s++]&255)<<8,i=t.pending_buf[t.sym_buf+s++],n===0?em(t,i,e):(a=eI[i],em(t,a+hR+1,e),o=MW[a],o!==0&&(i-=wQ[a],su(t,i,o)),n--,a=mTe(n),em(t,a,r),o=gM[a],o!==0&&(n-=CL[a],su(t,n,o)));while(s<t.sym_next);em(t,bQ,e)},FW=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let a,o,l=-1,c;for(t.heap_len=0,t.heap_max=oTe,a=0;a<s;a++)r[a*2]!==0?(t.heap[++t.heap_len]=l=a,t.depth[a]=0):r[a*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,r[c*2]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=n[c*2+1]);for(e.max_code=l,a=t.heap_len>>1;a>=1;a--)q9(t,r,a);c=s;do a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],q9(t,r,1),o=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=o,r[c*2]=r[a*2]+r[o*2],t.depth[c]=(t.depth[a]>=t.depth[o]?t.depth[a]:t.depth[o])+1,r[a*2+1]=r[o*2+1]=c,t.heap[1]=c++,q9(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],tAt(t,e),vTe(r,l,t.bl_count)},Ece=(t,e,r)=>{let n,i=-1,s,a=e[0*2+1],o=0,l=7,c=4;for(a===0&&(l=138,c=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)s=a,a=e[(n+1)*2+1],!(++o<l&&s===a)&&(o<c?t.bl_tree[s*2]+=o:s!==0?(s!==i&&t.bl_tree[s*2]++,t.bl_tree[lTe*2]++):o<=10?t.bl_tree[cTe*2]++:t.bl_tree[uTe*2]++,o=0,i=s,a===0?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4))},Tce=(t,e,r)=>{let n,i=-1,s,a=e[0*2+1],o=0,l=7,c=4;for(a===0&&(l=138,c=3),n=0;n<=r;n++)if(s=a,a=e[(n+1)*2+1],!(++o<l&&s===a)){if(o<c)do em(t,s,t.bl_tree);while(--o!==0);else s!==0?(s!==i&&(em(t,s,t.bl_tree),o--),em(t,lTe,t.bl_tree),su(t,o-3,2)):o<=10?(em(t,cTe,t.bl_tree),su(t,o-3,3)):(em(t,uTe,t.bl_tree),su(t,o-11,7));o=0,i=s,a===0?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4)}},nAt=t=>{let e;for(Ece(t,t.dyn_ltree,t.l_desc.max_code),Ece(t,t.dyn_dtree,t.d_desc.max_code),FW(t,t.bl_desc),e=xQ-1;e>=3&&t.bl_tree[dTe[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},iAt=(t,e,r,n)=>{let i;for(su(t,e-257,5),su(t,r-1,5),su(t,n-4,4),i=0;i<n;i++)su(t,t.bl_tree[dTe[i]*2+1],3);Tce(t,t.dyn_ltree,e-1),Tce(t,t.dyn_dtree,r-1)},sAt=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return wce;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return _ce;for(r=32;r<hR;r++)if(t.dyn_ltree[r*2]!==0)return _ce;return wce};let Cce=!1;const aAt=t=>{Cce||(rAt(),Cce=!0),t.l_desc=new W9(t.dyn_ltree,hTe),t.d_desc=new W9(t.dyn_dtree,fTe),t.bl_desc=new W9(t.bl_tree,pTe),t.bi_buf=0,t.bi_valid=0,yTe(t)},bTe=(t,e,r,n)=>{su(t,(GSt<<1)+(n?1:0),3),xTe(t),tI(t,r),tI(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},oAt=t=>{su(t,aTe<<1,3),em(t,bQ,p0),eAt(t)},lAt=(t,e,r,n)=>{let i,s,a=0;t.level>0?(t.strm.data_type===qSt&&(t.strm.data_type=sAt(t)),FW(t,t.l_desc),FW(t,t.d_desc),a=nAt(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&e!==-1?bTe(t,e,r,n):t.strategy===WSt||s===i?(su(t,(aTe<<1)+(n?1:0),3),Ace(t,p0,hP)):(su(t,(KSt<<1)+(n?1:0),3),iAt(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),Ace(t,t.dyn_ltree,t.dyn_dtree)),yTe(t),n&&xTe(t)},cAt=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(eI[r]+hR+1)*2]++,t.dyn_dtree[mTe(e)*2]++),t.sym_next===t.sym_end);var uAt=aAt,dAt=bTe,hAt=lAt,fAt=cAt,pAt=oAt,mAt={_tr_init:uAt,_tr_stored_block:dAt,_tr_flush_block:hAt,_tr_tally:fAt,_tr_align:pAt};const gAt=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var rI=gAt;const vAt=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},yAt=new Uint32Array(vAt()),xAt=(t,e,r,n)=>{const i=yAt,s=n+r;t^=-1;for(let a=n;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var To=xAt,YT={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},fR={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:bAt,_tr_stored_block:jW,_tr_flush_block:wAt,_tr_tally:ky,_tr_align:_At}=mAt,{Z_NO_FLUSH:Py,Z_PARTIAL_FLUSH:SAt,Z_FULL_FLUSH:AAt,Z_FINISH:ch,Z_BLOCK:kce,Z_OK:Ko,Z_STREAM_END:Pce,Z_STREAM_ERROR:bm,Z_DATA_ERROR:EAt,Z_BUF_ERROR:G9,Z_DEFAULT_COMPRESSION:TAt,Z_FILTERED:CAt,Z_HUFFMAN_ONLY:X3,Z_RLE:kAt,Z_FIXED:PAt,Z_DEFAULT_STRATEGY:NAt,Z_UNKNOWN:IAt,Z_DEFLATED:a7}=fR,OAt=9,RAt=15,DAt=8,MAt=29,FAt=256,LW=FAt+1+MAt,jAt=30,LAt=19,BAt=2*LW+1,$At=15,$n=3,ny=258,wm=ny+$n+1,VAt=32,XT=42,_Q=57,BW=69,$W=73,VW=91,UW=103,bb=113,u5=666,vc=1,BC=2,O_=3,$C=4,UAt=3,wb=(t,e)=>(t.msg=YT[e],e),Nce=t=>t*2-(t>4?9:0),Qv=t=>{let e=t.length;for(;--e>=0;)t[e]=0},zAt=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do r=t.head[--n],t.head[n]=r>=i?r-i:0;while(--e);e=i,n=e;do r=t.prev[--n],t.prev[n]=r>=i?r-i:0;while(--e)};let HAt=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,Ny=HAt;const ku=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},ud=(t,e)=>{wAt(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ku(t.strm)},ai=(t,e)=>{t.pending_buf[t.pending++]=e},Lk=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},zW=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),t.state.wrap===1?t.adler=rI(t.adler,e,i,r):t.state.wrap===2&&(t.adler=To(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},wTe=(t,e)=>{let r=t.max_chain_length,n=t.strstart,i,s,a=t.prev_length,o=t.nice_match;const l=t.strstart>t.w_size-wm?t.strstart-(t.w_size-wm):0,c=t.window,u=t.w_mask,d=t.prev,h=t.strstart+ny;let f=c[n+a-1],g=c[n+a];t.prev_length>=t.good_match&&(r>>=2),o>t.lookahead&&(o=t.lookahead);do if(i=e,!(c[i+a]!==g||c[i+a-1]!==f||c[i]!==c[n]||c[++i]!==c[n+1])){n+=2,i++;do;while(c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&c[++n]===c[++i]&&n<h);if(s=ny-(h-n),n=h-ny,s>a){if(t.match_start=e,a=s,s>=o)break;f=c[n+a-1],g=c[n+a]}}while((e=d[e&u])>l&&--r!==0);return a<=t.lookahead?a:t.lookahead},ZT=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-wm)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),zAt(t),n+=e),t.strm.avail_in===0)break;if(r=zW(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=$n)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Ny(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Ny(t,t.ins_h,t.window[i+$n-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<$n)););}while(t.lookahead<wm&&t.strm.avail_in!==0)},_Te=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,i,s,a=0,o=t.strm.avail_in;do{if(n=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s||(s=t.strm.avail_out-s,i=t.strstart-t.block_start,n>i+t.strm.avail_in&&(n=i+t.strm.avail_in),n>s&&(n=s),n<r&&(n===0&&e!==ch||e===Py||n!==i+t.strm.avail_in)))break;a=e===ch&&n===i+t.strm.avail_in?1:0,jW(t,0,0,a),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,ku(t.strm),i&&(i>n&&(i=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,n-=i),n&&(zW(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(a===0);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),a?$C:e!==Py&&e!==ch&&t.strm.avail_in===0&&t.strstart===t.block_start?BC:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(zW(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,r=s>t.w_size?t.w_size:s,i=t.strstart-t.block_start,(i>=r||(i||e===ch)&&e!==Py&&t.strm.avail_in===0&&i<=s)&&(n=i>s?s:i,a=e===ch&&t.strm.avail_in===0&&n===i?1:0,jW(t,t.block_start,n,a),t.block_start+=n,ku(t.strm)),a?O_:vc)},K9=(t,e)=>{let r,n;for(;;){if(t.lookahead<wm){if(ZT(t),t.lookahead<wm&&e===Py)return vc;if(t.lookahead===0)break}if(r=0,t.lookahead>=$n&&(t.ins_h=Ny(t,t.ins_h,t.window[t.strstart+$n-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-wm&&(t.match_length=wTe(t,r)),t.match_length>=$n)if(n=ky(t,t.strstart-t.match_start,t.match_length-$n),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=$n){t.match_length--;do t.strstart++,t.ins_h=Ny(t,t.ins_h,t.window[t.strstart+$n-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Ny(t,t.ins_h,t.window[t.strstart+1]);else n=ky(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(ud(t,!1),t.strm.avail_out===0))return vc}return t.insert=t.strstart<$n-1?t.strstart:$n-1,e===ch?(ud(t,!0),t.strm.avail_out===0?O_:$C):t.sym_next&&(ud(t,!1),t.strm.avail_out===0)?vc:BC},z2=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<wm){if(ZT(t),t.lookahead<wm&&e===Py)return vc;if(t.lookahead===0)break}if(r=0,t.lookahead>=$n&&(t.ins_h=Ny(t,t.ins_h,t.window[t.strstart+$n-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=$n-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-wm&&(t.match_length=wTe(t,r),t.match_length<=5&&(t.strategy===CAt||t.match_length===$n&&t.strstart-t.match_start>4096)&&(t.match_length=$n-1)),t.prev_length>=$n&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-$n,n=ky(t,t.strstart-1-t.prev_match,t.prev_length-$n),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=Ny(t,t.ins_h,t.window[t.strstart+$n-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=$n-1,t.strstart++,n&&(ud(t,!1),t.strm.avail_out===0))return vc}else if(t.match_available){if(n=ky(t,0,t.window[t.strstart-1]),n&&ud(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return vc}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=ky(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<$n-1?t.strstart:$n-1,e===ch?(ud(t,!0),t.strm.avail_out===0?O_:$C):t.sym_next&&(ud(t,!1),t.strm.avail_out===0)?vc:BC},WAt=(t,e)=>{let r,n,i,s;const a=t.window;for(;;){if(t.lookahead<=ny){if(ZT(t),t.lookahead<=ny&&e===Py)return vc;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=$n&&t.strstart>0&&(i=t.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){s=t.strstart+ny;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);t.match_length=ny-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=$n?(r=ky(t,1,t.match_length-$n),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=ky(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(ud(t,!1),t.strm.avail_out===0))return vc}return t.insert=0,e===ch?(ud(t,!0),t.strm.avail_out===0?O_:$C):t.sym_next&&(ud(t,!1),t.strm.avail_out===0)?vc:BC},qAt=(t,e)=>{let r;for(;;){if(t.lookahead===0&&(ZT(t),t.lookahead===0)){if(e===Py)return vc;break}if(t.match_length=0,r=ky(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(ud(t,!1),t.strm.avail_out===0))return vc}return t.insert=0,e===ch?(ud(t,!0),t.strm.avail_out===0?O_:$C):t.sym_next&&(ud(t,!1),t.strm.avail_out===0)?vc:BC};function op(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const d5=[new op(0,0,0,0,_Te),new op(4,4,8,4,K9),new op(4,5,16,8,K9),new op(4,6,32,32,K9),new op(4,4,16,16,z2),new op(8,16,32,32,z2),new op(8,16,128,128,z2),new op(8,32,128,256,z2),new op(32,128,258,1024,z2),new op(32,258,258,4096,z2)],GAt=t=>{t.window_size=2*t.w_size,Qv(t.head),t.max_lazy_match=d5[t.level].max_lazy,t.good_match=d5[t.level].good_length,t.nice_match=d5[t.level].nice_length,t.max_chain_length=d5[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=$n-1,t.match_available=0,t.ins_h=0};function KAt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=a7,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(BAt*2),this.dyn_dtree=new Uint16Array((2*jAt+1)*2),this.bl_tree=new Uint16Array((2*LAt+1)*2),Qv(this.dyn_ltree),Qv(this.dyn_dtree),Qv(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array($At+1),this.heap=new Uint16Array(2*LW+1),Qv(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*LW+1),Qv(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const pR=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==XT&&e.status!==_Q&&e.status!==BW&&e.status!==$W&&e.status!==VW&&e.status!==UW&&e.status!==bb&&e.status!==u5?1:0},STe=t=>{if(pR(t))return wb(t,bm);t.total_in=t.total_out=0,t.data_type=IAt;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?_Q:e.wrap?XT:bb,t.adler=e.wrap===2?0:1,e.last_flush=-2,bAt(e),Ko},ATe=t=>{const e=STe(t);return e===Ko&&GAt(t.state),e},YAt=(t,e)=>pR(t)||t.state.wrap!==2?bm:(t.state.gzhead=e,Ko),ETe=(t,e,r,n,i,s)=>{if(!t)return bm;let a=1;if(e===TAt&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>OAt||r!==a7||n<8||n>15||e<0||e>9||s<0||s>PAt||n===8&&a!==1)return wb(t,bm);n===8&&(n=9);const o=new KAt;return t.state=o,o.strm=t,o.status=XT,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+$n-1)/$n),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=e,o.strategy=s,o.method=r,ATe(t)},XAt=(t,e)=>ETe(t,e,a7,RAt,DAt,NAt),ZAt=(t,e)=>{if(pR(t)||e>kce||e<0)return t?wb(t,bm):bm;const r=t.state;if(!t.output||t.avail_in!==0&&!t.input||r.status===u5&&e!==ch)return wb(t,t.avail_out===0?G9:bm);const n=r.last_flush;if(r.last_flush=e,r.pending!==0){if(ku(t),t.avail_out===0)return r.last_flush=-1,Ko}else if(t.avail_in===0&&Nce(e)<=Nce(n)&&e!==ch)return wb(t,G9);if(r.status===u5&&t.avail_in!==0)return wb(t,G9);if(r.status===XT&&r.wrap===0&&(r.status=bb),r.status===XT){let i=a7+(r.w_bits-8<<4)<<8,s=-1;if(r.strategy>=X3||r.level<2?s=0:r.level<6?s=1:r.level===6?s=2:s=3,i|=s<<6,r.strstart!==0&&(i|=VAt),i+=31-i%31,Lk(r,i),r.strstart!==0&&(Lk(r,t.adler>>>16),Lk(r,t.adler&65535)),t.adler=1,r.status=bb,ku(t),r.pending!==0)return r.last_flush=-1,Ko}if(r.status===_Q){if(t.adler=0,ai(r,31),ai(r,139),ai(r,8),r.gzhead)ai(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ai(r,r.gzhead.time&255),ai(r,r.gzhead.time>>8&255),ai(r,r.gzhead.time>>16&255),ai(r,r.gzhead.time>>24&255),ai(r,r.level===9?2:r.strategy>=X3||r.level<2?4:0),ai(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(ai(r,r.gzhead.extra.length&255),ai(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=To(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=BW;else if(ai(r,0),ai(r,0),ai(r,0),ai(r,0),ai(r,0),ai(r,r.level===9?2:r.strategy>=X3||r.level<2?4:0),ai(r,UAt),r.status=bb,ku(t),r.pending!==0)return r.last_flush=-1,Ko}if(r.status===BW){if(r.gzhead.extra){let i=r.pending,s=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+s>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(t.adler=To(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=o,ku(t),r.pending!==0)return r.last_flush=-1,Ko;i=0,s-=o}let a=new Uint8Array(r.gzhead.extra);r.pending_buf.set(a.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending+=s,r.gzhead.hcrc&&r.pending>i&&(t.adler=To(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=$W}if(r.status===$W){if(r.gzhead.name){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=To(t.adler,r.pending_buf,r.pending-i,i)),ku(t),r.pending!==0)return r.last_flush=-1,Ko;i=0}r.gzindex<r.gzhead.name.length?s=r.gzhead.name.charCodeAt(r.gzindex++)&255:s=0,ai(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=To(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=VW}if(r.status===VW){if(r.gzhead.comment){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=To(t.adler,r.pending_buf,r.pending-i,i)),ku(t),r.pending!==0)return r.last_flush=-1,Ko;i=0}r.gzindex<r.gzhead.comment.length?s=r.gzhead.comment.charCodeAt(r.gzindex++)&255:s=0,ai(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=To(t.adler,r.pending_buf,r.pending-i,i))}r.status=UW}if(r.status===UW){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(ku(t),r.pending!==0))return r.last_flush=-1,Ko;ai(r,t.adler&255),ai(r,t.adler>>8&255),t.adler=0}if(r.status=bb,ku(t),r.pending!==0)return r.last_flush=-1,Ko}if(t.avail_in!==0||r.lookahead!==0||e!==Py&&r.status!==u5){let i=r.level===0?_Te(r,e):r.strategy===X3?qAt(r,e):r.strategy===kAt?WAt(r,e):d5[r.level].func(r,e);if((i===O_||i===$C)&&(r.status=u5),i===vc||i===O_)return t.avail_out===0&&(r.last_flush=-1),Ko;if(i===BC&&(e===SAt?_At(r):e!==kce&&(jW(r,0,0,!1),e===AAt&&(Qv(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),ku(t),t.avail_out===0))return r.last_flush=-1,Ko}return e!==ch?Ko:r.wrap<=0?Pce:(r.wrap===2?(ai(r,t.adler&255),ai(r,t.adler>>8&255),ai(r,t.adler>>16&255),ai(r,t.adler>>24&255),ai(r,t.total_in&255),ai(r,t.total_in>>8&255),ai(r,t.total_in>>16&255),ai(r,t.total_in>>24&255)):(Lk(r,t.adler>>>16),Lk(r,t.adler&65535)),ku(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Ko:Pce)},QAt=t=>{if(pR(t))return bm;const e=t.state.status;return t.state=null,e===bb?wb(t,EAt):Ko},JAt=(t,e)=>{let r=e.length;if(pR(t))return bm;const n=t.state,i=n.wrap;if(i===2||i===1&&n.status!==XT||n.lookahead)return bm;if(i===1&&(t.adler=rI(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){i===0&&(Qv(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(e.subarray(r-n.w_size,r),0),e=l,r=n.w_size}const s=t.avail_in,a=t.next_in,o=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,ZT(n);n.lookahead>=$n;){let l=n.strstart,c=n.lookahead-($n-1);do n.ins_h=Ny(n,n.ins_h,n.window[l+$n-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--c);n.strstart=l,n.lookahead=$n-1,ZT(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=$n-1,n.match_available=0,t.next_in=a,t.input=o,t.avail_in=s,n.wrap=i,Ko};var eEt=XAt,tEt=ETe,rEt=ATe,nEt=STe,iEt=YAt,sEt=ZAt,aEt=QAt,oEt=JAt,lEt="pako deflate (from Nodeca project)",fP={deflateInit:eEt,deflateInit2:tEt,deflateReset:rEt,deflateResetKeep:nEt,deflateSetHeader:iEt,deflate:sEt,deflateEnd:aEt,deflateSetDictionary:oEt,deflateInfo:lEt};const cEt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var uEt=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)cEt(r,n)&&(t[n]=r[n])}}return t},dEt=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let a=t[n];r.set(a,i),i+=a.length}return r},o7={assign:uEt,flattenChunks:dEt};let TTe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{TTe=!1}const nI=new Uint8Array(256);for(let t=0;t<256;t++)nI[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;nI[254]=nI[254]=1;var hEt=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,a=t.length,o=0;for(i=0;i<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const fEt=(t,e)=>{if(e<65534&&t.subarray&&TTe)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var pEt=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let a=t[n++];if(a<128){s[i++]=a;continue}let o=nI[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|t[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return fEt(s,i)},mEt=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+nI[t[r]]>e?r:e},iI={string2buf:hEt,buf2string:pEt,utf8border:mEt};function gEt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var CTe=gEt;const kTe=Object.prototype.toString,{Z_NO_FLUSH:vEt,Z_SYNC_FLUSH:yEt,Z_FULL_FLUSH:xEt,Z_FINISH:bEt,Z_OK:kL,Z_STREAM_END:wEt,Z_DEFAULT_COMPRESSION:_Et,Z_DEFAULT_STRATEGY:SEt,Z_DEFLATED:AEt}=fR;function SQ(t){this.options=o7.assign({level:_Et,method:AEt,chunkSize:16384,windowBits:15,memLevel:8,strategy:SEt},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new CTe,this.strm.avail_out=0;let r=fP.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==kL)throw new Error(YT[r]);if(e.header&&fP.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=iI.string2buf(e.dictionary):kTe.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=fP.deflateSetDictionary(this.strm,n),r!==kL)throw new Error(YT[r]);this._dict_set=!0}}SQ.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?bEt:vEt,typeof t=="string"?r.input=iI.string2buf(t):kTe.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===yEt||s===xEt)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=fP.deflate(r,s),i===wEt)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=fP.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===kL;if(r.avail_out===0){this.onData(r.output);continue}if(s>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};SQ.prototype.onData=function(t){this.chunks.push(t)};SQ.prototype.onEnd=function(t){t===kL&&(this.result=o7.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const Z3=16209,EEt=16191;var TEt=function(e,r){let n,i,s,a,o,l,c,u,d,h,f,g,m,v,x,w,b,_,S,T,E,C,N,F;const A=e.state;n=e.next_in,N=e.input,i=n+(e.avail_in-5),s=e.next_out,F=e.output,a=s-(r-e.avail_out),o=s+(e.avail_out-257),l=A.dmax,c=A.wsize,u=A.whave,d=A.wnext,h=A.window,f=A.hold,g=A.bits,m=A.lencode,v=A.distcode,x=(1<<A.lenbits)-1,w=(1<<A.distbits)-1;e:do{g<15&&(f+=N[n++]<<g,g+=8,f+=N[n++]<<g,g+=8),b=m[f&x];t:for(;;){if(_=b>>>24,f>>>=_,g-=_,_=b>>>16&255,_===0)F[s++]=b&65535;else if(_&16){S=b&65535,_&=15,_&&(g<_&&(f+=N[n++]<<g,g+=8),S+=f&(1<<_)-1,f>>>=_,g-=_),g<15&&(f+=N[n++]<<g,g+=8,f+=N[n++]<<g,g+=8),b=v[f&w];r:for(;;){if(_=b>>>24,f>>>=_,g-=_,_=b>>>16&255,_&16){if(T=b&65535,_&=15,g<_&&(f+=N[n++]<<g,g+=8,g<_&&(f+=N[n++]<<g,g+=8)),T+=f&(1<<_)-1,T>l){e.msg="invalid distance too far back",A.mode=Z3;break e}if(f>>>=_,g-=_,_=s-a,T>_){if(_=T-_,_>u&&A.sane){e.msg="invalid distance too far back",A.mode=Z3;break e}if(E=0,C=h,d===0){if(E+=c-_,_<S){S-=_;do F[s++]=h[E++];while(--_);E=s-T,C=F}}else if(d<_){if(E+=c+d-_,_-=d,_<S){S-=_;do F[s++]=h[E++];while(--_);if(E=0,d<S){_=d,S-=_;do F[s++]=h[E++];while(--_);E=s-T,C=F}}}else if(E+=d-_,_<S){S-=_;do F[s++]=h[E++];while(--_);E=s-T,C=F}for(;S>2;)F[s++]=C[E++],F[s++]=C[E++],F[s++]=C[E++],S-=3;S&&(F[s++]=C[E++],S>1&&(F[s++]=C[E++]))}else{E=s-T;do F[s++]=F[E++],F[s++]=F[E++],F[s++]=F[E++],S-=3;while(S>2);S&&(F[s++]=F[E++],S>1&&(F[s++]=F[E++]))}}else if(_&64){e.msg="invalid distance code",A.mode=Z3;break e}else{b=v[(b&65535)+(f&(1<<_)-1)];continue r}break}}else if(_&64)if(_&32){A.mode=EEt;break e}else{e.msg="invalid literal/length code",A.mode=Z3;break e}else{b=m[(b&65535)+(f&(1<<_)-1)];continue t}break}}while(n<i&&s<o);S=g>>3,n-=S,g-=S<<3,f&=(1<<g)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),A.hold=f,A.bits=g};const H2=15,Ice=852,Oce=592,Rce=0,Y9=1,Dce=2,CEt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),kEt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),PEt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),NEt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),IEt=(t,e,r,n,i,s,a,o)=>{const l=o.bits;let c=0,u=0,d=0,h=0,f=0,g=0,m=0,v=0,x=0,w=0,b,_,S,T,E,C=null,N;const F=new Uint16Array(H2+1),A=new Uint16Array(H2+1);let I=null,M,U,Y;for(c=0;c<=H2;c++)F[c]=0;for(u=0;u<n;u++)F[e[r+u]]++;for(f=l,h=H2;h>=1&&F[h]===0;h--);if(f>h&&(f=h),h===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(d=1;d<h&&F[d]===0;d++);for(f<d&&(f=d),v=1,c=1;c<=H2;c++)if(v<<=1,v-=F[c],v<0)return-1;if(v>0&&(t===Rce||h!==1))return-1;for(A[1]=0,c=1;c<H2;c++)A[c+1]=A[c]+F[c];for(u=0;u<n;u++)e[r+u]!==0&&(a[A[e[r+u]]++]=u);if(t===Rce?(C=I=a,N=20):t===Y9?(C=CEt,I=kEt,N=257):(C=PEt,I=NEt,N=0),w=0,u=0,c=d,E=s,g=f,m=0,S=-1,x=1<<f,T=x-1,t===Y9&&x>Ice||t===Dce&&x>Oce)return 1;for(;;){M=c-m,a[u]+1<N?(U=0,Y=a[u]):a[u]>=N?(U=I[a[u]-N],Y=C[a[u]-N]):(U=96,Y=0),b=1<<c-m,_=1<<g,d=_;do _-=b,i[E+(w>>m)+_]=M<<24|U<<16|Y|0;while(_!==0);for(b=1<<c-1;w&b;)b>>=1;if(b!==0?(w&=b-1,w+=b):w=0,u++,--F[c]===0){if(c===h)break;c=e[r+a[u]]}if(c>f&&(w&T)!==S){for(m===0&&(m=f),E+=d,g=c-m,v=1<<g;g+m<h&&(v-=F[g+m],!(v<=0));)g++,v<<=1;if(x+=1<<g,t===Y9&&x>Ice||t===Dce&&x>Oce)return 1;S=w&T,i[S]=f<<24|g<<16|E-s|0}}return w!==0&&(i[E+w]=c-m<<24|64<<16|0),o.bits=f,0};var pP=IEt;const OEt=0,PTe=1,NTe=2,{Z_FINISH:Mce,Z_BLOCK:REt,Z_TREES:Q3,Z_OK:R_,Z_STREAM_END:DEt,Z_NEED_DICT:MEt,Z_STREAM_ERROR:Th,Z_DATA_ERROR:ITe,Z_MEM_ERROR:OTe,Z_BUF_ERROR:FEt,Z_DEFLATED:Fce}=fR,l7=16180,jce=16181,Lce=16182,Bce=16183,$ce=16184,Vce=16185,Uce=16186,zce=16187,Hce=16188,Wce=16189,PL=16190,e0=16191,X9=16192,qce=16193,Z9=16194,Gce=16195,Kce=16196,Yce=16197,Xce=16198,J3=16199,eD=16200,Zce=16201,Qce=16202,Jce=16203,eue=16204,tue=16205,Q9=16206,rue=16207,nue=16208,Es=16209,RTe=16210,DTe=16211,jEt=852,LEt=592,BEt=15,$Et=BEt,iue=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function VEt(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const d2=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<l7||e.mode>DTe?1:0},MTe=t=>{if(d2(t))return Th;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=l7,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(jEt),e.distcode=e.distdyn=new Int32Array(LEt),e.sane=1,e.back=-1,R_},FTe=t=>{if(d2(t))return Th;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,MTe(t)},jTe=(t,e)=>{let r;if(d2(t))return Th;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Th:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,FTe(t))},LTe=(t,e)=>{if(!t)return Th;const r=new VEt;t.state=r,r.strm=t,r.window=null,r.mode=l7;const n=jTe(t,e);return n!==R_&&(t.state=null),n},UEt=t=>LTe(t,$Et);let sue=!0,J9,eV;const zEt=t=>{if(sue){J9=new Int32Array(512),eV=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(pP(PTe,t.lens,0,288,J9,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;pP(NTe,t.lens,0,32,eV,0,t.work,{bits:5}),sue=!1}t.lencode=J9,t.lenbits=9,t.distcode=eV,t.distbits=5},BTe=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},HEt=(t,e)=>{let r,n,i,s,a,o,l,c,u,d,h,f,g,m,v=0,x,w,b,_,S,T,E,C;const N=new Uint8Array(4);let F,A;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(d2(t)||!t.output||!t.input&&t.avail_in!==0)return Th;r=t.state,r.mode===e0&&(r.mode=X9),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,c=r.hold,u=r.bits,d=o,h=l,C=R_;e:for(;;)switch(r.mode){case l7:if(r.wrap===0){r.mode=X9;break}for(;u<16;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,N[0]=c&255,N[1]=c>>>8&255,r.check=To(r.check,N,2,0),c=0,u=0,r.mode=jce;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Es;break}if((c&15)!==Fce){t.msg="unknown compression method",r.mode=Es;break}if(c>>>=4,u-=4,E=(c&15)+8,r.wbits===0&&(r.wbits=E),E>15||E>r.wbits){t.msg="invalid window size",r.mode=Es;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?Wce:e0,c=0,u=0;break;case jce:for(;u<16;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==Fce){t.msg="unknown compression method",r.mode=Es;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Es;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,r.check=To(r.check,N,2,0)),c=0,u=0,r.mode=Lce;case Lce:for(;u<32;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,N[2]=c>>>16&255,N[3]=c>>>24&255,r.check=To(r.check,N,4,0)),c=0,u=0,r.mode=Bce;case Bce:for(;u<16;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,r.check=To(r.check,N,2,0)),c=0,u=0,r.mode=$ce;case $ce:if(r.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,r.check=To(r.check,N,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=Vce;case Vce:if(r.flags&1024&&(f=r.length,f>o&&(f=o),f&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+f),E)),r.flags&512&&r.wrap&4&&(r.check=To(r.check,n,f,s)),o-=f,s+=f,r.length-=f),r.length))break e;r.length=0,r.mode=Uce;case Uce:if(r.flags&2048){if(o===0)break e;f=0;do E=n[s+f++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E));while(E&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=To(r.check,n,f,s)),o-=f,s+=f,E)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=zce;case zce:if(r.flags&4096){if(o===0)break e;f=0;do E=n[s+f++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E));while(E&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=To(r.check,n,f,s)),o-=f,s+=f,E)break e}else r.head&&(r.head.comment=null);r.mode=Hce;case Hce:if(r.flags&512){for(;u<16;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Es;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=e0;break;case Wce:for(;u<32;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}t.adler=r.check=iue(c),c=0,u=0,r.mode=PL;case PL:if(r.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=u,MEt;t.adler=r.check=1,r.mode=e0;case e0:if(e===REt||e===Q3)break e;case X9:if(r.last){c>>>=u&7,u-=u&7,r.mode=Q9;break}for(;u<3;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=qce;break;case 1:if(zEt(r),r.mode=J3,e===Q3){c>>>=2,u-=2;break e}break;case 2:r.mode=Kce;break;case 3:t.msg="invalid block type",r.mode=Es}c>>>=2,u-=2;break;case qce:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Es;break}if(r.length=c&65535,c=0,u=0,r.mode=Z9,e===Q3)break e;case Z9:r.mode=Gce;case Gce:if(f=r.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;i.set(n.subarray(s,s+f),a),o-=f,s+=f,l-=f,a+=f,r.length-=f;break}r.mode=e0;break;case Kce:for(;u<14;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Es;break}r.have=0,r.mode=Yce;case Yce:for(;r.have<r.ncode;){for(;u<3;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}r.lens[I[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,F={bits:r.lenbits},C=pP(OEt,r.lens,0,19,r.lencode,0,r.work,F),r.lenbits=F.bits,C){t.msg="invalid code lengths set",r.mode=Es;break}r.have=0,r.mode=Xce;case Xce:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[c&(1<<r.lenbits)-1],x=v>>>24,w=v>>>16&255,b=v&65535,!(x<=u);){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(b<16)c>>>=x,u-=x,r.lens[r.have++]=b;else{if(b===16){for(A=x+2;u<A;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(c>>>=x,u-=x,r.have===0){t.msg="invalid bit length repeat",r.mode=Es;break}E=r.lens[r.have-1],f=3+(c&3),c>>>=2,u-=2}else if(b===17){for(A=x+3;u<A;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}c>>>=x,u-=x,E=0,f=3+(c&7),c>>>=3,u-=3}else{for(A=x+7;u<A;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}c>>>=x,u-=x,E=0,f=11+(c&127),c>>>=7,u-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Es;break}for(;f--;)r.lens[r.have++]=E}}if(r.mode===Es)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Es;break}if(r.lenbits=9,F={bits:r.lenbits},C=pP(PTe,r.lens,0,r.nlen,r.lencode,0,r.work,F),r.lenbits=F.bits,C){t.msg="invalid literal/lengths set",r.mode=Es;break}if(r.distbits=6,r.distcode=r.distdyn,F={bits:r.distbits},C=pP(NTe,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,F),r.distbits=F.bits,C){t.msg="invalid distances set",r.mode=Es;break}if(r.mode=J3,e===Q3)break e;case J3:r.mode=eD;case eD:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=u,TEt(t,h),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,c=r.hold,u=r.bits,r.mode===e0&&(r.back=-1);break}for(r.back=0;v=r.lencode[c&(1<<r.lenbits)-1],x=v>>>24,w=v>>>16&255,b=v&65535,!(x<=u);){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(w&&!(w&240)){for(_=x,S=w,T=b;v=r.lencode[T+((c&(1<<_+S)-1)>>_)],x=v>>>24,w=v>>>16&255,b=v&65535,!(_+x<=u);){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}c>>>=_,u-=_,r.back+=_}if(c>>>=x,u-=x,r.back+=x,r.length=b,w===0){r.mode=tue;break}if(w&32){r.back=-1,r.mode=e0;break}if(w&64){t.msg="invalid literal/length code",r.mode=Es;break}r.extra=w&15,r.mode=Zce;case Zce:if(r.extra){for(A=r.extra;u<A;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Qce;case Qce:for(;v=r.distcode[c&(1<<r.distbits)-1],x=v>>>24,w=v>>>16&255,b=v&65535,!(x<=u);){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(!(w&240)){for(_=x,S=w,T=b;v=r.distcode[T+((c&(1<<_+S)-1)>>_)],x=v>>>24,w=v>>>16&255,b=v&65535,!(_+x<=u);){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}c>>>=_,u-=_,r.back+=_}if(c>>>=x,u-=x,r.back+=x,w&64){t.msg="invalid distance code",r.mode=Es;break}r.offset=b,r.extra=w&15,r.mode=Jce;case Jce:if(r.extra){for(A=r.extra;u<A;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Es;break}r.mode=eue;case eue:if(l===0)break e;if(f=h-l,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Es;break}f>r.wnext?(f-=r.wnext,g=r.wsize-f):g=r.wnext-f,f>r.length&&(f=r.length),m=r.window}else m=i,g=a-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do i[a++]=m[g++];while(--f);r.length===0&&(r.mode=eD);break;case tue:if(l===0)break e;i[a++]=r.length,l--,r.mode=eD;break;case Q9:if(r.wrap){for(;u<32;){if(o===0)break e;o--,c|=n[s++]<<u,u+=8}if(h-=l,t.total_out+=h,r.total+=h,r.wrap&4&&h&&(t.adler=r.check=r.flags?To(r.check,i,h,a-h):rI(r.check,i,h,a-h)),h=l,r.wrap&4&&(r.flags?c:iue(c))!==r.check){t.msg="incorrect data check",r.mode=Es;break}c=0,u=0}r.mode=rue;case rue:if(r.wrap&&r.flags){for(;u<32;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Es;break}c=0,u=0}r.mode=nue;case nue:C=DEt;break e;case Es:C=ITe;break e;case RTe:return OTe;case DTe:default:return Th}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=u,(r.wsize||h!==t.avail_out&&r.mode<Es&&(r.mode<Q9||e!==Mce))&&BTe(t,t.output,t.next_out,h-t.avail_out),d-=t.avail_in,h-=t.avail_out,t.total_in+=d,t.total_out+=h,r.total+=h,r.wrap&4&&h&&(t.adler=r.check=r.flags?To(r.check,i,h,t.next_out-h):rI(r.check,i,h,t.next_out-h)),t.data_type=r.bits+(r.last?64:0)+(r.mode===e0?128:0)+(r.mode===J3||r.mode===Z9?256:0),(d===0&&h===0||e===Mce)&&C===R_&&(C=FEt),C},WEt=t=>{if(d2(t))return Th;let e=t.state;return e.window&&(e.window=null),t.state=null,R_},qEt=(t,e)=>{if(d2(t))return Th;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,R_):Th},GEt=(t,e)=>{const r=e.length;let n,i,s;return d2(t)||(n=t.state,n.wrap!==0&&n.mode!==PL)?Th:n.mode===PL&&(i=1,i=rI(i,e,r,0),i!==n.check)?ITe:(s=BTe(t,e,r,r),s?(n.mode=RTe,OTe):(n.havedict=1,R_))};var KEt=FTe,YEt=jTe,XEt=MTe,ZEt=UEt,QEt=LTe,JEt=HEt,eTt=WEt,tTt=qEt,rTt=GEt,nTt="pako inflate (from Nodeca project)",m0={inflateReset:KEt,inflateReset2:YEt,inflateResetKeep:XEt,inflateInit:ZEt,inflateInit2:QEt,inflate:JEt,inflateEnd:eTt,inflateGetHeader:tTt,inflateSetDictionary:rTt,inflateInfo:nTt};function iTt(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var sTt=iTt;const $Te=Object.prototype.toString,{Z_NO_FLUSH:aTt,Z_FINISH:oTt,Z_OK:sI,Z_STREAM_END:tV,Z_NEED_DICT:rV,Z_STREAM_ERROR:lTt,Z_DATA_ERROR:aue,Z_MEM_ERROR:cTt}=fR;function mR(t){this.options=o7.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new CTe,this.strm.avail_out=0;let r=m0.inflateInit2(this.strm,e.windowBits);if(r!==sI)throw new Error(YT[r]);if(this.header=new sTt,m0.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=iI.string2buf(e.dictionary):$Te.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=m0.inflateSetDictionary(this.strm,e.dictionary),r!==sI)))throw new Error(YT[r])}mR.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?oTt:aTt,$Te.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=m0.inflate(r,a),s===rV&&i&&(s=m0.inflateSetDictionary(r,i),s===sI?s=m0.inflate(r,a):s===aue&&(s=rV));r.avail_in>0&&s===tV&&r.state.wrap>0&&t[r.next_in]!==0;)m0.inflateReset(r),s=m0.inflate(r,a);switch(s){case lTt:case aue:case rV:case cTt:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===tV))if(this.options.to==="string"){let l=iI.utf8border(r.output,r.next_out),c=r.next_out-l,u=iI.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===sI&&o===0)){if(s===tV)return s=m0.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};mR.prototype.onData=function(t){this.chunks.push(t)};mR.prototype.onEnd=function(t){t===sI&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o7.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function AQ(t,e){const r=new mR(e);if(r.push(t),r.err)throw r.msg||YT[r.err];return r.result}function uTt(t,e){return e=e||{},e.raw=!0,AQ(t,e)}var dTt=mR,hTt=AQ,fTt=uTt,pTt=AQ,mTt=fR,gTt={Inflate:dTt,inflate:hTt,inflateRaw:fTt,ungzip:pTt,constants:mTt};const{Inflate:vTt,inflate:yTt,inflateRaw:iHt,ungzip:sHt}=gTt;var oue=vTt,xTt=yTt;const VTe=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;VTe[t]=e}const lue=4294967295;function bTt(t,e,r){let n=t;for(let i=0;i<r;i++)n=VTe[(n^e[i])&255]^n>>>8;return n}function wTt(t,e){return(bTt(lue,t,e)^lue)>>>0}function cue(t,e,r){const n=t.readUint32(),i=wTt(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function UTe(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function zTe(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function HTe(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function WTe(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function qTe(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+_Tt(e[s-i],r[s],r[s-i])&255}}function _Tt(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),a=Math.abs(n-r);return i<=s&&i<=a?t:s<=a?e:r}function STt(t,e,r,n,i,s){switch(t){case 0:UTe(e,r,i);break;case 1:zTe(e,r,i,s);break;case 2:HTe(e,r,n,i);break;case 3:WTe(e,r,n,i,s);break;case 4:qTe(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const ATt=new Uint16Array([255]),ETt=new Uint8Array(ATt.buffer),TTt=ETt[0]===255;function CTt(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(n*r*o);let c=0;for(let u=0;u<7;u++){const d=a[u],h=Math.ceil((r-d.x)/d.xStep),f=Math.ceil((n-d.y)/d.yStep);if(h<=0||f<=0)continue;const g=h*o,m=new Uint8Array(g);for(let v=0;v<f;v++){const x=e[c++],w=e.subarray(c,c+g);c+=g;const b=new Uint8Array(g);STt(x,w,b,m,g,o),m.set(b);for(let _=0;_<h;_++){const S=d.x+_*d.xStep,T=d.y+v*d.yStep;if(!(S>=r||T>=n))for(let E=0;E<o;E++)l[(T*r+S)*o+E]=b[_*o+E]}}}if(s===16){const u=new Uint16Array(l.buffer);if(TTt)for(let d=0;d<u.length;d++)u[d]=kTt(u[d]);return u}else return l}function kTt(t){return(t&255)<<8|t>>8&255}const PTt=new Uint16Array([255]),NTt=new Uint8Array(PTt.buffer),ITt=NTt[0]===255,OTt=new Uint8Array(0);function uue(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*r),l=new Uint8Array(n*o);let c=OTt,u=0,d,h;for(let f=0;f<n;f++){switch(d=e.subarray(u+1,u+1+o),h=l.subarray(f*o,(f+1)*o),e[u]){case 0:UTe(d,h,o);break;case 1:zTe(d,h,o,a);break;case 2:HTe(d,h,c,o);break;case 3:WTe(d,h,c,o,a);break;case 4:qTe(d,h,c,o,a);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=h,u+=o+1}if(s===16){const f=new Uint16Array(l.buffer);if(ITt)for(let g=0;g<f.length;g++)f[g]=RTt(f[g]);return f}else return l}function RTt(t){return(t&255)<<8|t>>8&255}const vM=Uint8Array.of(137,80,78,71,13,10,26,10);function due(t){if(!DTt(t.readBytes(vM.length)))throw new Error("wrong PNG signature")}function DTt(t){if(t.length<vM.length)return!1;for(let e=0;e<vM.length;e++)if(t[e]!==vM[e])return!1;return!0}const MTt="tEXt",FTt=0,GTe=new TextDecoder("latin1");function jTt(t){if(BTt(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const LTt=/^[\u0000-\u00FF]*$/;function BTt(t){if(!LTt.test(t))throw new Error("invalid latin1 text")}function $Tt(t,e,r){const n=KTe(e);t[n]=VTt(e,r-n.length-1)}function KTe(t){for(t.mark();t.readByte()!==FTt;);const e=t.offset;t.reset();const r=GTe.decode(t.readBytes(e-t.offset-1));return t.skip(1),jTt(r),r}function VTt(t,e){return GTe.decode(t.readBytes(e))}const Eu={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},nV={UNKNOWN:-1,DEFLATE:0},hue={UNKNOWN:-1,ADAPTIVE:0},iV={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},tD={NONE:0,BACKGROUND:1,PREVIOUS:2},sV={SOURCE:0,OVER:1};class UTt extends vQ{constructor(r,n={}){super(r);Le(this,"_checkCrc");Le(this,"_inflator");Le(this,"_png");Le(this,"_apng");Le(this,"_end");Le(this,"_hasPalette");Le(this,"_palette");Le(this,"_hasTransparency");Le(this,"_transparency");Le(this,"_compressionMethod");Le(this,"_filterMethod");Le(this,"_interlaceMethod");Le(this,"_colorType");Le(this,"_isAnimated");Le(this,"_numberOfFrames");Le(this,"_numberOfPlays");Le(this,"_frames");Le(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new oue,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=nV.UNKNOWN,this._filterMethod=hue.UNKNOWN,this._interlaceMethod=iV.UNKNOWN,this._colorType=Eu.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(due(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(due(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case MTt:$Tt(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?cue(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?cue(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=zTt(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Eu.GREYSCALE:i=1;break;case Eu.TRUECOLOUR:i=3;break;case Eu.INDEXED_COLOUR:i=1;break;case Eu.GREYSCALE_ALPHA:i=2;break;case Eu.TRUECOLOUR_ALPHA:i=4;break;case Eu.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==nV.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Eu.GREYSCALE:case Eu.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Eu.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Eu.UNKNOWN:case Eu.GREYSCALE_ALPHA:case Eu.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=KTe(this),i=this.readUint8();if(i!==nV.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:xTt(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=uue({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case tD.NONE:break;case tD.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*r.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case tD.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(a*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case sV.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let u=0;u<this._png.channels;u++)r.data[l+u]=n.data[c+u]}break;case sV.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=s(a,o);for(let u=0;u<this._png.channels;u++){const d=n.data[c+this._png.channels-1]/i,h=u%(this._png.channels-1)===0?1:n.data[c+u],f=Math.floor(d*h+(1-d)*r.data[l+u]);r.data[l+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==hue.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===iV.NO_INTERLACE)this._png.data=uue({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===iV.ADAM7)this._png.data=CTt({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:tD.NONE,blendOp:sV.SOURCE,data:r}),this._inflator=new oue,this._writingDataChunks=!1}}function zTt(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var fue;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(fue||(fue={}));function HTt(t,e){return new UTt(t,e).decode()}var Gr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function aV(){Gr.console&&typeof Gr.console.log=="function"&&Gr.console.log.apply(Gr.console,arguments)}var Wi={log:aV,warn:function(t){Gr.console&&(typeof Gr.console.warn=="function"?Gr.console.warn.apply(Gr.console,arguments):aV.call(null,arguments))},error:function(t){Gr.console&&(typeof Gr.console.error=="function"?Gr.console.error.apply(Gr.console,arguments):aV(t))}};function oV(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Kx(n.response,e,r)},n.onerror=function(){Wi.error("could not download file")},n.send()}function pue(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function rD(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Kx=Gr.saveAs||((typeof window>"u"?"undefined":Ai(window))!=="object"||window!==Gr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Gr.URL||Gr.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?pue(i.href)?oV(t,e,r):rD(i,i.target="_blank"):rD(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){rD(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(pue(t))oV(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){rD(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Ai(s)!=="object"&&(Wi.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return oV(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(Gr.HTMLElement)||Gr.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Ai(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(t)}else{var l=Gr.URL||Gr.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function YTe(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var yM=Gr.atob.bind(Gr),mue=Gr.btoa.bind(Gr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function lV(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=fl(r,n,i,s,e[0],7,-680876936),s=fl(s,r,n,i,e[1],12,-389564586),i=fl(i,s,r,n,e[2],17,606105819),n=fl(n,i,s,r,e[3],22,-1044525330),r=fl(r,n,i,s,e[4],7,-176418897),s=fl(s,r,n,i,e[5],12,1200080426),i=fl(i,s,r,n,e[6],17,-1473231341),n=fl(n,i,s,r,e[7],22,-45705983),r=fl(r,n,i,s,e[8],7,1770035416),s=fl(s,r,n,i,e[9],12,-1958414417),i=fl(i,s,r,n,e[10],17,-42063),n=fl(n,i,s,r,e[11],22,-1990404162),r=fl(r,n,i,s,e[12],7,1804603682),s=fl(s,r,n,i,e[13],12,-40341101),i=fl(i,s,r,n,e[14],17,-1502002290),r=pl(r,n=fl(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=pl(s,r,n,i,e[6],9,-1069501632),i=pl(i,s,r,n,e[11],14,643717713),n=pl(n,i,s,r,e[0],20,-373897302),r=pl(r,n,i,s,e[5],5,-701558691),s=pl(s,r,n,i,e[10],9,38016083),i=pl(i,s,r,n,e[15],14,-660478335),n=pl(n,i,s,r,e[4],20,-405537848),r=pl(r,n,i,s,e[9],5,568446438),s=pl(s,r,n,i,e[14],9,-1019803690),i=pl(i,s,r,n,e[3],14,-187363961),n=pl(n,i,s,r,e[8],20,1163531501),r=pl(r,n,i,s,e[13],5,-1444681467),s=pl(s,r,n,i,e[2],9,-51403784),i=pl(i,s,r,n,e[7],14,1735328473),r=ml(r,n=pl(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ml(s,r,n,i,e[8],11,-2022574463),i=ml(i,s,r,n,e[11],16,1839030562),n=ml(n,i,s,r,e[14],23,-35309556),r=ml(r,n,i,s,e[1],4,-1530992060),s=ml(s,r,n,i,e[4],11,1272893353),i=ml(i,s,r,n,e[7],16,-155497632),n=ml(n,i,s,r,e[10],23,-1094730640),r=ml(r,n,i,s,e[13],4,681279174),s=ml(s,r,n,i,e[0],11,-358537222),i=ml(i,s,r,n,e[3],16,-722521979),n=ml(n,i,s,r,e[6],23,76029189),r=ml(r,n,i,s,e[9],4,-640364487),s=ml(s,r,n,i,e[12],11,-421815835),i=ml(i,s,r,n,e[15],16,530742520),r=gl(r,n=ml(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=gl(s,r,n,i,e[7],10,1126891415),i=gl(i,s,r,n,e[14],15,-1416354905),n=gl(n,i,s,r,e[5],21,-57434055),r=gl(r,n,i,s,e[12],6,1700485571),s=gl(s,r,n,i,e[3],10,-1894986606),i=gl(i,s,r,n,e[10],15,-1051523),n=gl(n,i,s,r,e[1],21,-2054922799),r=gl(r,n,i,s,e[8],6,1873313359),s=gl(s,r,n,i,e[15],10,-30611744),i=gl(i,s,r,n,e[6],15,-1560198380),n=gl(n,i,s,r,e[13],21,1309151649),r=gl(r,n,i,s,e[4],6,-145523070),s=gl(s,r,n,i,e[11],10,-1120210379),i=gl(i,s,r,n,e[2],15,718787259),n=gl(n,i,s,r,e[9],21,-343485551),t[0]=iy(r,t[0]),t[1]=iy(n,t[1]),t[2]=iy(i,t[2]),t[3]=iy(s,t[3])}function c7(t,e,r,n,i,s){return e=iy(iy(e,t),iy(n,s)),iy(e<<i|e>>>32-i,r)}function fl(t,e,r,n,i,s,a){return c7(e&r|~e&n,t,e,i,s,a)}function pl(t,e,r,n,i,s,a){return c7(e&n|r&~n,t,e,i,s,a)}function ml(t,e,r,n,i,s,a){return c7(e^r^n,t,e,i,s,a)}function gl(t,e,r,n,i,s,a){return c7(r^(e|~n),t,e,i,s,a)}function XTe(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)lV(n,WTt(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(lV(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,lV(n,i),n}function WTt(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var gue="0123456789abcdef".split("");function qTt(t){for(var e="",r=0;r<4;r++)e+=gue[t>>8*r+4&15]+gue[t>>8*r&15];return e}function GTt(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function HW(t){return XTe(t).map(GTt).join("")}var KTt=function(t){for(var e=0;e<t.length;e++)t[e]=qTt(t[e]);return t.join("")}(XTe("hello"))!="5d41402abc4b2a76b9719d911017c592";function iy(t,e){if(KTt){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function WW(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=t,n=o}else o=n;var d=e.length,h=0,f=0,g="";for(l=0;l<d;l++)f=(f+(u=o[h=(h+1)%256]))%256,o[h]=o[f],o[f]=u,a=o[(o[h]+o[f])%256],g+=String.fromCharCode(e.charCodeAt(l)^a);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var vue={print:4,modify:8,copy:16,"annot-forms":32};function aS(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(vue.perm!==void 0)throw new Error("Invalid permission: "+o);i+=vue[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=HW(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=WW(this.encryptionKey,this.padding)}function oS(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function yue(t){if(Ai(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){Gr.console&&Wi.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function NL(t){if(!(this instanceof NL))return new NL(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function ZTe(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function eb(t,e,r,n,i){if(!(this instanceof eb))return new eb(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,ZTe.call(this,n,i)}function OS(t,e,r,n,i){if(!(this instanceof OS))return new OS(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,ZTe.call(this,n,i)}function wr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",u=null;Ai(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=yue;var g="1.3",m=f.__private__.getPdfVersion=function(){return g};f.__private__.setPdfVersion=function(L){g=L};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return v};var x=f.__private__.getPageFormat=function(L){return v[L]};i=i||"a4";var w="compat",b="advanced",_=w;function S(){this.saveGraphicsState(),pe(new Jt(At,0,0,-At,0,jh()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),c="n",_=b}function T(){this.restoreGraphicsState(),c="S",_=w}var E=f.__private__.combineFontStyleAndFontWeight=function(L,oe){if(L=="bold"&&oe=="normal"||L=="bold"&&oe==400||L=="normal"&&oe=="italic"||L=="bold"&&oe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return oe&&(L=oe==400||oe==="normal"?L==="italic"?"italic":"normal":oe!=700&&oe!=="bold"||L!=="normal"?(oe==700?"bold":oe)+""+L:"bold"),L};f.advancedAPI=function(L){var oe=_===w;return oe&&S.call(this),typeof L!="function"||(L(this),oe&&T.call(this)),this},f.compatAPI=function(L){var oe=_===b;return oe&&T.call(this),typeof L!="function"||(L(this),oe&&S.call(this)),this},f.isAdvancedAPI=function(){return _===b};var C,N=function(L){if(_!==b)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=f.roundToPrecision=f.__private__.roundToPrecision=function(L,oe){var Te=e||oe;if(isNaN(L)||isNaN(Te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Te).replace(/0+$/,"")};C=f.hpf=f.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return F(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return F(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return F(L,16)};var A=f.f2=f.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return F(L,2)},I=f.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return F(L,3)},M=f.scale=f.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return _===w?L*At:_===b?L:void 0},U=function(L){return M(function(oe){return _===w?jh()-oe:_===b?oe:void 0}(L))};f.__private__.setPrecision=f.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(e=parseInt(L,10))};var Y,X="00000000000000000000000000000000",W=f.__private__.getFileId=function(){return X},G=f.__private__.setFileId=function(L){return X=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(ds=new aS(u.userPermissions,u.userPassword,u.ownerPassword,X)),X};f.setFileId=function(L){return G(L),this},f.getFileId=function(){return W()};var B=f.__private__.convertDateToPDFDate=function(L){var oe=L.getTimezoneOffset(),Te=oe<0?"+":"-",Ie=Math.floor(Math.abs(oe/60)),$e=Math.abs(oe%60),ct=[Te,V(Ie),"'",V($e),"'"].join("");return["D:",L.getFullYear(),V(L.getMonth()+1),V(L.getDate()),V(L.getHours()),V(L.getMinutes()),V(L.getSeconds()),ct].join("")},re=f.__private__.convertPDFDateToDate=function(L){var oe=parseInt(L.substr(2,4),10),Te=parseInt(L.substr(6,2),10)-1,Ie=parseInt(L.substr(8,2),10),$e=parseInt(L.substr(10,2),10),ct=parseInt(L.substr(12,2),10),yt=parseInt(L.substr(14,2),10);return new Date(oe,Te,Ie,$e,ct,yt,0)},ae=f.__private__.setCreationDate=function(L){var oe;if(L===void 0&&(L=new Date),L instanceof Date)oe=B(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");oe=L}return Y=oe},R=f.__private__.getCreationDate=function(L){var oe=Y;return L==="jsDate"&&(oe=re(Y)),oe};f.setCreationDate=function(L){return ae(L),this},f.getCreationDate=function(L){return R(L)};var j,V=f.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},K=f.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},ne=0,J=[],me=[],ce=0,he=[],_e=[],ee=!1,je=me;f.__private__.setCustomOutputDestination=function(L){ee=!0,je=L};var Ue=function(L){ee||(je=L)};f.__private__.resetCustomOutputDestination=function(){ee=!1,je=me};var pe=f.__private__.out=function(L){return L=L.toString(),ce+=L.length+1,je.push(L),je},Me=f.__private__.write=function(L){return pe(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Ye=f.__private__.getArrayBuffer=function(L){for(var oe=L.length,Te=new ArrayBuffer(oe),Ie=new Uint8Array(Te);oe--;)Ie[oe]=L.charCodeAt(oe);return Te},xt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return xt};var Ke=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(L){return Ke=_===b?L/At:L,this};var be,Pe=f.__private__.getFontSize=f.getFontSize=function(){return _===w?Ke:Ke*At},De=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(L){return De=L,this},f.__private__.getR2L=f.getR2L=function(){return De};var Je,it=f.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))be=L;else if(isNaN(L)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');be=L}else be=parseInt(L,10)};f.__private__.getZoomMode=function(){return be};var rt,st=f.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Je=L};f.__private__.getPageMode=function(){return Je};var Dt=f.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');rt=L};f.__private__.getLayoutMode=function(){return rt},f.__private__.setDisplayMode=f.setDisplayMode=function(L,oe,Te){return it(L),Dt(oe),st(Te),this};var kt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(L){if(Object.keys(kt).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return kt[L]},f.__private__.getDocumentProperties=function(){return kt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(L){for(var oe in kt)kt.hasOwnProperty(oe)&&L[oe]&&(kt[oe]=L[oe]);return this},f.__private__.setDocumentProperty=function(L,oe){if(Object.keys(kt).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return kt[L]=oe};var Nt,At,Tt,Ur,Yt,sr={},Cr={},jr=[],Ne={},Gt={},Ve={},Qt={},Ht=null,gt=0,ft=[],ar=new yue(f),tr=t.hotfixes||[],Sr={},qr={},Nn=[],Jt=function L(oe,Te,Ie,$e,ct,yt){if(!(this instanceof L))return new L(oe,Te,Ie,$e,ct,yt);isNaN(oe)&&(oe=1),isNaN(Te)&&(Te=0),isNaN(Ie)&&(Ie=0),isNaN($e)&&($e=1),isNaN(ct)&&(ct=0),isNaN(yt)&&(yt=0),this._matrix=[oe,Te,Ie,$e,ct,yt]};Object.defineProperty(Jt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Jt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Jt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Jt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Jt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Jt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Jt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Jt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Jt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Jt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Jt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Jt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Jt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Jt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Jt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Jt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Jt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(L)},Jt.prototype.multiply=function(L){var oe=L.sx*this.sx+L.shy*this.shx,Te=L.sx*this.shy+L.shy*this.sy,Ie=L.shx*this.sx+L.sy*this.shx,$e=L.shx*this.shy+L.sy*this.sy,ct=L.tx*this.sx+L.ty*this.shx+this.tx,yt=L.tx*this.shy+L.ty*this.sy+this.ty;return new Jt(oe,Te,Ie,$e,ct,yt)},Jt.prototype.decompose=function(){var L=this.sx,oe=this.shy,Te=this.shx,Ie=this.sy,$e=this.tx,ct=this.ty,yt=Math.sqrt(L*L+oe*oe),lr=(L/=yt)*Te+(oe/=yt)*Ie;Te-=L*lr,Ie-=oe*lr;var gr=Math.sqrt(Te*Te+Ie*Ie);return lr/=gr,L*(Ie/=gr)<oe*(Te/=gr)&&(L=-L,oe=-oe,lr=-lr,yt=-yt),{scale:new Jt(yt,0,0,gr,0,0),translate:new Jt(1,0,0,1,$e,ct),rotate:new Jt(L,oe,-oe,L,0,0),skew:new Jt(1,0,lr,1,0,0)}},Jt.prototype.toString=function(L){return this.join(" ")},Jt.prototype.inversed=function(){var L=this.sx,oe=this.shy,Te=this.shx,Ie=this.sy,$e=this.tx,ct=this.ty,yt=1/(L*Ie-oe*Te),lr=Ie*yt,gr=-oe*yt,Or=-Te*yt,kr=L*yt;return new Jt(lr,gr,Or,kr,-lr*$e-Or*ct,-gr*$e-kr*ct)},Jt.prototype.applyToPoint=function(L){var oe=L.x*this.sx+L.y*this.shx+this.tx,Te=L.x*this.shy+L.y*this.sy+this.ty;return new Yl(oe,Te)},Jt.prototype.applyToRectangle=function(L){var oe=this.applyToPoint(L),Te=this.applyToPoint(new Yl(L.x+L.w,L.y+L.h));return new hv(oe.x,oe.y,Te.x-oe.x,Te.y-oe.y)},Jt.prototype.clone=function(){var L=this.sx,oe=this.shy,Te=this.shx,Ie=this.sy,$e=this.tx,ct=this.ty;return new Jt(L,oe,Te,Ie,$e,ct)},f.Matrix=Jt;var Ni=f.matrixMult=function(L,oe){return oe.multiply(L)},li=new Jt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=li;var Tn=function(L,oe){if(!Gt[L]){var Te=(oe instanceof eb?"Sh":"P")+(Object.keys(Ne).length+1).toString(10);oe.id=Te,Gt[L]=Te,Ne[Te]=oe,ar.publish("addPattern",oe)}};f.ShadingPattern=eb,f.TilingPattern=OS,f.addShadingPattern=function(L,oe){return N("addShadingPattern()"),Tn(L,oe),this},f.beginTilingPattern=function(L){N("beginTilingPattern()"),ep(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},f.endTilingPattern=function(L,oe){N("endTilingPattern()"),oe.stream=_e[j].join(`
`),Tn(L,oe),ar.publish("endTilingPattern",oe),Nn.pop().restore()};var Oe,Lt=f.__private__.newObject=function(){var L=It();return se(L,!0),L},It=f.__private__.newObjectDeferred=function(){return ne++,J[ne]=function(){return ce},ne},se=function(L,oe){return oe=typeof oe=="boolean"&&oe,J[L]=ce,oe&&pe(L+" 0 obj"),L},de=f.__private__.newAdditionalObject=function(){var L={objId:It(),content:""};return he.push(L),L},ue=It(),xe=It(),Se=f.__private__.decodeColorString=function(L){var oe=L.split(" ");if(oe.length!==2||oe[1]!=="g"&&oe[1]!=="G")oe.length!==5||oe[4]!=="k"&&oe[4]!=="K"||(oe=[(1-oe[0])*(1-oe[3]),(1-oe[1])*(1-oe[3]),(1-oe[2])*(1-oe[3]),"r"]);else{var Te=parseFloat(oe[0]);oe=[Te,Te,Te,"r"]}for(var Ie="#",$e=0;$e<3;$e++)Ie+=("0"+Math.floor(255*parseFloat(oe[$e])).toString(16)).slice(-2);return Ie},Ee=f.__private__.encodeColorString=function(L){var oe;typeof L=="string"&&(L={ch1:L});var Te=L.ch1,Ie=L.ch2,$e=L.ch3,ct=L.ch4,yt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Te=="string"&&Te.charAt(0)!=="#"){var lr=new YTe(Te);if(lr.ok)Te=lr.toHex();else if(!/^\d*\.?\d*$/.test(Te))throw new Error('Invalid color "'+Te+'" passed to jsPDF.encodeColorString.')}if(typeof Te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Te)&&(Te="#"+Te[1]+Te[1]+Te[2]+Te[2]+Te[3]+Te[3]),typeof Te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Te)){var gr=parseInt(Te.substr(1),16);Te=gr>>16&255,Ie=gr>>8&255,$e=255&gr}if(Ie===void 0||ct===void 0&&Te===Ie&&Ie===$e)oe=typeof Te=="string"?Te+" "+yt[0]:L.precision===2?A(Te/255)+" "+yt[0]:I(Te/255)+" "+yt[0];else if(ct===void 0||Ai(ct)==="object"){if(ct&&!isNaN(ct.a)&&ct.a===0)return["1.","1.","1.",yt[1]].join(" ");oe=typeof Te=="string"?[Te,Ie,$e,yt[1]].join(" "):L.precision===2?[A(Te/255),A(Ie/255),A($e/255),yt[1]].join(" "):[I(Te/255),I(Ie/255),I($e/255),yt[1]].join(" ")}else oe=typeof Te=="string"?[Te,Ie,$e,ct,yt[2]].join(" "):L.precision===2?[A(Te),A(Ie),A($e),A(ct),yt[2]].join(" "):[I(Te),I(Ie),I($e),I(ct),yt[2]].join(" ");return oe},qe=f.__private__.getFilters=function(){return a},nt=f.__private__.putStream=function(L){var oe=(L=L||{}).data||"",Te=L.filters||qe(),Ie=L.alreadyAppliedFilters||[],$e=L.addLength1||!1,ct=oe.length,yt=L.objectId,lr=function(q){return q};if(u!==null&&yt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(lr=ds.encryptor(yt,0));var gr={};Te===!0&&(Te=["FlateEncode"]);var Or=L.additionalKeyValues||[],kr=(gr=wr.API.processDataByFilters!==void 0?wr.API.processDataByFilters(oe,Te):{data:oe,reverseChain:[]}).reverseChain+(Array.isArray(Ie)?Ie.join(" "):Ie.toString());if(gr.data.length!==0&&(Or.push({key:"Length",value:gr.data.length}),$e===!0&&Or.push({key:"Length1",value:ct})),kr.length!=0)if(kr.split("/").length-1==1)Or.push({key:"Filter",value:kr});else{Or.push({key:"Filter",value:"["+kr+"]"});for(var In=0;In<Or.length;In+=1)if(Or[In].key==="DecodeParms"){for(var Qi=[],Bi=0;Bi<gr.reverseChain.split("/").length-1;Bi+=1)Qi.push("null");Qi.push(Or[In].value),Or[In].value="["+Qi.join(" ")+"]"}}pe("<<");for(var P=0;P<Or.length;P++)pe("/"+Or[P].key+" "+Or[P].value);pe(">>"),gr.data.length!==0&&(pe("stream"),pe(lr(gr.data)),pe("endstream"))},He=f.__private__.putPage=function(L){var oe=L.number,Te=L.data,Ie=L.objId,$e=L.contentsObjId;se(Ie,!0),pe("<</Type /Page"),pe("/Parent "+L.rootDictionaryObjId+" 0 R"),pe("/Resources "+L.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(C(L.mediaBox.bottomLeftX))+" "+parseFloat(C(L.mediaBox.bottomLeftY))+" "+C(L.mediaBox.topRightX)+" "+C(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&pe("/CropBox ["+C(L.cropBox.bottomLeftX)+" "+C(L.cropBox.bottomLeftY)+" "+C(L.cropBox.topRightX)+" "+C(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&pe("/BleedBox ["+C(L.bleedBox.bottomLeftX)+" "+C(L.bleedBox.bottomLeftY)+" "+C(L.bleedBox.topRightX)+" "+C(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&pe("/TrimBox ["+C(L.trimBox.bottomLeftX)+" "+C(L.trimBox.bottomLeftY)+" "+C(L.trimBox.topRightX)+" "+C(L.trimBox.topRightY)+"]"),L.artBox!==null&&pe("/ArtBox ["+C(L.artBox.bottomLeftX)+" "+C(L.artBox.bottomLeftY)+" "+C(L.artBox.topRightX)+" "+C(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&pe("/UserUnit "+L.userUnit),ar.publish("putPage",{objId:Ie,pageContext:ft[oe],pageNumber:oe,page:Te}),pe("/Contents "+$e+" 0 R"),pe(">>"),pe("endobj");var ct=Te.join(`
`);return _===b&&(ct+=`
Q`),se($e,!0),nt({data:ct,filters:qe(),objectId:$e}),pe("endobj"),Ie},Ge=f.__private__.putPages=function(){var L,oe,Te=[];for(L=1;L<=gt;L++)ft[L].objId=It(),ft[L].contentsObjId=It();for(L=1;L<=gt;L++)Te.push(He({number:L,data:_e[L],objId:ft[L].objId,contentsObjId:ft[L].contentsObjId,mediaBox:ft[L].mediaBox,cropBox:ft[L].cropBox,bleedBox:ft[L].bleedBox,trimBox:ft[L].trimBox,artBox:ft[L].artBox,userUnit:ft[L].userUnit,rootDictionaryObjId:ue,resourceDictionaryObjId:xe}));se(ue,!0),pe("<</Type /Pages");var Ie="/Kids [";for(oe=0;oe<gt;oe++)Ie+=Te[oe]+" 0 R ";pe(Ie+"]"),pe("/Count "+gt),pe(">>"),pe("endobj"),ar.publish("postPutPages")},Ze=function(L){ar.publish("putFont",{font:L,out:pe,newObject:Lt,putStream:nt}),L.isAlreadyPutted!==!0&&(L.objectNumber=Lt(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+oS(L.postScriptName)),pe("/Subtype /Type1"),typeof L.encoding=="string"&&pe("/Encoding /"+L.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},_t=function(L){L.objectNumber=Lt();var oe=[];oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Form"}),oe.push({key:"BBox",value:"["+[C(L.x),C(L.y),C(L.x+L.width),C(L.y+L.height)].join(" ")+"]"}),oe.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Te=L.pages[1].join(`
`);nt({data:Te,additionalKeyValues:oe,objectId:L.objectNumber}),pe("endobj")},St=function(L,oe){oe||(oe=21);var Te=Lt(),Ie=function(yt,lr){var gr,Or=[],kr=1/(lr-1);for(gr=0;gr<1;gr+=kr)Or.push(gr);if(Or.push(1),yt[0].offset!=0){var In={offset:0,color:yt[0].color};yt.unshift(In)}if(yt[yt.length-1].offset!=1){var Qi={offset:1,color:yt[yt.length-1].color};yt.push(Qi)}for(var Bi="",P=0,q=0;q<Or.length;q++){for(gr=Or[q];gr>yt[P+1].offset;)P++;var te=yt[P].offset,ye=(gr-te)/(yt[P+1].offset-te),ze=yt[P].color,tt=yt[P+1].color;Bi+=K(Math.round((1-ye)*ze[0]+ye*tt[0]).toString(16))+K(Math.round((1-ye)*ze[1]+ye*tt[1]).toString(16))+K(Math.round((1-ye)*ze[2]+ye*tt[2]).toString(16))}return Bi.trim()}(L.colors,oe),$e=[];$e.push({key:"FunctionType",value:"0"}),$e.push({key:"Domain",value:"[0.0 1.0]"}),$e.push({key:"Size",value:"["+oe+"]"}),$e.push({key:"BitsPerSample",value:"8"}),$e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nt({data:Ie,additionalKeyValues:$e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Te}),pe("endobj"),L.objectNumber=Lt(),pe("<< /ShadingType "+L.type),pe("/ColorSpace /DeviceRGB");var ct="/Coords ["+C(parseFloat(L.coords[0]))+" "+C(parseFloat(L.coords[1]))+" ";L.type===2?ct+=C(parseFloat(L.coords[2]))+" "+C(parseFloat(L.coords[3])):ct+=C(parseFloat(L.coords[2]))+" "+C(parseFloat(L.coords[3]))+" "+C(parseFloat(L.coords[4]))+" "+C(parseFloat(L.coords[5])),pe(ct+="]"),L.matrix&&pe("/Matrix ["+L.matrix.toString()+"]"),pe("/Function "+Te+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},Wt=function(L,oe){var Te=It(),Ie=Lt();oe.push({resourcesOid:Te,objectOid:Ie}),L.objectNumber=Ie;var $e=[];$e.push({key:"Type",value:"/Pattern"}),$e.push({key:"PatternType",value:"1"}),$e.push({key:"PaintType",value:"1"}),$e.push({key:"TilingType",value:"1"}),$e.push({key:"BBox",value:"["+L.boundingBox.map(C).join(" ")+"]"}),$e.push({key:"XStep",value:C(L.xStep)}),$e.push({key:"YStep",value:C(L.yStep)}),$e.push({key:"Resources",value:Te+" 0 R"}),L.matrix&&$e.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),nt({data:L.stream,additionalKeyValues:$e,objectId:L.objectNumber}),pe("endobj")},Et=function(L){for(var oe in L.objectNumber=Lt(),pe("<<"),L)switch(oe){case"opacity":pe("/ca "+A(L[oe]));break;case"stroke-opacity":pe("/CA "+A(L[oe]))}pe(">>"),pe("endobj")},zt=function(L){se(L.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var oe in pe("/Font <<"),sr)sr.hasOwnProperty(oe)&&(d===!1||d===!0&&h.hasOwnProperty(oe))&&pe("/"+oe+" "+sr[oe].objectNumber+" 0 R");pe(">>")}(),function(){if(Object.keys(Ne).length>0){for(var oe in pe("/Shading <<"),Ne)Ne.hasOwnProperty(oe)&&Ne[oe]instanceof eb&&Ne[oe].objectNumber>=0&&pe("/"+oe+" "+Ne[oe].objectNumber+" 0 R");ar.publish("putShadingPatternDict"),pe(">>")}}(),function(oe){if(Object.keys(Ne).length>0){for(var Te in pe("/Pattern <<"),Ne)Ne.hasOwnProperty(Te)&&Ne[Te]instanceof f.TilingPattern&&Ne[Te].objectNumber>=0&&Ne[Te].objectNumber<oe&&pe("/"+Te+" "+Ne[Te].objectNumber+" 0 R");ar.publish("putTilingPatternDict"),pe(">>")}}(L.objectOid),function(){if(Object.keys(Ve).length>0){var oe;for(oe in pe("/ExtGState <<"),Ve)Ve.hasOwnProperty(oe)&&Ve[oe].objectNumber>=0&&pe("/"+oe+" "+Ve[oe].objectNumber+" 0 R");ar.publish("putGStateDict"),pe(">>")}}(),function(){for(var oe in pe("/XObject <<"),Sr)Sr.hasOwnProperty(oe)&&Sr[oe].objectNumber>=0&&pe("/"+oe+" "+Sr[oe].objectNumber+" 0 R");ar.publish("putXobjectDict"),pe(">>")}(),pe(">>"),pe("endobj")},Dr=function(L){Cr[L.fontName]=Cr[L.fontName]||{},Cr[L.fontName][L.fontStyle]=L.id},si=function(L,oe,Te,Ie,$e){var ct={id:"F"+(Object.keys(sr).length+1).toString(10),postScriptName:L,fontName:oe,fontStyle:Te,encoding:Ie,isStandardFont:$e||!1,metadata:{}};return ar.publish("addFont",{font:ct,instance:this}),sr[ct.id]=ct,Dr(ct),ct.id},wn=f.__private__.pdfEscape=f.pdfEscape=function(L,oe){return function(Te,Ie){var $e,ct,yt,lr,gr,Or,kr,In,Qi;if(yt=(Ie=Ie||{}).sourceEncoding||"Unicode",gr=Ie.outputEncoding,(Ie.autoencode||gr)&&sr[Nt].metadata&&sr[Nt].metadata[yt]&&sr[Nt].metadata[yt].encoding&&(lr=sr[Nt].metadata[yt].encoding,!gr&&sr[Nt].encoding&&(gr=sr[Nt].encoding),!gr&&lr.codePages&&(gr=lr.codePages[0]),typeof gr=="string"&&(gr=lr[gr]),gr)){for(kr=!1,Or=[],$e=0,ct=Te.length;$e<ct;$e++)(In=gr[Te.charCodeAt($e)])?Or.push(String.fromCharCode(In)):Or.push(Te[$e]),Or[$e].charCodeAt(0)>>8&&(kr=!0);Te=Or.join("")}for($e=Te.length;kr===void 0&&$e!==0;)Te.charCodeAt($e-1)>>8&&(kr=!0),$e--;if(!kr)return Te;for(Or=Ie.noBOM?[]:[254,255],$e=0,ct=Te.length;$e<ct;$e++){if((Qi=(In=Te.charCodeAt($e))>>8)>>8)throw new Error("Character at position "+$e+" of string '"+Te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Or.push(Qi),Or.push(In-(Qi<<8))}return String.fromCharCode.apply(void 0,Or)}(L,oe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},us=f.__private__.beginPage=function(L){_e[++gt]=[],ft[gt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},mu(gt),Ue(_e[j])},Nc=function(L,oe){var Te,Ie,$e;switch(r=oe||r,typeof L=="string"&&(Te=x(L.toLowerCase()),Array.isArray(Te)&&(Ie=Te[0],$e=Te[1])),Array.isArray(L)&&(Ie=L[0]*At,$e=L[1]*At),isNaN(Ie)&&(Ie=i[0],$e=i[1]),(Ie>14400||$e>14400)&&(Wi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ie=Math.min(14400,Ie),$e=Math.min(14400,$e)),i=[Ie,$e],r.substr(0,1)){case"l":$e>Ie&&(i=[$e,Ie]);break;case"p":Ie>$e&&(i=[$e,Ie])}us(i),Lr(Dc),pe(cv),Mc!==0&&pe(Mc+" J"),dv!==0&&pe(dv+" j"),ar.publish("addPage",{pageNumber:gt})},Wl=function(L){L>0&&L<=gt&&(_e.splice(L,1),ft.splice(L,1),gt--,j>gt&&(j=gt),this.setPage(j))},mu=function(L){L>0&&L<=gt&&(j=L)},ql=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return _e.length-1},Dh=function(L,oe,Te){var Ie,$e=void 0;return Te=Te||{},L=L!==void 0?L:sr[Nt].fontName,oe=oe!==void 0?oe:sr[Nt].fontStyle,Ie=L.toLowerCase(),Cr[Ie]!==void 0&&Cr[Ie][oe]!==void 0?$e=Cr[Ie][oe]:Cr[L]!==void 0&&Cr[L][oe]!==void 0?$e=Cr[L][oe]:Te.disableWarning===!1&&Wi.warn("Unable to look up font label for font '"+L+"', '"+oe+"'. Refer to getFontList() for available fonts."),$e||Te.noFallback||($e=Cr.times[oe])==null&&($e=Cr.times.normal),$e},zs=f.__private__.putInfo=function(){var L=Lt(),oe=function(Ie){return Ie};for(var Te in u!==null&&(oe=ds.encryptor(L,0)),pe("<<"),pe("/Producer ("+wn(oe("jsPDF "+wr.version))+")"),kt)kt.hasOwnProperty(Te)&&kt[Te]&&pe("/"+Te.substr(0,1).toUpperCase()+Te.substr(1)+" ("+wn(oe(kt[Te]))+")");pe("/CreationDate ("+wn(oe(Y))+")"),pe(">>"),pe("endobj")},Gl=f.__private__.putCatalog=function(L){var oe=(L=L||{}).rootDictionaryObjId||ue;switch(Lt(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+oe+" 0 R"),be||(be="fullwidth"),be){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Te=""+be;Te.substr(Te.length-1)==="%"&&(be=parseInt(be)/100),typeof be=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+A(be)+"]")}switch(rt||(rt="continuous"),rt){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}Je&&pe("/PageMode /"+Je),ar.publish("putCatalog"),pe(">>"),pe("endobj")},Ic=f.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(ne+1)),pe("/Root "+ne+" 0 R"),pe("/Info "+(ne-1)+" 0 R"),u!==null&&pe("/Encrypt "+ds.oid+" 0 R"),pe("/ID [ <"+X+"> <"+X+"> ]"),pe(">>")},Xi=f.__private__.putHeader=function(){pe("%PDF-"+g),pe("%")},Yf=f.__private__.putXRef=function(){var L="0000000000";pe("xref"),pe("0 "+(ne+1)),pe("0000000000 65535 f ");for(var oe=1;oe<=ne;oe++)typeof J[oe]=="function"?pe((L+J[oe]()).slice(-10)+" 00000 n "):J[oe]!==void 0?pe((L+J[oe]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},Oc=f.__private__.buildDocument=function(){var L;ne=0,ce=0,me=[],J=[],he=[],ue=It(),xe=It(),Ue(me),ar.publish("buildDocument"),Xi(),Ge(),function(){ar.publish("putAdditionalObjects");for(var Te=0;Te<he.length;Te++){var Ie=he[Te];se(Ie.objId,!0),pe(Ie.content),pe("endobj")}ar.publish("postPutAdditionalObjects")}(),L=[],function(){for(var Te in sr)sr.hasOwnProperty(Te)&&(d===!1||d===!0&&h.hasOwnProperty(Te))&&Ze(sr[Te])}(),function(){var Te;for(Te in Ve)Ve.hasOwnProperty(Te)&&Et(Ve[Te])}(),function(){for(var Te in Sr)Sr.hasOwnProperty(Te)&&_t(Sr[Te])}(),function(Te){var Ie;for(Ie in Ne)Ne.hasOwnProperty(Ie)&&(Ne[Ie]instanceof eb?St(Ne[Ie]):Ne[Ie]instanceof OS&&Wt(Ne[Ie],Te))}(L),ar.publish("putResources"),L.forEach(zt),zt({resourcesOid:xe,objectOid:Number.MAX_SAFE_INTEGER}),ar.publish("postPutResources"),u!==null&&(ds.oid=Lt(),pe("<<"),pe("/Filter /Standard"),pe("/V "+ds.v),pe("/R "+ds.r),pe("/U <"+ds.toHexString(ds.U)+">"),pe("/O <"+ds.toHexString(ds.O)+">"),pe("/P "+ds.P),pe(">>"),pe("endobj")),zs(),Gl();var oe=ce;return Yf(),Ic(),pe("startxref"),pe(""+oe),pe("%%EOF"),Ue(_e[j]),me.join(`
`)},ei=f.__private__.getBlob=function(L){return new Blob([Ye(L)],{type:"application/pdf"})},$m=f.output=f.__private__.output=(Oe=function(L,oe){switch(typeof(oe=oe||{})=="string"?oe={filename:oe}:oe.filename=oe.filename||"generated.pdf",L){case void 0:return Oc();case"save":f.save(oe.filename);break;case"arraybuffer":return Ye(Oc());case"blob":return ei(Oc());case"bloburi":case"bloburl":if(Gr.URL!==void 0&&typeof Gr.URL.createObjectURL=="function")return Gr.URL&&Gr.URL.createObjectURL(ei(Oc()))||void 0;Wi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Te="",Ie=Oc();try{Te=mue(Ie)}catch{Te=mue(unescape(encodeURIComponent(Ie)))}return"data:application/pdf;filename="+oe.filename+";base64,"+Te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Gr)==="[object Window]"){var $e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ct=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';oe.pdfObjectUrl&&($e=oe.pdfObjectUrl,ct="");var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+$e+'"'+ct+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(oe)+");<\/script></body></html>",lr=Gr.open();return lr!==null&&lr.document.write(yt),lr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Gr)==="[object Window]"){var gr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(oe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+oe.filename+'" width="500px" height="400px" /></body></html>',Or=Gr.open();if(Or!==null){Or.document.write(gr);var kr=this;Or.document.documentElement.querySelector("#pdfViewer").onload=function(){Or.document.title=oe.filename,Or.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kr.output("bloburl"))}}return Or}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Gr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var In='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",oe)+'"></iframe></body></html>',Qi=Gr.open();if(Qi!==null&&(Qi.document.write(In),Qi.document.title=oe.filename),Qi||typeof safari>"u")return Qi;break;case"datauri":case"dataurl":return Gr.document.location.href=this.output("datauristring",oe);default:return null}},Oe.foo=function(){try{return Oe.apply(this,arguments)}catch(Te){var L=Te.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var oe="Error in function "+L.split(`
`)[0].split("<")[0]+": "+Te.message;if(!Gr.console)throw new Error(oe);Gr.console.error(oe,Te),Gr.alert&&alert(oe)}},Oe.foo.bar=Oe,Oe.foo),go=function(L){return Array.isArray(tr)===!0&&tr.indexOf(L)>-1};switch(n){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=go("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);At=n}var ds=null;ae(),G();var Mh=f.__private__.getPageInfo=f.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[L].objId,pageNumber:L,pageContext:ft[L]}},Ex=f.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var oe in ft)if(ft[oe].objId===L)break;return Mh(oe)},GC=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:ft[j].objId,pageNumber:j,pageContext:ft[j]}};f.addPage=function(){return Nc.apply(this,arguments),this},f.setPage=function(){return mu.apply(this,arguments),Ue.call(this,_e[j]),this},f.insertPage=function(L){return this.addPage(),this.movePage(j,L),this},f.movePage=function(L,oe){var Te,Ie;if(L>oe){Te=_e[L],Ie=ft[L];for(var $e=L;$e>oe;$e--)_e[$e]=_e[$e-1],ft[$e]=ft[$e-1];_e[oe]=Te,ft[oe]=Ie,this.setPage(oe)}else if(L<oe){Te=_e[L],Ie=ft[L];for(var ct=L;ct<oe;ct++)_e[ct]=_e[ct+1],ft[ct]=ft[ct+1];_e[oe]=Te,ft[oe]=Ie,this.setPage(oe)}return this},f.deletePage=function(){return Wl.apply(this,arguments),this},f.__private__.text=f.text=function(L,oe,Te,Ie,$e){var ct,yt,lr,gr,Or,kr,In,Qi,Bi,P=(Ie=Ie||{}).scope||this;if(typeof L=="number"&&typeof oe=="number"&&(typeof Te=="string"||Array.isArray(Te))){var q=Te;Te=oe,oe=L,L=q}if(arguments[3]instanceof Jt==0?(lr=arguments[4],gr=arguments[5],Ai(In=arguments[3])==="object"&&In!==null||(typeof lr=="string"&&(gr=lr,lr=null),typeof In=="string"&&(gr=In,In=null),typeof In=="number"&&(lr=In,In=null),Ie={flags:In,angle:lr,align:gr})):(N("The transform parameter of text() with a Matrix value"),Bi=$e),isNaN(oe)||isNaN(Te)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return P;var te,ye="",ze=typeof Ie.lineHeightFactor=="number"?Ie.lineHeightFactor:Vm,tt=P.internal.scaleFactor;function Rt(ci){return ci=ci.split("	").join(Array(Ie.TabLen||9).join(" ")),wn(ci,In)}function Kr(ci){for(var $i,ca=ci.concat(),Ga=[],qm=ca.length;qm--;)typeof($i=ca.shift())=="string"?Ga.push($i):Array.isArray(ci)&&($i.length===1||$i[1]===void 0&&$i[2]===void 0)?Ga.push($i[0]):Ga.push([$i[0],$i[1],$i[2]]);return Ga}function Ji(ci,$i){var ca;if(typeof ci=="string")ca=$i(ci)[0];else if(Array.isArray(ci)){for(var Ga,qm,sk=ci.concat(),O2=[],LR=sk.length;LR--;)typeof(Ga=sk.shift())=="string"?O2.push($i(Ga)[0]):Array.isArray(Ga)&&typeof Ga[0]=="string"&&(qm=$i(Ga[0],Ga[1],Ga[2]),O2.push([qm[0],qm[1],qm[2]]));ca=O2}return ca}var On=!1,es=!0;if(typeof L=="string")On=!0;else if(Array.isArray(L)){var vo=L.concat();yt=[];for(var ol,ts=vo.length;ts--;)(typeof(ol=vo.shift())!="string"||Array.isArray(ol)&&typeof ol[0]!="string")&&(es=!1);On=es}if(On===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var ll=Ke/P.internal.scaleFactor,Cd=ll*(ze-1);switch(Ie.baseline){case"bottom":Te-=Cd;break;case"top":Te+=ll-Cd;break;case"hanging":Te+=ll-2*Cd;break;case"middle":Te+=ll/2-Cd}if((kr=Ie.maxWidth||0)>0&&(typeof L=="string"?L=P.splitTextToSize(L,kr):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(ci,$i){return ci.concat(P.splitTextToSize($i,kr))},[]))),ct={text:L,x:oe,y:Te,options:Ie,mutex:{pdfEscape:wn,activeFontKey:Nt,fonts:sr,activeFontSize:Ke}},ar.publish("preProcessText",ct),L=ct.text,lr=(Ie=ct.options).angle,Bi instanceof Jt==0&&lr&&typeof lr=="number"){lr*=Math.PI/180,Ie.rotationDirection===0&&(lr=-lr),_===b&&(lr=-lr);var zm=Math.cos(lr),ZC=Math.sin(lr);Bi=new Jt(zm,ZC,-ZC,zm,0,0)}else lr&&lr instanceof Jt&&(Bi=lr);_!==b||Bi||(Bi=li),(Or=Ie.charSpace||Ed)!==void 0&&(ye+=C(M(Or))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qi=Ie.horizontalScale)!==void 0&&(ye+=C(100*Qi)+` Tz
`),Ie.lang;var Zl=-1,Hm=Ie.renderingMode!==void 0?Ie.renderingMode:Ie.stroke,N2=P.internal.getCurrentPageInfo().pageContext;switch(Hm){case 0:case!1:case"fill":Zl=0;break;case 1:case!0:case"stroke":Zl=1;break;case 2:case"fillThenStroke":Zl=2;break;case 3:case"invisible":Zl=3;break;case 4:case"fillAndAddForClipping":Zl=4;break;case 5:case"strokeAndAddPathForClipping":Zl=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Zl=6;break;case 7:case"addToPathForClipping":Zl=7}var FR=N2.usedRenderingMode!==void 0?N2.usedRenderingMode:-1;Zl!==-1?ye+=Zl+` Tr
`:FR!==-1&&(ye+=`0 Tr
`),Zl!==-1&&(N2.usedRenderingMode=Zl),gr=Ie.align||"left";var kd,Nx=Ke*ze,QC=P.internal.pageSize.getWidth(),JC=sr[Nt];Or=Ie.charSpace||Ed,kr=Ie.maxWidth||0,In=Object.assign({autoencode:!0,noBOM:!0},Ie.flags);var pv=[],Ix=function(ci){return P.getStringUnitWidth(ci,{font:JC,charSpace:Or,fontSize:Ke,doKerning:!1})*Ke/tt};if(Object.prototype.toString.call(L)==="[object Array]"){var vu;yt=Kr(L),gr!=="left"&&(kd=yt.map(Ix));var yu,mv=0;if(gr==="right"){oe-=kd[0],L=[],ts=yt.length;for(var Wm=0;Wm<ts;Wm++)Wm===0?(yu=Kl(oe),vu=Ad(Te)):(yu=M(mv-kd[Wm]),vu=-Nx),L.push([yt[Wm],yu,vu]),mv=kd[Wm]}else if(gr==="center"){oe-=kd[0]/2,L=[],ts=yt.length;for(var gv=0;gv<ts;gv++)gv===0?(yu=Kl(oe),vu=Ad(Te)):(yu=M((mv-kd[gv])/2),vu=-Nx),L.push([yt[gv],yu,vu]),mv=kd[gv]}else if(gr==="left"){L=[],ts=yt.length;for(var ek=0;ek<ts;ek++)L.push(yt[ek])}else if(gr==="justify"&&JC.encoding==="Identity-H"){L=[],ts=yt.length,kr=kr!==0?kr:QC;for(var I2=0,la=0;la<ts;la++)if(vu=la===0?Ad(Te):-Nx,yu=la===0?Kl(oe):I2,la<ts-1){var jR=M((kr-kd[la])/(yt[la].split(" ").length-1)),np=yt[la].split(" ");L.push([np[0]+" ",yu,vu]),I2=0;for(var ip=1;ip<np.length;ip++){var tk=(Ix(np[ip-1]+" "+np[ip])-Ix(np[ip]))*tt+jR;ip==np.length-1?L.push([np[ip],tk,0]):L.push([np[ip]+" ",tk,0]),I2-=tk}}else L.push([yt[la],yu,vu]);L.push(["",I2,0])}else{if(gr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],ts=yt.length,kr=kr!==0?kr:QC,la=0;la<ts;la++){vu=la===0?Ad(Te):-Nx,yu=la===0?Kl(oe):0;var rk=yt[la].split(" ").length-1,nk=rk>0?(kr-kd[la])/rk:0;la<ts-1?pv.push(C(M(nk))):pv.push(0),L.push([yt[la],yu,vu])}}}(typeof Ie.R2L=="boolean"?Ie.R2L:De)===!0&&(L=Ji(L,function(ci,$i,ca){return[ci.split("").reverse().join(""),$i,ca]})),ct={text:L,x:oe,y:Te,options:Ie,mutex:{pdfEscape:wn,activeFontKey:Nt,fonts:sr,activeFontSize:Ke}},ar.publish("postProcessText",ct),L=ct.text,te=ct.mutex.isHex||!1;var ik=sr[Nt].encoding;ik!=="WinAnsiEncoding"&&ik!=="StandardEncoding"||(L=Ji(L,function(ci,$i,ca){return[Rt(ci),$i,ca]})),yt=Kr(L),L=[];for(var vv,yv,xv,Ox=Array.isArray(yt[0])?1:0,bv="",Rx=function(ci,$i,ca){var Ga="";return ca instanceof Jt?(ca=typeof Ie.angle=="number"?Ni(ca,new Jt(1,0,0,1,ci,$i)):Ni(new Jt(1,0,0,1,ci,$i),ca),_===b&&(ca=Ni(new Jt(1,0,0,-1,0,0),ca)),Ga=ca.join(" ")+` Tm
`):Ga=C(ci)+" "+C($i)+` Td
`,Ga},Pd=0;Pd<yt.length;Pd++){switch(bv="",Ox){case 1:xv=(te?"<":"(")+yt[Pd][0]+(te?">":")"),vv=parseFloat(yt[Pd][1]),yv=parseFloat(yt[Pd][2]);break;case 0:xv=(te?"<":"(")+yt[Pd]+(te?">":")"),vv=Kl(oe),yv=Ad(Te)}pv!==void 0&&pv[Pd]!==void 0&&(bv=pv[Pd]+` Tw
`),Pd===0?L.push(bv+Rx(vv,yv,Bi)+xv):Ox===0?L.push(bv+xv):Ox===1&&L.push(bv+Rx(vv,yv,Bi)+xv)}L=Ox===0?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var sp=`BT
/`;return sp+=Nt+" "+Ke+` Tf
`,sp+=C(Ke*ze)+` TL
`,sp+=Qf+`
`,sp+=ye,sp+=L,pe(sp+="ET"),h[Nt]=!0,P};var KC=f.__private__.clip=f.clip=function(L){return pe(L==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return KC("evenodd")},f.__private__.discardPath=f.discardPath=function(){return pe("n"),this};var Sd=f.__private__.isValidStyle=function(L){var oe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(oe=!0),oe};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(L){return Sd(L)&&(c=L),this};var _2=f.__private__.getStyle=f.getStyle=function(L){var oe=c;switch(L){case"D":case"S":oe="S";break;case"F":oe="f";break;case"FD":case"DF":oe="B";break;case"f":case"f*":case"B":case"B*":oe=L}return oe},Xf=f.close=function(){return pe("h"),this};f.stroke=function(){return pe("S"),this},f.fill=function(L){return Rc("f",L),this},f.fillEvenOdd=function(L){return Rc("f*",L),this},f.fillStroke=function(L){return Rc("B",L),this},f.fillStrokeEvenOdd=function(L){return Rc("B*",L),this};var Rc=function(L,oe){Ai(oe)==="object"?A2(oe,L):pe(L)},Zf=function(L){L===null||_===b&&L===void 0||(L=_2(L),pe(L))};function S2(L,oe,Te,Ie,$e){var ct=new OS(oe||this.boundingBox,Te||this.xStep,Ie||this.yStep,this.gState,$e||this.matrix);ct.stream=this.stream;var yt=L+"$$"+this.cloneIndex+++"$$";return Tn(yt,ct),ct}var A2=function(L,oe){var Te=Gt[L.key],Ie=Ne[Te];if(Ie instanceof eb)pe("q"),pe(E2(oe)),Ie.gState&&f.setGState(Ie.gState),pe(L.matrix.toString()+" cm"),pe("/"+Te+" sh"),pe("Q");else if(Ie instanceof OS){var $e=new Jt(1,0,0,-1,0,jh());L.matrix&&($e=$e.multiply(L.matrix||li),Te=S2.call(Ie,L.key,L.boundingBox,L.xStep,L.yStep,$e).id),pe("q"),pe("/Pattern cs"),pe("/"+Te+" scn"),Ie.gState&&f.setGState(Ie.gState),pe(oe),pe("Q")}},E2=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ov=f.moveTo=function(L,oe){return pe(C(M(L))+" "+C(U(oe))+" m"),this},Fh=f.lineTo=function(L,oe){return pe(C(M(L))+" "+C(U(oe))+" l"),this},gu=f.curveTo=function(L,oe,Te,Ie,$e,ct){return pe([C(M(L)),C(U(oe)),C(M(Te)),C(U(Ie)),C(M($e)),C(U(ct)),"c"].join(" ")),this};f.__private__.line=f.line=function(L,oe,Te,Ie,$e){if(isNaN(L)||isNaN(oe)||isNaN(Te)||isNaN(Ie)||!Sd($e))throw new Error("Invalid arguments passed to jsPDF.line");return _===w?this.lines([[Te-L,Ie-oe]],L,oe,[1,1],$e||"S"):this.lines([[Te-L,Ie-oe]],L,oe,[1,1]).stroke()},f.__private__.lines=f.lines=function(L,oe,Te,Ie,$e,ct){var yt,lr,gr,Or,kr,In,Qi,Bi,P,q,te,ye;if(typeof L=="number"&&(ye=Te,Te=oe,oe=L,L=ye),Ie=Ie||[1,1],ct=ct||!1,isNaN(oe)||isNaN(Te)||!Array.isArray(L)||!Array.isArray(Ie)||!Sd($e)||typeof ct!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ov(oe,Te),yt=Ie[0],lr=Ie[1],Or=L.length,q=oe,te=Te,gr=0;gr<Or;gr++)(kr=L[gr]).length===2?(q=kr[0]*yt+q,te=kr[1]*lr+te,Fh(q,te)):(In=kr[0]*yt+q,Qi=kr[1]*lr+te,Bi=kr[2]*yt+q,P=kr[3]*lr+te,q=kr[4]*yt+q,te=kr[5]*lr+te,gu(In,Qi,Bi,P,q,te));return ct&&Xf(),Zf($e),this},f.path=function(L){for(var oe=0;oe<L.length;oe++){var Te=L[oe],Ie=Te.c;switch(Te.op){case"m":ov(Ie[0],Ie[1]);break;case"l":Fh(Ie[0],Ie[1]);break;case"c":gu.apply(this,Ie);break;case"h":Xf()}}return this},f.__private__.rect=f.rect=function(L,oe,Te,Ie,$e){if(isNaN(L)||isNaN(oe)||isNaN(Te)||isNaN(Ie)||!Sd($e))throw new Error("Invalid arguments passed to jsPDF.rect");return _===w&&(Ie=-Ie),pe([C(M(L)),C(U(oe)),C(M(Te)),C(M(Ie)),"re"].join(" ")),Zf($e),this},f.__private__.triangle=f.triangle=function(L,oe,Te,Ie,$e,ct,yt){if(isNaN(L)||isNaN(oe)||isNaN(Te)||isNaN(Ie)||isNaN($e)||isNaN(ct)||!Sd(yt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Te-L,Ie-oe],[$e-Te,ct-Ie],[L-$e,oe-ct]],L,oe,[1,1],yt,!0),this},f.__private__.roundedRect=f.roundedRect=function(L,oe,Te,Ie,$e,ct,yt){if(isNaN(L)||isNaN(oe)||isNaN(Te)||isNaN(Ie)||isNaN($e)||isNaN(ct)||!Sd(yt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var lr=4/3*(Math.SQRT2-1);return $e=Math.min($e,.5*Te),ct=Math.min(ct,.5*Ie),this.lines([[Te-2*$e,0],[$e*lr,0,$e,ct-ct*lr,$e,ct],[0,Ie-2*ct],[0,ct*lr,-$e*lr,ct,-$e,ct],[2*$e-Te,0],[-$e*lr,0,-$e,-ct*lr,-$e,-ct],[0,2*ct-Ie],[0,-ct*lr,$e*lr,-ct,$e,-ct]],L+$e,oe,[1,1],yt,!0),this},f.__private__.ellipse=f.ellipse=function(L,oe,Te,Ie,$e){if(isNaN(L)||isNaN(oe)||isNaN(Te)||isNaN(Ie)||!Sd($e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ct=4/3*(Math.SQRT2-1)*Te,yt=4/3*(Math.SQRT2-1)*Ie;return ov(L+Te,oe),gu(L+Te,oe-yt,L+ct,oe-Ie,L,oe-Ie),gu(L-ct,oe-Ie,L-Te,oe-yt,L-Te,oe),gu(L-Te,oe+yt,L-ct,oe+Ie,L,oe+Ie),gu(L+ct,oe+Ie,L+Te,oe+yt,L+Te,oe),Zf($e),this},f.__private__.circle=f.circle=function(L,oe,Te,Ie){if(isNaN(L)||isNaN(oe)||isNaN(Te)||!Sd(Ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,oe,Te,Te,Ie)},f.setFont=function(L,oe,Te){return Te&&(oe=E(oe,Te)),Nt=Dh(L,oe,{disableWarning:!1}),this};var YC=f.__private__.getFont=f.getFont=function(){return sr[Dh.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var L,oe,Te={};for(L in Cr)if(Cr.hasOwnProperty(L))for(oe in Te[L]=[],Cr[L])Cr[L].hasOwnProperty(oe)&&Te[L].push(oe);return Te},f.addFont=function(L,oe,Te,Ie,$e){var ct=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ct.indexOf(arguments[3])!==-1?$e=arguments[3]:arguments[3]&&ct.indexOf(arguments[3])==-1&&(Te=E(Te,Ie)),si.call(this,L,oe,Te,$e=$e||"Identity-H")};var Vm,Dc=t.lineWidth||.200025,XC=f.__private__.getLineWidth=f.getLineWidth=function(){return Dc},Lr=f.__private__.setLineWidth=f.setLineWidth=function(L){return Dc=L,pe(C(M(L))+" w"),this};f.__private__.setLineDash=wr.API.setLineDash=wr.API.setLineDashPattern=function(L,oe){if(L=L||[],oe=oe||0,isNaN(oe)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Te){return C(M(Te))}).join(" "),oe=C(M(oe)),pe("["+L+"] "+oe+" d"),this};var lv=f.__private__.getLineHeight=f.getLineHeight=function(){return Ke*Vm};f.__private__.getLineHeight=f.getLineHeight=function(){return Ke*Vm};var T2=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(Vm=L),this},Um=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Vm};T2(t.lineHeight);var Kl=f.__private__.getHorizontalCoordinate=function(L){return M(L)},Ad=f.__private__.getVerticalCoordinate=function(L){return _===b?L:ft[j].mediaBox.topRightY-ft[j].mediaBox.bottomLeftY-M(L)},Tx=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(L){return C(Kl(L))},Zi=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(L){return C(Ad(L))},cv=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Se(cv)},f.__private__.setStrokeColor=f.setDrawColor=function(L,oe,Te,Ie){return cv=Ee({ch1:L,ch2:oe,ch3:Te,ch4:Ie,pdfColorType:"draw",precision:2}),pe(cv),this};var Cx=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Se(Cx)},f.__private__.setFillColor=f.setFillColor=function(L,oe,Te,Ie){return Cx=Ee({ch1:L,ch2:oe,ch3:Te,ch4:Ie,pdfColorType:"fill",precision:2}),pe(Cx),this};var Qf=t.textColor||"0 g",C2=f.__private__.getTextColor=f.getTextColor=function(){return Se(Qf)};f.__private__.setTextColor=f.setTextColor=function(L,oe,Te,Ie){return Qf=Ee({ch1:L,ch2:oe,ch3:Te,ch4:Ie,pdfColorType:"text",precision:3}),this};var Ed=t.charSpace,uv=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Ed||0)};f.__private__.setCharSpace=f.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ed=L,this};var Mc=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(L){var oe=f.CapJoinStyles[L];if(oe===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mc=oe,pe(oe+" J"),this};var dv=0;f.__private__.setLineJoin=f.setLineJoin=function(L){var oe=f.CapJoinStyles[L];if(oe===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dv=oe,pe(oe+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(C(M(L))+" M"),this},f.GState=NL,f.setGState=function(L){(L=typeof L=="string"?Ve[Qt[L]]:k2(null,L)).equals(Ht)||(pe("/"+L.id+" gs"),Ht=L)};var k2=function(L,oe){if(!L||!Qt[L]){var Te=!1;for(var Ie in Ve)if(Ve.hasOwnProperty(Ie)&&Ve[Ie].equals(oe)){Te=!0;break}if(Te)oe=Ve[Ie];else{var $e="GS"+(Object.keys(Ve).length+1).toString(10);Ve[$e]=oe,oe.id=$e}return L&&(Qt[L]=oe.id),ar.publish("addGState",oe),oe}};f.addGState=function(L,oe){return k2(L,oe),this},f.saveGraphicsState=function(){return pe("q"),jr.push({key:Nt,size:Ke,color:Qf}),this},f.restoreGraphicsState=function(){pe("Q");var L=jr.pop();return Nt=L.key,Ke=L.size,Qf=L.color,Ht=null,this},f.setCurrentTransformationMatrix=function(L){return pe(L.toString()+" cm"),this},f.comment=function(L){return pe("#"+L),this};var Yl=function(L,oe){var Te=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Te},set:function(ct){isNaN(ct)||(Te=parseFloat(ct))}});var Ie=oe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ie},set:function(ct){isNaN(ct)||(Ie=parseFloat(ct))}});var $e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return $e},set:function(ct){$e=ct.toString()}}),this},hv=function(L,oe,Te,Ie){Yl.call(this,L,oe),this.type="rect";var $e=Te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return $e},set:function(yt){isNaN(yt)||($e=parseFloat(yt))}});var ct=Ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ct},set:function(yt){isNaN(yt)||(ct=parseFloat(yt))}}),this},Jf=function(){this.page=gt,this.currentPage=j,this.pages=_e.slice(0),this.pagesContext=ft.slice(0),this.x=Tt,this.y=Ur,this.matrix=Yt,this.width=rp(j),this.height=kx(j),this.outputDestination=je,this.id="",this.objectNumber=-1};Jf.prototype.restore=function(){gt=this.page,j=this.currentPage,ft=this.pagesContext,_e=this.pages,Tt=this.x,Ur=this.y,Yt=this.matrix,P2(j,this.width),Xl(j,this.height),je=this.outputDestination};var ep=function(L,oe,Te,Ie,$e){Nn.push(new Jf),gt=j=0,_e=[],Tt=L,Ur=oe,Yt=$e,us([Te,Ie])};for(var tp in f.beginFormObject=function(L,oe,Te,Ie,$e){return ep(L,oe,Te,Ie,$e),this},f.endFormObject=function(L){return function(oe){if(qr[oe])Nn.pop().restore();else{var Te=new Jf,Ie="Xo"+(Object.keys(Sr).length+1).toString(10);Te.id=Ie,qr[oe]=Ie,Sr[Ie]=Te,ar.publish("addFormObject",Te),Nn.pop().restore()}}(L),this},f.doFormObject=function(L,oe){var Te=Sr[qr[L]];return pe("q"),pe(oe.toString()+" cm"),pe("/"+Te.id+" Do"),pe("Q"),this},f.getFormObject=function(L){var oe=Sr[qr[L]];return{x:oe.x,y:oe.y,width:oe.width,height:oe.height,matrix:oe.matrix}},f.save=function(L,oe){return L=L||"generated.pdf",(oe=oe||{}).returnPromise=oe.returnPromise||!1,oe.returnPromise===!1?(Kx(ei(Oc()),L),typeof Kx.unload=="function"&&Gr.setTimeout&&setTimeout(Kx.unload,911),this):new Promise(function(Te,Ie){try{var $e=Kx(ei(Oc()),L);typeof Kx.unload=="function"&&Gr.setTimeout&&setTimeout(Kx.unload,911),Te($e)}catch(ct){Ie(ct.message)}})},wr.API)wr.API.hasOwnProperty(tp)&&(tp==="events"&&wr.API.events.length?function(L,oe){var Te,Ie,$e;for($e=oe.length-1;$e!==-1;$e--)Te=oe[$e][0],Ie=oe[$e][1],L.subscribe.apply(L,[Te].concat(typeof Ie=="function"?[Ie]:Ie))}(ar,wr.API.events):f[tp]=wr.API[tp]);function rp(L){return ft[L].mediaBox.topRightX-ft[L].mediaBox.bottomLeftX}function P2(L,oe){ft[L].mediaBox.topRightX=oe+ft[L].mediaBox.bottomLeftX}function kx(L){return ft[L].mediaBox.topRightY-ft[L].mediaBox.bottomLeftY}function Xl(L,oe){ft[L].mediaBox.topRightY=oe+ft[L].mediaBox.bottomLeftY}var Td=f.getPageWidth=function(L){return rp(L=L||j)/At},Px=f.setPageWidth=function(L,oe){P2(L,oe*At)},jh=f.getPageHeight=function(L){return kx(L=L||j)/At},fv=f.setPageHeight=function(L,oe){Xl(L,oe*At)};return f.internal={pdfEscape:wn,getStyle:_2,getFont:YC,getFontSize:Pe,getCharSpace:uv,getTextColor:C2,getLineHeight:lv,getLineHeightFactor:Um,getLineWidth:XC,write:Me,getHorizontalCoordinate:Kl,getVerticalCoordinate:Ad,getCoordinateString:Tx,getVerticalCoordinateString:Zi,collections:{},newObject:Lt,newAdditionalObject:de,newObjectDeferred:It,newObjectDeferredBegin:se,getFilters:qe,putStream:nt,events:ar,scaleFactor:At,pageSize:{getWidth:function(){return Td(j)},setWidth:function(L){Px(j,L)},getHeight:function(){return jh(j)},setHeight:function(L){fv(j,L)}},encryptionOptions:u,encryption:ds,getEncryptor:function(L){return u!==null?ds.encryptor(L,0):function(oe){return oe}},output:$m,getNumberOfPages:ql,get pages(){return _e},out:pe,f2:A,f3:I,getPageInfo:Mh,getPageInfoByObjId:Ex,getCurrentPageInfo:GC,getPDFVersion:m,Point:Yl,Rectangle:hv,Matrix:Jt,hasHotfix:go},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Td(j)},set:function(L){Px(j,L)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return jh(j)},set:function(L){fv(j,L)},enumerable:!0,configurable:!0}),(function(L){for(var oe=0,Te=xt.length;oe<Te;oe++){var Ie=si.call(this,L[oe][0],L[oe][1],L[oe][2],xt[oe][3],!0);d===!1&&(h[Ie]=!0);var $e=L[oe][0].split("-");Dr({id:Ie,fontName:$e[0],fontStyle:$e[1]||""})}ar.publish("addFonts",{fonts:sr,dictionary:Cr})}).call(f,xt),Nt="F1",Nc(i,r),ar.publish("initialized"),f}aS.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},aS.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},aS.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},aS.prototype.processOwnerPassword=function(t,e){return WW(HW(e).substr(0,5),t)},aS.prototype.encryptor=function(t,e){var r=HW(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return WW(r,n)}},NL.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Ai(t)!==Ai(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},wr.API={events:[]},wr.version="4.0.0";var Qs=wr.API,EQ=1,h2=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},W2=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xr=function(t){return t.toFixed(2)},Rv=function(t){return t.toFixed(5)};Qs.__acroform__={};var pu=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},xue=function(t){return t*EQ},fp=function(t){var e=new JTe,r=fr.internal.getHeight(t)||0,n=fr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Xr(n)),Number(Xr(r))],e},YTt=Qs.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},XTt=Qs.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},ZTt=Qs.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},va=Qs.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ZTt(t,e-1)},ya=Qs.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return YTt(t,e-1)},xa=Qs.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return XTt(t,e-1)},QTt=Qs.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(Xr(l.lowerLeft_X)),Number(Xr(l.lowerLeft_Y)),Number(Xr(l.upperRight_X)),Number(Xr(l.upperRight_Y))]},JTt=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=qW(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Xr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=fp(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},qW=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(A){return A.split(`
`)}):i.map(function(A){return[A]});var s=r,a=fr.internal.getHeight(t)||0;a=a<0?-a:a;var o=fr.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(A,I,M){if(A+1<i.length){var U=I+" "+i[A+1][0];return nD(U,t,M).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,d=nD("3",t,s).height,h=t.multiline?a-s:(a-d)/2,f=h+=2,g=0,m=0,v=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+nD(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var x="",w=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var _=!1;if(i[b].length!==1&&v!==i[b].length-1){if((d+2)*(w+2)+2>a)continue e;x+=i[b][v],_=!0,m=b,b--}else{x=(x+=i[b][v]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var S=parseInt(b),T=l(S,x,s),E=b>=i.length-1;if(T&&!E){x+=" ",v=0;continue}if(T||E){if(E)m=S;else if(t.multiline&&(d+2)*(w+2)+2>a)continue e}else{if(!t.multiline||(d+2)*(w+2)+2>a)continue e;m=S}}for(var C="",N=g;N<=m;N++){var F=i[N];if(t.multiline){if(N===m){C+=F[v]+" ",v=(v+1)%F.length;continue}if(N===g){C+=F[F.length-1]+" ";continue}}C+=F[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,u=nD(C,t,s).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=Xr(c)+" "+Xr(f)+` Td
`,e+="("+h2(C)+`) Tj
`,e+=-Xr(c)+` 0 Td
`,f=-(s+2),u=0,g=_?m:m+1,w++,x=""}break}return n.text=e,n.fontSize=s,n},nD=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},eCt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tCt=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},rCt=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Gf.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(eCt)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");EQ=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new eCe,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&tCt(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=QTt(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=fr.createDefaultAppearanceStream(o),Ai(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=JTt(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var d="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var f=o.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var g=f[a];typeof g=="function"&&(g=g.call(i,o)),d+="/"+a+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=f)=="function"&&(g=g.call(i,o)),d+="/"+a+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(m,v){for(var x in m)if(m.hasOwnProperty(x)){var w=x,b=m[x];v.internal.newObjectDeferredBegin(b.objId,!0),Ai(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete m[w]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},QTe=Qs.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Ai(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+h2(n(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},cV=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+h2(n(t))+")"},om=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};om.prototype.toString=function(){return this.objId+" 0 R"},om.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},om.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:QTe(i,this.objId,this.scope)}):i instanceof om?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var JTe=function(){om.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};pu(JTe,om);var eCe=function(){om.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+h2(r(t))+")"}},set:function(r){t=r}})};pu(eCe,om);var Gf=function t(){om.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!va(e,3)},set:function(x){x?this.F=ya(e,3):this.F=xa(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof IL)return;s="FieldObject"+t.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+h2(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/EQ:c},set:function(x){c=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof IL||this instanceof Qw))return cV(d,this.objId,this.scope)},set:function(x){x=x.toString(),d=x}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Io==0?cV(h,this.objId,this.scope):h},set:function(x){x=x.toString(),h=this instanceof Io==0?x.substr(0,1)==="("?W2(x.substr(1,x.length-2)):W2(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Io==1?W2(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof Io==1?"/"+x:x}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Io==0?cV(f,this.objId,this.scope):f},set:function(x){x=x.toString(),f=this instanceof Io==0?x.substr(0,1)==="("?W2(x.substr(1,x.length-2)):W2(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Io==1?W2(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof Io==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(x){x=!!x,m=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,1)},set:function(x){x?this.Ff=ya(this.Ff,1):this.Ff=xa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,2)},set:function(x){x?this.Ff=ya(this.Ff,2):this.Ff=xa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,3)},set:function(x){x?this.Ff=ya(this.Ff,3):this.Ff=xa(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');v=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(v){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};pu(Gf,om);var cA=function(){Gf.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return QTe(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,18)},set:function(r){r?this.Ff=ya(this.Ff,18):this.Ff=xa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ya(this.Ff,19):this.Ff=xa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,20)},set:function(r){r?(this.Ff=ya(this.Ff,20),e.sort()):this.Ff=xa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,22)},set:function(r){r?this.Ff=ya(this.Ff,22):this.Ff=xa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,23)},set:function(r){r?this.Ff=ya(this.Ff,23):this.Ff=xa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,27)},set:function(r){r?this.Ff=ya(this.Ff,27):this.Ff=xa(this.Ff,27)}}),this.hasAppearanceStream=!1};pu(cA,Gf);var uA=function(){cA.call(this),this.fontName="helvetica",this.combo=!1};pu(uA,cA);var dA=function(){uA.call(this),this.combo=!0};pu(dA,uA);var xM=function(){dA.call(this),this.edit=!0};pu(xM,dA);var Io=function(){Gf.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,15)},set:function(r){r?this.Ff=ya(this.Ff,15):this.Ff=xa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,16)},set:function(r){r?this.Ff=ya(this.Ff,16):this.Ff=xa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,17)},set:function(r){r?this.Ff=ya(this.Ff,17):this.Ff=xa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,26)},set:function(r){r?this.Ff=ya(this.Ff,26):this.Ff=xa(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+h2(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Ai(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};pu(Io,Gf);var bM=function(){Io.call(this),this.pushButton=!0};pu(bM,Io);var hA=function(){Io.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};pu(hA,Io);var IL=function(){var t,e;Gf.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+h2(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Ai(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=fr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};pu(IL,Gf),hA.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},hA.prototype.createOption=function(t){var e=new IL;return e.Parent=this,e.optionName=t,this.Kids.push(e),nCt.call(this.scope,e),e};var wM=function(){Io.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=fr.CheckBox.createAppearanceStream()};pu(wM,Io);var Qw=function(){Gf.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,13)},set:function(e){e?this.Ff=ya(this.Ff,13):this.Ff=xa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,21)},set:function(e){e?this.Ff=ya(this.Ff,21):this.Ff=xa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,23)},set:function(e){e?this.Ff=ya(this.Ff,23):this.Ff=xa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,24)},set:function(e){e?this.Ff=ya(this.Ff,24):this.Ff=xa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,25)},set:function(e){e?this.Ff=ya(this.Ff,25):this.Ff=xa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,26)},set:function(e){e?this.Ff=ya(this.Ff,26):this.Ff=xa(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};pu(Qw,Gf);var _M=function(){Qw.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,14)},set:function(t){t?this.Ff=ya(this.Ff,14):this.Ff=xa(this.Ff,14)}}),this.password=!0};pu(_M,Qw);var fr={CheckBox:{createAppearanceStream:function(){return{N:{On:fr.CheckBox.YesNormal},D:{On:fr.CheckBox.YesPushDown,Off:fr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=fp(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=qW(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Xr(fr.internal.getWidth(t))+" "+Xr(fr.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Xr(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=fp(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=fr.internal.getHeight(t),a=fr.internal.getWidth(t),o=qW(t,t.caption);return i.push("1 g"),i.push("0 0 "+Xr(a)+" "+Xr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Xr(a-1)+" "+Xr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Xr(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=fp(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Xr(fr.internal.getWidth(t))+" "+Xr(fr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:fr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=fr.RadioButton.Circle.YesNormal,e.D[t]=fr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=fp(t);e.scope=t.scope;var r=[],n=fr.internal.getWidth(t)<=fr.internal.getHeight(t)?fr.internal.getWidth(t)/4:fr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=fr.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Rv(fr.internal.getWidth(t)/2)+" "+Rv(fr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=fp(t);e.scope=t.scope;var r=[],n=fr.internal.getWidth(t)<=fr.internal.getHeight(t)?fr.internal.getWidth(t)/4:fr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*fr.internal.Bezier_C).toFixed(5)),a=Number((n*fr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Rv(fr.internal.getWidth(t)/2)+" "+Rv(fr.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Rv(fr.internal.getWidth(t)/2)+" "+Rv(fr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=fp(t);e.scope=t.scope;var r=[],n=fr.internal.getWidth(t)<=fr.internal.getHeight(t)?fr.internal.getWidth(t)/4:fr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*fr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Rv(fr.internal.getWidth(t)/2)+" "+Rv(fr.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:fr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=fr.RadioButton.Cross.YesNormal,e.D[t]=fr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=fp(t);e.scope=t.scope;var r=[],n=fr.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Xr(fr.internal.getWidth(t)-2)+" "+Xr(fr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Xr(n.x1.x)+" "+Xr(n.x1.y)+" m"),r.push(Xr(n.x2.x)+" "+Xr(n.x2.y)+" l"),r.push(Xr(n.x4.x)+" "+Xr(n.x4.y)+" m"),r.push(Xr(n.x3.x)+" "+Xr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=fp(t);e.scope=t.scope;var r=fr.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Xr(fr.internal.getWidth(t))+" "+Xr(fr.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Xr(fr.internal.getWidth(t)-2)+" "+Xr(fr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Xr(r.x1.x)+" "+Xr(r.x1.y)+" m"),n.push(Xr(r.x2.x)+" "+Xr(r.x2.y)+" l"),n.push(Xr(r.x4.x)+" "+Xr(r.x4.y)+" m"),n.push(Xr(r.x3.x)+" "+Xr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=fp(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Xr(fr.internal.getWidth(t))+" "+Xr(fr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};fr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=fr.internal.getWidth(t),r=fr.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},fr.internal.getWidth=function(t){var e=0;return Ai(t)==="object"&&(e=xue(t.Rect[2])),e},fr.internal.getHeight=function(t){var e=0;return Ai(t)==="object"&&(e=xue(t.Rect[3])),e};var nCt=Qs.addField=function(t){if(rCt(this,t),!(t instanceof Gf))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Qs.AcroFormChoiceField=cA,Qs.AcroFormListBox=uA,Qs.AcroFormComboBox=dA,Qs.AcroFormEditBox=xM,Qs.AcroFormButton=Io,Qs.AcroFormPushButton=bM,Qs.AcroFormRadioButton=hA,Qs.AcroFormCheckBox=wM,Qs.AcroFormTextField=Qw,Qs.AcroFormPasswordField=_M,Qs.AcroFormAppearance=fr,Qs.AcroForm={ChoiceField:cA,ListBox:uA,ComboBox:dA,EditBox:xM,Button:Io,PushButton:bM,RadioButton:hA,CheckBox:wM,TextField:Qw,PasswordField:_M,Appearance:fr},wr.AcroForm={ChoiceField:cA,ListBox:uA,ComboBox:dA,EditBox:xM,Button:Io,PushButton:bM,RadioButton:hA,CheckBox:wM,TextField:Qw,PasswordField:_M,Appearance:fr};function tCe(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(A,I){var M,U,Y,X,W,G=r;if((I=I||r)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(T(A))for(W in n)for(Y=n[W],M=0;M<Y.length;M+=1){for(X=!0,U=0;U<Y[M].length;U+=1)if(Y[M][U]!==void 0&&Y[M][U]!==A[U]){X=!1;break}if(X===!0){G=W;break}}else for(W in n)for(Y=n[W],M=0;M<Y.length;M+=1){for(X=!0,U=0;U<Y[M].length;U+=1)if(Y[M][U]!==void 0&&Y[M][U]!==A.charCodeAt(U)){X=!1;break}if(X===!0){G=W;break}}return G===r&&I!==r&&(G=I),G},s=function A(I){for(var M=this.internal.write,U=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:I.width}),X.push({key:"Height",value:I.height}),I.colorSpace===x.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===x.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var W="",G=0,B=I.transparency.length;G<B;G++)W+=I.transparency[G]+" "+I.transparency[G]+" ";X.push({key:"Mask",value:"["+W+"]"})}I.sMask!==void 0&&X.push({key:"SMask",value:I.objectId+1+" 0 R"});var re=I.filter!==void 0?["/"+I.filter]:void 0;if(U({data:I.data,additionalKeyValues:X,alreadyAppliedFilters:re,objectId:I.objectId}),M("endobj"),"sMask"in I&&I.sMask!==void 0){var ae,R=(ae=I.sMaskBitsPerComponent)!==null&&ae!==void 0?ae:I.bitsPerComponent,j={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:R,data:I.sMask};"filter"in I&&(j.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(R," /Columns ").concat(I.width),j.filter=I.filter),A.call(this,j)}if(I.colorSpace===x.INDEXED){var V=this.internal.newObject();U({data:C(new Uint8Array(I.palette)),objectId:V}),M("endobj")}},a=function(){var A=this.internal.collections[e+"images"];for(var I in A)s.call(this,A[I])},o=function(){var A,I=this.internal.collections[e+"images"],M=this.internal.write;for(var U in I)M("/I"+(A=I[U]).index,A.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var A=this.internal.collections[e+"images"];return l.call(this),A},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(A){return typeof t["process"+A.toUpperCase()]=="function"},h=function(A){return Ai(A)==="object"&&A.nodeType===1},f=function(A,I){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var M=""+A.getAttribute("src");if(M.indexOf("data:image/")===0)return yM(unescape(M).split("base64,").pop());var U=t.loadFile(M,!0);if(U!==void 0)return U}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var Y;switch(I){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return yM(A.toDataURL(Y,1).split("base64,").pop())}},g=function(A){var I=this.internal.collections[e+"images"];if(I){for(var M in I)if(A===I[M].alias)return I[M]}},m=function(A,I,M){return A||I||(A=-96,I=-96),A<0&&(A=-1*M.width*72/A/this.internal.scaleFactor),I<0&&(I=-1*M.height*72/I/this.internal.scaleFactor),A===0&&(A=I*M.width/M.height),I===0&&(I=A*M.height/M.width),[A,I]},v=function(A,I,M,U,Y,X){var W=m.call(this,M,U,Y),G=this.internal.getCoordinateString,B=this.internal.getVerticalCoordinateString,re=c.call(this);if(M=W[0],U=W[1],re[Y.index]=Y,X){X*=Math.PI/180;var ae=Math.cos(X),R=Math.sin(X),j=function(K){return K.toFixed(4)},V=[j(ae),j(R),j(-1*R),j(ae),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,G(A),B(I+U),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([G(M),"0","0",G(U),"0","0","cm"].join(" "))):this.internal.write([G(M),"0","0",G(U),G(A),B(I+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(A){var I,M,U=0;if(typeof A=="string")for(M=A.length,I=0;I<M;I++)U=(U<<5)-U+A.charCodeAt(I),U|=0;else if(T(A))for(M=A.byteLength/2,I=0;I<M;I++)U=(U<<5)-U+A[I],U|=0;return U},_=t.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var I=!0;return A.length===0&&(I=!1),A.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(I=!1),I},S=t.__addimage__.extractImageFromDataUrl=function(A){if(A==null||!(A=A.trim()).startsWith("data:"))return null;var I=A.indexOf(",");return I<0?null:A.substring(0,I).trim().endsWith("base64")?A.substring(I+1):null};t.__addimage__.isArrayBuffer=function(A){return A instanceof ArrayBuffer};var T=t.__addimage__.isArrayBufferView=function(A){return A instanceof Int8Array||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array},E=t.__addimage__.binaryStringToUint8Array=function(A){for(var I=A.length,M=new Uint8Array(I),U=0;U<I;U++)M[U]=A.charCodeAt(U);return M},C=t.__addimage__.arrayBufferToBinaryString=function(A){for(var I="",M=T(A)?A:new Uint8Array(A),U=0;U<M.length;U+=8192)I+=String.fromCharCode.apply(null,M.subarray(U,U+8192));return I};t.addImage=function(){var A,I,M,U,Y,X,W,G,B;if(typeof arguments[1]=="number"?(I=r,M=arguments[1],U=arguments[2],Y=arguments[3],X=arguments[4],W=arguments[5],G=arguments[6],B=arguments[7]):(I=arguments[1],M=arguments[2],U=arguments[3],Y=arguments[4],X=arguments[5],W=arguments[6],G=arguments[7],B=arguments[8]),Ai(A=arguments[0])==="object"&&!h(A)&&"imageData"in A){var re=A;A=re.imageData,I=re.format||I||r,M=re.x||M||0,U=re.y||U||0,Y=re.w||re.width||Y,X=re.h||re.height||X,W=re.alias||W,G=re.compression||G,B=re.rotation||re.angle||B}var ae=this.internal.getFilters();if(G===void 0&&ae.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(M)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var R=N.call(this,A,I,W,G);return v.call(this,M,U,Y,X,R,B),this};var N=function(A,I,M,U){var Y,X,W;if(typeof A=="string"&&i(A)===r){A=unescape(A);var G=F(A,!1);(G!==""||(G=t.loadFile(A,!0))!==void 0)&&(A=G)}if(h(A)&&(A=f(A,I)),I=i(A,I),!d(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((W=M)==null||W.length===0)&&(M=function(B){return typeof B=="string"||T(B)?b(B):T(B.data)?b(B.data):null}(A)),(Y=g.call(this,M))||(A instanceof Uint8Array||I==="RGBA"||(X=A,A=E(A)),Y=this["process"+I.toUpperCase()](A,u.call(this),M,function(B){return B&&typeof B=="string"&&(B=B.toUpperCase()),B in t.image_compression?B:w.NONE}(U),X)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},F=t.__addimage__.convertBase64ToBinaryString=function(A,I){I=typeof I!="boolean"||I;var M,U="";if(typeof A=="string"){var Y;M=(Y=S(A))!==null&&Y!==void 0?Y:A;try{U=yM(M)}catch(X){if(I)throw _(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};t.getImageProperties=function(A){var I,M,U="";if(h(A)&&(A=f(A)),typeof A=="string"&&i(A)===r&&((U=F(A,!1))===""&&(U=t.loadFile(A)||""),A=U),M=i(A),!d(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(A instanceof Uint8Array||(A=E(A)),!(I=this["process"+M.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=M,I}})(wr.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};wr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((n=c[d]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var f=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(m.objId),w=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(x(n.contents))+")",s+=" /Popup "+v.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(x(w))+") >>",m.content=s;var b=m.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(s+=" /Open true"),s+=" >>",v.content=s,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(g(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var S=this.annotations._nameMap[n.options.name];n.options.pageNumber=S.page,n.options.top=S.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var T=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+T+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(r,o).length;a=Math.ceil(c*u)}else o=l,a=c;return this.text(r,n,i,s),i+=.2*c,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-c,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(wr.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=t.__arabicParser__.isArabicEndLetter=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return a(m)&&i.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(m){var v=0,x=r,w="",b=0;for(v=0;v<m.length;v+=1)x[m.charCodeAt(v)]!==void 0?(b++,typeof(x=x[m.charCodeAt(v)])=="number"&&(w+=String.fromCharCode(x),x=r,b=0),v===m.length-1&&(x=r,w+=m.charAt(v-(b-1)),v-=b-1,b=0)):(x=r,w+=m.charAt(v-b),v-=b,b=0);return w};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(m,v,x){return a(m)?s(m)===!1?-1:!c(m)||!a(v)&&!a(x)||!a(x)&&o(v)||o(m)&&!a(v)||o(m)&&l(v)||o(m)&&o(v)?0:u(m)&&a(v)&&!o(v)&&a(x)&&c(x)?3:o(m)||!a(x)?1:2:-1},f=function(m){var v=0,x=0,w=0,b="",_="",S="",T=(m=m||"").split("\\s+"),E=[];for(v=0;v<T.length;v+=1){for(E.push(""),x=0;x<T[v].length;x+=1)b=T[v][x],_=T[v][x-1],S=T[v][x+1],a(b)?(w=h(b,_,S),E[v]+=w!==-1?String.fromCharCode(e[b.charCodeAt(0)][w]):b):E[v]+=b;E[v]=d(E[v])}return E.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(v)){var w=0;for(x=[],w=0;w<v.length;w+=1)Array.isArray(v[w])?x.push([f(v[w][0]),v[w][1],v[w][2]]):x.push([f(v[w])]);m=x}else m=f(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",g])}(wr.API),wr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(wr.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,f=0,g=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=c.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,_){return b.concat(v.splitTextToSize(_,x))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)f<(m=this.getStringUnitWidth(l[w],{font:d})*u)&&(f=m);return f!==0&&(g=l.length),{w:f/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,d,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,g,m,v,x=[],w=[],b=[],_={},S={},T=[],E=[],C=(h=h||{}).autoSize||!1,N=h.printHeaders!==!1,F=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,A=h.margins||Object.assign({width:this.getPageWidth()},e),I=typeof h.padding=="number"?h.padding:3,M=h.headerBackgroundColor||"#c8c8c8",U=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=U,this.setFontSize(F),d==null)w=x=Object.keys(u[0]),b=x.map(function(){return"left"});else if(Array.isArray(d)&&Ai(d[0])==="object")for(x=d.map(function(re){return re.name}),w=d.map(function(re){return re.prompt||re.name||""}),b=d.map(function(re){return re.align||"left"}),f=0;f<d.length;f+=1)S[d[f].name]=.7499990551181103*d[f].width;else Array.isArray(d)&&typeof d[0]=="string"&&(w=x=d,b=x.map(function(){return"left"}));if(C||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<x.length;f+=1){for(_[v=x[f]]=u.map(function(re){return re[v]}),this.setFont(void 0,"bold"),T.push(this.getTextDimensions(w[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=_[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)T.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[v]=Math.max.apply(null,T)+I+I,T=[]}if(N){var Y={};for(f=0;f<x.length;f+=1)Y[x[f]]={},Y[x[f]].text=w[f],Y[x[f]].align=b[f];var X=o.call(this,Y,S);E=x.map(function(re){return new s(l,c,S[re],X,Y[re].text,void 0,Y[re].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var W=d.reduce(function(re,ae){return re[ae.name]=ae.align,re},{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var G=o.call(this,u[f],S);for(m=0;m<x.length;m+=1){var B=u[f][x[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:m,data:B},this),a.call(this,new s(l,c,S[x[m]],G,B,f+2,W[x[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(f){var g=l[f];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/h+u+u},this).reduce(function(f,g){return Math.max(f,g)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(wr.API);var rCe={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},nCe=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],GW=tCe(nCe),iCe=[100,200,300,400,500,600,700,800,900],iCt=tCe(iCe);function uV(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return rCe[s=s||"normal"]?s:"normal"}(t.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof GW[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function bue(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var sCt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},wue={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function _ue(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Sue(t){return t.trimLeft()}function aCt(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function oCt(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var iD,Aue,Eue,q2,sD,Tue,Cue,kue,dV=["times"];function Pue(t,e,r,n,i){var s=4,a=Iue;switch(i){case wr.API.image_compression.FAST:s=1,a=Nue;break;case wr.API.image_compression.MEDIUM:s=6,a=Oue;break;case wr.API.image_compression.SLOW:s=9,a=Rue}t=function(l,c,u,d){for(var h,f=l.length/c,g=new Uint8Array(l.length+f),m=[lCt,Nue,Iue,Oue,Rue],v=0;v<f;v+=1){var x=v*c,w=l.subarray(x,x+c);if(d)g.set(d(w,u,h),x+v);else{for(var b=m.length,_=[],S=0;S<b;S+=1)_[S]=m[S](w,u,h);var T=uCt(_.concat());g.set(_[T],x+v)}h=w}return g}(t,e,Math.ceil(r*n/8),a);var o=DW(t,{level:s});return wr.API.__addimage__.arrayBufferToBinaryString(o)}function lCt(t){var e=Array.apply([],t);return e.unshift(0),e}function Nue(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function Iue(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=r&&r[s]||0;i[s+1]=t[s]-a+256&255}return i}function Oue(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=t[s-e]||0,o=r&&r[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function Rue(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=cCt(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function cCt(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function uCt(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function hV(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),a=(1<<r)-1;return sCe(t,i)>>s&a}function Due(t,e,r,n){var i=r*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,l=(e&o)<<a;(function(c,u,d){if(u+1<c.byteLength)c.setUint16(u,d,!1);else{var h=d>>8&255;c.setUint8(u,h)}})(t,s,sCe(t,s)&~(o<<a)&65535|l)}function sCe(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function dCt(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,u=[],d=0,h=null,f=0,g=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];d=t[e++]|t[e++]<<8,h=t[e++],1&m||(h=null),f=m>>2&7,e++;break;case 254:for(;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,_=t[e++],S=_>>6&1,T=1<<1+(7&_),E=o,C=l,N=!1;_>>7&&(N=!0,E=e,C=T,e+=3*T);var F=e;for(e++;;){var A;if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}u.push({x:v,y:x,width:w,height:b,has_local_palette:N,palette_offset:E,palette_size:C,data_offset:F,data_length:e-F,transparent_index:h,interlaced:!!S,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,M){var U=this.frameInfo(I),Y=U.width*U.height,X=new Uint8Array(Y);Mue(t,U.data_offset,X,Y);var W=U.palette_offset,G=U.transparent_index;G===null&&(G=256);var B=U.width,re=r-B,ae=B,R=4*(U.y*r+U.x),j=4*((U.y+U.height)*r+U.x),V=R,K=4*re;U.interlaced===!0&&(K+=4*r*7);for(var ne=8,J=0,me=X.length;J<me;++J){var ce=X[J];if(ae===0&&(ae=B,(V+=K)>=j&&(K=4*re+4*r*(ne-1),V=R+(B+re)*(ne<<1),ne>>=1)),ce===G)V+=4;else{var he=t[W+3*ce],_e=t[W+3*ce+1],ee=t[W+3*ce+2];M[V++]=ee,M[V++]=_e,M[V++]=he,M[V++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(I,M){var U=this.frameInfo(I),Y=U.width*U.height,X=new Uint8Array(Y);Mue(t,U.data_offset,X,Y);var W=U.palette_offset,G=U.transparent_index;G===null&&(G=256);var B=U.width,re=r-B,ae=B,R=4*(U.y*r+U.x),j=4*((U.y+U.height)*r+U.x),V=R,K=4*re;U.interlaced===!0&&(K+=4*r*7);for(var ne=8,J=0,me=X.length;J<me;++J){var ce=X[J];if(ae===0&&(ae=B,(V+=K)>=j&&(K=4*re+4*r*(ne-1),V=R+(B+re)*(ne<<1),ne>>=1)),ce===G)V+=4;else{var he=t[W+3*ce],_e=t[W+3*ce+1],ee=t[W+3*ce+2];M[V++]=he,M[V++]=_e,M[V++]=ee,M[V++]=255}--ae}}}function Mue(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,u=0,d=0,h=0,f=t[e++],g=new Int32Array(4096),m=null;;){for(;u<16&&f!==0;)d|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<l)break;var v=d&c;if(d>>=l,u-=l,v!==s){if(v===a)break;for(var x=v<o?v:m,w=0,b=x;b>s;)b=g[b]>>8,++w;var _=b;if(h+w+(x!==v?1:0)>n)return void Wi.log("Warning, gif stream longer than expected.");r[h++]=_;var S=h+=w;for(x!==v&&(r[h++]=_),b=x;w--;)b=g[b],r[--S]=255&b,b>>=8;m!==null&&o<4096&&(g[o++]=m<<8|_,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=v}else o=a+1,c=(1<<(l=i+1))-1,m=null}return h!==n&&Wi.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function fV(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),g=new Array(64),m=[],v=0,x=7,w=new Array(64),b=new Array(64),_=new Array(64),S=new Array(256),T=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(R,j){for(var V=0,K=0,ne=new Array,J=1;J<=16;J++){for(var me=1;me<=R[J];me++)ne[j[K]]=[],ne[j[K]][0]=V,ne[j[K]][1]=J,K++,V++;V*=2}return ne}function W(R){for(var j=R[0],V=R[1]-1;V>=0;)j&1<<V&&(v|=1<<x),V--,--x<0&&(v==255?(G(255),G(0)):G(v),x=7,v=0)}function G(R){m.push(R)}function B(R){G(R>>8&255),G(255&R)}function re(R,j,V,K,ne){for(var J,me=ne[0],ce=ne[240],he=function(Ke,be){var Pe,De,Je,it,rt,st,Dt,kt,Nt,At,Tt=0;for(Nt=0;Nt<8;++Nt){Pe=Ke[Tt],De=Ke[Tt+1],Je=Ke[Tt+2],it=Ke[Tt+3],rt=Ke[Tt+4],st=Ke[Tt+5],Dt=Ke[Tt+6];var Ur=Pe+(kt=Ke[Tt+7]),Yt=Pe-kt,sr=De+Dt,Cr=De-Dt,jr=Je+st,Ne=Je-st,Gt=it+rt,Ve=it-rt,Qt=Ur+Gt,Ht=Ur-Gt,gt=sr+jr,ft=sr-jr;Ke[Tt]=Qt+gt,Ke[Tt+4]=Qt-gt;var ar=.707106781*(ft+Ht);Ke[Tt+2]=Ht+ar,Ke[Tt+6]=Ht-ar;var tr=.382683433*((Qt=Ve+Ne)-(ft=Cr+Yt)),Sr=.5411961*Qt+tr,qr=1.306562965*ft+tr,Nn=.707106781*(gt=Ne+Cr),Jt=Yt+Nn,Ni=Yt-Nn;Ke[Tt+5]=Ni+Sr,Ke[Tt+3]=Ni-Sr,Ke[Tt+1]=Jt+qr,Ke[Tt+7]=Jt-qr,Tt+=8}for(Tt=0,Nt=0;Nt<8;++Nt){Pe=Ke[Tt],De=Ke[Tt+8],Je=Ke[Tt+16],it=Ke[Tt+24],rt=Ke[Tt+32],st=Ke[Tt+40],Dt=Ke[Tt+48];var li=Pe+(kt=Ke[Tt+56]),Tn=Pe-kt,Oe=De+Dt,Lt=De-Dt,It=Je+st,se=Je-st,de=it+rt,ue=it-rt,xe=li+de,Se=li-de,Ee=Oe+It,qe=Oe-It;Ke[Tt]=xe+Ee,Ke[Tt+32]=xe-Ee;var nt=.707106781*(qe+Se);Ke[Tt+16]=Se+nt,Ke[Tt+48]=Se-nt;var He=.382683433*((xe=ue+se)-(qe=Lt+Tn)),Ge=.5411961*xe+He,Ze=1.306562965*qe+He,_t=.707106781*(Ee=se+Lt),St=Tn+_t,Wt=Tn-_t;Ke[Tt+40]=Wt+Ge,Ke[Tt+24]=Wt-Ge,Ke[Tt+8]=St+Ze,Ke[Tt+56]=St-Ze,Tt++}for(Nt=0;Nt<64;++Nt)At=Ke[Nt]*be[Nt],f[Nt]=At>0?At+.5|0:At-.5|0;return f}(R,j),_e=0;_e<64;++_e)g[E[_e]]=he[_e];var ee=g[0]-V;V=g[0],ee==0?W(K[0]):(W(K[h[J=32767+ee]]),W(d[J]));for(var je=63;je>0&&g[je]==0;)je--;if(je==0)return W(me),V;for(var Ue,pe=1;pe<=je;){for(var Me=pe;g[pe]==0&&pe<=je;)++pe;var Ye=pe-Me;if(Ye>=16){Ue=Ye>>4;for(var xt=1;xt<=Ue;++xt)W(ce);Ye&=15}J=32767+g[pe],W(ne[(Ye<<4)+h[J]]),W(d[J]),pe++}return je!=63&&W(me),V}function ae(R){R=Math.min(Math.max(R,1),100),s!=R&&(function(j){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var ne=a((V[K]*j+50)/100);ne=Math.min(Math.max(ne,1),255),o[E[K]]=ne}for(var J=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var ce=a((J[me]*j+50)/100);ce=Math.min(Math.max(ce,1),255),l[E[me]]=ce}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,ee=0;ee<8;ee++)for(var je=0;je<8;je++)c[_e]=1/(o[E[_e]]*he[ee]*he[je]*8),u[_e]=1/(l[E[_e]]*he[ee]*he[je]*8),_e++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),s=R)}this.encode=function(R,j){j&&ae(j),m=new Array,v=0,x=7,B(65496),B(65504),B(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),B(1),B(1),G(0),G(0),function(){B(65499),B(132),G(0);for(var De=0;De<64;De++)G(o[De]);G(1);for(var Je=0;Je<64;Je++)G(l[Je])}(),function(De,Je){B(65472),B(17),G(8),B(Je),B(De),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)}(R.width,R.height),function(){B(65476),B(418),G(0);for(var De=0;De<16;De++)G(C[De+1]);for(var Je=0;Je<=11;Je++)G(N[Je]);G(16);for(var it=0;it<16;it++)G(F[it+1]);for(var rt=0;rt<=161;rt++)G(A[rt]);G(1);for(var st=0;st<16;st++)G(I[st+1]);for(var Dt=0;Dt<=11;Dt++)G(M[Dt]);G(17);for(var kt=0;kt<16;kt++)G(U[kt+1]);for(var Nt=0;Nt<=161;Nt++)G(Y[Nt])}(),B(65498),B(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var V=0,K=0,ne=0;v=0,x=7,this.encode.displayName="_encode_";for(var J,me,ce,he,_e,ee,je,Ue,pe,Me=R.data,Ye=R.width,xt=R.height,Ke=4*Ye,be=0;be<xt;){for(J=0;J<Ke;){for(_e=Ke*be+J,je=-1,Ue=0,pe=0;pe<64;pe++)ee=_e+(Ue=pe>>3)*Ke+(je=4*(7&pe)),be+Ue>=xt&&(ee-=Ke*(be+1+Ue-xt)),J+je>=Ke&&(ee-=J+je-Ke+4),me=Me[ee++],ce=Me[ee++],he=Me[ee++],w[pe]=(T[me]+T[ce+256|0]+T[he+512|0]>>16)-128,b[pe]=(T[me+768|0]+T[ce+1024|0]+T[he+1280|0]>>16)-128,_[pe]=(T[me+1280|0]+T[ce+1536|0]+T[he+1792|0]>>16)-128;V=re(w,c,V,e,n),K=re(b,u,K,r,i),ne=re(_,u,ne,r,i),J+=32}be+=8}if(x>=0){var Pe=[];Pe[1]=x+1,Pe[0]=(1<<x+1)-1,W(Pe)}return B(65497),new Uint8Array(m)},t=t||50,function(){for(var R=String.fromCharCode,j=0;j<256;j++)S[j]=R(j)}(),e=X(C,N),r=X(I,M),n=X(F,A),i=X(U,Y),function(){for(var R=1,j=2,V=1;V<=15;V++){for(var K=R;K<j;K++)h[32767+K]=V,d[32767+K]=[],d[32767+K][1]=V,d[32767+K][0]=K;for(var ne=-(j-1);ne<=-R;ne++)h[32767+ne]=V,d[32767+ne]=[],d[32767+ne][1]=V,d[32767+ne][0]=j-1+ne;R<<=1,j<<=1}}(),function(){for(var R=0;R<256;R++)T[R]=19595*R,T[R+256|0]=38470*R,T[R+512|0]=7471*R+32768,T[R+768|0]=-11059*R,T[R+1024|0]=-21709*R,T[R+1280|0]=32768*R+8421375,T[R+1536|0]=-27439*R,T[R+1792|0]=-5329*R}(),ae(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Hh(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Fue(t){function e(N){if(!N)throw Error("assert :P")}function r(N,F,A){for(var I=0;4>I;I++)if(N[F+I]!=A.charCodeAt(I))return!0;return!1}function n(N,F,A,I,M){for(var U=0;U<M;U++)N[F+U]=A[I+U]}function i(N,F,A,I){for(var M=0;M<I;M++)N[F+M]=A}function s(N){return new Int32Array(N)}function a(N,F){for(var A=[],I=0;I<N;I++)A.push(new F);return A}function o(N,F){var A=[];return function I(M,U,Y){for(var X=Y[U],W=0;W<X&&(M.push(Y.length>U+1?[]:new F),!(Y.length<U+1));W++)I(M[W],U+1,Y)}(A,0,N),A}var l=function(){var N=this;function F(k,D){for(var z=1<<D-1>>>0;k&z;)z>>>=1;return z?(k&z-1)+z:k}function A(k,D,z,Z,le){e(!(Z%z));do k[D+(Z-=z)]=le;while(0<Z)}function I(k,D,z,Z,le){if(e(2328>=le),512>=le)var fe=s(512);else if((fe=s(le))==null)return 0;return function(ge,ve,we,Ce,Re,et){var ke,Fe,We=ve,ot=1<<we,Qe=s(16),ut=s(16);for(e(Re!=0),e(Ce!=null),e(ge!=null),e(0<we),Fe=0;Fe<Re;++Fe){if(15<Ce[Fe])return 0;++Qe[Ce[Fe]]}if(Qe[0]==Re)return 0;for(ut[1]=0,ke=1;15>ke;++ke){if(Qe[ke]>1<<ke)return 0;ut[ke+1]=ut[ke]+Qe[ke]}for(Fe=0;Fe<Re;++Fe)ke=Ce[Fe],0<Ce[Fe]&&(et[ut[ke]++]=Fe);if(ut[15]==1)return(Ce=new M).g=0,Ce.value=et[0],A(ge,We,1,ot,Ce),ot;var dt,Ct=-1,wt=ot-1,Er=0,dr=1,cn=1,yr=1<<we;for(Fe=0,ke=1,Re=2;ke<=we;++ke,Re<<=1){if(dr+=cn<<=1,0>(cn-=Qe[ke]))return 0;for(;0<Qe[ke];--Qe[ke])(Ce=new M).g=ke,Ce.value=et[Fe++],A(ge,We+Er,Re,yr,Ce),Er=F(Er,ke)}for(ke=we+1,Re=2;15>=ke;++ke,Re<<=1){if(dr+=cn<<=1,0>(cn-=Qe[ke]))return 0;for(;0<Qe[ke];--Qe[ke]){if(Ce=new M,(Er&wt)!=Ct){for(We+=yr,dt=1<<(Ct=ke)-we;15>Ct&&!(0>=(dt-=Qe[Ct]));)++Ct,dt<<=1;ot+=yr=1<<(dt=Ct-we),ge[ve+(Ct=Er&wt)].g=dt+we,ge[ve+Ct].value=We-ve-Ct}Ce.g=ke-we,Ce.value=et[Fe++],A(ge,We+(Er>>we),Re,yr,Ce),Er=F(Er,ke)}}return dr!=2*ut[15]-1?0:ot}(k,D,z,Z,le,fe)}function M(){this.value=this.g=0}function U(){this.value=this.g=0}function Y(){this.G=a(5,M),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ix,U)}function X(k,D,z,Z){e(k!=null),e(D!=null),e(2147483648>Z),k.Ca=254,k.I=0,k.b=-8,k.Ka=0,k.oa=D,k.pa=z,k.Jd=D,k.Yc=z+Z,k.Zc=4<=Z?z+Z-4+1:z,me(k)}function W(k,D){for(var z=0;0<D--;)z|=he(k,128)<<D;return z}function G(k,D){var z=W(k,D);return ce(k)?-z:z}function B(k,D,z,Z){var le,fe=0;for(e(k!=null),e(D!=null),e(4294967288>Z),k.Sb=Z,k.Ra=0,k.u=0,k.h=0,4<Z&&(Z=4),le=0;le<Z;++le)fe+=D[z+le]<<8*le;k.Ra=fe,k.bb=Z,k.oa=D,k.pa=z}function re(k){for(;8<=k.u&&k.bb<k.Sb;)k.Ra>>>=8,k.Ra+=k.oa[k.pa+k.bb]<<mv-8>>>0,++k.bb,k.u-=8;K(k)&&(k.h=1,k.u=0)}function ae(k,D){if(e(0<=D),!k.h&&D<=yu){var z=V(k)&vu[D];return k.u+=D,re(k),z}return k.h=1,k.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(k){return k.Ra>>>(k.u&mv-1)>>>0}function K(k){return e(k.bb<=k.Sb),k.h||k.bb==k.Sb&&k.u>mv}function ne(k,D){k.u=D,k.h=K(k)}function J(k){k.u>=Wm&&(e(k.u>=Wm),re(k))}function me(k){e(k!=null&&k.oa!=null),k.pa<k.Zc?(k.I=(k.oa[k.pa++]|k.I<<8)>>>0,k.b+=8):(e(k!=null&&k.oa!=null),k.pa<k.Yc?(k.b+=8,k.I=k.oa[k.pa++]|k.I<<8):k.Ka?k.b=0:(k.I<<=8,k.b+=8,k.Ka=1))}function ce(k){return W(k,1)}function he(k,D){var z=k.Ca;0>k.b&&me(k);var Z=k.b,le=z*D>>>8,fe=(k.I>>>Z>le)+0;for(fe?(z-=le,k.I-=le+1<<Z>>>0):z=le+1,Z=z,le=0;256<=Z;)le+=8,Z>>=8;return Z=7^le+gv[Z],k.b-=Z,k.Ca=(z<<Z)-1,fe}function _e(k,D,z){k[D+0]=z>>24&255,k[D+1]=z>>16&255,k[D+2]=z>>8&255,k[D+3]=255&z}function ee(k,D){return k[D+0]|k[D+1]<<8}function je(k,D){return ee(k,D)|k[D+2]<<16}function Ue(k,D){return ee(k,D)|ee(k,D+2)<<16}function pe(k,D){var z=1<<D;return e(k!=null),e(0<D),k.X=s(z),k.X==null?0:(k.Mb=32-D,k.Xa=D,1)}function Me(k,D){e(k!=null),e(D!=null),e(k.Xa==D.Xa),n(D.X,0,k.X,0,1<<D.Xa)}function Ye(){this.X=[],this.Xa=this.Mb=0}function xt(k,D,z,Z){e(z!=null),e(Z!=null);var le=z[0],fe=Z[0];return le==0&&(le=(k*fe+D/2)/D),fe==0&&(fe=(D*le+k/2)/k),0>=le||0>=fe?0:(z[0]=le,Z[0]=fe,1)}function Ke(k,D){return k+(1<<D)-1>>>D}function be(k,D){return((4278255360&k)+(4278255360&D)>>>0&4278255360)+((16711935&k)+(16711935&D)>>>0&16711935)>>>0}function Pe(k,D){N[D]=function(z,Z,le,fe,ge,ve,we){var Ce;for(Ce=0;Ce<ge;++Ce){var Re=N[k](ve[we+Ce-1],le,fe+Ce);ve[we+Ce]=be(z[Z+Ce],Re)}}}function De(){this.ud=this.hd=this.jd=0}function Je(k,D){return((4278124286&(k^D))>>>1)+(k&D)>>>0}function it(k){return 0<=k&&256>k?k:0>k?0:255<k?255:void 0}function rt(k,D){return it(k+(k-D+.5>>1))}function st(k,D,z){return Math.abs(D-z)-Math.abs(k-z)}function Dt(k,D,z,Z,le,fe,ge){for(Z=fe[ge-1],z=0;z<le;++z)fe[ge+z]=Z=be(k[D+z],Z)}function kt(k,D,z,Z,le){var fe;for(fe=0;fe<z;++fe){var ge=k[D+fe],ve=ge>>8&255,we=16711935&(we=(we=16711935&ge)+((ve<<16)+ve));Z[le+fe]=(4278255360&ge)+we>>>0}}function Nt(k,D){D.jd=255&k,D.hd=k>>8&255,D.ud=k>>16&255}function At(k,D,z,Z,le,fe){var ge;for(ge=0;ge<Z;++ge){var ve=D[z+ge],we=ve>>>8,Ce=ve,Re=255&(Re=(Re=ve>>>16)+((k.jd<<24>>24)*(we<<24>>24)>>>5));Ce=255&(Ce=(Ce+=(k.hd<<24>>24)*(we<<24>>24)>>>5)+((k.ud<<24>>24)*(Re<<24>>24)>>>5)),le[fe+ge]=(4278255360&ve)+(Re<<16)+Ce}}function Tt(k,D,z,Z,le){N[D]=function(fe,ge,ve,we,Ce,Re,et,ke,Fe){for(we=et;we<ke;++we)for(et=0;et<Fe;++et)Ce[Re++]=le(ve[Z(fe[ge++])])},N[k]=function(fe,ge,ve,we,Ce,Re,et){var ke=8>>fe.b,Fe=fe.Ea,We=fe.K[0],ot=fe.w;if(8>ke)for(fe=(1<<fe.b)-1,ot=(1<<ke)-1;ge<ve;++ge){var Qe,ut=0;for(Qe=0;Qe<Fe;++Qe)Qe&fe||(ut=Z(we[Ce++])),Re[et++]=le(We[ut&ot]),ut>>=ke}else N["VP8LMapColor"+z](we,Ce,We,ot,Re,et,ge,ve,Fe)}}function Ur(k,D,z,Z,le){for(z=D+z;D<z;){var fe=k[D++];Z[le++]=fe>>16&255,Z[le++]=fe>>8&255,Z[le++]=255&fe}}function Yt(k,D,z,Z,le){for(z=D+z;D<z;){var fe=k[D++];Z[le++]=fe>>16&255,Z[le++]=fe>>8&255,Z[le++]=255&fe,Z[le++]=fe>>24&255}}function sr(k,D,z,Z,le){for(z=D+z;D<z;){var fe=(ge=k[D++])>>16&240|ge>>12&15,ge=240&ge|ge>>28&15;Z[le++]=fe,Z[le++]=ge}}function Cr(k,D,z,Z,le){for(z=D+z;D<z;){var fe=(ge=k[D++])>>16&248|ge>>13&7,ge=ge>>5&224|ge>>3&31;Z[le++]=fe,Z[le++]=ge}}function jr(k,D,z,Z,le){for(z=D+z;D<z;){var fe=k[D++];Z[le++]=255&fe,Z[le++]=fe>>8&255,Z[le++]=fe>>16&255}}function Ne(k,D,z,Z,le,fe){if(fe==0)for(z=D+z;D<z;)_e(Z,((fe=k[D++])[0]>>24|fe[1]>>8&65280|fe[2]<<8&16711680|fe[3]<<24)>>>0),le+=32;else n(Z,le,k,D,z)}function Gt(k,D){N[D][0]=N[k+"0"],N[D][1]=N[k+"1"],N[D][2]=N[k+"2"],N[D][3]=N[k+"3"],N[D][4]=N[k+"4"],N[D][5]=N[k+"5"],N[D][6]=N[k+"6"],N[D][7]=N[k+"7"],N[D][8]=N[k+"8"],N[D][9]=N[k+"9"],N[D][10]=N[k+"10"],N[D][11]=N[k+"11"],N[D][12]=N[k+"12"],N[D][13]=N[k+"13"],N[D][14]=N[k+"0"],N[D][15]=N[k+"0"]}function Ve(k){return k==j7||k==L7||k==HR||k==B7}function Qt(){this.eb=[],this.size=this.A=this.fb=0}function Ht(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function gt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Qt,this.f.kb=new Ht,this.sd=null}function ft(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ar(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function tr(k){return alert("todo:WebPSamplerProcessPlane"),k.T}function Sr(k,D){var z=k.T,Z=D.ba.f.RGBA,le=Z.eb,fe=Z.fb+k.ka*Z.A,ge=Id[D.ba.S],ve=k.y,we=k.O,Ce=k.f,Re=k.N,et=k.ea,ke=k.W,Fe=D.cc,We=D.dc,ot=D.Mc,Qe=D.Nc,ut=k.ka,dt=k.ka+k.T,Ct=k.U,wt=Ct+1>>1;for(ut==0?ge(ve,we,null,null,Ce,Re,et,ke,Ce,Re,et,ke,le,fe,null,null,Ct):(ge(D.ec,D.fc,ve,we,Fe,We,ot,Qe,Ce,Re,et,ke,le,fe-Z.A,le,fe,Ct),++z);ut+2<dt;ut+=2)Fe=Ce,We=Re,ot=et,Qe=ke,Re+=k.Rc,ke+=k.Rc,fe+=2*Z.A,ge(ve,(we+=2*k.fa)-k.fa,ve,we,Fe,We,ot,Qe,Ce,Re,et,ke,le,fe-Z.A,le,fe,Ct);return we+=k.fa,k.j+dt<k.o?(n(D.ec,D.fc,ve,we,Ct),n(D.cc,D.dc,Ce,Re,wt),n(D.Mc,D.Nc,et,ke,wt),z--):1&dt||ge(ve,we,null,null,Ce,Re,et,ke,Ce,Re,et,ke,le,fe+Z.A,null,null,Ct),z}function qr(k,D,z){var Z=k.F,le=[k.J];if(Z!=null){var fe=k.U,ge=D.ba.S,ve=ge==zR||ge==HR;D=D.ba.f.RGBA;var we=[0],Ce=k.ka;we[0]=k.T,k.Kb&&(Ce==0?--we[0]:(--Ce,le[0]-=k.width),k.j+k.ka+k.T==k.o&&(we[0]=k.o-k.j-Ce));var Re=D.eb;Ce=D.fb+Ce*D.A,k=lee(Z,le[0],k.width,fe,we,Re,Ce+(ve?0:3),D.A),e(z==we),k&&Ve(ge)&&ak(Re,Ce,ve,fe,we,D.A)}return 0}function Nn(k){var D=k.ma,z=D.ba.S,Z=11>z,le=z==VR||z==UR||z==zR||z==F7||z==12||Ve(z);if(D.memory=null,D.Ib=null,D.Jb=null,D.Nd=null,!QC(D.Oa,k,le?11:12))return 0;if(le&&Ve(z)&&Kr(),k.da)alert("todo:use_scaling");else{if(Z){if(D.Ib=tr,k.Kb){if(z=k.U+1>>1,D.memory=s(k.U+2*z),D.memory==null)return 0;D.ec=D.memory,D.fc=0,D.cc=D.ec,D.dc=D.fc+k.U,D.Mc=D.cc,D.Nc=D.dc+z,D.Ib=Sr,Kr()}}else alert("todo:EmitYUV");le&&(D.Jb=qr,Z&&tt())}if(Z&&!Eee){for(k=0;256>k;++k)F4e[k]=89858*(k-128)+qR>>WR,B4e[k]=-22014*(k-128)+qR,L4e[k]=-45773*(k-128),j4e[k]=113618*(k-128)+qR>>WR;for(k=lk;k<U7;++k)D=76283*(k-16)+qR>>WR,$4e[k-lk]=zs(D,255),V4e[k-lk]=zs(D+8>>4,15);Eee=1}return 1}function Jt(k){var D=k.ma,z=k.U,Z=k.T;return e(!(1&k.ka)),0>=z||0>=Z?0:(z=D.Ib(k,D),D.Jb!=null&&D.Jb(k,D,z),D.Dc+=z,1)}function Ni(k){k.ma.memory=null}function li(k,D,z,Z){return ae(k,8)!=47?0:(D[0]=ae(k,14)+1,z[0]=ae(k,14)+1,Z[0]=ae(k,1),ae(k,3)!=0?0:!k.h)}function Tn(k,D){if(4>k)return k+1;var z=k-2>>1;return(2+(1&k)<<z)+ae(D,z)+1}function Oe(k,D){return 120<D?D-120:1<=(z=((z=_4e[D-1])>>4)*k+(8-(15&z)))?z:1;var z}function Lt(k,D,z){var Z=V(z),le=k[D+=255&Z].g-8;return 0<le&&(ne(z,z.u+8),Z=V(z),D+=k[D].value,D+=Z&(1<<le)-1),ne(z,z.u+k[D].g),k[D].value}function It(k,D,z){return z.g+=k.g,z.value+=k.value<<D>>>0,e(8>=z.g),k.g}function se(k,D,z){var Z=k.xc;return e((D=Z==0?0:k.vc[k.md*(z>>Z)+(D>>Z)])<k.Wb),k.Ya[D]}function de(k,D,z,Z){var le=k.ab,fe=k.c*D,ge=k.C;D=ge+D;var ve=z,we=Z;for(Z=k.Ta,z=k.Ua;0<le--;){var Ce=k.gc[le],Re=ge,et=D,ke=ve,Fe=we,We=(we=Z,ve=z,Ce.Ea);switch(e(Re<et),e(et<=Ce.nc),Ce.hc){case 2:la(ke,Fe,(et-Re)*We,we,ve);break;case 0:var ot=Re,Qe=et,ut=we,dt=ve,Ct=(yr=Ce).Ea;ot==0&&(ek(ke,Fe,null,null,1,ut,dt),Dt(ke,Fe+1,0,0,Ct-1,ut,dt+1),Fe+=Ct,dt+=Ct,++ot);for(var wt=1<<yr.b,Er=wt-1,dr=Ke(Ct,yr.b),cn=yr.K,yr=yr.w+(ot>>yr.b)*dr;ot<Qe;){var Bn=cn,Ka=yr,un=1;for(I2(ke,Fe,ut,dt-Ct,1,ut,dt);un<Ct;){var xr=(un&~Er)+wt;xr>Ct&&(xr=Ct),(0,rk[Bn[Ka++]>>8&15])(ke,Fe+ +un,ut,dt+un-Ct,xr-un,ut,dt+un),un=xr}Fe+=Ct,dt+=Ct,++ot&Er||(yr+=dr)}et!=Ce.nc&&n(we,ve-We,we,ve+(et-Re-1)*We,We);break;case 1:for(We=ke,Qe=Fe,Ct=(ke=Ce.Ea)-(dt=ke&~(ut=(Fe=1<<Ce.b)-1)),ot=Ke(ke,Ce.b),wt=Ce.K,Ce=Ce.w+(Re>>Ce.b)*ot;Re<et;){for(Er=wt,dr=Ce,cn=new De,yr=Qe+dt,Bn=Qe+ke;Qe<yr;)Nt(Er[dr++],cn),nk(cn,We,Qe,Fe,we,ve),Qe+=Fe,ve+=Fe;Qe<Bn&&(Nt(Er[dr++],cn),nk(cn,We,Qe,Ct,we,ve),Qe+=Ct,ve+=Ct),++Re&ut||(Ce+=ot)}break;case 3:if(ke==we&&Fe==ve&&0<Ce.b){for(Qe=we,ke=We=ve+(et-Re)*We-(dt=(et-Re)*Ke(Ce.Ea,Ce.b)),Fe=we,ut=ve,ot=[],dt=(Ct=dt)-1;0<=dt;--dt)ot[dt]=Fe[ut+dt];for(dt=Ct-1;0<=dt;--dt)Qe[ke+dt]=ot[dt];jR(Ce,Re,et,we,We,we,ve)}else jR(Ce,Re,et,ke,Fe,we,ve)}ve=Z,we=z}we!=z&&n(Z,z,ve,we,fe)}function ue(k,D){var z=k.V,Z=k.Ba+k.c*k.C,le=D-k.C;if(e(D<=k.l.o),e(16>=le),0<le){var fe=k.l,ge=k.Ta,ve=k.Ua,we=fe.width;if(de(k,le,z,Z),le=ve=[ve],e((z=k.C)<(Z=D)),e(fe.v<fe.va),Z>fe.o&&(Z=fe.o),z<fe.j){var Ce=fe.j-z;z=fe.j,le[0]+=Ce*we}if(z>=Z?z=0:(le[0]+=4*fe.v,fe.ka=z-fe.j,fe.U=fe.va-fe.v,fe.T=Z-z,z=1),z){if(ve=ve[0],11>(z=k.ca).S){var Re=z.f.RGBA,et=(Z=z.S,le=fe.U,fe=fe.T,Ce=Re.eb,Re.A),ke=fe;for(Re=Re.fb+k.Ma*Re.A;0<ke--;){var Fe=ge,We=ve,ot=le,Qe=Ce,ut=Re;switch(Z){case $R:ik(Fe,We,ot,Qe,ut);break;case VR:vv(Fe,We,ot,Qe,ut);break;case j7:vv(Fe,We,ot,Qe,ut),ak(Qe,ut,0,ot,1,0);break;case mee:Ox(Fe,We,ot,Qe,ut);break;case UR:Ne(Fe,We,ot,Qe,ut,1);break;case L7:Ne(Fe,We,ot,Qe,ut,1),ak(Qe,ut,0,ot,1,0);break;case zR:Ne(Fe,We,ot,Qe,ut,0);break;case HR:Ne(Fe,We,ot,Qe,ut,0),ak(Qe,ut,1,ot,1,0);break;case F7:yv(Fe,We,ot,Qe,ut);break;case B7:yv(Fe,We,ot,Qe,ut),oee(Qe,ut,ot,1,0);break;case gee:xv(Fe,We,ot,Qe,ut);break;default:e(0)}ve+=we,Re+=et}k.Ma+=fe}else alert("todo:EmitRescaledRowsYUVA");e(k.Ma<=z.height)}}k.C=D,e(k.C<=k.i)}function xe(k){var D;if(0<k.ua)return 0;for(D=0;D<k.Wb;++D){var z=k.Ya[D].G,Z=k.Ya[D].H;if(0<z[1][Z[1]+0].g||0<z[2][Z[2]+0].g||0<z[3][Z[3]+0].g)return 0}return 1}function Se(k,D,z,Z,le,fe){if(k.Z!=0){var ge=k.qd,ve=k.rd;for(e(_v[k.Z]!=null);D<z;++D)_v[k.Z](ge,ve,Z,le,Z,le,fe),ge=Z,ve=le,le+=fe;k.qd=ge,k.rd=ve}}function Ee(k,D){var z=k.l.ma,Z=z.Z==0||z.Z==1?k.l.j:k.C;if(Z=k.C<Z?Z:k.C,e(D<=k.l.o),D>Z){var le=k.l.width,fe=z.ca,ge=z.tb+le*Z,ve=k.V,we=k.Ba+k.c*Z,Ce=k.gc;e(k.ab==1),e(Ce[0].hc==3),ip(Ce[0],Z,D,ve,we,fe,ge),Se(z,Z,D,fe,ge,le)}k.C=k.Ma=D}function qe(k,D,z,Z,le,fe,ge){var ve=k.$/Z,we=k.$%Z,Ce=k.m,Re=k.s,et=z+k.$,ke=et;le=z+Z*le;var Fe=z+Z*fe,We=280+Re.ua,ot=k.Pb?ve:16777216,Qe=0<Re.ua?Re.Wa:null,ut=Re.wc,dt=et<Fe?se(Re,we,ve):null;e(k.C<fe),e(Fe<=le);var Ct=!1;e:for(;;){for(;Ct||et<Fe;){var wt=0;if(ve>=ot){var Er=et-z;e((ot=k).Pb),ot.wd=ot.m,ot.xd=Er,0<ot.s.ua&&Me(ot.s.Wa,ot.s.vb),ot=ve+A4e}if(we&ut||(dt=se(Re,we,ve)),e(dt!=null),dt.Qb&&(D[et]=dt.qb,Ct=!0),!Ct)if(J(Ce),dt.jc){wt=Ce,Er=D;var dr=et,cn=dt.pd[V(wt)&Ix-1];e(dt.jc),256>cn.g?(ne(wt,wt.u+cn.g),Er[dr]=cn.value,wt=0):(ne(wt,wt.u+cn.g-256),e(256<=cn.value),wt=cn.value),wt==0&&(Ct=!0)}else wt=Lt(dt.G[0],dt.H[0],Ce);if(Ce.h)break;if(Ct||256>wt){if(!Ct)if(dt.nd)D[et]=(dt.qb|wt<<8)>>>0;else{if(J(Ce),Ct=Lt(dt.G[1],dt.H[1],Ce),J(Ce),Er=Lt(dt.G[2],dt.H[2],Ce),dr=Lt(dt.G[3],dt.H[3],Ce),Ce.h)break;D[et]=(dr<<24|Ct<<16|wt<<8|Er)>>>0}if(Ct=!1,++et,++we>=Z&&(we=0,++ve,ge!=null&&ve<=fe&&!(ve%16)&&ge(k,ve),Qe!=null))for(;ke<et;)wt=D[ke++],Qe.X[(506832829*wt&4294967295)>>>Qe.Mb]=wt}else if(280>wt){if(wt=Tn(wt-256,Ce),Er=Lt(dt.G[4],dt.H[4],Ce),J(Ce),Er=Oe(Z,Er=Tn(Er,Ce)),Ce.h)break;if(et-z<Er||le-et<wt)break e;for(dr=0;dr<wt;++dr)D[et+dr]=D[et+dr-Er];for(et+=wt,we+=wt;we>=Z;)we-=Z,++ve,ge!=null&&ve<=fe&&!(ve%16)&&ge(k,ve);if(e(et<=le),we&ut&&(dt=se(Re,we,ve)),Qe!=null)for(;ke<et;)wt=D[ke++],Qe.X[(506832829*wt&4294967295)>>>Qe.Mb]=wt}else{if(!(wt<We))break e;for(Ct=wt-280,e(Qe!=null);ke<et;)wt=D[ke++],Qe.X[(506832829*wt&4294967295)>>>Qe.Mb]=wt;wt=et,e(!(Ct>>>(Er=Qe).Xa)),D[wt]=Er.X[Ct],Ct=!0}Ct||e(Ce.h==K(Ce))}if(k.Pb&&Ce.h&&et<le)e(k.m.h),k.a=5,k.m=k.wd,k.$=k.xd,0<k.s.ua&&Me(k.s.vb,k.s.Wa);else{if(Ce.h)break e;ge!=null&&ge(k,ve>fe?fe:ve),k.a=0,k.$=et-z}return 1}return k.a=3,0}function nt(k){e(k!=null),k.vc=null,k.yc=null,k.Ya=null;var D=k.Wa;D!=null&&(D.X=null),k.vb=null,e(k!=null)}function He(){var k=new Or;return k==null?null:(k.a=0,k.xb=xee,Gt("Predictor","VP8LPredictors"),Gt("Predictor","VP8LPredictors_C"),Gt("PredictorAdd","VP8LPredictorsAdd"),Gt("PredictorAdd","VP8LPredictorsAdd_C"),la=kt,nk=At,ik=Ur,vv=Yt,yv=sr,xv=Cr,Ox=jr,N.VP8LMapColor32b=np,N.VP8LMapColor8b=tk,k)}function Ge(k,D,z,Z,le){var fe=1,ge=[k],ve=[D],we=Z.m,Ce=Z.s,Re=null,et=0;e:for(;;){if(z)for(;fe&&ae(we,1);){var ke=ge,Fe=ve,We=Z,ot=1,Qe=We.m,ut=We.gc[We.ab],dt=ae(Qe,2);if(We.Oc&1<<dt)fe=0;else{switch(We.Oc|=1<<dt,ut.hc=dt,ut.Ea=ke[0],ut.nc=Fe[0],ut.K=[null],++We.ab,e(4>=We.ab),dt){case 0:case 1:ut.b=ae(Qe,3)+2,ot=Ge(Ke(ut.Ea,ut.b),Ke(ut.nc,ut.b),0,We,ut.K),ut.K=ut.K[0];break;case 3:var Ct,wt=ae(Qe,8)+1,Er=16<wt?0:4<wt?1:2<wt?2:3;if(ke[0]=Ke(ut.Ea,Er),ut.b=Er,Ct=ot=Ge(wt,1,0,We,ut.K)){var dr,cn=wt,yr=ut,Bn=1<<(8>>yr.b),Ka=s(Bn);if(Ka==null)Ct=0;else{var un=yr.K[0],xr=yr.w;for(Ka[0]=yr.K[0][0],dr=1;dr<1*cn;++dr)Ka[dr]=be(un[xr+dr],Ka[dr-1]);for(;dr<4*Bn;++dr)Ka[dr]=0;yr.K[0]=null,yr.K[0]=Ka,Ct=1}}ot=Ct;break;case 2:break;default:e(0)}fe=ot}}if(ge=ge[0],ve=ve[0],fe&&ae(we,1)&&!(fe=1<=(et=ae(we,4))&&11>=et)){Z.a=3;break e}var qt;if(qt=fe)t:{var ua,nn,Hn,hs=Z,Fo=ge,Ql=ve,Hs=et,cl=z,Jl=hs.m,Ya=hs.s,qn=[null],gi=1,Ws=0,vi=S4e[Hs];r:for(;;){if(cl&&ae(Jl,1)){var jo=ae(Jl,3)+2,Bh=Ke(Fo,jo),da=Ke(Ql,jo),Fc=Bh*da;if(!Ge(Bh,da,0,hs,qn))break r;for(qn=qn[0],Ya.xc=jo,ua=0;ua<Fc;++ua){var Vi=qn[ua]>>8&65535;qn[ua]=Vi,Vi>=gi&&(gi=Vi+1)}}if(Jl.h)break r;for(nn=0;5>nn;++nn){var Xa=vee[nn];!nn&&0<Hs&&(Xa+=1<<Hs),Ws<Xa&&(Ws=Xa)}var bu=a(gi*vi,M),ec=gi,wu=a(ec,Y);if(wu==null)var _u=null;else e(65536>=ec),_u=wu;var jc=s(Ws);if(_u==null||jc==null||bu==null){hs.a=1;break r}var Su=bu;for(ua=Hn=0;ua<gi;++ua){var rs=_u[ua],Au=rs.G,$h=rs.H,Dx=0,Km=1,Lo=0;for(nn=0;5>nn;++nn){Xa=vee[nn],Au[nn]=Su,$h[nn]=Hn,!nn&&0<Hs&&(Xa+=1<<Hs);i:{var KR,z7=Xa,YR=hs,ck=jc,H4e=Su,W4e=Hn,H7=0,Sv=YR.m,q4e=ae(Sv,1);if(i(ck,0,0,z7),q4e){var G4e=ae(Sv,1)+1,K4e=ae(Sv,1),kee=ae(Sv,K4e==0?1:8);ck[kee]=1,G4e==2&&(ck[kee=ae(Sv,8)]=1);var XR=1}else{var Pee=s(19),Nee=ae(Sv,4)+4;if(19<Nee){YR.a=3;var ZR=0;break i}for(KR=0;KR<Nee;++KR)Pee[w4e[KR]]=ae(Sv,3);var W7=void 0,uk=void 0,Iee=YR,Y4e=Pee,QR=z7,Oee=ck,q7=0,Av=Iee.m,Ree=8,Dee=a(128,M);n:for(;I(Dee,0,7,Y4e,19);){if(ae(Av,1)){var X4e=2+2*ae(Av,3);if((W7=2+ae(Av,X4e))>QR)break n}else W7=QR;for(uk=0;uk<QR&&W7--;){J(Av);var Mee=Dee[0+(127&V(Av))];ne(Av,Av.u+Mee.g);var R2=Mee.value;if(16>R2)Oee[uk++]=R2,R2!=0&&(Ree=R2);else{var Z4e=R2==16,Fee=R2-16,Q4e=x4e[Fee],jee=ae(Av,y4e[Fee])+Q4e;if(uk+jee>QR)break n;for(var J4e=Z4e?Ree:0;0<jee--;)Oee[uk++]=J4e}}q7=1;break n}q7||(Iee.a=3),XR=q7}(XR=XR&&!Sv.h)&&(H7=I(H4e,W4e,8,ck,z7)),XR&&H7!=0?ZR=H7:(YR.a=3,ZR=0)}if(ZR==0)break r;if(Km&&b4e[nn]==1&&(Km=Su[Hn].g==0),Dx+=Su[Hn].g,Hn+=ZR,3>=nn){var dk,G7=jc[0];for(dk=1;dk<Xa;++dk)jc[dk]>G7&&(G7=jc[dk]);Lo+=G7}}if(rs.nd=Km,rs.Qb=0,Km&&(rs.qb=(Au[3][$h[3]+0].value<<24|Au[1][$h[1]+0].value<<16|Au[2][$h[2]+0].value)>>>0,Dx==0&&256>Au[0][$h[0]+0].value&&(rs.Qb=1,rs.qb+=Au[0][$h[0]+0].value<<8)),rs.jc=!rs.Qb&&6>Lo,rs.jc){var JR,Ym=rs;for(JR=0;JR<Ix;++JR){var Ev=JR,Tv=Ym.pd[Ev],e3=Ym.G[0][Ym.H[0]+Ev];256<=e3.value?(Tv.g=e3.g+256,Tv.value=e3.value):(Tv.g=0,Tv.value=0,Ev>>=It(e3,8,Tv),Ev>>=It(Ym.G[1][Ym.H[1]+Ev],16,Tv),Ev>>=It(Ym.G[2][Ym.H[2]+Ev],0,Tv),It(Ym.G[3][Ym.H[3]+Ev],24,Tv))}}}Ya.vc=qn,Ya.Wb=gi,Ya.Ya=_u,Ya.yc=bu,qt=1;break t}qt=0}if(!(fe=qt)){Z.a=3;break e}if(0<et){if(Ce.ua=1<<et,!pe(Ce.Wa,et)){Z.a=1,fe=0;break e}}else Ce.ua=0;var K7=Z,Lee=ge,eOe=ve,Y7=K7.s,X7=Y7.xc;if(K7.c=Lee,K7.i=eOe,Y7.md=Ke(Lee,X7),Y7.wc=X7==0?-1:(1<<X7)-1,z){Z.xb=I4e;break e}if((Re=s(ge*ve))==null){Z.a=1,fe=0;break e}fe=(fe=qe(Z,Re,0,ge,ve,ve,null))&&!we.h;break e}return fe?(le!=null?le[0]=Re:(e(Re==null),e(z)),Z.$=0,z||nt(Ce)):nt(Ce),fe}function Ze(k,D){var z=k.c*k.i,Z=z+D+16*D;return e(k.c<=D),k.V=s(Z),k.V==null?(k.Ta=null,k.Ua=0,k.a=1,0):(k.Ta=k.V,k.Ua=k.Ba+z+D,1)}function _t(k,D){var z=k.C,Z=D-z,le=k.V,fe=k.Ba+k.c*z;for(e(D<=k.l.o);0<Z;){var ge=16<Z?16:Z,ve=k.l.ma,we=k.l.width,Ce=we*ge,Re=ve.ca,et=ve.tb+we*z,ke=k.Ta,Fe=k.Ua;de(k,ge,le,fe),cee(ke,Fe,Re,et,Ce),Se(ve,z,z+ge,Re,et,we),Z-=ge,le+=ge*k.c,z+=ge}e(z==D),k.C=k.Ma=D}function St(){this.ub=this.yd=this.td=this.Rb=0}function Wt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Et(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function zt(){this.Yb=function(){var k=[];return function D(z,Z,le){for(var fe=le[Z],ge=0;ge<fe&&(z.push(le.length>Z+1?[]:0),!(le.length<Z+1));ge++)D(z[ge],Z+1,le)}(k,0,[3,11]),k}()}function Dr(){this.jb=s(3),this.Wc=o([4,8],zt),this.Xc=o([4,17],zt)}function si(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function wn(){this.ld=this.La=this.dd=this.tc=0}function us(){this.Na=this.la=0}function Nc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Wl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function mu(){this.uc=this.M=this.Nb=0,this.wa=Array(new wn),this.Y=0,this.ya=Array(new Wl),this.aa=0,this.l=new Gl}function ql(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Dh(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new St,this.Kc=new Wt,this.ed=new si,this.Qa=new Et,this.Ic=this.$c=this.Aa=0,this.D=new mu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,R),this.ia=0,this.pb=a(4,Nc),this.Pa=new Dr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ql),this.Hd=0,this.rb=Array(new us),this.sb=0,this.wa=Array(new wn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Wl),this.L=this.aa=0,this.gd=o([4,2],wn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function zs(k,D){return 0>k?0:k>D?D:k}function Gl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ic(){var k=new Dh;return k!=null&&(k.a=0,k.sc="OK",k.cb=0,k.Xb=0,ok||(ok=ei)),k}function Xi(k,D,z){return k.a==0&&(k.a=D,k.sc=z,k.cb=0),0}function Yf(k,D,z){return 3<=z&&k[D+0]==157&&k[D+1]==1&&k[D+2]==42}function Oc(k,D){if(k==null)return 0;if(k.a=0,k.sc="OK",D==null)return Xi(k,2,"null VP8Io passed to VP8GetHeaders()");var z=D.data,Z=D.w,le=D.ha;if(4>le)return Xi(k,7,"Truncated header.");var fe=z[Z+0]|z[Z+1]<<8|z[Z+2]<<16,ge=k.Od;if(ge.Rb=!(1&fe),ge.td=fe>>1&7,ge.yd=fe>>4&1,ge.ub=fe>>5,3<ge.td)return Xi(k,3,"Incorrect keyframe parameters.");if(!ge.yd)return Xi(k,4,"Frame not displayable.");Z+=3,le-=3;var ve=k.Kc;if(ge.Rb){if(7>le)return Xi(k,7,"cannot parse picture header");if(!Yf(z,Z,le))return Xi(k,3,"Bad code word");ve.c=16383&(z[Z+4]<<8|z[Z+3]),ve.Td=z[Z+4]>>6,ve.i=16383&(z[Z+6]<<8|z[Z+5]),ve.Ud=z[Z+6]>>6,Z+=7,le-=7,k.za=ve.c+15>>4,k.Ub=ve.i+15>>4,D.width=ve.c,D.height=ve.i,D.Da=0,D.j=0,D.v=0,D.va=D.width,D.o=D.height,D.da=0,D.ib=D.width,D.hb=D.height,D.U=D.width,D.T=D.height,i((fe=k.Pa).jb,0,255,fe.jb.length),e((fe=k.Qa)!=null),fe.Cb=0,fe.Bb=0,fe.Fb=1,i(fe.Zb,0,0,fe.Zb.length),i(fe.Lb,0,0,fe.Lb)}if(ge.ub>le)return Xi(k,7,"bad partition length");X(fe=k.m,z,Z,ge.ub),Z+=ge.ub,le-=ge.ub,ge.Rb&&(ve.Ld=ce(fe),ve.Kd=ce(fe)),ve=k.Qa;var we,Ce=k.Pa;if(e(fe!=null),e(ve!=null),ve.Cb=ce(fe),ve.Cb){if(ve.Bb=ce(fe),ce(fe)){for(ve.Fb=ce(fe),we=0;4>we;++we)ve.Zb[we]=ce(fe)?G(fe,7):0;for(we=0;4>we;++we)ve.Lb[we]=ce(fe)?G(fe,6):0}if(ve.Bb)for(we=0;3>we;++we)Ce.jb[we]=ce(fe)?W(fe,8):255}else ve.Bb=0;if(fe.Ka)return Xi(k,3,"cannot parse segment header");if((ve=k.ed).zd=ce(fe),ve.Tb=W(fe,6),ve.wb=W(fe,3),ve.Pc=ce(fe),ve.Pc&&ce(fe)){for(Ce=0;4>Ce;++Ce)ce(fe)&&(ve.vd[Ce]=G(fe,6));for(Ce=0;4>Ce;++Ce)ce(fe)&&(ve.od[Ce]=G(fe,6))}if(k.L=ve.Tb==0?0:ve.zd?1:2,fe.Ka)return Xi(k,3,"cannot parse filter header");var Re=le;if(le=we=Z,Z=we+Re,ve=Re,k.Xb=(1<<W(k.m,2))-1,Re<3*(Ce=k.Xb))z=7;else{for(we+=3*Ce,ve-=3*Ce,Re=0;Re<Ce;++Re){var et=z[le+0]|z[le+1]<<8|z[le+2]<<16;et>ve&&(et=ve),X(k.Jc[+Re],z,we,et),we+=et,ve-=et,le+=3}X(k.Jc[+Ce],z,we,ve),z=we<Z?0:5}if(z!=0)return Xi(k,z,"cannot parse partitions");for(z=W(we=k.m,7),le=ce(we)?G(we,4):0,Z=ce(we)?G(we,4):0,ve=ce(we)?G(we,4):0,Ce=ce(we)?G(we,4):0,we=ce(we)?G(we,4):0,Re=k.Qa,et=0;4>et;++et){if(Re.Cb){var ke=Re.Zb[et];Re.Fb||(ke+=z)}else{if(0<et){k.pb[et]=k.pb[0];continue}ke=z}var Fe=k.pb[et];Fe.Sc[0]=$7[zs(ke+le,127)],Fe.Sc[1]=V7[zs(ke+0,127)],Fe.Eb[0]=2*$7[zs(ke+Z,127)],Fe.Eb[1]=101581*V7[zs(ke+ve,127)]>>16,8>Fe.Eb[1]&&(Fe.Eb[1]=8),Fe.Qc[0]=$7[zs(ke+Ce,117)],Fe.Qc[1]=V7[zs(ke+we,127)],Fe.lc=ke+we}if(!ge.Rb)return Xi(k,4,"Not a key frame.");for(ce(fe),ge=k.Pa,z=0;4>z;++z){for(le=0;8>le;++le)for(Z=0;3>Z;++Z)for(ve=0;11>ve;++ve)Ce=he(fe,P4e[z][le][Z][ve])?W(fe,8):C4e[z][le][Z][ve],ge.Wc[z][le].Yb[Z][ve]=Ce;for(le=0;17>le;++le)ge.Xc[z][le]=ge.Wc[z][N4e[le]]}return k.kc=ce(fe),k.kc&&(k.Bd=W(fe,8)),k.cb=1}function ei(k,D,z,Z,le,fe,ge){var ve=D[le].Yb[z];for(z=0;16>le;++le){if(!he(k,ve[z+0]))return le;for(;!he(k,ve[z+1]);)if(ve=D[++le].Yb[0],z=0,le==16)return 16;var we=D[le+1].Yb;if(he(k,ve[z+2])){var Ce=k,Re=0;if(he(Ce,(ke=ve)[(et=z)+3]))if(he(Ce,ke[et+6])){for(ve=0,et=2*(Re=he(Ce,ke[et+8]))+(ke=he(Ce,ke[et+9+Re])),Re=0,ke=E4e[et];ke[ve];++ve)Re+=Re+he(Ce,ke[ve]);Re+=3+(8<<et)}else he(Ce,ke[et+7])?(Re=7+2*he(Ce,165),Re+=he(Ce,145)):Re=5+he(Ce,159);else Re=he(Ce,ke[et+4])?3+he(Ce,ke[et+5]):2;ve=we[2]}else Re=1,ve=we[1];we=ge+T4e[le],0>(Ce=k).b&&me(Ce);var et,ke=Ce.b,Fe=(et=Ce.Ca>>1)-(Ce.I>>ke)>>31;--Ce.b,Ce.Ca+=Fe,Ce.Ca|=1,Ce.I-=(et+1&Fe)<<ke,fe[we]=((Re^Fe)-Fe)*Z[(0<le)+0]}return 16}function $m(k){var D=k.rb[k.sb-1];D.la=0,D.Na=0,i(k.zc,0,0,k.zc.length),k.ja=0}function go(k,D,z,Z,le){le=k[D+z+32*Z]+(le>>3),k[D+z+32*Z]=-256&le?0>le?0:255:le}function ds(k,D,z,Z,le,fe){go(k,D,0,z,Z+le),go(k,D,1,z,Z+fe),go(k,D,2,z,Z-fe),go(k,D,3,z,Z-le)}function Mh(k){return(20091*k>>16)+k}function Ex(k,D,z,Z){var le,fe=0,ge=s(16);for(le=0;4>le;++le){var ve=k[D+0]+k[D+8],we=k[D+0]-k[D+8],Ce=(35468*k[D+4]>>16)-Mh(k[D+12]),Re=Mh(k[D+4])+(35468*k[D+12]>>16);ge[fe+0]=ve+Re,ge[fe+1]=we+Ce,ge[fe+2]=we-Ce,ge[fe+3]=ve-Re,fe+=4,D++}for(le=fe=0;4>le;++le)ve=(k=ge[fe+0]+4)+ge[fe+8],we=k-ge[fe+8],Ce=(35468*ge[fe+4]>>16)-Mh(ge[fe+12]),go(z,Z,0,0,ve+(Re=Mh(ge[fe+4])+(35468*ge[fe+12]>>16))),go(z,Z,1,0,we+Ce),go(z,Z,2,0,we-Ce),go(z,Z,3,0,ve-Re),fe++,Z+=32}function GC(k,D,z,Z){var le=k[D+0]+4,fe=35468*k[D+4]>>16,ge=Mh(k[D+4]),ve=35468*k[D+1]>>16;ds(z,Z,0,le+ge,k=Mh(k[D+1]),ve),ds(z,Z,1,le+fe,k,ve),ds(z,Z,2,le-fe,k,ve),ds(z,Z,3,le-ge,k,ve)}function KC(k,D,z,Z,le){Ex(k,D,z,Z),le&&Ex(k,D+16,z,Z+4)}function Sd(k,D,z,Z){Rx(k,D+0,z,Z,1),Rx(k,D+32,z,Z+128,1)}function _2(k,D,z,Z){var le;for(k=k[D+0]+4,le=0;4>le;++le)for(D=0;4>D;++D)go(z,Z,D,le,k)}function Xf(k,D,z,Z){k[D+0]&&ci(k,D+0,z,Z),k[D+16]&&ci(k,D+16,z,Z+4),k[D+32]&&ci(k,D+32,z,Z+128),k[D+48]&&ci(k,D+48,z,Z+128+4)}function Rc(k,D,z,Z){var le,fe=s(16);for(le=0;4>le;++le){var ge=k[D+0+le]+k[D+12+le],ve=k[D+4+le]+k[D+8+le],we=k[D+4+le]-k[D+8+le],Ce=k[D+0+le]-k[D+12+le];fe[0+le]=ge+ve,fe[8+le]=ge-ve,fe[4+le]=Ce+we,fe[12+le]=Ce-we}for(le=0;4>le;++le)ge=(k=fe[0+4*le]+3)+fe[3+4*le],ve=fe[1+4*le]+fe[2+4*le],we=fe[1+4*le]-fe[2+4*le],Ce=k-fe[3+4*le],z[Z+0]=ge+ve>>3,z[Z+16]=Ce+we>>3,z[Z+32]=ge-ve>>3,z[Z+48]=Ce-we>>3,Z+=64}function Zf(k,D,z){var Z,le=D-32,fe=xu,ge=255-k[le-1];for(Z=0;Z<z;++Z){var ve,we=fe,Ce=ge+k[D-1];for(ve=0;ve<z;++ve)k[D+ve]=we[Ce+k[le+ve]];D+=32}}function S2(k,D){Zf(k,D,4)}function A2(k,D){Zf(k,D,8)}function E2(k,D){Zf(k,D,16)}function ov(k,D){var z;for(z=0;16>z;++z)n(k,D+32*z,k,D-32,16)}function Fh(k,D){var z;for(z=16;0<z;--z)i(k,D,k[D-1],16),D+=32}function gu(k,D,z){var Z;for(Z=0;16>Z;++Z)i(D,z+32*Z,k,16)}function YC(k,D){var z,Z=16;for(z=0;16>z;++z)Z+=k[D-1+32*z]+k[D+z-32];gu(Z>>5,k,D)}function Vm(k,D){var z,Z=8;for(z=0;16>z;++z)Z+=k[D-1+32*z];gu(Z>>4,k,D)}function Dc(k,D){var z,Z=8;for(z=0;16>z;++z)Z+=k[D+z-32];gu(Z>>4,k,D)}function XC(k,D){gu(128,k,D)}function Lr(k,D,z){return k+2*D+z+2>>2}function lv(k,D){var z,Z=D-32;for(Z=new Uint8Array([Lr(k[Z-1],k[Z+0],k[Z+1]),Lr(k[Z+0],k[Z+1],k[Z+2]),Lr(k[Z+1],k[Z+2],k[Z+3]),Lr(k[Z+2],k[Z+3],k[Z+4])]),z=0;4>z;++z)n(k,D+32*z,Z,0,Z.length)}function T2(k,D){var z=k[D-1],Z=k[D-1+32],le=k[D-1+64],fe=k[D-1+96];_e(k,D+0,16843009*Lr(k[D-1-32],z,Z)),_e(k,D+32,16843009*Lr(z,Z,le)),_e(k,D+64,16843009*Lr(Z,le,fe)),_e(k,D+96,16843009*Lr(le,fe,fe))}function Um(k,D){var z,Z=4;for(z=0;4>z;++z)Z+=k[D+z-32]+k[D-1+32*z];for(Z>>=3,z=0;4>z;++z)i(k,D+32*z,Z,4)}function Kl(k,D){var z=k[D-1+0],Z=k[D-1+32],le=k[D-1+64],fe=k[D-1-32],ge=k[D+0-32],ve=k[D+1-32],we=k[D+2-32],Ce=k[D+3-32];k[D+0+96]=Lr(Z,le,k[D-1+96]),k[D+1+96]=k[D+0+64]=Lr(z,Z,le),k[D+2+96]=k[D+1+64]=k[D+0+32]=Lr(fe,z,Z),k[D+3+96]=k[D+2+64]=k[D+1+32]=k[D+0+0]=Lr(ge,fe,z),k[D+3+64]=k[D+2+32]=k[D+1+0]=Lr(ve,ge,fe),k[D+3+32]=k[D+2+0]=Lr(we,ve,ge),k[D+3+0]=Lr(Ce,we,ve)}function Ad(k,D){var z=k[D+1-32],Z=k[D+2-32],le=k[D+3-32],fe=k[D+4-32],ge=k[D+5-32],ve=k[D+6-32],we=k[D+7-32];k[D+0+0]=Lr(k[D+0-32],z,Z),k[D+1+0]=k[D+0+32]=Lr(z,Z,le),k[D+2+0]=k[D+1+32]=k[D+0+64]=Lr(Z,le,fe),k[D+3+0]=k[D+2+32]=k[D+1+64]=k[D+0+96]=Lr(le,fe,ge),k[D+3+32]=k[D+2+64]=k[D+1+96]=Lr(fe,ge,ve),k[D+3+64]=k[D+2+96]=Lr(ge,ve,we),k[D+3+96]=Lr(ve,we,we)}function Tx(k,D){var z=k[D-1+0],Z=k[D-1+32],le=k[D-1+64],fe=k[D-1-32],ge=k[D+0-32],ve=k[D+1-32],we=k[D+2-32],Ce=k[D+3-32];k[D+0+0]=k[D+1+64]=fe+ge+1>>1,k[D+1+0]=k[D+2+64]=ge+ve+1>>1,k[D+2+0]=k[D+3+64]=ve+we+1>>1,k[D+3+0]=we+Ce+1>>1,k[D+0+96]=Lr(le,Z,z),k[D+0+64]=Lr(Z,z,fe),k[D+0+32]=k[D+1+96]=Lr(z,fe,ge),k[D+1+32]=k[D+2+96]=Lr(fe,ge,ve),k[D+2+32]=k[D+3+96]=Lr(ge,ve,we),k[D+3+32]=Lr(ve,we,Ce)}function Zi(k,D){var z=k[D+0-32],Z=k[D+1-32],le=k[D+2-32],fe=k[D+3-32],ge=k[D+4-32],ve=k[D+5-32],we=k[D+6-32],Ce=k[D+7-32];k[D+0+0]=z+Z+1>>1,k[D+1+0]=k[D+0+64]=Z+le+1>>1,k[D+2+0]=k[D+1+64]=le+fe+1>>1,k[D+3+0]=k[D+2+64]=fe+ge+1>>1,k[D+0+32]=Lr(z,Z,le),k[D+1+32]=k[D+0+96]=Lr(Z,le,fe),k[D+2+32]=k[D+1+96]=Lr(le,fe,ge),k[D+3+32]=k[D+2+96]=Lr(fe,ge,ve),k[D+3+64]=Lr(ge,ve,we),k[D+3+96]=Lr(ve,we,Ce)}function cv(k,D){var z=k[D-1+0],Z=k[D-1+32],le=k[D-1+64],fe=k[D-1+96];k[D+0+0]=z+Z+1>>1,k[D+2+0]=k[D+0+32]=Z+le+1>>1,k[D+2+32]=k[D+0+64]=le+fe+1>>1,k[D+1+0]=Lr(z,Z,le),k[D+3+0]=k[D+1+32]=Lr(Z,le,fe),k[D+3+32]=k[D+1+64]=Lr(le,fe,fe),k[D+3+64]=k[D+2+64]=k[D+0+96]=k[D+1+96]=k[D+2+96]=k[D+3+96]=fe}function Cx(k,D){var z=k[D-1+0],Z=k[D-1+32],le=k[D-1+64],fe=k[D-1+96],ge=k[D-1-32],ve=k[D+0-32],we=k[D+1-32],Ce=k[D+2-32];k[D+0+0]=k[D+2+32]=z+ge+1>>1,k[D+0+32]=k[D+2+64]=Z+z+1>>1,k[D+0+64]=k[D+2+96]=le+Z+1>>1,k[D+0+96]=fe+le+1>>1,k[D+3+0]=Lr(ve,we,Ce),k[D+2+0]=Lr(ge,ve,we),k[D+1+0]=k[D+3+32]=Lr(z,ge,ve),k[D+1+32]=k[D+3+64]=Lr(Z,z,ge),k[D+1+64]=k[D+3+96]=Lr(le,Z,z),k[D+1+96]=Lr(fe,le,Z)}function Qf(k,D){var z;for(z=0;8>z;++z)n(k,D+32*z,k,D-32,8)}function C2(k,D){var z;for(z=0;8>z;++z)i(k,D,k[D-1],8),D+=32}function Ed(k,D,z){var Z;for(Z=0;8>Z;++Z)i(D,z+32*Z,k,8)}function uv(k,D){var z,Z=8;for(z=0;8>z;++z)Z+=k[D+z-32]+k[D-1+32*z];Ed(Z>>4,k,D)}function Mc(k,D){var z,Z=4;for(z=0;8>z;++z)Z+=k[D+z-32];Ed(Z>>3,k,D)}function dv(k,D){var z,Z=4;for(z=0;8>z;++z)Z+=k[D-1+32*z];Ed(Z>>3,k,D)}function k2(k,D){Ed(128,k,D)}function Yl(k,D,z){var Z=k[D-z],le=k[D+0],fe=3*(le-Z)+M7[1020+k[D-2*z]-k[D+z]],ge=BR[112+(fe+4>>3)];k[D-z]=xu[255+Z+BR[112+(fe+3>>3)]],k[D+0]=xu[255+le-ge]}function hv(k,D,z,Z){var le=k[D+0],fe=k[D+z];return Nd[255+k[D-2*z]-k[D-z]]>Z||Nd[255+fe-le]>Z}function Jf(k,D,z,Z){return 4*Nd[255+k[D-z]-k[D+0]]+Nd[255+k[D-2*z]-k[D+z]]<=Z}function ep(k,D,z,Z,le){var fe=k[D-3*z],ge=k[D-2*z],ve=k[D-z],we=k[D+0],Ce=k[D+z],Re=k[D+2*z],et=k[D+3*z];return 4*Nd[255+ve-we]+Nd[255+ge-Ce]>Z?0:Nd[255+k[D-4*z]-fe]<=le&&Nd[255+fe-ge]<=le&&Nd[255+ge-ve]<=le&&Nd[255+et-Re]<=le&&Nd[255+Re-Ce]<=le&&Nd[255+Ce-we]<=le}function tp(k,D,z,Z){var le=2*Z+1;for(Z=0;16>Z;++Z)Jf(k,D+Z,z,le)&&Yl(k,D+Z,z)}function rp(k,D,z,Z){var le=2*Z+1;for(Z=0;16>Z;++Z)Jf(k,D+Z*z,1,le)&&Yl(k,D+Z*z,1)}function P2(k,D,z,Z){var le;for(le=3;0<le;--le)tp(k,D+=4*z,z,Z)}function kx(k,D,z,Z){var le;for(le=3;0<le;--le)rp(k,D+=4,z,Z)}function Xl(k,D,z,Z,le,fe,ge,ve){for(fe=2*fe+1;0<le--;){if(ep(k,D,z,fe,ge))if(hv(k,D,z,ve))Yl(k,D,z);else{var we=k,Ce=D,Re=z,et=we[Ce-2*Re],ke=we[Ce-Re],Fe=we[Ce+0],We=we[Ce+Re],ot=we[Ce+2*Re],Qe=27*(dt=M7[1020+3*(Fe-ke)+M7[1020+et-We]])+63>>7,ut=18*dt+63>>7,dt=9*dt+63>>7;we[Ce-3*Re]=xu[255+we[Ce-3*Re]+dt],we[Ce-2*Re]=xu[255+et+ut],we[Ce-Re]=xu[255+ke+Qe],we[Ce+0]=xu[255+Fe-Qe],we[Ce+Re]=xu[255+We-ut],we[Ce+2*Re]=xu[255+ot-dt]}D+=Z}}function Td(k,D,z,Z,le,fe,ge,ve){for(fe=2*fe+1;0<le--;){if(ep(k,D,z,fe,ge))if(hv(k,D,z,ve))Yl(k,D,z);else{var we=k,Ce=D,Re=z,et=we[Ce-Re],ke=we[Ce+0],Fe=we[Ce+Re],We=BR[112+(4+(ot=3*(ke-et))>>3)],ot=BR[112+(ot+3>>3)],Qe=We+1>>1;we[Ce-2*Re]=xu[255+we[Ce-2*Re]+Qe],we[Ce-Re]=xu[255+et+ot],we[Ce+0]=xu[255+ke-We],we[Ce+Re]=xu[255+Fe-Qe]}D+=Z}}function Px(k,D,z,Z,le,fe){Xl(k,D,z,1,16,Z,le,fe)}function jh(k,D,z,Z,le,fe){Xl(k,D,1,z,16,Z,le,fe)}function fv(k,D,z,Z,le,fe){var ge;for(ge=3;0<ge;--ge)Td(k,D+=4*z,z,1,16,Z,le,fe)}function L(k,D,z,Z,le,fe){var ge;for(ge=3;0<ge;--ge)Td(k,D+=4,1,z,16,Z,le,fe)}function oe(k,D,z,Z,le,fe,ge,ve){Xl(k,D,le,1,8,fe,ge,ve),Xl(z,Z,le,1,8,fe,ge,ve)}function Te(k,D,z,Z,le,fe,ge,ve){Xl(k,D,1,le,8,fe,ge,ve),Xl(z,Z,1,le,8,fe,ge,ve)}function Ie(k,D,z,Z,le,fe,ge,ve){Td(k,D+4*le,le,1,8,fe,ge,ve),Td(z,Z+4*le,le,1,8,fe,ge,ve)}function $e(k,D,z,Z,le,fe,ge,ve){Td(k,D+4,1,le,8,fe,ge,ve),Td(z,Z+4,1,le,8,fe,ge,ve)}function ct(){this.ba=new gt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ar,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function yt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function gr(){this.ua=0,this.Wa=new Ye,this.vb=new Ye,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new M}function Or(){this.xb=this.a=0,this.l=new Gl,this.ca=new gt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new gr,this.ab=0,this.gc=a(4,lr),this.Oc=0}function kr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Gl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function In(k,D,z,Z,le,fe,ge){for(k=k==null?0:k[D+0],D=0;D<ge;++D)le[fe+D]=k+z[Z+D]&255,k=le[fe+D]}function Qi(k,D,z,Z,le,fe,ge){var ve;if(k==null)In(null,null,z,Z,le,fe,ge);else for(ve=0;ve<ge;++ve)le[fe+ve]=k[D+ve]+z[Z+ve]&255}function Bi(k,D,z,Z,le,fe,ge){if(k==null)In(null,null,z,Z,le,fe,ge);else{var ve,we=k[D+0],Ce=we,Re=we;for(ve=0;ve<ge;++ve)Ce=Re+(we=k[D+ve])-Ce,Re=z[Z+ve]+(-256&Ce?0>Ce?0:255:Ce)&255,Ce=we,le[fe+ve]=Re}}function P(k,D,z,Z){var le=D.width,fe=D.o;if(e(k!=null&&D!=null),0>z||0>=Z||z+Z>fe)return null;if(!k.Cc){if(k.ga==null){var ge;if(k.ga=new kr,(ge=k.ga==null)||(ge=D.width*D.o,e(k.Gb.length==0),k.Gb=s(ge),k.Uc=0,k.Gb==null?ge=0:(k.mb=k.Gb,k.nb=k.Uc,k.rc=null,ge=1),ge=!ge),!ge){ge=k.ga;var ve=k.Fa,we=k.P,Ce=k.qc,Re=k.mb,et=k.nb,ke=we+1,Fe=Ce-1,We=ge.l;if(e(ve!=null&&Re!=null&&D!=null),_v[0]=null,_v[1]=In,_v[2]=Qi,_v[3]=Bi,ge.ca=Re,ge.tb=et,ge.c=D.width,ge.i=D.height,e(0<ge.c&&0<ge.i),1>=Ce)D=0;else if(ge.$a=3&ve[we+0],ge.Z=ve[we+0]>>2&3,ge.Lc=ve[we+0]>>4&3,we=ve[we+0]>>6&3,0>ge.$a||1<ge.$a||4<=ge.Z||1<ge.Lc||we)D=0;else if(We.put=Jt,We.ac=Nn,We.bc=Ni,We.ma=ge,We.width=D.width,We.height=D.height,We.Da=D.Da,We.v=D.v,We.va=D.va,We.j=D.j,We.o=D.o,ge.$a)e:{e(ge.$a==1),D=He();t:for(;;){if(D==null){D=0;break e}if(e(ge!=null),ge.mc=D,D.c=ge.c,D.i=ge.i,D.l=ge.l,D.l.ma=ge,D.l.width=ge.c,D.l.height=ge.i,D.a=0,B(D.m,ve,ke,Fe),!Ge(ge.c,ge.i,1,D,null)||(D.ab==1&&D.gc[0].hc==3&&xe(D.s)?(ge.ic=1,ve=D.c*D.i,D.Ta=null,D.Ua=0,D.V=s(ve),D.Ba=0,D.V==null?(D.a=1,D=0):D=1):(ge.ic=0,D=Ze(D,ge.c)),!D))break t;D=1;break e}ge.mc=null,D=0}else D=Fe>=ge.c*ge.i;ge=!D}if(ge)return null;k.ga.Lc!=1?k.Ga=0:Z=fe-z}e(k.ga!=null),e(z+Z<=fe);e:{if(D=(ve=k.ga).c,fe=ve.l.o,ve.$a==0){if(ke=k.rc,Fe=k.Vc,We=k.Fa,we=k.P+1+z*D,Ce=k.mb,Re=k.nb+z*D,e(we<=k.P+k.qc),ve.Z!=0)for(e(_v[ve.Z]!=null),ge=0;ge<Z;++ge)_v[ve.Z](ke,Fe,We,we,Ce,Re,D),ke=Ce,Fe=Re,Re+=D,we+=D;else for(ge=0;ge<Z;++ge)n(Ce,Re,We,we,D),ke=Ce,Fe=Re,Re+=D,we+=D;k.rc=ke,k.Vc=Fe}else{if(e(ve.mc!=null),D=z+Z,e((ge=ve.mc)!=null),e(D<=ge.i),ge.C>=D)D=1;else if(ve.ic||tt(),ve.ic){ve=ge.V,ke=ge.Ba,Fe=ge.c;var ot=ge.i,Qe=(We=1,we=ge.$/Fe,Ce=ge.$%Fe,Re=ge.m,et=ge.s,ge.$),ut=Fe*ot,dt=Fe*D,Ct=et.wc,wt=Qe<dt?se(et,Ce,we):null;e(Qe<=ut),e(D<=ot),e(xe(et));t:for(;;){for(;!Re.h&&Qe<dt;){if(Ce&Ct||(wt=se(et,Ce,we)),e(wt!=null),J(Re),256>(ot=Lt(wt.G[0],wt.H[0],Re)))ve[ke+Qe]=ot,++Qe,++Ce>=Fe&&(Ce=0,++we<=D&&!(we%16)&&Ee(ge,we));else{if(!(280>ot)){We=0;break t}ot=Tn(ot-256,Re);var Er,dr=Lt(wt.G[4],wt.H[4],Re);if(J(Re),!(Qe>=(dr=Oe(Fe,dr=Tn(dr,Re)))&&ut-Qe>=ot)){We=0;break t}for(Er=0;Er<ot;++Er)ve[ke+Qe+Er]=ve[ke+Qe+Er-dr];for(Qe+=ot,Ce+=ot;Ce>=Fe;)Ce-=Fe,++we<=D&&!(we%16)&&Ee(ge,we);Qe<dt&&Ce&Ct&&(wt=se(et,Ce,we))}e(Re.h==K(Re))}Ee(ge,we>D?D:we);break t}!We||Re.h&&Qe<ut?(We=0,ge.a=Re.h?5:3):ge.$=Qe,D=We}else D=qe(ge,ge.V,ge.Ba,ge.c,ge.i,D,_t);if(!D){Z=0;break e}}z+Z>=fe&&(k.Cc=1),Z=1}if(!Z)return null;if(k.Cc&&((Z=k.ga)!=null&&(Z.mc=null),k.ga=null,0<k.Ga))return alert("todo:WebPDequantizeLevels"),null}return k.nb+z*le}function q(k,D,z,Z,le,fe){for(;0<le--;){var ge,ve=k,we=D+(z?1:0),Ce=k,Re=D+(z?0:3);for(ge=0;ge<Z;++ge){var et=Ce[Re+4*ge];et!=255&&(et*=32897,ve[we+4*ge+0]=ve[we+4*ge+0]*et>>23,ve[we+4*ge+1]=ve[we+4*ge+1]*et>>23,ve[we+4*ge+2]=ve[we+4*ge+2]*et>>23)}D+=fe}}function te(k,D,z,Z,le){for(;0<Z--;){var fe;for(fe=0;fe<z;++fe){var ge=k[D+2*fe+0],ve=15&(Ce=k[D+2*fe+1]),we=4369*ve,Ce=(240&Ce|Ce>>4)*we>>16;k[D+2*fe+0]=(240&ge|ge>>4)*we>>16&240|(15&ge|ge<<4)*we>>16>>4&15,k[D+2*fe+1]=240&Ce|ve}D+=le}}function ye(k,D,z,Z,le,fe,ge,ve){var we,Ce,Re=255;for(Ce=0;Ce<le;++Ce){for(we=0;we<Z;++we){var et=k[D+we];fe[ge+4*we]=et,Re&=et}D+=z,ge+=ve}return Re!=255}function ze(k,D,z,Z,le){var fe;for(fe=0;fe<le;++fe)z[Z+fe]=k[D+fe]>>8}function tt(){ak=q,oee=te,lee=ye,cee=ze}function Rt(k,D,z){N[k]=function(Z,le,fe,ge,ve,we,Ce,Re,et,ke,Fe,We,ot,Qe,ut,dt,Ct){var wt,Er=Ct-1>>1,dr=ve[we+0]|Ce[Re+0]<<16,cn=et[ke+0]|Fe[We+0]<<16;e(Z!=null);var yr=3*dr+cn+131074>>2;for(D(Z[le+0],255&yr,yr>>16,ot,Qe),fe!=null&&(yr=3*cn+dr+131074>>2,D(fe[ge+0],255&yr,yr>>16,ut,dt)),wt=1;wt<=Er;++wt){var Bn=ve[we+wt]|Ce[Re+wt]<<16,Ka=et[ke+wt]|Fe[We+wt]<<16,un=dr+Bn+cn+Ka+524296,xr=un+2*(Bn+cn)>>3;yr=xr+dr>>1,dr=(un=un+2*(dr+Ka)>>3)+Bn>>1,D(Z[le+2*wt-1],255&yr,yr>>16,ot,Qe+(2*wt-1)*z),D(Z[le+2*wt-0],255&dr,dr>>16,ot,Qe+(2*wt-0)*z),fe!=null&&(yr=un+cn>>1,dr=xr+Ka>>1,D(fe[ge+2*wt-1],255&yr,yr>>16,ut,dt+(2*wt-1)*z),D(fe[ge+2*wt+0],255&dr,dr>>16,ut,dt+(2*wt+0)*z)),dr=Bn,cn=Ka}1&Ct||(yr=3*dr+cn+131074>>2,D(Z[le+Ct-1],255&yr,yr>>16,ot,Qe+(Ct-1)*z),fe!=null&&(yr=3*cn+dr+131074>>2,D(fe[ge+Ct-1],255&yr,yr>>16,ut,dt+(Ct-1)*z)))}}function Kr(){Id[$R]=O4e,Id[VR]=bee,Id[mee]=R4e,Id[UR]=wee,Id[zR]=_ee,Id[F7]=See,Id[gee]=D4e,Id[j7]=bee,Id[L7]=wee,Id[HR]=_ee,Id[B7]=See}function Ji(k){return k&~M4e?0>k?0:255:k>>Aee}function On(k,D){return Ji((19077*k>>8)+(26149*D>>8)-14234)}function es(k,D,z){return Ji((19077*k>>8)-(6419*D>>8)-(13320*z>>8)+8708)}function vo(k,D){return Ji((19077*k>>8)+(33050*D>>8)-17685)}function ol(k,D,z,Z,le){Z[le+0]=On(k,z),Z[le+1]=es(k,D,z),Z[le+2]=vo(k,D)}function ts(k,D,z,Z,le){Z[le+0]=vo(k,D),Z[le+1]=es(k,D,z),Z[le+2]=On(k,z)}function ll(k,D,z,Z,le){var fe=es(k,D,z);D=fe<<3&224|vo(k,D)>>3,Z[le+0]=248&On(k,z)|fe>>5,Z[le+1]=D}function Cd(k,D,z,Z,le){var fe=240&vo(k,D)|15;Z[le+0]=240&On(k,z)|es(k,D,z)>>4,Z[le+1]=fe}function zm(k,D,z,Z,le){Z[le+0]=255,ol(k,D,z,Z,le+1)}function ZC(k,D,z,Z,le){ts(k,D,z,Z,le),Z[le+3]=255}function Zl(k,D,z,Z,le){ol(k,D,z,Z,le),Z[le+3]=255}function Hm(k,D,z){N[k]=function(Z,le,fe,ge,ve,we,Ce,Re,et){for(var ke=Re+(-2&et)*z;Re!=ke;)D(Z[le+0],fe[ge+0],ve[we+0],Ce,Re),D(Z[le+1],fe[ge+0],ve[we+0],Ce,Re+z),le+=2,++ge,++we,Re+=2*z;1&et&&D(Z[le+0],fe[ge+0],ve[we+0],Ce,Re)}}function N2(k,D,z){return z==0?k==0?D==0?6:5:D==0?4:0:z}function FR(k,D,z,Z,le){switch(k>>>30){case 3:Rx(D,z,Z,le,0);break;case 2:Pd(D,z,Z,le);break;case 1:ci(D,z,Z,le)}}function kd(k,D){var z,Z,le=D.M,fe=D.Nb,ge=k.oc,ve=k.pc+40,we=k.oc,Ce=k.pc+584,Re=k.oc,et=k.pc+600;for(z=0;16>z;++z)ge[ve+32*z-1]=129;for(z=0;8>z;++z)we[Ce+32*z-1]=129,Re[et+32*z-1]=129;for(0<le?ge[ve-1-32]=we[Ce-1-32]=Re[et-1-32]=129:(i(ge,ve-32-1,127,21),i(we,Ce-32-1,127,9),i(Re,et-32-1,127,9)),Z=0;Z<k.za;++Z){var ke=D.ya[D.aa+Z];if(0<Z){for(z=-1;16>z;++z)n(ge,ve+32*z-4,ge,ve+32*z+12,4);for(z=-1;8>z;++z)n(we,Ce+32*z-4,we,Ce+32*z+4,4),n(Re,et+32*z-4,Re,et+32*z+4,4)}var Fe=k.Gd,We=k.Hd+Z,ot=ke.ad,Qe=ke.Hc;if(0<le&&(n(ge,ve-32,Fe[We].y,0,16),n(we,Ce-32,Fe[We].f,0,8),n(Re,et-32,Fe[We].ea,0,8)),ke.Za){var ut=ge,dt=ve-32+16;for(0<le&&(Z>=k.za-1?i(ut,dt,Fe[We].y[15],4):n(ut,dt,Fe[We+1].y,0,4)),z=0;4>z;z++)ut[dt+128+z]=ut[dt+256+z]=ut[dt+384+z]=ut[dt+0+z];for(z=0;16>z;++z,Qe<<=2)ut=ge,dt=ve+Tee[z],Lh[ke.Ob[z]](ut,dt),FR(Qe,ot,16*+z,ut,dt)}else if(ut=N2(Z,le,ke.Ob[0]),wv[ut](ge,ve),Qe!=0)for(z=0;16>z;++z,Qe<<=2)FR(Qe,ot,16*+z,ge,ve+Tee[z]);for(z=ke.Gc,ut=N2(Z,le,ke.Dd),Gm[ut](we,Ce),Gm[ut](Re,et),Qe=ot,ut=we,dt=Ce,255&(ke=0|z)&&(170&ke?sp(Qe,256,ut,dt):$i(Qe,256,ut,dt)),ke=Re,Qe=et,255&(z>>=8)&&(170&z?sp(ot,320,ke,Qe):$i(ot,320,ke,Qe)),le<k.Ub-1&&(n(Fe[We].y,0,ge,ve+480,16),n(Fe[We].f,0,we,Ce+224,8),n(Fe[We].ea,0,Re,et+224,8)),z=8*fe*k.B,Fe=k.sa,We=k.ta+16*Z+16*fe*k.R,ot=k.qa,ke=k.ra+8*Z+z,Qe=k.Ha,ut=k.Ia+8*Z+z,z=0;16>z;++z)n(Fe,We+z*k.R,ge,ve+32*z,16);for(z=0;8>z;++z)n(ot,ke+z*k.B,we,Ce+32*z,8),n(Qe,ut+z*k.B,Re,et+32*z,8)}}function Nx(k,D,z,Z,le,fe,ge,ve,we){var Ce=[0],Re=[0],et=0,ke=we!=null?we.kd:0,Fe=we??new yt;if(k==null||12>z)return 7;Fe.data=k,Fe.w=D,Fe.ha=z,D=[D],z=[z],Fe.gb=[Fe.gb];e:{var We=D,ot=z,Qe=Fe.gb;if(e(k!=null),e(ot!=null),e(Qe!=null),Qe[0]=0,12<=ot[0]&&!r(k,We[0],"RIFF")){if(r(k,We[0]+8,"WEBP")){Qe=3;break e}var ut=Ue(k,We[0]+4);if(12>ut||4294967286<ut){Qe=3;break e}if(ke&&ut>ot[0]-8){Qe=7;break e}Qe[0]=ut,We[0]+=12,ot[0]-=12}Qe=0}if(Qe!=0)return Qe;for(ut=0<Fe.gb[0],z=z[0];;){e:{var dt=k;ot=D,Qe=z;var Ct=Ce,wt=Re,Er=We=[0];if((yr=et=[et])[0]=0,8>Qe[0])Qe=7;else{if(!r(dt,ot[0],"VP8X")){if(Ue(dt,ot[0]+4)!=10){Qe=3;break e}if(18>Qe[0]){Qe=7;break e}var dr=Ue(dt,ot[0]+8),cn=1+je(dt,ot[0]+12);if(2147483648<=cn*(dt=1+je(dt,ot[0]+15))){Qe=3;break e}Er!=null&&(Er[0]=dr),Ct!=null&&(Ct[0]=cn),wt!=null&&(wt[0]=dt),ot[0]+=18,Qe[0]-=18,yr[0]=1}Qe=0}}if(et=et[0],We=We[0],Qe!=0)return Qe;if(ot=!!(2&We),!ut&&et)return 3;if(fe!=null&&(fe[0]=!!(16&We)),ge!=null&&(ge[0]=ot),ve!=null&&(ve[0]=0),ge=Ce[0],We=Re[0],et&&ot&&we==null){Qe=0;break}if(4>z){Qe=7;break}if(ut&&et||!ut&&!et&&!r(k,D[0],"ALPH")){z=[z],Fe.na=[Fe.na],Fe.P=[Fe.P],Fe.Sa=[Fe.Sa];e:{dr=k,Qe=D,ut=z;var yr=Fe.gb;Ct=Fe.na,wt=Fe.P,Er=Fe.Sa,cn=22,e(dr!=null),e(ut!=null),dt=Qe[0];var Bn=ut[0];for(e(Ct!=null),e(Er!=null),Ct[0]=null,wt[0]=null,Er[0]=0;;){if(Qe[0]=dt,ut[0]=Bn,8>Bn){Qe=7;break e}var Ka=Ue(dr,dt+4);if(4294967286<Ka){Qe=3;break e}var un=8+Ka+1&-2;if(cn+=un,0<yr&&cn>yr){Qe=3;break e}if(!r(dr,dt,"VP8 ")||!r(dr,dt,"VP8L")){Qe=0;break e}if(Bn[0]<un){Qe=7;break e}r(dr,dt,"ALPH")||(Ct[0]=dr,wt[0]=dt+8,Er[0]=Ka),dt+=un,Bn-=un}}if(z=z[0],Fe.na=Fe.na[0],Fe.P=Fe.P[0],Fe.Sa=Fe.Sa[0],Qe!=0)break}z=[z],Fe.Ja=[Fe.Ja],Fe.xa=[Fe.xa];e:if(yr=k,Qe=D,ut=z,Ct=Fe.gb[0],wt=Fe.Ja,Er=Fe.xa,dr=Qe[0],dt=!r(yr,dr,"VP8 "),cn=!r(yr,dr,"VP8L"),e(yr!=null),e(ut!=null),e(wt!=null),e(Er!=null),8>ut[0])Qe=7;else{if(dt||cn){if(yr=Ue(yr,dr+4),12<=Ct&&yr>Ct-12){Qe=3;break e}if(ke&&yr>ut[0]-8){Qe=7;break e}wt[0]=yr,Qe[0]+=8,ut[0]-=8,Er[0]=cn}else Er[0]=5<=ut[0]&&yr[dr+0]==47&&!(yr[dr+4]>>5),wt[0]=ut[0];Qe=0}if(z=z[0],Fe.Ja=Fe.Ja[0],Fe.xa=Fe.xa[0],D=D[0],Qe!=0)break;if(4294967286<Fe.Ja)return 3;if(ve==null||ot||(ve[0]=Fe.xa?2:1),ge=[ge],We=[We],Fe.xa){if(5>z){Qe=7;break}ve=ge,ke=We,ot=fe,k==null||5>z?k=0:5<=z&&k[D+0]==47&&!(k[D+4]>>5)?(ut=[0],yr=[0],Ct=[0],B(wt=new j,k,D,z),li(wt,ut,yr,Ct)?(ve!=null&&(ve[0]=ut[0]),ke!=null&&(ke[0]=yr[0]),ot!=null&&(ot[0]=Ct[0]),k=1):k=0):k=0}else{if(10>z){Qe=7;break}ve=We,k==null||10>z||!Yf(k,D+3,z-3)?k=0:(ke=k[D+0]|k[D+1]<<8|k[D+2]<<16,ot=16383&(k[D+7]<<8|k[D+6]),k=16383&(k[D+9]<<8|k[D+8]),1&ke||3<(ke>>1&7)||!(ke>>4&1)||ke>>5>=Fe.Ja||!ot||!k?k=0:(ge&&(ge[0]=ot),ve&&(ve[0]=k),k=1))}if(!k||(ge=ge[0],We=We[0],et&&(Ce[0]!=ge||Re[0]!=We)))return 3;we!=null&&(we[0]=Fe,we.offset=D-we.w,e(4294967286>D-we.w),e(we.offset==we.ha-z));break}return Qe==0||Qe==7&&et&&we==null?(fe!=null&&(fe[0]|=Fe.na!=null&&0<Fe.na.length),Z!=null&&(Z[0]=ge),le!=null&&(le[0]=We),0):Qe}function QC(k,D,z){var Z=D.width,le=D.height,fe=0,ge=0,ve=Z,we=le;if(D.Da=k!=null&&0<k.Da,D.Da&&(ve=k.cd,we=k.bd,fe=k.v,ge=k.j,11>z||(fe&=-2,ge&=-2),0>fe||0>ge||0>=ve||0>=we||fe+ve>Z||ge+we>le))return 0;if(D.v=fe,D.j=ge,D.va=fe+ve,D.o=ge+we,D.U=ve,D.T=we,D.da=k!=null&&0<k.da,D.da){if(!xt(ve,we,z=[k.ib],fe=[k.hb]))return 0;D.ib=z[0],D.hb=fe[0]}return D.ob=k!=null&&k.ob,D.Kb=k==null||!k.Sd,D.da&&(D.ob=D.ib<3*Z/4&&D.hb<3*le/4,D.Kb=0),1}function JC(k){if(k==null)return 2;if(11>k.S){var D=k.f.RGBA;D.fb+=(k.height-1)*D.A,D.A=-D.A}else D=k.f.kb,k=k.height,D.O+=(k-1)*D.fa,D.fa=-D.fa,D.N+=(k-1>>1)*D.Ab,D.Ab=-D.Ab,D.W+=(k-1>>1)*D.Db,D.Db=-D.Db,D.F!=null&&(D.J+=(k-1)*D.lb,D.lb=-D.lb);return 0}function pv(k,D,z,Z){if(Z==null||0>=k||0>=D)return 2;if(z!=null){if(z.Da){var le=z.cd,fe=z.bd,ge=-2&z.v,ve=-2&z.j;if(0>ge||0>ve||0>=le||0>=fe||ge+le>k||ve+fe>D)return 2;k=le,D=fe}if(z.da){if(!xt(k,D,le=[z.ib],fe=[z.hb]))return 2;k=le[0],D=fe[0]}}Z.width=k,Z.height=D;e:{var we=Z.width,Ce=Z.height;if(k=Z.S,0>=we||0>=Ce||!(k>=$R&&13>k))k=2;else{if(0>=Z.Rd&&Z.sd==null){ge=fe=le=D=0;var Re=(ve=we*Cee[k])*Ce;if(11>k||(fe=(Ce+1)/2*(D=(we+1)/2),k==12&&(ge=(le=we)*Ce)),(Ce=s(Re+2*fe+ge))==null){k=1;break e}Z.sd=Ce,11>k?((we=Z.f.RGBA).eb=Ce,we.fb=0,we.A=ve,we.size=Re):((we=Z.f.kb).y=Ce,we.O=0,we.fa=ve,we.Fd=Re,we.f=Ce,we.N=0+Re,we.Ab=D,we.Cd=fe,we.ea=Ce,we.W=0+Re+fe,we.Db=D,we.Ed=fe,k==12&&(we.F=Ce,we.J=0+Re+2*fe),we.Tc=ge,we.lb=le)}if(D=1,le=Z.S,fe=Z.width,ge=Z.height,le>=$R&&13>le)if(11>le)k=Z.f.RGBA,D&=(ve=Math.abs(k.A))*(ge-1)+fe<=k.size,D&=ve>=fe*Cee[le],D&=k.eb!=null;else{k=Z.f.kb,ve=(fe+1)/2,Re=(ge+1)/2,we=Math.abs(k.fa),Ce=Math.abs(k.Ab);var et=Math.abs(k.Db),ke=Math.abs(k.lb),Fe=ke*(ge-1)+fe;D&=we*(ge-1)+fe<=k.Fd,D&=Ce*(Re-1)+ve<=k.Cd,D=(D&=et*(Re-1)+ve<=k.Ed)&we>=fe&Ce>=ve&et>=ve,D&=k.y!=null,D&=k.f!=null,D&=k.ea!=null,le==12&&(D&=ke>=fe,D&=Fe<=k.Tc,D&=k.F!=null)}else D=0;k=D?0:2}}return k!=0||z!=null&&z.fd&&(k=JC(Z)),k}var Ix=64,vu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],yu=24,mv=32,Wm=8,gv=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pe("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(k){return k},N.Predictor2=function(k,D,z){return D[z+0]},N.Predictor3=function(k,D,z){return D[z+1]},N.Predictor4=function(k,D,z){return D[z-1]},N.Predictor5=function(k,D,z){return Je(Je(k,D[z+1]),D[z+0])},N.Predictor6=function(k,D,z){return Je(k,D[z-1])},N.Predictor7=function(k,D,z){return Je(k,D[z+0])},N.Predictor8=function(k,D,z){return Je(D[z-1],D[z+0])},N.Predictor9=function(k,D,z){return Je(D[z+0],D[z+1])},N.Predictor10=function(k,D,z){return Je(Je(k,D[z-1]),Je(D[z+0],D[z+1]))},N.Predictor11=function(k,D,z){var Z=D[z+0];return 0>=st(Z>>24&255,k>>24&255,(D=D[z-1])>>24&255)+st(Z>>16&255,k>>16&255,D>>16&255)+st(Z>>8&255,k>>8&255,D>>8&255)+st(255&Z,255&k,255&D)?Z:k},N.Predictor12=function(k,D,z){var Z=D[z+0];return(it((k>>24&255)+(Z>>24&255)-((D=D[z-1])>>24&255))<<24|it((k>>16&255)+(Z>>16&255)-(D>>16&255))<<16|it((k>>8&255)+(Z>>8&255)-(D>>8&255))<<8|it((255&k)+(255&Z)-(255&D)))>>>0},N.Predictor13=function(k,D,z){var Z=D[z-1];return(rt((k=Je(k,D[z+0]))>>24&255,Z>>24&255)<<24|rt(k>>16&255,Z>>16&255)<<16|rt(k>>8&255,Z>>8&255)<<8|rt(255&k,255&Z))>>>0};var ek=N.PredictorAdd0;N.PredictorAdd1=Dt,Pe("Predictor2","PredictorAdd2"),Pe("Predictor3","PredictorAdd3"),Pe("Predictor4","PredictorAdd4"),Pe("Predictor5","PredictorAdd5"),Pe("Predictor6","PredictorAdd6"),Pe("Predictor7","PredictorAdd7"),Pe("Predictor8","PredictorAdd8"),Pe("Predictor9","PredictorAdd9"),Pe("Predictor10","PredictorAdd10"),Pe("Predictor11","PredictorAdd11"),Pe("Predictor12","PredictorAdd12"),Pe("Predictor13","PredictorAdd13");var I2=N.PredictorAdd2;Tt("ColorIndexInverseTransform","MapARGB","32b",function(k){return k>>8&255},function(k){return k}),Tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(k){return k},function(k){return k>>8&255});var la,jR=N.ColorIndexInverseTransform,np=N.MapARGB,ip=N.VP8LColorIndexInverseTransformAlpha,tk=N.MapAlpha,rk=N.VP8LPredictorsAdd=[];rk.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var nk,ik,vv,yv,xv,Ox,bv,Rx,Pd,sp,ci,$i,ca,Ga,qm,sk,O2,LR,tee,ree,nee,iee,see,aee,ak,oee,lee,cee,uee=s(511),dee=s(2041),hee=s(225),fee=s(767),pee=0,M7=dee,BR=hee,xu=fee,Nd=uee,$R=0,VR=1,mee=2,UR=3,zR=4,F7=5,gee=6,j7=7,L7=8,HR=9,B7=10,y4e=[2,3,7],x4e=[3,3,11],vee=[280,256,256,256,40],b4e=[0,1,1,1,0],w4e=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],_4e=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],S4e=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],A4e=8,$7=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],V7=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ok=null,E4e=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],T4e=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],yee=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],C4e=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],k4e=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],P4e=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],N4e=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],wv=[],Lh=[],Gm=[],I4e=1,xee=2,_v=[],Id=[];Rt("UpsampleRgbLinePair",ol,3),Rt("UpsampleBgrLinePair",ts,3),Rt("UpsampleRgbaLinePair",Zl,4),Rt("UpsampleBgraLinePair",ZC,4),Rt("UpsampleArgbLinePair",zm,4),Rt("UpsampleRgba4444LinePair",Cd,2),Rt("UpsampleRgb565LinePair",ll,2);var O4e=N.UpsampleRgbLinePair,R4e=N.UpsampleBgrLinePair,bee=N.UpsampleRgbaLinePair,wee=N.UpsampleBgraLinePair,_ee=N.UpsampleArgbLinePair,See=N.UpsampleRgba4444LinePair,D4e=N.UpsampleRgb565LinePair,WR=16,qR=1<<WR-1,lk=-227,U7=482,Aee=6,M4e=(256<<Aee)-1,Eee=0,F4e=s(256),j4e=s(256),L4e=s(256),B4e=s(256),$4e=s(U7-lk),V4e=s(U7-lk);Hm("YuvToRgbRow",ol,3),Hm("YuvToBgrRow",ts,3),Hm("YuvToRgbaRow",Zl,4),Hm("YuvToBgraRow",ZC,4),Hm("YuvToArgbRow",zm,4),Hm("YuvToRgba4444Row",Cd,2),Hm("YuvToRgb565Row",ll,2);var Tee=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],GR=[0,2,8],U4e=[8,7,6,4,4,2,2,2,1,1,1,1],z4e=1;this.WebPDecodeRGBA=function(k,D,z,Z,le){var fe=VR,ge=new ct,ve=new gt;ge.ba=ve,ve.S=fe,ve.width=[ve.width],ve.height=[ve.height];var we=ve.width,Ce=ve.height,Re=new ft;if(Re==null||k==null)var et=2;else e(Re!=null),et=Nx(k,D,z,Re.width,Re.height,Re.Pd,Re.Qd,Re.format,null);if(et!=0?we=0:(we!=null&&(we[0]=Re.width[0]),Ce!=null&&(Ce[0]=Re.height[0]),we=1),we){ve.width=ve.width[0],ve.height=ve.height[0],Z!=null&&(Z[0]=ve.width),le!=null&&(le[0]=ve.height);e:{if(Z=new Gl,(le=new yt).data=k,le.w=D,le.ha=z,le.kd=1,D=[0],e(le!=null),((k=Nx(le.data,le.w,le.ha,null,null,null,D,null,le))==0||k==7)&&D[0]&&(k=4),(D=k)==0){if(e(ge!=null),Z.data=le.data,Z.w=le.w+le.offset,Z.ha=le.ha-le.offset,Z.put=Jt,Z.ac=Nn,Z.bc=Ni,Z.ma=ge,le.xa){if((k=He())==null){ge=1;break e}if(function(ke,Fe){var We=[0],ot=[0],Qe=[0];t:for(;;){if(ke==null)return 0;if(Fe==null)return ke.a=2,0;if(ke.l=Fe,ke.a=0,B(ke.m,Fe.data,Fe.w,Fe.ha),!li(ke.m,We,ot,Qe)){ke.a=3;break t}if(ke.xb=xee,Fe.width=We[0],Fe.height=ot[0],!Ge(We[0],ot[0],1,ke,null))break t;return 1}return e(ke.a!=0),0}(k,Z)){if(Z=(D=pv(Z.width,Z.height,ge.Oa,ge.ba))==0){t:{Z=k;r:for(;;){if(Z==null){Z=0;break t}if(e(Z.s.yc!=null),e(Z.s.Ya!=null),e(0<Z.s.Wb),e((z=Z.l)!=null),e((le=z.ma)!=null),Z.xb!=0){if(Z.ca=le.ba,Z.tb=le.tb,e(Z.ca!=null),!QC(le.Oa,z,UR)){Z.a=2;break r}if(!Ze(Z,z.width)||z.da)break r;if((z.da||Ve(Z.ca.S))&&tt(),11>Z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Z.ca.f.kb.F!=null&&tt()),Z.Pb&&0<Z.s.ua&&Z.s.vb.X==null&&!pe(Z.s.vb,Z.s.Wa.Xa)){Z.a=1;break r}Z.xb=0}if(!qe(Z,Z.V,Z.Ba,Z.c,Z.i,z.o,ue))break r;le.Dc=Z.Ma,Z=1;break t}e(Z.a!=0),Z=0}Z=!Z}Z&&(D=k.a)}else D=k.a}else{if((k=new Ic)==null){ge=1;break e}if(k.Fa=le.na,k.P=le.P,k.qc=le.Sa,Oc(k,Z)){if((D=pv(Z.width,Z.height,ge.Oa,ge.ba))==0){if(k.Aa=0,z=ge.Oa,e((le=k)!=null),z!=null){if(0<(we=0>(we=z.Md)?0:100<we?255:255*we/100)){for(Ce=Re=0;4>Ce;++Ce)12>(et=le.pb[Ce]).lc&&(et.ia=we*U4e[0>et.lc?0:et.lc]>>3),Re|=et.ia;Re&&(alert("todo:VP8InitRandom"),le.ia=1)}le.Ga=z.Id,100<le.Ga?le.Ga=100:0>le.Ga&&(le.Ga=0)}(function(ke,Fe){if(ke==null)return 0;if(Fe==null)return Xi(ke,2,"NULL VP8Io parameter in VP8Decode().");if(!ke.cb&&!Oc(ke,Fe))return 0;if(e(ke.cb),Fe.ac==null||Fe.ac(Fe)){Fe.ob&&(ke.L=0);var We=GR[ke.L];if(ke.L==2?(ke.yb=0,ke.zb=0):(ke.yb=Fe.v-We>>4,ke.zb=Fe.j-We>>4,0>ke.yb&&(ke.yb=0),0>ke.zb&&(ke.zb=0)),ke.Va=Fe.o+15+We>>4,ke.Hb=Fe.va+15+We>>4,ke.Hb>ke.za&&(ke.Hb=ke.za),ke.Va>ke.Ub&&(ke.Va=ke.Ub),0<ke.L){var ot=ke.ed;for(We=0;4>We;++We){var Qe;if(ke.Qa.Cb){var ut=ke.Qa.Lb[We];ke.Qa.Fb||(ut+=ot.Tb)}else ut=ot.Tb;for(Qe=0;1>=Qe;++Qe){var dt=ke.gd[We][Qe],Ct=ut;if(ot.Pc&&(Ct+=ot.vd[0],Qe&&(Ct+=ot.od[0])),0<(Ct=0>Ct?0:63<Ct?63:Ct)){var wt=Ct;0<ot.wb&&(wt=4<ot.wb?wt>>2:wt>>1)>9-ot.wb&&(wt=9-ot.wb),1>wt&&(wt=1),dt.dd=wt,dt.tc=2*Ct+wt,dt.ld=40<=Ct?2:15<=Ct?1:0}else dt.tc=0;dt.La=Qe}}}We=0}else Xi(ke,6,"Frame setup failed"),We=ke.a;if(We=We==0){if(We){ke.$c=0,0<ke.Aa||(ke.Ic=z4e);t:{We=ke.Ic,ot=4*(wt=ke.za);var Er=32*wt,dr=wt+1,cn=0<ke.L?wt*(0<ke.Aa?2:1):0,yr=(ke.Aa==2?2:1)*wt;if((dt=ot+832+(Qe=3*(16*We+GR[ke.L])/2*Er)+(ut=ke.Fa!=null&&0<ke.Fa.length?ke.Kc.c*ke.Kc.i:0))!=dt)We=0;else{if(dt>ke.Vb){if(ke.Vb=0,ke.Ec=s(dt),ke.Fc=0,ke.Ec==null){We=Xi(ke,1,"no memory during frame initialization.");break t}ke.Vb=dt}dt=ke.Ec,Ct=ke.Fc,ke.Ac=dt,ke.Bc=Ct,Ct+=ot,ke.Gd=a(Er,ql),ke.Hd=0,ke.rb=a(dr+1,us),ke.sb=1,ke.wa=cn?a(cn,wn):null,ke.Y=0,ke.D.Nb=0,ke.D.wa=ke.wa,ke.D.Y=ke.Y,0<ke.Aa&&(ke.D.Y+=wt),e(!0),ke.oc=dt,ke.pc=Ct,Ct+=832,ke.ya=a(yr,Wl),ke.aa=0,ke.D.ya=ke.ya,ke.D.aa=ke.aa,ke.Aa==2&&(ke.D.aa+=wt),ke.R=16*wt,ke.B=8*wt,wt=(Er=GR[ke.L])*ke.R,Er=Er/2*ke.B,ke.sa=dt,ke.ta=Ct+wt,ke.qa=ke.sa,ke.ra=ke.ta+16*We*ke.R+Er,ke.Ha=ke.qa,ke.Ia=ke.ra+8*We*ke.B+Er,ke.$c=0,Ct+=Qe,ke.mb=ut?dt:null,ke.nb=ut?Ct:null,e(Ct+ut<=ke.Fc+ke.Vb),$m(ke),i(ke.Ac,ke.Bc,0,ot),We=1}}if(We){if(Fe.ka=0,Fe.y=ke.sa,Fe.O=ke.ta,Fe.f=ke.qa,Fe.N=ke.ra,Fe.ea=ke.Ha,Fe.Vd=ke.Ia,Fe.fa=ke.R,Fe.Rc=ke.B,Fe.F=null,Fe.J=0,!pee){for(We=-255;255>=We;++We)uee[255+We]=0>We?-We:We;for(We=-1020;1020>=We;++We)dee[1020+We]=-128>We?-128:127<We?127:We;for(We=-112;112>=We;++We)hee[112+We]=-16>We?-16:15<We?15:We;for(We=-255;510>=We;++We)fee[255+We]=0>We?0:255<We?255:We;pee=1}bv=Rc,Rx=KC,sp=Sd,ci=_2,$i=Xf,Pd=GC,ca=Px,Ga=jh,qm=oe,sk=Te,O2=fv,LR=L,tee=Ie,ree=$e,nee=tp,iee=rp,see=P2,aee=kx,Lh[0]=Um,Lh[1]=S2,Lh[2]=lv,Lh[3]=T2,Lh[4]=Kl,Lh[5]=Tx,Lh[6]=Ad,Lh[7]=Zi,Lh[8]=Cx,Lh[9]=cv,wv[0]=YC,wv[1]=E2,wv[2]=ov,wv[3]=Fh,wv[4]=Vm,wv[5]=Dc,wv[6]=XC,Gm[0]=uv,Gm[1]=A2,Gm[2]=Qf,Gm[3]=C2,Gm[4]=dv,Gm[5]=Mc,Gm[6]=k2,We=1}else We=0}We&&(We=function(Bn,Ka){for(Bn.M=0;Bn.M<Bn.Va;++Bn.M){var un,xr=Bn.Jc[Bn.M&Bn.Xb],qt=Bn.m,ua=Bn;for(un=0;un<ua.za;++un){var nn=qt,Hn=ua,hs=Hn.Ac,Fo=Hn.Bc+4*un,Ql=Hn.zc,Hs=Hn.ya[Hn.aa+un];if(Hn.Qa.Bb?Hs.$b=he(nn,Hn.Pa.jb[0])?2+he(nn,Hn.Pa.jb[2]):he(nn,Hn.Pa.jb[1]):Hs.$b=0,Hn.kc&&(Hs.Ad=he(nn,Hn.Bd)),Hs.Za=!he(nn,145)+0,Hs.Za){var cl=Hs.Ob,Jl=0;for(Hn=0;4>Hn;++Hn){var Ya,qn=Ql[0+Hn];for(Ya=0;4>Ya;++Ya){qn=k4e[hs[Fo+Ya]][qn];for(var gi=yee[he(nn,qn[0])];0<gi;)gi=yee[2*gi+he(nn,qn[gi])];qn=-gi,hs[Fo+Ya]=qn}n(cl,Jl,hs,Fo,4),Jl+=4,Ql[0+Hn]=qn}}else qn=he(nn,156)?he(nn,128)?1:3:he(nn,163)?2:0,Hs.Ob[0]=qn,i(hs,Fo,qn,4),i(Ql,0,qn,4);Hs.Dd=he(nn,142)?he(nn,114)?he(nn,183)?1:3:2:0}if(ua.m.Ka)return Xi(Bn,7,"Premature end-of-partition0 encountered.");for(;Bn.ja<Bn.za;++Bn.ja){if(ua=xr,nn=(qt=Bn).rb[qt.sb-1],hs=qt.rb[qt.sb+qt.ja],un=qt.ya[qt.aa+qt.ja],Fo=qt.kc?un.Ad:0)nn.la=hs.la=0,un.Za||(nn.Na=hs.Na=0),un.Hc=0,un.Gc=0,un.ia=0;else{var Ws,vi;if(nn=hs,hs=ua,Fo=qt.Pa.Xc,Ql=qt.ya[qt.aa+qt.ja],Hs=qt.pb[Ql.$b],Hn=Ql.ad,cl=0,Jl=qt.rb[qt.sb-1],qn=Ya=0,i(Hn,cl,0,384),Ql.Za)var jo=0,Bh=Fo[3];else{gi=s(16);var da=nn.Na+Jl.Na;if(da=ok(hs,Fo[1],da,Hs.Eb,0,gi,0),nn.Na=Jl.Na=(0<da)+0,1<da)bv(gi,0,Hn,cl);else{var Fc=gi[0]+3>>3;for(gi=0;256>gi;gi+=16)Hn[cl+gi]=Fc}jo=1,Bh=Fo[0]}var Vi=15&nn.la,Xa=15&Jl.la;for(gi=0;4>gi;++gi){var bu=1&Xa;for(Fc=vi=0;4>Fc;++Fc)Vi=Vi>>1|(bu=(da=ok(hs,Bh,da=bu+(1&Vi),Hs.Sc,jo,Hn,cl))>jo)<<7,vi=vi<<2|(3<da?3:1<da?2:Hn[cl+0]!=0),cl+=16;Vi>>=4,Xa=Xa>>1|bu<<7,Ya=(Ya<<8|vi)>>>0}for(Bh=Vi,jo=Xa>>4,Ws=0;4>Ws;Ws+=2){for(vi=0,Vi=nn.la>>4+Ws,Xa=Jl.la>>4+Ws,gi=0;2>gi;++gi){for(bu=1&Xa,Fc=0;2>Fc;++Fc)da=bu+(1&Vi),Vi=Vi>>1|(bu=0<(da=ok(hs,Fo[2],da,Hs.Qc,0,Hn,cl)))<<3,vi=vi<<2|(3<da?3:1<da?2:Hn[cl+0]!=0),cl+=16;Vi>>=2,Xa=Xa>>1|bu<<5}qn|=vi<<4*Ws,Bh|=Vi<<4<<Ws,jo|=(240&Xa)<<Ws}nn.la=Bh,Jl.la=jo,Ql.Hc=Ya,Ql.Gc=qn,Ql.ia=43690&qn?0:Hs.ia,Fo=!(Ya|qn)}if(0<qt.L&&(qt.wa[qt.Y+qt.ja]=qt.gd[un.$b][un.Za],qt.wa[qt.Y+qt.ja].La|=!Fo),ua.Ka)return Xi(Bn,7,"Premature end-of-file encountered.")}if($m(Bn),qt=Ka,ua=1,un=(xr=Bn).D,nn=0<xr.L&&xr.M>=xr.zb&&xr.M<=xr.Va,xr.Aa==0)t:{if(un.M=xr.M,un.uc=nn,kd(xr,un),ua=1,un=(vi=xr.D).Nb,nn=(qn=GR[xr.L])*xr.R,hs=qn/2*xr.B,gi=16*un*xr.R,Fc=8*un*xr.B,Fo=xr.sa,Ql=xr.ta-nn+gi,Hs=xr.qa,Hn=xr.ra-hs+Fc,cl=xr.Ha,Jl=xr.Ia-hs+Fc,Xa=(Vi=vi.M)==0,Ya=Vi>=xr.Va-1,xr.Aa==2&&kd(xr,vi),vi.uc)for(bu=(da=xr).D.M,e(da.D.uc),vi=da.yb;vi<da.Hb;++vi){jo=vi,Bh=bu;var ec=(wu=(Lo=da).D).Nb;Ws=Lo.R;var wu=wu.wa[wu.Y+jo],_u=Lo.sa,jc=Lo.ta+16*ec*Ws+16*jo,Su=wu.dd,rs=wu.tc;if(rs!=0)if(e(3<=rs),Lo.L==1)0<jo&&iee(_u,jc,Ws,rs+4),wu.La&&aee(_u,jc,Ws,rs),0<Bh&&nee(_u,jc,Ws,rs+4),wu.La&&see(_u,jc,Ws,rs);else{var Au=Lo.B,$h=Lo.qa,Dx=Lo.ra+8*ec*Au+8*jo,Km=Lo.Ha,Lo=Lo.Ia+8*ec*Au+8*jo;ec=wu.ld,0<jo&&(Ga(_u,jc,Ws,rs+4,Su,ec),sk($h,Dx,Km,Lo,Au,rs+4,Su,ec)),wu.La&&(LR(_u,jc,Ws,rs,Su,ec),ree($h,Dx,Km,Lo,Au,rs,Su,ec)),0<Bh&&(ca(_u,jc,Ws,rs+4,Su,ec),qm($h,Dx,Km,Lo,Au,rs+4,Su,ec)),wu.La&&(O2(_u,jc,Ws,rs,Su,ec),tee($h,Dx,Km,Lo,Au,rs,Su,ec))}}if(xr.ia&&alert("todo:DitherRow"),qt.put!=null){if(vi=16*Vi,Vi=16*(Vi+1),Xa?(qt.y=xr.sa,qt.O=xr.ta+gi,qt.f=xr.qa,qt.N=xr.ra+Fc,qt.ea=xr.Ha,qt.W=xr.Ia+Fc):(vi-=qn,qt.y=Fo,qt.O=Ql,qt.f=Hs,qt.N=Hn,qt.ea=cl,qt.W=Jl),Ya||(Vi-=qn),Vi>qt.o&&(Vi=qt.o),qt.F=null,qt.J=null,xr.Fa!=null&&0<xr.Fa.length&&vi<Vi&&(qt.J=P(xr,qt,vi,Vi-vi),qt.F=xr.mb,qt.F==null&&qt.F.length==0)){ua=Xi(xr,3,"Could not decode alpha data.");break t}vi<qt.j&&(qn=qt.j-vi,vi=qt.j,e(!(1&qn)),qt.O+=xr.R*qn,qt.N+=xr.B*(qn>>1),qt.W+=xr.B*(qn>>1),qt.F!=null&&(qt.J+=qt.width*qn)),vi<Vi&&(qt.O+=qt.v,qt.N+=qt.v>>1,qt.W+=qt.v>>1,qt.F!=null&&(qt.J+=qt.v),qt.ka=vi-qt.j,qt.U=qt.va-qt.v,qt.T=Vi-vi,ua=qt.put(qt))}un+1!=xr.Ic||Ya||(n(xr.sa,xr.ta-nn,Fo,Ql+16*xr.R,nn),n(xr.qa,xr.ra-hs,Hs,Hn+8*xr.B,hs),n(xr.Ha,xr.Ia-hs,cl,Jl+8*xr.B,hs))}if(!ua)return Xi(Bn,6,"Output aborted.")}return 1}(ke,Fe)),Fe.bc!=null&&Fe.bc(Fe),We&=1}return We?(ke.cb=0,We):0})(k,Z)||(D=k.a)}}else D=k.a}D==0&&ge.Oa!=null&&ge.Oa.fd&&(D=JC(ge.ba))}ge=D}fe=ge!=0?null:11>fe?ve.f.RGBA.eb:ve.f.kb.y}else fe=null;return fe};var Cee=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(N,F){for(var A="",I=0;I<4;I++)A+=String.fromCharCode(N[F++]);return A}function u(N,F){return N[F+0]|N[F+1]<<8}function d(N,F){return(N[F+0]|N[F+1]<<8|N[F+2]<<16)>>>0}function h(N,F){return(N[F+0]|N[F+1]<<8|N[F+2]<<16|N[F+3]<<24)>>>0}new l;var f=[0],g=[0],m=[],v=new l,x=t,w=function(N,F){var A={},I=0,M=!1,U=0,Y=0;if(A.frames=[],!function(R,j){for(var V=0;V<4;V++)if(R[j+V]!="RIFF".charCodeAt(V))return!0;return!1}(N,F)){for(h(N,F+=4),F+=8;F<N.length;){var X=c(N,F),W=h(N,F+=4);F+=4;var G=W+(1&W);switch(X){case"VP8 ":case"VP8L":A.frames[I]===void 0&&(A.frames[I]={}),(ae=A.frames[I]).src_off=M?Y:F-8,ae.src_size=U+W+8,I++,M&&(M=!1,U=0,Y=0);break;case"VP8X":(ae=A.header={}).feature_flags=N[F];var B=F+4;ae.canvas_width=1+d(N,B),B+=3,ae.canvas_height=1+d(N,B),B+=3;break;case"ALPH":M=!0,U=G+8,Y=F-8;break;case"ANIM":(ae=A.header).bgcolor=h(N,F),B=F+4,ae.loop_count=u(N,B),B+=2;break;case"ANMF":var re,ae;(ae=A.frames[I]={}).offset_x=2*d(N,F),F+=3,ae.offset_y=2*d(N,F),F+=3,ae.width=1+d(N,F),F+=3,ae.height=1+d(N,F),F+=3,ae.duration=d(N,F),F+=3,re=N[F++],ae.dispose=1&re,ae.blend=re>>1&1}X!="ANMF"&&(F+=G)}return A}}(x,0);w.response=x,w.rgbaoutput=!0,w.dataurl=!1;var b=w.header?w.header:null,_=w.frames?w.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],g=[b.canvas_width];for(var S=0;S<_.length&&_[S].blend!=0;S++);}var T=_[0],E=v.WebPDecodeRGBA(x,T.src_off,T.src_size,g,f);T.rgba=E,T.imgwidth=g[0],T.imgheight=f[0];for(var C=0;C<g[0]*f[0]*4;C++)m[C]=E[C];return this.width=g,this.height=f,this.data=m,this}(function(t){var e,r,n,i,s,a,o,l,c,u=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new l,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new a,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new a,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=R;Object.defineProperty(this,"pdf",{get:function(){return j}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(pe){V=!!pe}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(pe){K=!!pe}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(pe){isNaN(pe)||(ne=pe)}});var J=0;Object.defineProperty(this,"posY",{get:function(){return J},set:function(pe){isNaN(pe)||(J=pe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(pe){var Me;typeof pe=="number"?Me=[pe,pe,pe,pe]:((Me=new Array(4))[0]=pe[0],Me[1]=pe.length>=2?pe[1]:Me[0],Me[2]=pe.length>=3?pe[2]:Me[0],Me[3]=pe.length>=4?pe[3]:Me[1]),c.margin=Me}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(pe){me=pe}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(pe){ce=pe}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(pe){he=pe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(pe){pe instanceof u&&(c=pe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(pe){c.path=pe}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(pe){_e=pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pe){var Me;Me=h(pe),this.ctx.fillStyle=Me.style,this.ctx.isFillTransparent=Me.a===0,this.ctx.fillOpacity=Me.a,this.pdf.setFillColor(Me.r,Me.g,Me.b,{a:Me.a}),this.pdf.setTextColor(Me.r,Me.g,Me.b,{a:Me.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pe){var Me=h(pe);this.ctx.strokeStyle=Me.style,this.ctx.isStrokeTransparent=Me.a===0,this.ctx.strokeOpacity=Me.a,Me.a===0?this.pdf.setDrawColor(255,255,255):(Me.a,this.pdf.setDrawColor(Me.r,Me.g,Me.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pe){["butt","round","square"].indexOf(pe)!==-1&&(this.ctx.lineCap=pe,this.pdf.setLineCap(pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pe){isNaN(pe)||(this.ctx.lineWidth=pe,this.pdf.setLineWidth(pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pe){["bevel","round","miter"].indexOf(pe)!==-1&&(this.ctx.lineJoin=pe,this.pdf.setLineJoin(pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pe){isNaN(pe)||(this.ctx.miterLimit=pe,this.pdf.setMiterLimit(pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pe){this.ctx.textBaseline=pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pe){["right","end","center","left","start"].indexOf(pe)!==-1&&(this.ctx.textAlign=pe)}});var ee=null,je=null,Ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ue},set:function(pe){ee=null,je=null,Ue=pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pe){var Me;if(this.ctx.font=pe,(Me=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(pe))!==null){var Ye=Me[1];Me[2];var xt=Me[3],Ke=Me[4];Me[5];var be=Me[6],Pe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor(Pe==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:Pe==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var De=function(Tt){var Ur,Yt,sr=[],Cr=Tt.trim();if(Cr==="")return dV;if(Cr in wue)return[wue[Cr]];for(;Cr!=="";){switch(Yt=null,Ur=(Cr=Sue(Cr)).charAt(0)){case'"':case"'":Yt=aCt(Cr.substring(1),Ur);break;default:Yt=oCt(Cr)}if(Yt===null||(sr.push(Yt[0]),(Cr=Sue(Yt[1]))!==""&&Cr.charAt(0)!==","))return dV;Cr=Cr.replace(/^,/,"")}return sr}(be);if(this.fontFaces){var Je=function(Tt,Ur){var Yt=Tt.getFontList(),sr=JSON.stringify(Yt);if(ee===null||je!==sr){var Cr=function(jr){var Ne=[];return Object.keys(jr).forEach(function(Gt){jr[Gt].forEach(function(Ve){var Qt=null;switch(Ve){case"bold":Qt={family:Gt,weight:"bold"};break;case"italic":Qt={family:Gt,style:"italic"};break;case"bolditalic":Qt={family:Gt,weight:"bold",style:"italic"};break;case"":case"normal":Qt={family:Gt}}Qt!==null&&(Qt.ref={name:Gt,style:Ve},Ne.push(Qt))})}),Ne}(Yt);ee=function(jr){for(var Ne={},Gt=0;Gt<jr.length;++Gt){var Ve=uV(jr[Gt]),Qt=Ve.family,Ht=Ve.stretch,gt=Ve.style,ft=Ve.weight;Ne[Qt]=Ne[Qt]||{},Ne[Qt][Ht]=Ne[Qt][Ht]||{},Ne[Qt][Ht][gt]=Ne[Qt][Ht][gt]||{},Ne[Qt][Ht][gt][ft]=Ve}return Ne}(Cr.concat(Ur)),je=sr}return ee}(this.pdf,this.fontFaces),it=De.map(function(Tt){return{family:Tt,stretch:"normal",weight:xt,style:Ye}}),rt=function(Tt,Ur,Yt){for(var sr=(Yt=Yt||{}).defaultFontFamily||"times",Cr=Object.assign({},sCt,Yt.genericFontFamilies||{}),jr=null,Ne=null,Gt=0;Gt<Ur.length;++Gt)if(Cr[(jr=uV(Ur[Gt])).family]&&(jr.family=Cr[jr.family]),Tt.hasOwnProperty(jr.family)){Ne=Tt[jr.family];break}if(!(Ne=Ne||Tt[sr]))throw new Error("Could not find a font-family for the rule '"+_ue(jr)+"' and default family '"+sr+"'.");if(Ne=function(Ve,Qt){if(Qt[Ve])return Qt[Ve];var Ht=GW[Ve],gt=Ht<=GW.normal?-1:1,ft=bue(Qt,nCe,Ht,gt);if(!ft)throw new Error("Could not find a matching font-stretch value for "+Ve);return ft}(jr.stretch,Ne),Ne=function(Ve,Qt){if(Qt[Ve])return Qt[Ve];for(var Ht=rCe[Ve],gt=0;gt<Ht.length;++gt)if(Qt[Ht[gt]])return Qt[Ht[gt]];throw new Error("Could not find a matching font-style for "+Ve)}(jr.style,Ne),!(Ne=function(Ve,Qt){if(Qt[Ve])return Qt[Ve];if(Ve===400&&Qt[500])return Qt[500];if(Ve===500&&Qt[400])return Qt[400];var Ht=iCt[Ve],gt=bue(Qt,iCe,Ht,Ve<400?-1:1);if(!gt)throw new Error("Could not find a matching font-weight for value "+Ve);return gt}(jr.weight,Ne)))throw new Error("Failed to resolve a font for the rule '"+_ue(jr)+"'.");return Ne}(Je,it);this.pdf.setFont(rt.ref.name,rt.ref.style)}else{var st="";(xt==="bold"||parseInt(xt,10)>=700||Ye==="bold")&&(st="bold"),Ye==="italic"&&(st+="italic"),st.length===0&&(st="normal");for(var Dt="",kt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Nt=0;Nt<De.length;Nt++){if(this.pdf.internal.getFont(De[Nt],st,{noFallback:!0,disableWarning:!0})!==void 0){Dt=De[Nt];break}if(st==="bolditalic"&&this.pdf.internal.getFont(De[Nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Dt=De[Nt],st="bold";else if(this.pdf.internal.getFont(De[Nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Dt=De[Nt],st="normal";break}}if(Dt===""){for(var At=0;At<De.length;At++)if(kt[De[At]]){Dt=kt[De[At]];break}}Dt=Dt===""?"Times":Dt,this.pdf.setFont(Dt,st)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pe){this.ctx.globalCompositeOperation=pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pe){this.ctx.globalAlpha=pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pe){this.ctx.lineDashOffset=pe,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pe){this.ctx.lineDash=pe,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pe){this.ctx.ignoreClearRect=!!pe}})};d.prototype.setLineDash=function(R){this.lineDash=R},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){_.call(this,"fill",!1)},d.prototype.stroke=function(){_.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(R,j){if(isNaN(R)||isNaN(j))throw Wi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new a(R,j));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(R,j)},d.prototype.closePath=function(){var R=new a(0,0),j=0;for(j=this.path.length-1;j!==-1;j--)if(this.path[j].type==="begin"&&Ai(this.path[j+1])==="object"&&typeof this.path[j+1].x=="number"){R=new a(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(R.x,R.y)},d.prototype.lineTo=function(R,j){if(isNaN(R)||isNaN(j))throw Wi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new a(R,j));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(V.x,V.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},d.prototype.quadraticCurveTo=function(R,j,V,K){if(isNaN(V)||isNaN(K)||isNaN(R)||isNaN(j))throw Wi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new a(V,K)),J=this.ctx.transform.applyToPoint(new a(R,j));this.path.push({type:"qct",x1:J.x,y1:J.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(ne.x,ne.y)},d.prototype.bezierCurveTo=function(R,j,V,K,ne,J){if(isNaN(ne)||isNaN(J)||isNaN(R)||isNaN(j)||isNaN(V)||isNaN(K))throw Wi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new a(ne,J)),ce=this.ctx.transform.applyToPoint(new a(R,j)),he=this.ctx.transform.applyToPoint(new a(V,K));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:he.x,y2:he.y,x:me.x,y:me.y}),this.ctx.lastPoint=new a(me.x,me.y)},d.prototype.arc=function(R,j,V,K,ne,J){if(isNaN(R)||isNaN(j)||isNaN(V)||isNaN(K)||isNaN(ne))throw Wi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(J=!!J,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new a(R,j));R=me.x,j=me.y;var ce=this.ctx.transform.applyToPoint(new a(0,V)),he=this.ctx.transform.applyToPoint(new a(0,0));V=Math.sqrt(Math.pow(ce.x-he.x,2)+Math.pow(ce.y-he.y,2))}Math.abs(ne-K)>=2*Math.PI&&(K=0,ne=2*Math.PI),this.path.push({type:"arc",x:R,y:j,radius:V,startAngle:K,endAngle:ne,counterclockwise:J})},d.prototype.arcTo=function(R,j,V,K,ne){throw new Error("arcTo not implemented.")},d.prototype.rect=function(R,j,V,K){if(isNaN(R)||isNaN(j)||isNaN(V)||isNaN(K))throw Wi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,j),this.lineTo(R+V,j),this.lineTo(R+V,j+K),this.lineTo(R,j+K),this.lineTo(R,j),this.lineTo(R+V,j),this.lineTo(R,j)},d.prototype.fillRect=function(R,j,V,K){if(isNaN(R)||isNaN(j)||isNaN(V)||isNaN(K))throw Wi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,j,V,K),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},d.prototype.strokeRect=function(R,j,V,K){if(isNaN(R)||isNaN(j)||isNaN(V)||isNaN(K))throw Wi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(R,j,V,K),this.stroke())},d.prototype.clearRect=function(R,j,V,K){if(isNaN(R)||isNaN(j)||isNaN(V)||isNaN(K))throw Wi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,j,V,K))},d.prototype.save=function(R){R=typeof R!="boolean"||R;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},d.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(j),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(R){var j,V,K,ne;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))j=0,V=0,K=0,ne=0;else{var J=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(J!==null)j=parseInt(J[1]),V=parseInt(J[2]),K=parseInt(J[3]),ne=1;else if((J=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)j=parseInt(J[1]),V=parseInt(J[2]),K=parseInt(J[3]),ne=parseFloat(J[4]);else{if(ne=1,typeof R=="string"&&R.charAt(0)!=="#"){var me=new YTe(R);R=me.ok?me.toHex():"#000000"}R.length===4?(j=R.substring(1,2),j+=j,V=R.substring(2,3),V+=V,K=R.substring(3,4),K+=K):(j=R.substring(1,3),V=R.substring(3,5),K=R.substring(5,7)),j=parseInt(j,16),V=parseInt(V,16),K=parseInt(K,16)}}return{r:j,g:V,b:K,a:ne,style:R}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(R,j,V,K){if(isNaN(j)||isNaN(V)||typeof R!="string")throw Wi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!f.call(this)){var ne=G(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;I.call(this,{text:R,x:j,y:V,scale:J,angle:ne,align:this.textAlign,maxWidth:K})}},d.prototype.strokeText=function(R,j,V,K){if(isNaN(j)||isNaN(V)||typeof R!="string")throw Wi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){K=isNaN(K)?void 0:K;var ne=G(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;I.call(this,{text:R,x:j,y:V,scale:J,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:K})}},d.prototype.measureText=function(R){if(typeof R!="string")throw Wi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,V=this.pdf.internal.scaleFactor,K=j.internal.getFontSize(),ne=j.getStringUnitWidth(R)*K/j.internal.scaleFactor;return new function(J){var me=(J=J||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this}({width:ne*=Math.round(96*V/72*1e4)/1e4})},d.prototype.scale=function(R,j){if(isNaN(R)||isNaN(j))throw Wi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(R,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},d.prototype.rotate=function(R){if(isNaN(R))throw Wi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new l(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},d.prototype.translate=function(R,j){if(isNaN(R)||isNaN(j))throw Wi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,R,j);this.ctx.transform=this.ctx.transform.multiply(V)},d.prototype.transform=function(R,j,V,K,ne,J){if(isNaN(R)||isNaN(j)||isNaN(V)||isNaN(K)||isNaN(ne)||isNaN(J))throw Wi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new l(R,j,V,K,ne,J);this.ctx.transform=this.ctx.transform.multiply(me)},d.prototype.setTransform=function(R,j,V,K,ne,J){R=isNaN(R)?1:R,j=isNaN(j)?0:j,V=isNaN(V)?0:V,K=isNaN(K)?1:K,ne=isNaN(ne)?0:ne,J=isNaN(J)?0:J,this.ctx.transform=new l(R,j,V,K,ne,J)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(R,j,V,K,ne,J,me,ce,he){var _e=this.pdf.getImageProperties(R),ee=1,je=1,Ue=1,pe=1;K!==void 0&&ce!==void 0&&(Ue=ce/K,pe=he/ne,ee=_e.width/K*ce/K,je=_e.height/ne*he/ne),J===void 0&&(J=j,me=V,j=0,V=0),K!==void 0&&ce===void 0&&(ce=K,he=ne),K===void 0&&ce===void 0&&(ce=_e.width,he=_e.height);var Me=this.ctx.transform.decompose(),Ye=G(Me.rotate.shx),xt=new l,Ke=(xt=(xt=(xt=xt.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale)).applyToRectangle(new o(J-j*Ue,me-V*pe,K*ee,ne*je));if(this.autoPaging){for(var be,Pe=v.call(this,Ke),De=[],Je=0;Je<Pe.length;Je+=1)De.indexOf(Pe[Je])===-1&&De.push(Pe[Je]);b(De);for(var it=De[0],rt=De[De.length-1],st=it;st<rt+1;st++){this.pdf.setPage(st);var Dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=st===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tt=st===1?0:Nt+(st-2)*At;if(this.ctx.clip_path.length!==0){var Ur=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(be,this.posX+this.margin[3],-Tt+kt+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=Ur}var Yt=JSON.parse(JSON.stringify(Ke));Yt=w([Yt],this.posX+this.margin[3],-Tt+kt+this.ctx.prevPageLastElemOffset)[0];var sr=(st>it||st<rt)&&m.call(this);sr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dt,At,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,Ye),sr&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(R,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,Ye)};var v=function(R,j,V){var K=[];j=j||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":K.push(Math.floor((R.y+ne)/V)+1);break;case"arc":K.push(Math.floor((R.y+ne-R.radius)/V)+1),K.push(Math.floor((R.y+ne+R.radius)/V)+1);break;case"qct":var J=B(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);K.push(Math.floor((J.y+ne)/V)+1),K.push(Math.floor((J.y+J.h+ne)/V)+1);break;case"bct":var me=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);K.push(Math.floor((me.y+ne)/V)+1),K.push(Math.floor((me.y+me.h+ne)/V)+1);break;case"rect":K.push(Math.floor((R.y+ne)/V)+1),K.push(Math.floor((R.y+R.h+ne)/V)+1)}for(var ce=0;ce<K.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<K[ce];)x.call(this);return K},x=function(){var R=this.fillStyle,j=this.strokeStyle,V=this.font,K=this.lineCap,ne=this.lineWidth,J=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=j,this.font=V,this.lineCap=K,this.lineWidth=ne,this.lineJoin=J},w=function(R,j,V){for(var K=0;K<R.length;K++)switch(R[K].type){case"bct":R[K].x2+=j,R[K].y2+=V;case"qct":R[K].x1+=j,R[K].y1+=V;default:R[K].x+=j,R[K].y+=V}return R},b=function(R){return R.sort(function(j,V){return j-V})},_=function(R,j){var V=this.fillStyle,K=this.strokeStyle,ne=this.lineCap,J=this.lineWidth,me=Math.abs(J*this.ctx.transform.scaleX),ce=this.lineJoin;if(this.autoPaging){for(var he,_e,ee=JSON.parse(JSON.stringify(this.path)),je=JSON.parse(JSON.stringify(this.path)),Ue=[],pe=0;pe<je.length;pe++)if(je[pe].x!==void 0)for(var Me=v.call(this,je[pe]),Ye=0;Ye<Me.length;Ye+=1)Ue.indexOf(Me[Ye])===-1&&Ue.push(Me[Ye]);for(var xt=0;xt<Ue.length;xt++)for(;this.pdf.internal.getNumberOfPages()<Ue[xt];)x.call(this);b(Ue);for(var Ke=Ue[0],be=Ue[Ue.length-1],Pe=Ke;Pe<be+1;Pe++){this.pdf.setPage(Pe),this.fillStyle=V,this.strokeStyle=K,this.lineCap=ne,this.lineWidth=me,this.lineJoin=ce;var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=Pe===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=Pe===1?0:it+(Pe-2)*rt;if(this.ctx.clip_path.length!==0){var Dt=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(he,this.posX+this.margin[3],-st+Je+this.ctx.prevPageLastElemOffset),S.call(this,R,!0),this.path=Dt}if(_e=JSON.parse(JSON.stringify(ee)),this.path=w(_e,this.posX+this.margin[3],-st+Je+this.ctx.prevPageLastElemOffset),j===!1||Pe===0){var kt=(Pe>Ke||Pe<be)&&m.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,rt,null).clip().discardPath()),S.call(this,R,j),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=J}this.path=ee}else this.lineWidth=me,S.call(this,R,j),this.lineWidth=J},S=function(R,j){if((R!=="stroke"||j||!g.call(this))&&(R==="stroke"||j||!f.call(this))){for(var V,K,ne=[],J=this.path,me=0;me<J.length;me++){var ce=J[me];switch(ce.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:ce,deltas:[],abs:[]});break;case"lt":var he=ne.length;if(J[me-1]&&!isNaN(J[me-1].x)&&(V=[ce.x-J[me-1].x,ce.y-J[me-1].y],he>0)){for(;he>=0;he--)if(ne[he-1].close!==!0&&ne[he-1].begin!==!0){ne[he-1].deltas.push(V),ne[he-1].abs.push(ce);break}}break;case"bct":V=[ce.x1-J[me-1].x,ce.y1-J[me-1].y,ce.x2-J[me-1].x,ce.y2-J[me-1].y,ce.x-J[me-1].x,ce.y-J[me-1].y],ne[ne.length-1].deltas.push(V);break;case"qct":var _e=J[me-1].x+2/3*(ce.x1-J[me-1].x),ee=J[me-1].y+2/3*(ce.y1-J[me-1].y),je=ce.x+2/3*(ce.x1-ce.x),Ue=ce.y+2/3*(ce.y1-ce.y),pe=ce.x,Me=ce.y;V=[_e-J[me-1].x,ee-J[me-1].y,je-J[me-1].x,Ue-J[me-1].y,pe-J[me-1].x,Me-J[me-1].y],ne[ne.length-1].deltas.push(V);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(ce)}}K=j?null:R==="stroke"?"stroke":"fill";for(var Ye=!1,xt=0;xt<ne.length;xt++)if(ne[xt].arc)for(var Ke=ne[xt].abs,be=0;be<Ke.length;be++){var Pe=Ke[be];Pe.type==="arc"?C.call(this,Pe.x,Pe.y,Pe.radius,Pe.startAngle,Pe.endAngle,Pe.counterclockwise,void 0,j,!Ye):M.call(this,Pe.x,Pe.y),Ye=!0}else if(ne[xt].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(ne[xt].begin!==!0){var De=ne[xt].start.x,Je=ne[xt].start.y;U.call(this,ne[xt].deltas,De,Je),Ye=!0}K&&N.call(this,K),j&&F.call(this)}},T=function(R){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-V;case"top":return R+j-V;case"hanging":return R+j-2*V;case"middle":return R+j/2-V;default:return R}},E=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(j,V){this.colorStops.push([j,V])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(R,j,V,K,ne,J,me,ce,he){for(var _e=X.call(this,V,K,ne,J),ee=0;ee<_e.length;ee++){var je=_e[ee];ee===0&&(he?A.call(this,je.x1+R,je.y1+j):M.call(this,je.x1+R,je.y1+j)),Y.call(this,R,j,je.x2,je.y2,je.x3,je.y3,je.x4,je.y4)}ce?F.call(this):N.call(this,me)},N=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(R,j){this.pdf.internal.out(r(R)+" "+n(j)+" m")},I=function(R){var j;switch(R.align){case"right":case"end":j="right";break;case"center":j="center";break;default:j="left"}var V,K,ne,J=this.pdf.getTextDimensions(R.text),me=T.call(this,R.y),ce=E.call(this,me)-J.h,he=this.ctx.transform.applyToPoint(new a(R.x,me));if(this.autoPaging){var _e=this.ctx.transform.decompose(),ee=new l;ee=(ee=(ee=ee.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var je=this.ctx.transform.applyToRectangle(new o(R.x,me,J.w,J.h)),Ue=ee.applyToRectangle(new o(R.x,ce,J.w,J.h)),pe=v.call(this,Ue),Me=[],Ye=0;Ye<pe.length;Ye+=1)Me.indexOf(pe[Ye])===-1&&Me.push(pe[Ye]);b(Me);for(var xt=Me[0],Ke=Me[Me.length-1],be=xt;be<Ke+1;be++){this.pdf.setPage(be);var Pe=be===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[2],it=Je-this.margin[0],rt=this.pdf.internal.pageSize.width-this.margin[1],st=rt-this.margin[3],Dt=be===1?0:De+(be-2)*it;if(this.ctx.clip_path.length!==0){var kt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(V,this.posX+this.margin[3],-1*Dt+Pe),S.call(this,"fill",!0),this.path=kt}var Nt=w([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-Dt+Pe+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(K=this.pdf.internal.getFontSize(),this.pdf.setFontSize(K*R.scale),ne=this.lineWidth,this.lineWidth=ne*R.scale);var At=this.autoPaging!=="text";if(At||Nt.y+Nt.h<=Je){if(At||Nt.y>=Pe&&Nt.x<=rt){var Tt=At?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||rt-Nt.x)[0],Ur=w([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-Dt+Pe+this.ctx.prevPageLastElemOffset)[0],Yt=At&&(be>xt||be<Ke)&&m.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,it,null).clip().discardPath()),this.pdf.text(Tt,Ur.x,Ur.y,{angle:R.angle,align:j,renderingMode:R.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else Nt.y<Je&&(this.ctx.prevPageLastElemOffset+=Je-Nt.y);R.scale>=.01&&(this.pdf.setFontSize(K),this.lineWidth=ne)}}else R.scale>=.01&&(K=this.pdf.internal.getFontSize(),this.pdf.setFontSize(K*R.scale),ne=this.lineWidth,this.lineWidth=ne*R.scale),this.pdf.text(R.text,he.x+this.posX,he.y+this.posY,{angle:R.angle,align:j,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(K),this.lineWidth=ne)},M=function(R,j,V,K){V=V||0,K=K||0,this.pdf.internal.out(r(R+V)+" "+n(j+K)+" l")},U=function(R,j,V){return this.pdf.lines(R,j,V,null,null)},Y=function(R,j,V,K,ne,J,me,ce){this.pdf.internal.out([e(i(V+R)),e(s(K+j)),e(i(ne+R)),e(s(J+j)),e(i(me+R)),e(s(ce+j)),"c"].join(" "))},X=function(R,j,V,K){for(var ne=2*Math.PI,J=Math.PI/2;j>V;)j-=ne;var me=Math.abs(V-j);me<ne&&K&&(me=ne-me);for(var ce=[],he=K?-1:1,_e=j;me>1e-5;){var ee=_e+he*Math.min(me,J);ce.push(W.call(this,R,_e,ee)),me-=Math.abs(ee-_e),_e=ee}return ce},W=function(R,j,V){var K=(V-j)/2,ne=R*Math.cos(K),J=R*Math.sin(K),me=ne,ce=-J,he=me*me+ce*ce,_e=he+me*ne+ce*J,ee=4/3*(Math.sqrt(2*he*_e)-_e)/(me*J-ce*ne),je=me-ee*ce,Ue=ce+ee*me,pe=je,Me=-Ue,Ye=K+j,xt=Math.cos(Ye),Ke=Math.sin(Ye);return{x1:R*Math.cos(j),y1:R*Math.sin(j),x2:je*xt-Ue*Ke,y2:je*Ke+Ue*xt,x3:pe*xt-Me*Ke,y3:pe*Ke+Me*xt,x4:R*Math.cos(V),y4:R*Math.sin(V)}},G=function(R){return 180*R/Math.PI},B=function(R,j,V,K,ne,J){var me=R+.5*(V-R),ce=j+.5*(K-j),he=ne+.5*(V-ne),_e=J+.5*(K-J),ee=Math.min(R,ne,me,he),je=Math.max(R,ne,me,he),Ue=Math.min(j,J,ce,_e),pe=Math.max(j,J,ce,_e);return new o(ee,Ue,je-ee,pe-Ue)},re=function(R,j,V,K,ne,J,me,ce){var he,_e,ee,je,Ue,pe,Me,Ye,xt,Ke,be,Pe,De,Je,it=V-R,rt=K-j,st=ne-V,Dt=J-K,kt=me-ne,Nt=ce-J;for(_e=0;_e<41;_e++)xt=(Me=(ee=R+(he=_e/40)*it)+he*((Ue=V+he*st)-ee))+he*(Ue+he*(ne+he*kt-Ue)-Me),Ke=(Ye=(je=j+he*rt)+he*((pe=K+he*Dt)-je))+he*(pe+he*(J+he*Nt-pe)-Ye),_e==0?(be=xt,Pe=Ke,De=xt,Je=Ke):(be=Math.min(be,xt),Pe=Math.min(Pe,Ke),De=Math.max(De,xt),Je=Math.max(Je,Ke));return new o(Math.round(be),Math.round(Pe),Math.round(De-be),Math.round(Je-Pe))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,j,V=(R=this.ctx.lineDash,j=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:j}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(wr.API),function(t){var e=function(a){var o,l,c,u,d,h,f,g,m,v;for(l=[],c=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(d=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(v=d%85))/85)-(m=d%85))/85)-(g=d%85))/85)-(f=d%85))/85)%85,l.push(h+33,f+33,g+33,m+33,v+33)):l.push(122);return function(x,w){for(var b=w;b>0;b--)x.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,c,u,d,h=String,f="length",g=255,m="charCodeAt",v="slice",x="replace";for(a[v](-2),a=a[v](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],u=0,d=(a+=o="uuuuu"[v](a[f]%5||5))[f];d>u;u+=5)l=52200625*(a[m](u)-33)+614125*(a[m](u+1)-33)+7225*(a[m](u+2)-33)+85*(a[m](u+3)-33)+(a[m](u+4)-33),c.push(g&l>>24,g&l>>16,g&l>>8,g&l);return function(w,b){for(var _=b;_>0;_--)w.pop()}(c,o[f]),h.fromCharCode.apply(h,c)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=DW(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(a,o){var l=0,c=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(wr.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,u){var d=new XMLHttpRequest,h=0,f=function(g){var m=g.length,v=[],x=String.fromCharCode;for(h=0;h<m;h+=1)v.push(x(255&g.charCodeAt(h)));return v.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(wr.API),function(t){function e(){return(Gr.html2canvas?Promise.resolve(Gr.html2canvas):$9(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Gr.DOMPurify?Promise.resolve(Gr.DOMPurify):$9(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Ai(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||u.appendChild(o(d,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var g=u[f],m=g.src.find(function(v){return v.format==="truetype"});m&&c.addFont(m.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||wr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,d).then(function(h){return c.updateProgress(1),h})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:a.convert(Object.assign({},u),Promise.prototype),h=c.call(d,o,l);return a.convert(h,u.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,wr.getPageSize=function(o,l,c){if(Ai(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var g,m=0,v=0;if(f.hasOwnProperty(h))m=f[h][1]/d,v=f[h][0]/d;else try{m=c[1],v=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",v>m&&(g=v,v=m,m=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>v&&(g=v,v=m,m=g)}return{width:v,height:m,unit:l,k:d,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(uV):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(wr.API),wr.API.addJS=function(t){return Eue=t,this.internal.events.subscribe("postPutResources",function(){iD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(iD+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Aue=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Eue+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){iD!==void 0&&Aue!==void 0&&this.internal.out("/Names <</JavaScript "+iD+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var d=r.internal.newObject();u.push(d);var h=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<u.length;s++)r.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(wr.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(d){for(var h,f=256*d.charCodeAt(4)+d.charCodeAt(5),g=d.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=f,e.indexOf(d.charCodeAt(v+1))!==-1){h=256*d.charCodeAt(v+5)+d.charCodeAt(v+6),m={width:256*d.charCodeAt(v+7)+d.charCodeAt(v+8),height:h,numcomponents:d.charCodeAt(v+9)};break}f=256*d.charCodeAt(v+2)+d.charCodeAt(v+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}}(wr.API),wr.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=HTt(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,u=s.depth;i=c&&l===1?function(C){for(var N=C.width,F=C.height,A=C.data,I=C.palette,M=C.depth,U=!1,Y=[],X=[],W=void 0,G=!1,B=0,re=0;re<I.length;re++){var ae=xce(I[re],4),R=ae[0],j=ae[1],V=ae[2],K=ae[3];Y.push(R,j,V),K!=null&&(K===0?(B++,X.length<1&&X.push(re)):K<255&&(G=!0))}if(G||B>1){U=!0,X=void 0;var ne=N*F;W=new Uint8Array(ne);for(var J=new DataView(A.buffer),me=0;me<ne;me++){var ce=hV(J,me,M),he=xce(I[ce],4)[3];W[me]=he}}else B===0&&(X=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:U?8:void 0,colorBytes:A,alphaBytes:W,needSMask:U,palette:Y,mask:X}}(s):l===2||l===4?function(C){for(var N=C.data,F=C.width,A=C.height,I=C.channels,M=C.depth,U=I===2?"DeviceGray":"DeviceRGB",Y=I-1,X=F*A,W=Y,G=X*W,B=1*X,re=Math.ceil(G*M/8),ae=Math.ceil(B*M/8),R=new Uint8Array(re),j=new Uint8Array(ae),V=new DataView(N.buffer),K=new DataView(R.buffer),ne=new DataView(j.buffer),J=!1,me=0;me<X;me++){for(var ce=me*I,he=0;he<W;he++)Due(K,hV(V,ce+he,M),me*W+he,M);var _e=hV(V,ce+W,M);_e<(1<<M)-1&&(J=!0),Due(ne,_e,1*me,M)}return{colorSpace:U,colorsPerPixel:Y,sMaskBitsPerComponent:J?M:void 0,colorBytes:R,alphaBytes:j,needSMask:J}}(s):function(C){var N=C.data,F=C.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:N instanceof Uint16Array?function(A){for(var I=A.length,M=new Uint8Array(2*I),U=new DataView(M.buffer,M.byteOffset,M.byteLength),Y=0;Y<I;Y++)U.setUint16(2*Y,A[Y],!1);return M}(N):N,needSMask:!1}}(s);var d,h,f,g=i,m=g.colorSpace,v=g.colorsPerPixel,x=g.sMaskBitsPerComponent,w=g.colorBytes,b=g.alphaBytes,_=g.needSMask,S=g.palette,T=g.mask,E=null;return n!==wr.API.image_compression.NONE&&typeof DW=="function"?(E=function(C){var N;switch(C){case wr.API.image_compression.FAST:N=11;break;case wr.API.image_compression.MEDIUM:N=13;break;case wr.API.image_compression.SLOW:N=14;break;default:N=12}return N}(n),d=this.decode.FLATE_DECODE,h="/Predictor ".concat(E," /Colors ").concat(v," /BitsPerComponent ").concat(u," /Columns ").concat(a),t=Pue(w,Math.ceil(a*v*u/8),v,u,n),_&&(f=Pue(b,Math.ceil(a*x/8),1,x,n))):(d=void 0,h=void 0,t=w,_&&(f=b)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:d,decodeParameters:h,transparency:T,palette:S,sMask:f,predictor:E,width:a,height:o,bitsPerComponent:u,sMaskBitsPerComponent:x,colorSpace:m}}},function(t){t.processGIF89A=function(e,r,n,i){var s=new dCt(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new fV(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)},t.processGIF87A=t.processGIF89A}(wr.API),Hh.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Hh.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Wi.log("bit decode error:"+r)}},Hh.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Hh.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Hh.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Hh.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},Hh.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},Hh.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Hh.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},Hh.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new Hh(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new fV(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(wr.API),Fue.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new Fue(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new fV(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}}(wr.API),wr.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=n[c],d=n[c+1],h=n[c+2],f=n[c+3];s[o++]=u,s[o++]=d,s[o++]=h,a[l++]=f}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},wr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},q2=wr.API,sD=q2.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,h=0,f=t.length,g=0,m=o[0]||l,v=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(h=d&&Ai(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,v.push((o[n]||m)/l+h)),g=n;return v},Tue=q2.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return q2.processArabic&&(t=q2.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:sD.apply(this,arguments).reduce(function(s,a){return s+a},0)},Cue=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},kue=function(t,e,r){r||(r={});var n,i,s,a,o,l,c,u=[],d=[u],h=r.textIndent||0,f=0,g=0,m=t.split(" "),v=sD.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),w=[];m.map(function(_){(_=_.split(/\s*\n/)).length>1?w=w.concat(_.map(function(S,T){return(T&&S.length?`
`:"")+S})):w.push(_[0])}),m=w,l=Tue.apply(this,[x,r])}for(s=0,a=m.length;s<a;s++){var b=0;if(n=m[s],l&&n[0]==`
`&&(n=n.substr(1),b=1),h+f+(g=(i=sD.apply(this,[n,r])).reduce(function(_,S){return _+S},0))>e||b){if(g>e){for(o=Cue.apply(this,[n,i,e-(h+f),e]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);g=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(_,S){return _+S},0)}else u=[n];d.push(u),h=g+l,f=v}else u.push(n),h+=f+g,f=v}return c=l?function(_,S){return(S?x:"")+_.join(" ")}:function(_){return _.join(" ")},d.map(c)},q2.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),h="Unicode";return d.metadata[h]?{widths:d.metadata[h].widths||{0:1},kerning:d.metadata[h].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(kue.apply(this,[n[o],a,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var a=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var f,g,m,v,x=["{"];for(var w in h){if(f=h[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=a(w).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof f=="number")f<0?(m=a(f).slice(3),v="-"):(m=a(f).slice(2),v=""),m=v+m.slice(0,-1)+i[m.slice(-1)];else{if(Ai(f)!=="object")throw new Error("Don't know what to do with value type "+Ai(f)+".");m=o(f)}x.push(g+m)}return x.push("}"),x.join("")},l=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,g,m,v,x={},w=1,b=x,_=[],S="",T="",E=h.length-1,C=1;C<E;C+=1)(v=h[C])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(v):v=="{"?(_.push([b,m]),b={},m=void 0):v=="}"?((g=_.pop())[0][g[1]]=b,m=void 0,b=g[0]):v=="-"?w=-1:m===void 0?n.hasOwnProperty(v)?(S+=n[v],m=parseInt(S,16)*w,w=1,S=""):S+=v:n.hasOwnProperty(v)?(T+=n[v],b[m]=parseInt(T,16)*w,w=1,m=void 0,T=""):T+=v;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var f=h.font,g=d.Unicode[f.postScriptName];g&&(f.metadata.Unicode={},f.metadata.Unicode.widths=g.widths,f.metadata.Unicode.kerning=g.kerning);var m=u.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(wr.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(yM(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(wr),wr.API.addSvgAsImage=function(t,e,r,n,i,s,a,o){if(isNaN(e)||isNaN(r))throw Wi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Wi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(Gr.canvg?Promise.resolve(Gr.canvg):$9(()=>import("./index.es-ef9xmM3u.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(u)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,a,o)})},wr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},wr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,d=0;function h(g,m){var v,x=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(d=0;d<f;d+=1)r[o[d]].value=r[o[d]].defaultValue,r[o[d]].explicitSet=!1}if(Ai(t)==="object"){for(i in t)if(s=t[i],h(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&h(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(c=0;c<s.length;c+=1)if(n=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(n=!1);n===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(wr.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,h=s.length;d<h;++d){if(o=a.metadata.characterToGlyph(s.charCodeAt(d)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(s){var a,o,l,c,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,h=(o=Object.keys(s).sort(function(f,g){return f-g})).length;d<h;d++)a=o[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",g=0;g<h.length;g++)f+=String.fromCharCode(h[g]);var m=c();u({data:f,addLength1:!0,objectId:m}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var x=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+oS(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+oS(o.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+oS(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,h="",f=0;f<d.length;f++)h+=String.fromCharCode(d[f]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+oS(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+oS(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,u=s.options||{},d=s.mutex||{},h=d.pdfEscape,f=d.activeFontKey,g=d.fonts,m=f,v="",x=0,w="",b=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:d};for(w=o,m=f,Array.isArray(o)&&(w=o[0]),x=0;x<w.length;x+=1)g[m].metadata.hasOwnProperty("cmap")&&(a=g[m].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),a||w[x].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=w[x]:v+="";var _="";return parseInt(m.slice(1))<14||b==="WinAnsiEncoding"?_=h(v,m).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(_=r(v,g[m])),d.isHex=!0,{text:_,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(wr),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(wr.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,c,u,d=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,b=0;this.__bidiEngine__={};var _=function(A){var I=A.charCodeAt(),M=I>>8,U=m[M];return U!==void 0?d[256*U+(255&I)]:M===252||M===253?"AL":x.test(M)?"L":M===8?"R":"N"},S=function(A){for(var I,M=0;M<A.length;M++){if((I=_(A.charAt(M)))==="L")return!1;if(I==="R")return!0}return!1},T=function(A,I,M,U){var Y,X,W,G,B=I[U];switch(B){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(B="AN");break;case"AL":w=!0,B="R";break;case"WS":case"BN":B="N";break;case"CS":U<1||U+1>=I.length||(Y=M[U-1])!=="EN"&&Y!=="AN"||(X=I[U+1])!=="EN"&&X!=="AN"?B="N":w&&(X="AN"),B=X===Y?X:"N";break;case"ES":B=(Y=U>0?M[U-1]:"B")==="EN"&&U+1<I.length&&I[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&M[U-1]==="EN"){B="EN";break}if(w){B="N";break}for(W=U+1,G=I.length;W<G&&I[W]==="ET";)W++;B=W<G&&I[W]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(G=I.length,W=U+1;W<G&&I[W]==="NSM";)W++;if(W<G){var re=A[U],ae=re>=1425&&re<=2303||re===64286;if(Y=I[W],ae&&(Y==="R"||Y==="AL")){B="R";break}}}B=U<1||(Y=I[U-1])==="B"?"N":M[U-1];break;case"B":w=!1,i=!0,B=b;break;case"S":s=!0,B="N"}return B},E=function(A,I,M){var U=A.split("");return M&&C(U,M,{hiLevel:b}),U.reverse(),I&&I.reverse(),U.join("")},C=function(A,I,M){var U,Y,X,W,G,B=-1,re=A.length,ae=0,R=[],j=b?f:h,V=[];for(w=!1,i=!1,s=!1,Y=0;Y<re;Y++)V[Y]=_(A[Y]);for(X=0;X<re;X++){if(G=ae,R[X]=T(A,V,R,X),U=240&(ae=j[G][g[R[X]]]),ae&=15,I[X]=W=j[ae][5],U>0)if(U===16){for(Y=B;Y<X;Y++)I[Y]=1;B=-1}else B=-1;if(j[ae][6])B===-1&&(B=X);else if(B>-1){for(Y=B;Y<X;Y++)I[Y]=W;B=-1}V[X]==="B"&&(I[X]=0),M.hiLevel|=W}s&&function(K,ne,J){for(var me=0;me<J;me++)if(K[me]==="S"){ne[me]=b;for(var ce=me-1;ce>=0&&K[ce]==="WS";ce--)ne[ce]=b}}(V,I,re)},N=function(A,I,M,U,Y){if(!(Y.hiLevel<A)){if(A===1&&b===1&&!i)return I.reverse(),void(M&&M.reverse());for(var X,W,G,B,re=I.length,ae=0;ae<re;){if(U[ae]>=A){for(G=ae+1;G<re&&U[G]>=A;)G++;for(B=ae,W=G-1;B<W;B++,W--)X=I[B],I[B]=I[W],I[W]=X,M&&(X=M[B],M[B]=M[W],M[W]=X);ae=G}ae++}}},F=function(A,I,M){var U=A.split(""),Y={hiLevel:b};return M||(M=[]),C(U,M,Y),function(X,W,G){if(G.hiLevel!==0&&u)for(var B,re=0;re<X.length;re++)W[re]===1&&(B=v.indexOf(X[re]))>=0&&(X[re]=v[B+1])}(U,M,Y),N(2,U,I,M,Y),N(1,U,I,M,Y),U.join("")};return this.__bidiEngine__.doBidiReorder=function(A,I,M){if(function(Y,X){if(X)for(var W=0;W<Y.length;W++)X[W]=W;o===void 0&&(o=S(Y)),c===void 0&&(c=S(Y))}(A,I),a||!l||c)if(a&&l&&o^c)b=o?1:0,A=E(A,I,M);else if(!a&&l&&c)b=o?1:0,A=F(A,I,M),A=E(A,I);else if(!a||o||l||c){if(a&&!l&&o^c)A=E(A,I),o?(b=0,A=F(A,I,M)):(b=1,A=F(A,I,M),A=E(A,I));else if(a&&o&&!l&&c)b=1,A=F(A,I,M),A=E(A,I);else if(!a&&!l&&o^c){var U=u;o?(b=1,A=F(A,I,M),b=0,u=!1,A=F(A,I,M),u=U):(b=0,A=F(A,I,M),A=E(A,I),b=1,u=!1,A=F(A,I,M),u=U,A=E(A,I))}}else b=0,A=F(A,I,M);else b=o?1:0,A=F(A,I,M);return A},this.__bidiEngine__.setOptions=function(A){A&&(a=A.isInputVisual,l=A.isOutputVisual,o=A.isInputRtl,c=A.isOutputRtl,u=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(wr),wr.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Ky(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new TCt(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new hCt(this.contents),this.head=new pCt(this),this.name=new xCt(this),this.cmap=new aCe(this),this.toUnicode={},this.hhea=new mCt(this),this.maxp=new bCt(this),this.hmtx=new wCt(this),this.post=new vCt(this),this.os2=new gCt(this),this.loca=new ECt(this),this.glyf=new _Ct(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Kf,Ky=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),hCt=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,c,u,d,h,f,g,m;for(m in f=Object.keys(r).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),a=Math.floor(d/l),u=16*f-d,(i=new Ky).writeInt(this.scalarType),i.writeShort(f),i.writeShort(d),i.writeShort(a),i.writeShort(u),s=16*f,c=i.pos+s,o=null,g=[],r)for(h=r[m],i.writeString(m),i.writeInt(t(h)),i.writeInt(c),i.writeInt(h.length),g=g.concat(h),m==="head"&&(o=c),c+=h.length;c%4;)g.push(0),c++;return i.write(g),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=oCe.call(r);r.length%4;)r.push(0);for(s=new Ky(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),fCt={}.hasOwnProperty,jm=function(t,e){for(var r in e)fCt.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Kf=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var pCt=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Kf),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Ky).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),jue=function(){function t(e,r){var n,i,s,a,o,l,c,u,d,h,f,g,m,v,x,w,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),h=f/2,e.pos+=6,s=function(){var _,S;for(S=[],l=_=0;0<=h?_<h:_>h;l=0<=h?++_:--_)S.push(e.readUInt16());return S}(),e.pos+=2,m=function(){var _,S;for(S=[],l=_=0;0<=h?_<h:_>h;l=0<=h?++_:--_)S.push(e.readUInt16());return S}(),c=function(){var _,S;for(S=[],l=_=0;0<=h?_<h:_>h;l=0<=h?++_:--_)S.push(e.readUInt16());return S}(),u=function(){var _,S;for(S=[],l=_=0;0<=h?_<h:_>h;l=0<=h?++_:--_)S.push(e.readUInt16());return S}(),i=(this.length-e.pos+this.offset)/2,o=function(){var _,S;for(S=[],l=_=0;0<=i?_<i:_>i;l=0<=i?++_:--_)S.push(e.readUInt16());return S}(),l=x=0,b=s.length;x<b;l=++x)for(v=s[l],n=w=g=m[l];g<=v?w<=v:w>=v;n=g<=v?++w:--w)u[l]===0?a=n+c[l]:(a=o[u[l]/2+(n-g)-(h-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}e.pos=d}return t.encode=function(e,r){var n,i,s,a,o,l,c,u,d,h,f,g,m,v,x,w,b,_,S,T,E,C,N,F,A,I,M,U,Y,X,W,G,B,re,ae,R,j,V,K,ne,J,me,ce,he,_e,ee;switch(U=new Ky,a=Object.keys(e).sort(function(je,Ue){return je-Ue}),r){case"macroman":for(m=0,v=function(){var je=[];for(g=0;g<256;++g)je.push(0);return je}(),w={0:0},s={},Y=0,B=a.length;Y<B;Y++)w[ce=e[i=a[Y]]]==null&&(w[ce]=++m),s[i]={old:e[i],new:w[e[i]]},v[i]=w[e[i]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(v),{charMap:s,subtable:U.data,maxGlyphID:m+1};case"unicode":for(I=[],d=[],b=0,w={},n={},x=c=null,X=0,re=a.length;X<re;X++)w[S=e[i=a[X]]]==null&&(w[S]=++b),n[i]={old:S,new:w[S]},o=w[S]-i,x!=null&&o===c||(x&&d.push(x),I.push(i),c=o),x=i;for(x&&d.push(x),d.push(65535),I.push(65535),F=2*(N=I.length),C=2*Math.pow(Math.log(N)/Math.LN2,2),h=Math.log(C/2)/Math.LN2,E=2*N-C,l=[],T=[],f=[],g=W=0,ae=I.length;W<ae;g=++W){if(A=I[g],u=d[g],A===65535){l.push(0),T.push(0);break}if(A-(M=n[A].new)>=32768)for(l.push(0),T.push(2*(f.length+N-g)),i=G=A;A<=u?G<=u:G>=u;i=A<=u?++G:--G)f.push(n[i].new);else l.push(M-A),T.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*N+2*f.length),U.writeUInt16(0),U.writeUInt16(F),U.writeUInt16(C),U.writeUInt16(h),U.writeUInt16(E),J=0,R=d.length;J<R;J++)i=d[J],U.writeUInt16(i);for(U.writeUInt16(0),me=0,j=I.length;me<j;me++)i=I[me],U.writeUInt16(i);for(he=0,V=l.length;he<V;he++)o=l[he],U.writeUInt16(o);for(_e=0,K=T.length;_e<K;_e++)_=T[_e],U.writeUInt16(_);for(ee=0,ne=f.length;ee<ne;ee++)m=f[ee],U.writeUInt16(m);return{charMap:n,subtable:U.data,maxGlyphID:b+1}}},t}(),aCe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Kf),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new jue(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=jue.encode(e,r),(i=new Ky).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),mCt=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Kf),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),gCt=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Kf),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),vCt=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Kf),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),yCt=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},xCt=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Kf),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,a,o,l,c,u,d,h;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=u=0,d=n.length;u<d;s=++u)i=n[s],e.pos=i.offset,c=e.readString(i.length),a=new yCt(c,i),l[h=i.nameID]==null&&(l[h]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),bCt=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Kf),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),wCt=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Kf),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,d,h;for(h=[],c=0,u=(d=this.metrics).length;c<u;c++)s=d[c],h.push(s.advance);return h}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),oCe=[].slice,_Ct=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Kf),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,a,o,l,c,u,d;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,a=(o=new Ky(r.read(i))).readShort(),c=o.readShort(),d=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=a===-1?new ACt(o,c,d,l,u):new SCt(o,a,c,d,l,u),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,a,o,l;for(a=[],s=[],o=0,l=r.length;o<l;o++)i=e[r[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},t}(),SCt=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),ACt=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Ky(oCe.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),ECt=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jm(t,Kf),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<r.length&&r[s]==a){++s,n[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},t}(),TCt=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,c,u,d,h,f,g,m,v,x;for(i in n=aCe.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},x=n.charMap)f[(l=x[i]).old]=l.new;for(g in h=n.maxGlyphID,a)g in f||(f[g]=h++);return u=function(w){var b,_;for(b in _={},w)_[w[b]]=b;return _}(f),d=Object.keys(u).sort(function(w,b){return w-b}),m=function(){var w,b,_;for(_=[],w=0,b=d.length;w<b;w++)o=d[w],_.push(u[o]);return _}(),s=this.font.glyf.encode(a,m,f),c=this.font.loca.encode(s.offsets,m),v={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t}();wr.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();function CCt(){var Ni,li,Tn;const{userProfile:t}=Dm(),[e,r]=O.useState([]),[n,i]=O.useState([]),[s,a]=O.useState([]),[o,l]=O.useState([]),[c,u]=O.useState([]),[d,h]=O.useState([]),[f,g]=O.useState([]),[m,v]=O.useState(!1),[x,w]=O.useState(""),[b,_]=O.useState(""),[S,T]=O.useState(""),[E,C]=O.useState(""),[N,F]=O.useState(""),[A,I]=O.useState(""),[M,U]=O.useState(""),[Y,X]=O.useState(""),[W,G]=O.useState(""),[B,re]=O.useState(!1),[ae,R]=O.useState(!1),[j,V]=O.useState(!1),[K,ne]=O.useState(""),[J,me]=O.useState(""),[ce,he]=O.useState(!1),[_e,ee]=O.useState(null),[je,Ue]=O.useState(!1),[pe,Me]=O.useState(!1),[Ye,xt]=O.useState(""),[Ke,be]=O.useState(""),[Pe,De]=O.useState(""),[Je,it]=O.useState(""),[rt,st]=O.useState("");O.useEffect(()=>{Dt()},[]);const Dt=async()=>{try{const[Oe,Lt,It,se,de,ue,xe]=await Promise.all([wC(),SC(),fx(),_C(),x_(),kX(),uN()]);r(Oe),i(Lt),a(It),g(se),l(de),u(ue),h(xe)}catch(Oe){console.error("Erro ao carregar dados:",Oe),Be.error("Erro ao carregar dados")}},kt=e.find(Oe=>Oe.id===x),Nt=n.find(Oe=>Oe.id===b),At=(Oe,Lt)=>{if(!Lt)return{percentual:0,valor:0};if(Lt.comissoes&&Lt.comissoes.length>0){const se=Lt.comissoes.find(ue=>Oe>=ue.valorMin&&Oe<=ue.valorMax);if(se)return{percentual:se.percentual,valor:Oe*se.percentual/100};const de=Lt.comissoes[Lt.comissoes.length-1];return{percentual:de.percentual,valor:Oe*de.percentual/100}}const It=Lt.comissaoAgente||Lt.comissao||0;return{percentual:It,valor:Oe*It/100}},Tt=M?parseFloat(M):0,Ur=At(Tt,Nt),Yt=Ur.percentual,sr=Ur.valor.toFixed(2),Cr=(Nt==null?void 0:Nt.comissaoFornecedor)||0,jr=Ur.percentual,Ne=M?(parseFloat(M)*(Cr/100)).toFixed(2):"0.00",Gt=sr,Ve=(t==null?void 0:t.papel)==="Gerente"||(t==null?void 0:t.papel)==="Administrador",Qt=async()=>{if(!x||!b||!S||!M||!W){Be.error("Preencha todos os campos obrigatrios");return}re(!0);try{const Oe=`VND-${Date.now().toString().slice(-6)}`,Lt=n.find(xe=>xe.id===b),It=parseFloat(M),se=At(It,Lt),de=(Lt==null?void 0:Lt.comissaoFornecedor)||0,ue=It*de/100;await Hf(pi(_r,"vendas"),{id:Oe,clienteId:x,produtoId:b,funcionarioId:S,fornecedorId:E||(Lt==null?void 0:Lt.fornecedorId)||"",bancoId:N||(Lt==null?void 0:Lt.bancoId)||"",categoriaId:A||(Lt==null?void 0:Lt.categoriaId)||"",valorContrato:It,numeroContrato:Y||"",prazo:parseInt(W),comissao:se.valor,comissaoPercentual:se.percentual,comissaoFornecedor:ue,comissaoFornecedorPercentual:de,comissaoAgente:se.valor,comissaoAgentePercentual:se.percentual,status:"aprovada",criadoPor:(t==null?void 0:t.uid)||"",createdAt:Wr.now()}),Be.success(`Venda registrada com sucesso! ID: ${Oe}`),await Dt(),w(""),_(""),T(""),C(""),F(""),I(""),U(""),X(""),G("")}catch(Oe){console.error("Erro ao registrar venda:",Oe),Be.error("Erro ao registrar venda")}finally{re(!1)}},Ht=()=>(t==null?void 0:t.papel)==="Gerente"||(t==null?void 0:t.papel)==="Administrador",gt=Oe=>{if(!Ht()){Be.error("Apenas Gerentes e Administradores podem editar vendas");return}ee(Oe),De(Oe.clienteId),it(Oe.produtoId),st(Oe.funcionarioId),xt(Oe.valorContrato.toString()),be(Oe.prazo.toString()),Ue(!0)},ft=async()=>{if(!_e||!_e.id){Be.error("Venda no encontrada");return}try{const Oe=n.find(xe=>xe.id===Je),Lt=parseFloat(Ye),It=At(Lt,Oe),se=(Oe==null?void 0:Oe.comissaoFornecedor)||0,de=Lt*se/100,ue=ri(_r,"vendas",_e.id);await Ac(ue,{clienteId:Pe,produtoId:Je,funcionarioId:rt,fornecedorId:(Oe==null?void 0:Oe.fornecedorId)||"",bancoId:(Oe==null?void 0:Oe.bancoId)||"",categoriaId:(Oe==null?void 0:Oe.categoriaId)||"",valorContrato:Lt,prazo:parseInt(Ke),comissao:It.valor,comissaoPercentual:It.percentual,comissaoAgente:It.valor,comissaoAgentePercentual:It.percentual,comissaoFornecedor:de,comissaoFornecedorPercentual:se}),Be.success("Venda atualizada com sucesso!"),Ue(!1),await Dt()}catch(Oe){console.error("Erro ao atualizar venda:",Oe),Be.error("Erro ao atualizar venda")}},ar=Oe=>{if(!Ht()){Be.error("Apenas Gerentes e Administradores podem estornar vendas");return}ee(Oe),Me(!0)},tr=async()=>{if(!_e||!_e.id){Be.error("Venda no encontrada");return}try{const Oe=ri(_r,"vendas",_e.id);await Ac(Oe,{status:"cancelada"}),Be.success("Venda estornada com sucesso!"),Me(!1),ee(null),await Dt()}catch(Oe){console.error("Erro ao estornar venda:",Oe),Be.error("Erro ao estornar venda")}},Sr=async()=>{if(!K.trim()){Be.error("Digite o nome do banco");return}try{const Oe=await fGe({nome:K,status:"ativo"});Be.success("Banco cadastrado com sucesso!"),ne(""),R(!1),await Dt(),F(Oe)}catch(Oe){console.error("Erro ao cadastrar banco:",Oe),Be.error("Erro ao cadastrar banco")}},qr=async()=>{if(!J.trim()){Be.error("Digite o nome da categoria");return}try{const Oe=await PX({nome:J,status:"ativo"});Be.success("Categoria cadastrada com sucesso!"),me(""),V(!1),await Dt(),I(Oe)}catch(Oe){console.error("Erro ao cadastrar categoria:",Oe),Be.error("Erro ao cadastrar categoria")}},Nn=()=>{if(!x||!b||!M||!W){Be.error("Preencha os dados da venda para emitir o contrato");return}const Oe=e.find(de=>de.id===x),Lt=n.find(de=>de.id===b),It=new wr;It.setFontSize(18),It.setFont("helvetica","bold"),It.text("CONTRATO DE EMPRSTIMO",105,20,{align:"center"}),It.setFontSize(10),It.setFont("helvetica","normal"),It.text(`Contrato N: VND-${Date.now().toString().slice(-6)}`,105,30,{align:"center"});let se=50;It.setFontSize(12),It.setFont("helvetica","bold"),It.text("DADOS DO CONTRATANTE",20,se),se+=10,It.setFontSize(10),It.setFont("helvetica","normal"),It.text(`Nome: ${(Oe==null?void 0:Oe.nome)||""}`,20,se),se+=7,It.text(`CPF: ${(Oe==null?void 0:Oe.cpf)||""}`,20,se),se+=7,It.text(`Endereo: ${(Oe==null?void 0:Oe.endereco)||""}`,20,se),se+=15,It.setFontSize(12),It.setFont("helvetica","bold"),It.text("DADOS DO CONTRATO",20,se),se+=10,It.setFontSize(10),It.setFont("helvetica","normal"),It.text(`Produto: ${(Lt==null?void 0:Lt.nome)||""}`,20,se),se+=7,It.text(`Valor: R$ ${parseFloat(M).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,20,se),se+=7,It.text(`Prazo: ${W} meses`,20,se),se+=7,It.text(`Data: ${new Date().toLocaleDateString("pt-BR")}`,20,se),se=250,It.setFontSize(8),It.text("_".repeat(80),20,se),se+=5,It.text("Assinatura do Contratante",20,se),It.save(`contrato_${Date.now()}.pdf`),Be.success("Contrato emitido com sucesso!")},Jt=()=>{if(!x||!b||!S||!M||!W){Be.error("Preencha todos os dados da venda para imprimir o controle");return}const Oe=e.find(Ee=>Ee.id===x),Lt=n.find(Ee=>Ee.id===b),It=s.find(Ee=>Ee.id===S),se=o.find(Ee=>Ee.id===(Lt==null?void 0:Lt.fornecedorId)),de=new wr;de.setFontSize(20),de.setFont("helvetica","bold"),de.text("CONTROLE DE VENDA",105,20,{align:"center"}),de.setFontSize(10),de.setFont("helvetica","normal"),de.text(`Gerado em: ${new Date().toLocaleString("pt-BR")}`,105,30,{align:"center"}),de.text(`ID: VND-${Date.now().toString().slice(-8)}`,105,37,{align:"center"}),de.setDrawColor(0),de.setLineWidth(.5),de.line(20,42,190,42);let ue=55;de.setFillColor(240,240,240),de.rect(20,ue-6,170,8,"F"),de.setFontSize(12),de.setFont("helvetica","bold"),de.text("DADOS DO CLIENTE",25,ue),ue+=12,de.setFontSize(10),de.setFont("helvetica","normal"),de.text(`Nome: ${(Oe==null?void 0:Oe.nome)||""}`,25,ue),ue+=7,de.text(`CPF: ${(Oe==null?void 0:Oe.cpf)||""}`,25,ue),ue+=7,de.text(`Email: ${(Oe==null?void 0:Oe.email)||""}`,25,ue),ue+=7,de.text(`Telefone: ${(Oe==null?void 0:Oe.telefone)||""}`,25,ue),ue+=7,de.text(`Endereo: ${(Oe==null?void 0:Oe.endereco)||""}, ${(Oe==null?void 0:Oe.cidade)||""} - ${(Oe==null?void 0:Oe.estado)||""}`,25,ue),ue+=15,de.setFillColor(240,240,240),de.rect(20,ue-6,170,8,"F"),de.setFontSize(12),de.setFont("helvetica","bold"),de.text("DADOS DO PRODUTO/SERVIO",25,ue),ue+=12,de.setFontSize(10),de.setFont("helvetica","normal"),de.text(`Produto: ${(Lt==null?void 0:Lt.nome)||""}`,25,ue),ue+=7,de.text(`Fornecedor (Banco): ${(se==null?void 0:se.nomeFantasia)||(se==null?void 0:se.razaoSocial)||"No informado"}`,25,ue),ue+=7,de.text(`Taxa de Juros: ${(Lt==null?void 0:Lt.taxaJuros)||""}%`,25,ue),ue+=7,de.text(`Comisso: ${Yt}%`,25,ue),ue+=15,de.setFillColor(240,240,240),de.rect(20,ue-6,170,8,"F"),de.setFontSize(12),de.setFont("helvetica","bold"),de.text("DETALHES DA VENDA",25,ue),ue+=12,de.setFontSize(10),de.setFont("helvetica","normal"),de.text(`Valor do Contrato: R$ ${parseFloat(M).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,25,ue),ue+=7,de.text(`Prazo: ${W} ${W==="1"?"ms":"meses"}`,25,ue),ue+=7;const xe=parseFloat(M)/parseInt(W);de.text(`Valor da Parcela: R$ ${xe.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,25,ue),ue+=7;const Se=parseFloat(M)*Yt/100;de.text(`Valor da Comisso: R$ ${Se.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,25,ue),ue+=7,de.text(`Data da Venda: ${new Date().toLocaleDateString("pt-BR")}`,25,ue),ue+=15,de.setFillColor(240,240,240),de.rect(20,ue-6,170,8,"F"),de.setFontSize(12),de.setFont("helvetica","bold"),de.text("DADOS DO AGENTE DE VENDAS",25,ue),ue+=12,de.setFontSize(10),de.setFont("helvetica","normal"),de.text(`Nome: ${(It==null?void 0:It.nome)||""}`,25,ue),ue+=7,de.text(`CPF: ${(It==null?void 0:It.cpf)||""}`,25,ue),ue+=7,de.text(`Email: ${(It==null?void 0:It.email)||""}`,25,ue),ue+=7,de.text(`Funo: ${(It==null?void 0:It.funcao)||(It==null?void 0:It.cargo)||""}`,25,ue),ue+=15,de.setFillColor(220,220,220),de.rect(20,ue-6,170,20,"F"),de.setFontSize(14),de.setFont("helvetica","bold"),de.text("RESUMO FINANCEIRO",105,ue,{align:"center"}),ue+=10,de.setFontSize(11),de.text(`Total do Contrato: R$ ${parseFloat(M).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,25,ue),de.text(`Comisso do Agente: R$ ${Se.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,120,ue),de.setFontSize(8),de.setFont("helvetica","italic"),de.text("Documento gerado automaticamente pelo sistema CrditoGestor",105,280,{align:"center"}),de.text("Este controle de venda serve como comprovante interno da operao",105,285,{align:"center"}),de.save(`controle_venda_${Date.now()}.pdf`),Be.success("Controle de Venda impresso com sucesso!")};return p.jsxs("div",{children:[p.jsx(uu,{title:"Ponto de Venda (PDV)",description:"Registre novas vendas e emita contratos"}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[p.jsxs(Tr,{className:"p-6",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:p.jsx(tY,{className:"w-5 h-5 text-primary"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold",children:"1. Selecionar Cliente"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Busque ou cadastre o cliente"})]})]}),p.jsx("div",{className:"space-y-4",children:p.jsxs("div",{children:[p.jsx(Xe,{children:"Cliente *"}),p.jsxs(Hg,{open:m,onOpenChange:v,children:[p.jsx(Wg,{asChild:!0,children:p.jsxs(mt,{variant:"outline",role:"combobox","aria-expanded":m,className:"w-full justify-between",children:[x?`${kt==null?void 0:kt.nome} - CPF: ${kt==null?void 0:kt.cpf}`:"Buscar cliente por nome ou CPF...",p.jsx(NDe,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),p.jsx(Nm,{className:"w-[400px] p-0",children:p.jsxs(FEe,{children:[p.jsx(jEe,{placeholder:"Digite o nome ou CPF do cliente..."}),p.jsxs(LEe,{children:[p.jsx(BEe,{children:"Nenhum cliente encontrado."}),p.jsx($Ee,{children:e.map(Oe=>p.jsxs(VEe,{value:`${Oe.nome} ${Oe.cpf}`,onSelect:()=>{w(Oe.id),v(!1)},children:[p.jsx(ZK,{className:Pt("mr-2 h-4 w-4",x===Oe.id?"opacity-100":"opacity-0")}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"font-medium",children:Oe.nome}),p.jsxs("span",{className:"text-xs text-muted-foreground",children:["CPF: ",Oe.cpf]})]})]},Oe.id))})]})]})})]})]})})]}),p.jsxs(Tr,{className:"p-6",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent/10 flex items-center justify-center",children:p.jsx(r8,{className:"w-5 h-5 text-accent"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold",children:"2. Selecionar Produto"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Escolha o tipo de operao"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Xe,{children:"Produto *"}),p.jsxs(yn,{value:b,onValueChange:_,children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Selecione o produto"})}),p.jsx(mn,{children:n.map(Oe=>p.jsx($t,{value:Oe.id,children:Oe.nome},Oe.id))})]})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Fornecedor"}),p.jsxs(yn,{value:E,onValueChange:C,children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Selecione o fornecedor"})}),p.jsx(mn,{children:o.map(Oe=>p.jsx($t,{value:Oe.id,children:Oe.nomeFantasia},Oe.id))})]})]}),p.jsxs("div",{children:[p.jsxs(Xe,{className:"flex items-center justify-between",children:["Banco",p.jsx(mt,{type:"button",variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>R(!0),children:"+ Cadastrar Outro"})]}),p.jsxs(yn,{value:N,onValueChange:F,children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Selecione o banco"})}),p.jsxs(mn,{className:"max-h-[300px]",children:[p.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground",children:"Bancos Cadastrados"}),c.map(Oe=>p.jsx($t,{value:Oe.id,children:Oe.codigo?`${Oe.codigo} - ${Oe.nome}`:Oe.nome},Oe.id)),B9.length>0&&p.jsxs(p.Fragment,{children:[p.jsx(qi,{className:"my-2"}),p.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground",children:"Todos os Bancos do Brasil"}),B9.map(Oe=>p.jsxs($t,{value:`banco-br-${Oe.codigo}`,children:[Oe.codigo," - ",Oe.nome]},`br-${Oe.codigo}`))]})]})]}),p.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[B9.length," bancos disponveis"]})]}),p.jsxs("div",{children:[p.jsxs(Xe,{className:"flex items-center justify-between",children:["Categoria",p.jsx(mt,{type:"button",variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>V(!0),children:"+ Cadastrar"})]}),p.jsxs(yn,{value:A,onValueChange:I,children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Selecione a categoria"})}),p.jsx(mn,{children:d.map(Oe=>p.jsx($t,{value:Oe.id,children:Oe.nome},Oe.id))})]})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Prazo (meses) *"}),p.jsxs(yn,{value:W,onValueChange:G,children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Selecione"})}),p.jsx(mn,{className:"max-h-[300px]",children:Array.from({length:96},(Oe,Lt)=>Lt+1).map(Oe=>p.jsxs($t,{value:Oe.toString(),children:[Oe," ",Oe===1?"ms":"meses"]},Oe))})]})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Valor do Contrato (R$) *"}),p.jsx(pt,{type:"number",placeholder:"0,00",value:M,onChange:Oe=>U(Oe.target.value)})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Nmero do Contrato"}),p.jsx(pt,{type:"text",placeholder:"Ex: CT-2024-00001",value:Y,onChange:Oe=>X(Oe.target.value)}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Nmero de identificao do contrato (opcional)"})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Agente Responsvel *"}),p.jsxs(yn,{value:S,onValueChange:T,children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Selecione"})}),p.jsx(mn,{children:s.map(Oe=>p.jsx($t,{value:Oe.id,children:Oe.nome},Oe.id))})]})]})]})]})]}),p.jsx("div",{className:"space-y-6",children:p.jsxs(Tr,{className:"p-6 sticky top-24",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"w-10 h-10 rounded-lg bg-success/10 flex items-center justify-center",children:p.jsx(kDe,{className:"w-5 h-5 text-success"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold",children:"Resumo da Venda"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Confira os valores"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center py-2",children:[p.jsx("span",{className:"text-muted-foreground",children:"Cliente"}),p.jsx("span",{className:"font-medium text-sm",children:x?(Ni=e.find(Oe=>Oe.id===x))==null?void 0:Ni.nome:"-"})]}),p.jsx(qi,{}),p.jsxs("div",{className:"flex justify-between items-center py-2",children:[p.jsx("span",{className:"text-muted-foreground",children:"Produto"}),p.jsx("span",{className:"font-medium text-sm",children:b?(li=n.find(Oe=>Oe.id===b))==null?void 0:li.nome:"-"})]}),p.jsx(qi,{}),p.jsxs("div",{className:"flex justify-between items-center py-2",children:[p.jsx("span",{className:"text-muted-foreground",children:"Prazo"}),p.jsx("span",{className:"font-medium",children:W?`${W} meses`:"-"})]}),p.jsx(qi,{}),p.jsxs("div",{className:"flex justify-between items-center py-2",children:[p.jsx("span",{className:"text-muted-foreground",children:"N Contrato"}),p.jsx("span",{className:"font-medium text-sm",children:Y||"-"})]}),p.jsx(qi,{}),p.jsxs("div",{className:"flex justify-between items-center py-2",children:[p.jsx("span",{className:"text-muted-foreground",children:"Valor do Contrato"}),p.jsxs("span",{className:"font-semibold text-lg",children:["R$ ",M?parseFloat(M).toLocaleString("pt-BR",{minimumFractionDigits:2}):"0,00"]})]}),Ve&&p.jsxs(p.Fragment,{children:[p.jsx(qi,{}),p.jsxs("div",{className:"flex items-center gap-2 py-2 bg-amber-50 dark:bg-amber-950/20 px-3 rounded-md",children:[p.jsx(cT,{className:"w-4 h-4 text-amber-600"}),p.jsx("span",{className:"text-xs text-amber-600 font-medium",children:"Informaes visveis apenas para Gerentes e Administradores"})]}),p.jsxs("div",{className:"flex justify-between items-center py-2",children:[p.jsxs("span",{className:"text-muted-foreground",children:["Comisso Fornecedor (",Cr,"%)"]}),p.jsxs("span",{className:"font-semibold text-orange-600 text-lg",children:["R$ ",parseFloat(Ne).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),p.jsx(qi,{}),p.jsxs("div",{className:"flex justify-between items-center py-2",children:[p.jsxs("span",{className:"text-muted-foreground",children:["Comisso Agente (",jr,"%)"]}),p.jsxs("span",{className:"font-semibold text-success text-lg",children:["R$ ",parseFloat(Gt).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),p.jsx(qi,{}),p.jsxs("div",{className:"flex justify-between items-center py-2",children:[p.jsxs("span",{className:"text-muted-foreground",children:["Comisso Total (",Yt,"%)"]}),p.jsxs("span",{className:"font-semibold text-success text-lg",children:["R$ ",parseFloat(sr).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),p.jsxs("div",{className:"mt-6 space-y-3",children:[p.jsxs(mt,{className:"w-full gap-2",size:"lg",onClick:Qt,disabled:B,children:[p.jsx(Z5,{className:"w-5 h-5"}),B?"Processando...":"Finalizar Venda"]}),p.jsxs(mt,{variant:"outline",className:"w-full gap-2",onClick:Nn,disabled:!x||!b||!M||!W,children:[p.jsx(iz,{className:"w-5 h-5"}),"Emitir Contrato"]}),p.jsxs(mt,{variant:"secondary",className:"w-full gap-2",onClick:Jt,disabled:!x||!b||!S||!M||!W,children:[p.jsx(iz,{className:"w-5 h-5"}),"Imprimir Controle de Venda"]}),p.jsx(qi,{className:"my-4"}),p.jsxs(mt,{variant:"default",className:"w-full gap-2 bg-blue-600 hover:bg-blue-700",onClick:()=>he(!0),children:[p.jsx(nre,{className:"w-5 h-5"}),"Consultar Vendas"]})]})]})})]}),p.jsx(oo,{open:ce,onOpenChange:he,children:p.jsxs($a,{className:"max-w-6xl max-h-[80vh] overflow-y-auto",children:[p.jsx(Va,{children:p.jsxs(Ua,{className:"flex items-center gap-2",children:[p.jsx(nre,{className:"w-5 h-5"}),"Consultar Vendas",Ht()&&p.jsxs(Ns,{variant:"outline",className:"ml-2",children:[p.jsx(cT,{className:"w-3 h-3 mr-1"}),t==null?void 0:t.papel]})]})}),p.jsx("div",{className:"mt-4",children:p.jsxs(Ff,{children:[p.jsx(jf,{children:p.jsxs(di,{children:[p.jsx(Xt,{children:"ID"}),p.jsx(Xt,{children:"Data"}),p.jsx(Xt,{children:"Cliente"}),p.jsx(Xt,{children:"Produto"}),p.jsx(Xt,{children:"Valor"}),p.jsx(Xt,{children:"Prazo"}),p.jsx(Xt,{children:"Comisso"}),p.jsx(Xt,{children:"Status"}),Ht()&&p.jsx(Xt,{children:"Aes"})]})}),p.jsx(Lf,{children:f.length===0?p.jsx(di,{children:p.jsx(Vt,{colSpan:Ht()?9:8,className:"text-center text-muted-foreground",children:"Nenhuma venda encontrada"})}):f.sort((Oe,Lt)=>{var de,ue,xe,Se;const It=((ue=(de=Oe.createdAt)==null?void 0:de.toDate)==null?void 0:ue.call(de))||new Date(0);return(((Se=(xe=Lt.createdAt)==null?void 0:xe.toDate)==null?void 0:Se.call(xe))||new Date(0)).getTime()-It.getTime()}).map(Oe=>{var se;const Lt=e.find(de=>de.id===Oe.clienteId),It=n.find(de=>de.id===Oe.produtoId);return p.jsxs(di,{children:[p.jsx(Vt,{className:"font-mono text-xs",children:Oe.id}),p.jsx(Vt,{children:(se=Oe.createdAt)!=null&&se.toDate?Pr(Oe.createdAt.toDate(),"dd/MM/yyyy",{locale:Zr}):"-"}),p.jsx(Vt,{children:(Lt==null?void 0:Lt.nome)||"-"}),p.jsx(Vt,{children:(It==null?void 0:It.nome)||"-"}),p.jsxs(Vt,{className:"font-semibold",children:["R$ ",Number(Oe.valorContrato).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsxs(Vt,{children:[Oe.prazo," meses"]}),p.jsxs(Vt,{className:"text-green-600 font-semibold",children:["R$ ",Number(Oe.comissao||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsx(Vt,{children:p.jsx(Ns,{variant:Oe.status==="cancelada"?"destructive":"default",children:Oe.status||"aprovada"})}),Ht()&&p.jsx(Vt,{children:p.jsx("div",{className:"flex gap-2",children:Oe.status!=="cancelada"&&p.jsxs(p.Fragment,{children:[p.jsx(mt,{size:"sm",variant:"outline",onClick:()=>gt(Oe),children:p.jsx(FF,{className:"w-4 h-4"})}),p.jsx(mt,{size:"sm",variant:"destructive",onClick:()=>ar(Oe),children:p.jsx(DF,{className:"w-4 h-4"})})]})})})]},Oe.id)})})]})})]})}),p.jsx(oo,{open:je,onOpenChange:Ue,children:p.jsxs($a,{className:"max-w-2xl",children:[p.jsx(Va,{children:p.jsxs(Ua,{className:"flex items-center gap-2",children:[p.jsx(FF,{className:"w-5 h-5"}),"Editar Venda"]})}),p.jsxs("div",{className:"space-y-4 mt-4",children:[p.jsxs("div",{children:[p.jsx(Xe,{children:"Cliente *"}),p.jsxs(yn,{value:Pe,onValueChange:De,children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Selecione o cliente"})}),p.jsx(mn,{children:e.map(Oe=>p.jsxs($t,{value:Oe.id,children:[Oe.nome," - CPF: ",Oe.cpf]},Oe.id))})]})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Produto *"}),p.jsxs(yn,{value:Je,onValueChange:it,children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Selecione o produto"})}),p.jsx(mn,{children:n.map(Oe=>p.jsx($t,{value:Oe.id,children:Oe.nome},Oe.id))})]})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Agente Responsvel *"}),p.jsxs(yn,{value:rt,onValueChange:st,children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Selecione o agente"})}),p.jsx(mn,{children:s.map(Oe=>p.jsx($t,{value:Oe.id,children:Oe.nome},Oe.id))})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Xe,{children:"Valor do Contrato (R$) *"}),p.jsx(pt,{type:"number",value:Ye,onChange:Oe=>xt(Oe.target.value)})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Prazo (meses) *"}),p.jsxs(yn,{value:Ke,onValueChange:be,children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Selecione"})}),p.jsx(mn,{className:"max-h-[300px]",children:Array.from({length:96},(Oe,Lt)=>Lt+1).map(Oe=>p.jsxs($t,{value:Oe.toString(),children:[Oe," ",Oe===1?"ms":"meses"]},Oe))})]})]})]})]}),p.jsxs(Zw,{className:"mt-6",children:[p.jsx(mt,{variant:"outline",onClick:()=>Ue(!1),children:"Cancelar"}),p.jsx(mt,{onClick:ft,children:"Salvar Alteraes"})]})]})}),p.jsx(dQ,{open:pe,onOpenChange:Me,children:p.jsxs(ZB,{children:[p.jsxs(QB,{children:[p.jsxs(e7,{className:"flex items-center gap-2",children:[p.jsx(DF,{className:"w-5 h-5 text-destructive"}),"Confirmar Estorno de Venda"]}),p.jsxs(t7,{children:["Tem certeza que deseja estornar esta venda?",p.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"ID:"}),p.jsx("span",{className:"font-mono font-semibold",children:_e==null?void 0:_e.id})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Cliente:"}),p.jsx("span",{className:"font-semibold",children:(Tn=e.find(Oe=>Oe.id===(_e==null?void 0:_e.clienteId)))==null?void 0:Tn.nome})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-muted-foreground",children:"Valor:"}),p.jsxs("span",{className:"font-semibold",children:["R$ ",Number((_e==null?void 0:_e.valorContrato)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),p.jsx("p",{className:"mt-4 text-destructive font-semibold",children:"Esta ao no pode ser desfeita!"})]})]}),p.jsxs(JB,{children:[p.jsx(n7,{children:"Cancelar"}),p.jsx(r7,{onClick:tr,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Confirmar Estorno"})]})]})}),p.jsx(oo,{open:ae,onOpenChange:R,children:p.jsxs($a,{children:[p.jsx(Va,{children:p.jsx(Ua,{children:"Cadastrar Novo Banco"})}),p.jsx("div",{className:"space-y-4 mt-4",children:p.jsxs("div",{children:[p.jsx(Xe,{children:"Nome do Banco *"}),p.jsx(pt,{placeholder:"Ex: Banco do Brasil, Caixa, Ita...",value:K,onChange:Oe=>ne(Oe.target.value),onKeyDown:Oe=>{Oe.key==="Enter"&&Sr()}})]})}),p.jsxs(Zw,{children:[p.jsx(mt,{variant:"outline",onClick:()=>{R(!1),ne("")},children:"Cancelar"}),p.jsx(mt,{onClick:Sr,children:"Cadastrar"})]})]})}),p.jsx(oo,{open:j,onOpenChange:V,children:p.jsxs($a,{children:[p.jsx(Va,{children:p.jsx(Ua,{children:"Cadastrar Nova Categoria"})}),p.jsx("div",{className:"space-y-4 mt-4",children:p.jsxs("div",{children:[p.jsx(Xe,{children:"Nome da Categoria *"}),p.jsx(pt,{placeholder:"Ex: Emprstimo Pessoal, Consignado, Carto...",value:J,onChange:Oe=>me(Oe.target.value),onKeyDown:Oe=>{Oe.key==="Enter"&&qr()}})]})}),p.jsxs(Zw,{children:[p.jsx(mt,{variant:"outline",onClick:()=>{V(!1),me("")},children:"Cancelar"}),p.jsx(mt,{onClick:qr,children:"Cadastrar"})]})]})})]})}var zr=function(){return zr=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},zr.apply(this,arguments)};function kCt(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function lCe(t,e,r){for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function gR(t){return t.mode==="multiple"}function vR(t){return t.mode==="range"}function u7(t){return t.mode==="single"}var PCt={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function NCt(t,e){return Pr(t,"LLLL y",e)}function ICt(t,e){return Pr(t,"d",e)}function OCt(t,e){return Pr(t,"LLLL",e)}function RCt(t){return"".concat(t)}function DCt(t,e){return Pr(t,"cccccc",e)}function MCt(t,e){return Pr(t,"yyyy",e)}var FCt=Object.freeze({__proto__:null,formatCaption:NCt,formatDay:ICt,formatMonthCaption:OCt,formatWeekNumber:RCt,formatWeekdayName:DCt,formatYearCaption:MCt}),jCt=function(t,e,r){return Pr(t,"do MMMM (EEEE)",r)},LCt=function(){return"Month: "},BCt=function(){return"Go to next month"},$Ct=function(){return"Go to previous month"},VCt=function(t,e){return Pr(t,"cccc",e)},UCt=function(t){return"Week n. ".concat(t)},zCt=function(){return"Year: "},HCt=Object.freeze({__proto__:null,labelDay:jCt,labelMonthDropdown:LCt,labelNext:BCt,labelPrevious:$Ct,labelWeekNumber:UCt,labelWeekday:VCt,labelYearDropdown:zCt});function WCt(){var t="buttons",e=PCt,r=twe,n={},i={},s=1,a={},o=new Date;return{captionLayout:t,classNames:e,formatters:FCt,labels:HCt,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:s,styles:a,today:o,mode:"default"}}function qCt(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,i=t.toMonth,s=t.fromDate,a=t.toDate;return n?s=_a(n):e&&(s=new Date(e,0,1)),i?a=Cm(i):r&&(a=new Date(r,11,31)),{fromDate:s?wT(s):void 0,toDate:a?wT(a):void 0}}var cCe=O.createContext(void 0);function GCt(t){var e,r=t.initialProps,n=WCt(),i=qCt(r),s=i.fromDate,a=i.toDate,o=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;o!=="buttons"&&(!s||!a)&&(o="buttons");var l;(u7(r)||gR(r)||vR(r))&&(l=r.onSelect);var c=zr(zr(zr({},n),r),{captionLayout:o,classNames:zr(zr({},n.classNames),r.classNames),components:zr({},r.components),formatters:zr(zr({},n.formatters),r.formatters),fromDate:s,labels:zr(zr({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:zr(zr({},n.modifiers),r.modifiers),modifiersClassNames:zr(zr({},n.modifiersClassNames),r.modifiersClassNames),onSelect:l,styles:zr(zr({},n.styles),r.styles),toDate:a});return p.jsx(cCe.Provider,{value:c,children:t.children})}function cs(){var t=O.useContext(cCe);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function uCe(t){var e=cs(),r=e.locale,n=e.classNames,i=e.styles,s=e.formatters.formatCaption;return p.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:r})})}function KCt(t){return p.jsx("svg",zr({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:p.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function dCe(t){var e,r,n=t.onChange,i=t.value,s=t.children,a=t.caption,o=t.className,l=t.style,c=cs(),u=(r=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:KCt;return p.jsxs("div",{className:o,style:l,children:[p.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),p.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:n,children:s}),p.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[a,p.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function YCt(t){var e,r=cs(),n=r.fromDate,i=r.toDate,s=r.styles,a=r.locale,o=r.formatters.formatMonthCaption,l=r.classNames,c=r.components,u=r.labels.labelMonthDropdown;if(!n)return p.jsx(p.Fragment,{});if(!i)return p.jsx(p.Fragment,{});var d=[];if(wKe(n,i))for(var h=_a(n),f=n.getMonth();f<=i.getMonth();f++)d.push(s9(h,f));else for(var h=_a(new Date),f=0;f<=11;f++)d.push(s9(h,f));var g=function(v){var x=Number(v.target.value),w=s9(_a(t.displayMonth),x);t.onChange(w)},m=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:dCe;return p.jsx(m,{name:"months","aria-label":u(),className:l.dropdown_month,style:s.dropdown_month,onChange:g,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:a}),children:d.map(function(v){return p.jsx("option",{value:v.getMonth(),children:o(v,{locale:a})},v.getMonth())})})}function XCt(t){var e,r=t.displayMonth,n=cs(),i=n.fromDate,s=n.toDate,a=n.locale,o=n.styles,l=n.classNames,c=n.components,u=n.formatters.formatYearCaption,d=n.labels.labelYearDropdown,h=[];if(!i)return p.jsx(p.Fragment,{});if(!s)return p.jsx(p.Fragment,{});for(var f=i.getFullYear(),g=s.getFullYear(),m=f;m<=g;m++)h.push(Vie(Qbe(new Date),m));var v=function(w){var b=Vie(_a(r),Number(w.target.value));t.onChange(b)},x=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:dCe;return p.jsx(x,{name:"years","aria-label":d(),className:l.dropdown_year,style:o.dropdown_year,onChange:v,value:r.getFullYear(),caption:u(r,{locale:a}),children:h.map(function(w){return p.jsx("option",{value:w.getFullYear(),children:u(w,{locale:a})},w.getFullYear())})})}function ZCt(t,e){var r=O.useState(t),n=r[0],i=r[1],s=e===void 0?n:e;return[s,i]}function QCt(t){var e=t.month,r=t.defaultMonth,n=t.today,i=e||r||n||new Date,s=t.toDate,a=t.fromDate,o=t.numberOfMonths,l=o===void 0?1:o;if(s&&dN(s,i)<0){var c=-1*(l-1);i=Ah(s,c)}return a&&dN(i,a)<0&&(i=a),_a(i)}function JCt(){var t=cs(),e=QCt(t),r=ZCt(e,t.month),n=r[0],i=r[1],s=function(a){var o;if(!t.disableNavigation){var l=_a(a);i(l),(o=t.onMonthChange)===null||o===void 0||o.call(t,l)}};return[n,s]}function ekt(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,i=_a(t),s=_a(Ah(i,n)),a=dN(s,i),o=[],l=0;l<a;l++){var c=Ah(i,l);o.push(c)}return r&&(o=o.reverse()),o}function tkt(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=n?s:1,o=_a(t);if(!r)return Ah(o,a);var l=dN(r,t);if(!(l<s))return Ah(o,a)}}function rkt(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=n?s:1,o=_a(t);if(!r)return Ah(o,-a);var l=dN(o,r);if(!(l<=0))return Ah(o,-a)}}var hCe=O.createContext(void 0);function nkt(t){var e=cs(),r=JCt(),n=r[0],i=r[1],s=ekt(n,e),a=tkt(n,e),o=rkt(n,e),l=function(d){return s.some(function(h){return RX(d,h)})},c=function(d,h){l(d)||(h&&awe(d,h)?i(Ah(d,1+e.numberOfMonths*-1)):i(d))},u={currentMonth:n,displayMonths:s,goToMonth:i,goToDate:c,previousMonth:o,nextMonth:a,isDateDisplayed:l};return p.jsx(hCe.Provider,{value:u,children:t.children})}function yR(){var t=O.useContext(hCe);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function Lue(t){var e,r=cs(),n=r.classNames,i=r.styles,s=r.components,a=yR().goToMonth,o=function(u){a(Ah(u,t.displayIndex?-t.displayIndex:0))},l=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:uCe,c=p.jsx(l,{id:t.id,displayMonth:t.displayMonth});return p.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[p.jsx("div",{className:n.vhidden,children:c}),p.jsx(YCt,{onChange:o,displayMonth:t.displayMonth}),p.jsx(XCt,{onChange:o,displayMonth:t.displayMonth})]})}function ikt(t){return p.jsx("svg",zr({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:p.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function skt(t){return p.jsx("svg",zr({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:p.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var OL=O.forwardRef(function(t,e){var r=cs(),n=r.classNames,i=r.styles,s=[n.button_reset,n.button];t.className&&s.push(t.className);var a=s.join(" "),o=zr(zr({},i.button_reset),i.button);return t.style&&Object.assign(o,t.style),p.jsx("button",zr({},t,{ref:e,type:"button",className:a,style:o}))});function akt(t){var e,r,n=cs(),i=n.dir,s=n.locale,a=n.classNames,o=n.styles,l=n.labels,c=l.labelPrevious,u=l.labelNext,d=n.components;if(!t.nextMonth&&!t.previousMonth)return p.jsx(p.Fragment,{});var h=c(t.previousMonth,{locale:s}),f=[a.nav_button,a.nav_button_previous].join(" "),g=u(t.nextMonth,{locale:s}),m=[a.nav_button,a.nav_button_next].join(" "),v=(e=d==null?void 0:d.IconRight)!==null&&e!==void 0?e:skt,x=(r=d==null?void 0:d.IconLeft)!==null&&r!==void 0?r:ikt;return p.jsxs("div",{className:a.nav,style:o.nav,children:[!t.hidePrevious&&p.jsx(OL,{name:"previous-month","aria-label":h,className:f,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?p.jsx(v,{className:a.nav_icon,style:o.nav_icon}):p.jsx(x,{className:a.nav_icon,style:o.nav_icon})}),!t.hideNext&&p.jsx(OL,{name:"next-month","aria-label":g,className:m,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?p.jsx(x,{className:a.nav_icon,style:o.nav_icon}):p.jsx(v,{className:a.nav_icon,style:o.nav_icon})})]})}function Bue(t){var e=cs().numberOfMonths,r=yR(),n=r.previousMonth,i=r.nextMonth,s=r.goToMonth,a=r.displayMonths,o=a.findIndex(function(g){return RX(t.displayMonth,g)}),l=o===0,c=o===a.length-1,u=e>1&&(l||!c),d=e>1&&(c||!l),h=function(){n&&s(n)},f=function(){i&&s(i)};return p.jsx(akt,{displayMonth:t.displayMonth,hideNext:u,hidePrevious:d,nextMonth:i,previousMonth:n,onPreviousClick:h,onNextClick:f})}function okt(t){var e,r=cs(),n=r.classNames,i=r.disableNavigation,s=r.styles,a=r.captionLayout,o=r.components,l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:uCe,c;return i?c=p.jsx(l,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?c=p.jsx(Lue,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?c=p.jsxs(p.Fragment,{children:[p.jsx(Lue,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),p.jsx(Bue,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=p.jsxs(p.Fragment,{children:[p.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),p.jsx(Bue,{displayMonth:t.displayMonth,id:t.id})]}),p.jsx("div",{className:n.caption,style:s.caption,children:c})}function lkt(t){var e=cs(),r=e.footer,n=e.styles,i=e.classNames.tfoot;return r?p.jsx("tfoot",{className:i,style:n.tfoot,children:p.jsx("tr",{children:p.jsx("td",{colSpan:8,children:r})})}):p.jsx(p.Fragment,{})}function ckt(t,e,r){for(var n=r?b_(new Date):Tm(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var a=uc(n,s);i.push(a)}return i}function ukt(){var t=cs(),e=t.classNames,r=t.styles,n=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,a=t.ISOWeek,o=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=ckt(i,s,a);return p.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&p.jsx("td",{style:r.head_cell,className:e.head_cell}),c.map(function(u,d){return p.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":l(u,{locale:i}),children:o(u,{locale:i})},d)})]})}function dkt(){var t,e=cs(),r=e.classNames,n=e.styles,i=e.components,s=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:ukt;return p.jsx("thead",{style:n.head,className:r.head,children:p.jsx(s,{})})}function hkt(t){var e=cs(),r=e.locale,n=e.formatters.formatDay;return p.jsx(p.Fragment,{children:n(t.date,{locale:r})})}var TQ=O.createContext(void 0);function fkt(t){if(!gR(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return p.jsx(TQ.Provider,{value:e,children:t.children})}return p.jsx(pkt,{initialProps:t.initialProps,children:t.children})}function pkt(t){var e=t.initialProps,r=t.children,n=e.selected,i=e.min,s=e.max,a=function(c,u,d){var h,f;(h=e.onDayClick)===null||h===void 0||h.call(e,c,u,d);var g=!!(u.selected&&i&&(n==null?void 0:n.length)===i);if(!g){var m=!!(!u.selected&&s&&(n==null?void 0:n.length)===s);if(!m){var v=n?lCe([],n):[];if(u.selected){var x=v.findIndex(function(w){return nu(c,w)});v.splice(x,1)}else v.push(c);(f=e.onSelect)===null||f===void 0||f.call(e,v,c,u,d)}}},o={disabled:[]};n&&o.disabled.push(function(c){var u=s&&n.length>s-1,d=n.some(function(h){return nu(h,c)});return!!(u&&!d)});var l={selected:n,onDayClick:a,modifiers:o};return p.jsx(TQ.Provider,{value:l,children:r})}function CQ(){var t=O.useContext(TQ);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function mkt(t,e){var r=e||{},n=r.from,i=r.to;return n&&i?nu(i,t)&&nu(n,t)?void 0:nu(i,t)?{from:i,to:void 0}:nu(n,t)?void 0:Kz(n,t)?{from:t,to:i}:{from:n,to:t}:i?Kz(t,i)?{from:i,to:t}:{from:t,to:i}:n?awe(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var kQ=O.createContext(void 0);function gkt(t){if(!vR(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return p.jsx(kQ.Provider,{value:e,children:t.children})}return p.jsx(vkt,{initialProps:t.initialProps,children:t.children})}function vkt(t){var e=t.initialProps,r=t.children,n=e.selected,i=n||{},s=i.from,a=i.to,o=e.min,l=e.max,c=function(f,g,m){var v,x;(v=e.onDayClick)===null||v===void 0||v.call(e,f,g,m);var w=mkt(f,n);(x=e.onSelect)===null||x===void 0||x.call(e,w,f,g,m)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(u.range_start=[s],a?(u.range_end=[a],nu(s,a)||(u.range_middle=[{after:s,before:a}])):u.range_end=[s]):a&&(u.range_start=[a],u.range_end=[a]),o&&(s&&!a&&u.disabled.push({after:n9(s,o-1),before:uc(s,o-1)}),s&&a&&u.disabled.push({after:s,before:uc(s,o-1)}),!s&&a&&u.disabled.push({after:n9(a,o-1),before:uc(a,o-1)})),l){if(s&&!a&&(u.disabled.push({before:uc(s,-l+1)}),u.disabled.push({after:uc(s,l-1)})),s&&a){var d=nm(a,s)+1,h=l-d;u.disabled.push({before:n9(s,h)}),u.disabled.push({after:uc(a,h)})}!s&&a&&(u.disabled.push({before:uc(a,-l+1)}),u.disabled.push({after:uc(a,l-1)}))}return p.jsx(kQ.Provider,{value:{selected:n,onDayClick:c,modifiers:u},children:r})}function PQ(){var t=O.useContext(kQ);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function SM(t){return Array.isArray(t)?lCe([],t):t!==void 0?[t]:[]}function ykt(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];e[n]=SM(i)}),e}var $f;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})($f||($f={}));var xkt=$f.Selected,t0=$f.Disabled,bkt=$f.Hidden,wkt=$f.Today,pV=$f.RangeEnd,mV=$f.RangeMiddle,gV=$f.RangeStart,_kt=$f.Outside;function Skt(t,e,r){var n,i=(n={},n[xkt]=SM(t.selected),n[t0]=SM(t.disabled),n[bkt]=SM(t.hidden),n[wkt]=[t.today],n[pV]=[],n[mV]=[],n[gV]=[],n[_kt]=[],n);return t.fromDate&&i[t0].push({before:t.fromDate}),t.toDate&&i[t0].push({after:t.toDate}),gR(t)?i[t0]=i[t0].concat(e.modifiers[t0]):vR(t)&&(i[t0]=i[t0].concat(r.modifiers[t0]),i[gV]=r.modifiers[gV],i[mV]=r.modifiers[mV],i[pV]=r.modifiers[pV]),i}var fCe=O.createContext(void 0);function Akt(t){var e=cs(),r=CQ(),n=PQ(),i=Skt(e,r,n),s=ykt(e.modifiers),a=zr(zr({},i),s);return p.jsx(fCe.Provider,{value:a,children:t.children})}function pCe(){var t=O.useContext(fCe);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Ekt(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Tkt(t){return!!(t&&typeof t=="object"&&"from"in t)}function Ckt(t){return!!(t&&typeof t=="object"&&"after"in t)}function kkt(t){return!!(t&&typeof t=="object"&&"before"in t)}function Pkt(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Nkt(t,e){var r,n=e.from,i=e.to;if(n&&i){var s=nm(i,n)<0;s&&(r=[i,n],n=r[0],i=r[1]);var a=nm(t,n)>=0&&nm(i,t)>=0;return a}return i?nu(i,t):n?nu(n,t):!1}function Ikt(t){return IX(t)}function Okt(t){return Array.isArray(t)&&t.every(IX)}function Rkt(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(Ikt(r))return nu(t,r);if(Okt(r))return r.includes(t);if(Tkt(r))return Nkt(t,r);if(Pkt(r))return r.dayOfWeek.includes(t.getDay());if(Ekt(r)){var n=nm(r.before,t),i=nm(r.after,t),s=n>0,a=i<0,o=Kz(r.before,r.after);return o?a&&s:s||a}return Ckt(r)?nm(t,r.after)>0:kkt(r)?nm(r.before,t)>0:typeof r=="function"?r(t):!1})}function NQ(t,e,r){var n=Object.keys(e).reduce(function(s,a){var o=e[a];return Rkt(t,o)&&s.push(a),s},[]),i={};return n.forEach(function(s){return i[s]=!0}),r&&!RX(t,r)&&(i.outside=!0),i}function Dkt(t,e){for(var r=_a(t[0]),n=Cm(t[t.length-1]),i,s,a=r;a<=n;){var o=NQ(a,e),l=!o.disabled&&!o.hidden;if(!l){a=uc(a,1);continue}if(o.selected)return a;o.today&&!s&&(s=a),i||(i=a),a=uc(a,1)}return s||i}var Mkt=365;function mCe(t,e){var r=e.moveBy,n=e.direction,i=e.context,s=e.modifiers,a=e.retry,o=a===void 0?{count:0,lastFocused:t}:a,l=i.weekStartsOn,c=i.fromDate,u=i.toDate,d=i.locale,h={day:uc,week:Gz,month:Ah,year:yGe,startOfWeek:function(v){return i.ISOWeek?b_(v):Tm(v,{locale:d,weekStartsOn:l})},endOfWeek:function(v){return i.ISOWeek?Jbe(v):OX(v,{locale:d,weekStartsOn:l})}},f=h[r](t,n==="after"?1:-1);n==="before"&&c?f=xGe([c,f]):n==="after"&&u&&(f=bGe([u,f]));var g=!0;if(s){var m=NQ(f,s);g=!m.disabled&&!m.hidden}return g?f:o.count>Mkt?o.lastFocused:mCe(f,{moveBy:r,direction:n,context:i,modifiers:s,retry:zr(zr({},o),{count:o.count+1})})}var gCe=O.createContext(void 0);function Fkt(t){var e=yR(),r=pCe(),n=O.useState(),i=n[0],s=n[1],a=O.useState(),o=a[0],l=a[1],c=Dkt(e.displayMonths,r),u=i??(o&&e.isDateDisplayed(o))?o:c,d=function(){l(i),s(void 0)},h=function(v){s(v)},f=cs(),g=function(v,x){if(i){var w=mCe(i,{moveBy:v,direction:x,context:f,modifiers:r});nu(i,w)||(e.goToDate(w,i),h(w))}},m={focusedDay:i,focusTarget:u,blur:d,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return p.jsx(gCe.Provider,{value:m,children:t.children})}function IQ(){var t=O.useContext(gCe);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function jkt(t,e){var r=pCe(),n=NQ(t,r,e);return n}var OQ=O.createContext(void 0);function Lkt(t){if(!u7(t.initialProps)){var e={selected:void 0};return p.jsx(OQ.Provider,{value:e,children:t.children})}return p.jsx(Bkt,{initialProps:t.initialProps,children:t.children})}function Bkt(t){var e=t.initialProps,r=t.children,n=function(s,a,o){var l,c,u;if((l=e.onDayClick)===null||l===void 0||l.call(e,s,a,o),a.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,s,a,o);return}(u=e.onSelect)===null||u===void 0||u.call(e,s,s,a,o)},i={selected:e.selected,onDayClick:n};return p.jsx(OQ.Provider,{value:i,children:r})}function vCe(){var t=O.useContext(OQ);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function $kt(t,e){var r=cs(),n=vCe(),i=CQ(),s=PQ(),a=IQ(),o=a.focusDayAfter,l=a.focusDayBefore,c=a.focusWeekAfter,u=a.focusWeekBefore,d=a.blur,h=a.focus,f=a.focusMonthBefore,g=a.focusMonthAfter,m=a.focusYearBefore,v=a.focusYearAfter,x=a.focusStartOfWeek,w=a.focusEndOfWeek,b=function(W){var G,B,re,ae;u7(r)?(G=n.onDayClick)===null||G===void 0||G.call(n,t,e,W):gR(r)?(B=i.onDayClick)===null||B===void 0||B.call(i,t,e,W):vR(r)?(re=s.onDayClick)===null||re===void 0||re.call(s,t,e,W):(ae=r.onDayClick)===null||ae===void 0||ae.call(r,t,e,W)},_=function(W){var G;h(t),(G=r.onDayFocus)===null||G===void 0||G.call(r,t,e,W)},S=function(W){var G;d(),(G=r.onDayBlur)===null||G===void 0||G.call(r,t,e,W)},T=function(W){var G;(G=r.onDayMouseEnter)===null||G===void 0||G.call(r,t,e,W)},E=function(W){var G;(G=r.onDayMouseLeave)===null||G===void 0||G.call(r,t,e,W)},C=function(W){var G;(G=r.onDayPointerEnter)===null||G===void 0||G.call(r,t,e,W)},N=function(W){var G;(G=r.onDayPointerLeave)===null||G===void 0||G.call(r,t,e,W)},F=function(W){var G;(G=r.onDayTouchCancel)===null||G===void 0||G.call(r,t,e,W)},A=function(W){var G;(G=r.onDayTouchEnd)===null||G===void 0||G.call(r,t,e,W)},I=function(W){var G;(G=r.onDayTouchMove)===null||G===void 0||G.call(r,t,e,W)},M=function(W){var G;(G=r.onDayTouchStart)===null||G===void 0||G.call(r,t,e,W)},U=function(W){var G;(G=r.onDayKeyUp)===null||G===void 0||G.call(r,t,e,W)},Y=function(W){var G;switch(W.key){case"ArrowLeft":W.preventDefault(),W.stopPropagation(),r.dir==="rtl"?o():l();break;case"ArrowRight":W.preventDefault(),W.stopPropagation(),r.dir==="rtl"?l():o();break;case"ArrowDown":W.preventDefault(),W.stopPropagation(),c();break;case"ArrowUp":W.preventDefault(),W.stopPropagation(),u();break;case"PageUp":W.preventDefault(),W.stopPropagation(),W.shiftKey?m():f();break;case"PageDown":W.preventDefault(),W.stopPropagation(),W.shiftKey?v():g();break;case"Home":W.preventDefault(),W.stopPropagation(),x();break;case"End":W.preventDefault(),W.stopPropagation(),w();break}(G=r.onDayKeyDown)===null||G===void 0||G.call(r,t,e,W)},X={onClick:b,onFocus:_,onBlur:S,onKeyDown:Y,onKeyUp:U,onMouseEnter:T,onMouseLeave:E,onPointerEnter:C,onPointerLeave:N,onTouchCancel:F,onTouchEnd:A,onTouchMove:I,onTouchStart:M};return X}function Vkt(){var t=cs(),e=vCe(),r=CQ(),n=PQ(),i=u7(t)?e.selected:gR(t)?r.selected:vR(t)?n.selected:void 0;return i}function Ukt(t){return Object.values($f).includes(t)}function zkt(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var i=t.modifiersClassNames[n];if(i)r.push(i);else if(Ukt(n)){var s=t.classNames["day_".concat(n)];s&&r.push(s)}}),r}function Hkt(t,e){var r=zr({},t.styles.day);return Object.keys(e).forEach(function(n){var i;r=zr(zr({},r),(i=t.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function Wkt(t,e,r){var n,i,s,a=cs(),o=IQ(),l=jkt(t,e),c=$kt(t,l),u=Vkt(),d=!!(a.onDayClick||a.mode!=="default");O.useEffect(function(){var T;l.outside||o.focusedDay&&d&&nu(o.focusedDay,t)&&((T=r.current)===null||T===void 0||T.focus())},[o.focusedDay,t,r,d,l.outside]);var h=zkt(a,l).join(" "),f=Hkt(a,l),g=!!(l.outside&&!a.showOutsideDays||l.hidden),m=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:hkt,v=p.jsx(m,{date:t,displayMonth:e,activeModifiers:l}),x={style:f,className:h,children:v,role:"gridcell"},w=o.focusTarget&&nu(o.focusTarget,t)&&!l.outside,b=o.focusedDay&&nu(o.focusedDay,t),_=zr(zr(zr({},x),(n={disabled:l.disabled,role:"gridcell"},n["aria-selected"]=l.selected,n.tabIndex=b||w?0:-1,n)),c),S={isButton:d,isHidden:g,activeModifiers:l,selectedDays:u,buttonProps:_,divProps:x};return S}function qkt(t){var e=O.useRef(null),r=Wkt(t.date,t.displayMonth,e);return r.isHidden?p.jsx("div",{role:"gridcell"}):r.isButton?p.jsx(OL,zr({name:"day",ref:e},r.buttonProps)):p.jsx("div",zr({},r.divProps))}function Gkt(t){var e=t.number,r=t.dates,n=cs(),i=n.onWeekNumberClick,s=n.styles,a=n.classNames,o=n.locale,l=n.labels.labelWeekNumber,c=n.formatters.formatWeekNumber,u=c(Number(e),{locale:o});if(!i)return p.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:u});var d=l(Number(e),{locale:o}),h=function(f){i(e,r,f)};return p.jsx(OL,{name:"week-number","aria-label":d,className:a.weeknumber,style:s.weeknumber,onClick:h,children:u})}function Kkt(t){var e,r,n=cs(),i=n.styles,s=n.classNames,a=n.showWeekNumber,o=n.components,l=(e=o==null?void 0:o.Day)!==null&&e!==void 0?e:qkt,c=(r=o==null?void 0:o.WeekNumber)!==null&&r!==void 0?r:Gkt,u;return a&&(u=p.jsx("td",{className:s.cell,style:i.cell,children:p.jsx(c,{number:t.weekNumber,dates:t.dates})})),p.jsxs("tr",{className:s.row,style:i.row,children:[u,t.dates.map(function(d){return p.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:p.jsx(l,{displayMonth:t.displayMonth,date:d})},yKe(d))})]})}function $ue(t,e,r){for(var n=r!=null&&r.ISOWeek?Jbe(e):OX(e,r),i=r!=null&&r.ISOWeek?b_(t):Tm(t,r),s=nm(n,i),a=[],o=0;o<=s;o++)a.push(uc(i,o));var l=a.reduce(function(c,u){var d=r!=null&&r.ISOWeek?rwe(u):iwe(u,r),h=c.find(function(f){return f.weekNumber===d});return h?(h.dates.push(u),c):(c.push({weekNumber:d,dates:[u]}),c)},[]);return l}function Ykt(t,e){var r=$ue(_a(t),Cm(t),e);if(e!=null&&e.useFixedWeeks){var n=bKe(t,e);if(n<6){var i=r[r.length-1],s=i.dates[i.dates.length-1],a=Gz(s,6-n),o=$ue(Gz(s,1),a,e);r.push.apply(r,o)}}return r}function Xkt(t){var e,r,n,i=cs(),s=i.locale,a=i.classNames,o=i.styles,l=i.hideHead,c=i.fixedWeeks,u=i.components,d=i.weekStartsOn,h=i.firstWeekContainsDate,f=i.ISOWeek,g=Ykt(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:f,locale:s,weekStartsOn:d,firstWeekContainsDate:h}),m=(e=u==null?void 0:u.Head)!==null&&e!==void 0?e:dkt,v=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:Kkt,x=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:lkt;return p.jsxs("table",{id:t.id,className:a.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&p.jsx(m,{}),p.jsx("tbody",{className:a.tbody,style:o.tbody,children:g.map(function(w){return p.jsx(v,{displayMonth:t.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),p.jsx(x,{displayMonth:t.displayMonth})]})}function Zkt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Qkt=Zkt()?O.useLayoutEffect:O.useEffect,vV=!1,Jkt=0;function Vue(){return"react-day-picker-".concat(++Jkt)}function e5t(t){var e,r=t??(vV?Vue():null),n=O.useState(r),i=n[0],s=n[1];return Qkt(function(){i===null&&s(Vue())},[]),O.useEffect(function(){vV===!1&&(vV=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function t5t(t){var e,r,n=cs(),i=n.dir,s=n.classNames,a=n.styles,o=n.components,l=yR().displayMonths,c=e5t(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,d=[s.month],h=a.month,f=t.displayIndex===0,g=t.displayIndex===l.length-1,m=!f&&!g;i==="rtl"&&(e=[f,g],g=e[0],f=e[1]),f&&(d.push(s.caption_start),h=zr(zr({},h),a.caption_start)),g&&(d.push(s.caption_end),h=zr(zr({},h),a.caption_end)),m&&(d.push(s.caption_between),h=zr(zr({},h),a.caption_between));var v=(r=o==null?void 0:o.Caption)!==null&&r!==void 0?r:okt;return p.jsxs("div",{className:d.join(" "),style:h,children:[p.jsx(v,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),p.jsx(Xkt,{id:u,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function r5t(t){var e=cs(),r=e.classNames,n=e.styles;return p.jsx("div",{className:r.months,style:n.months,children:t.children})}function n5t(t){var e,r,n=t.initialProps,i=cs(),s=IQ(),a=yR(),o=O.useState(!1),l=o[0],c=o[1];O.useEffect(function(){i.initialFocus&&s.focusTarget&&(l||(s.focus(s.focusTarget),c(!0)))},[i.initialFocus,l,s.focus,s.focusTarget,s]);var u=[i.classNames.root,i.className];i.numberOfMonths>1&&u.push(i.classNames.multiple_months),i.showWeekNumber&&u.push(i.classNames.with_weeknumber);var d=zr(zr({},i.styles.root),i.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,m){var v;return zr(zr({},g),(v={},v[m]=n[m],v))},{}),f=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:r5t;return p.jsx("div",zr({className:u.join(" "),style:d,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:p.jsx(f,{children:a.displayMonths.map(function(g,m){return p.jsx(t5t,{displayIndex:m,displayMonth:g},m)})})}))}function i5t(t){var e=t.children,r=kCt(t,["children"]);return p.jsx(GCt,{initialProps:r,children:p.jsx(nkt,{children:p.jsx(Lkt,{initialProps:r,children:p.jsx(fkt,{initialProps:r,children:p.jsx(gkt,{initialProps:r,children:p.jsx(Akt,{children:p.jsx(Fkt,{children:e})})})})})})})}function s5t(t){return p.jsx(i5t,zr({},t,{children:p.jsx(n5t,{initialProps:t})}))}function qg({className:t,classNames:e,showOutsideDays:r=!0,...n}){return p.jsx(s5t,{showOutsideDays:r,className:Pt("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Pt(ZP({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Pt(ZP({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>p.jsx(QK,{className:"h-4 w-4"}),IconRight:({...i})=>p.jsx(e8,{className:"h-4 w-4"})},...n})}qg.displayName="Calendar";function a5t({filtros:t,onFiltrosChange:e,fornecedores:r=[],funcionarios:n=[],produtos:i=[],clientes:s=[],onGerarRelatorio:a}){var c,u;const o=()=>{e({tipoRelatorio:"geral",agrupamento:"mes"})},l=t.periodo||t.fornecedor||t.funcionario||t.produto||t.cliente;return p.jsxs(Tr,{className:"p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:p.jsx(rre,{className:"w-5 h-5 text-primary"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Filtros de Relatrio"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure os parmetros para gerar o relatrio"})]})]}),l&&p.jsxs(mt,{variant:"ghost",size:"sm",onClick:o,className:"gap-2 text-muted-foreground hover:text-foreground",children:[p.jsx(Y_,{className:"w-4 h-4"}),"Limpar"]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{children:"Tipo de Relatrio"}),p.jsxs(yn,{value:t.tipoRelatorio,onValueChange:d=>e({...t,tipoRelatorio:d}),children:[p.jsx(pn,{children:p.jsx(xn,{})}),p.jsxs(mn,{children:[p.jsx($t,{value:"geral",children:" Viso Geral"}),p.jsx($t,{value:"vendas",children:" Vendas"}),p.jsx($t,{value:"receitas",children:" Receitas"}),p.jsx($t,{value:"despesas",children:" Despesas"}),p.jsx($t,{value:"lucros",children:" Lucros"}),p.jsx($t,{value:"funcionarios",children:" Funcionrios"}),p.jsx($t,{value:"produtos",children:" Produtos"}),p.jsx($t,{value:"fornecedores",children:" Fornecedores"})]})]})]}),p.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-1",children:[p.jsx(Xe,{children:"Perodo"}),p.jsxs(Hg,{children:[p.jsx(Wg,{asChild:!0,children:p.jsxs(mt,{variant:"outline",className:Pt("w-full justify-start text-left font-normal",!t.periodo&&"text-muted-foreground"),children:[p.jsx(My,{className:"mr-2 h-4 w-4"}),(c=t.periodo)!=null&&c.from?t.periodo.to?p.jsxs(p.Fragment,{children:[Pr(t.periodo.from,"dd/MM/yy",{locale:Zr})," -"," ",Pr(t.periodo.to,"dd/MM/yy",{locale:Zr})]}):Pr(t.periodo.from,"dd/MM/yyyy",{locale:Zr}):"Selecione o perodo"]})}),p.jsx(Nm,{className:"w-auto p-0",align:"start",children:p.jsx(qg,{initialFocus:!0,mode:"range",defaultMonth:(u=t.periodo)==null?void 0:u.from,selected:t.periodo,onSelect:d=>e({...t,periodo:d}),numberOfMonths:2,locale:Zr})})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{children:"Agrupamento"}),p.jsxs(yn,{value:t.agrupamento,onValueChange:d=>e({...t,agrupamento:d}),children:[p.jsx(pn,{children:p.jsx(xn,{})}),p.jsxs(mn,{children:[p.jsx($t,{value:"dia",children:"Por Dia"}),p.jsx($t,{value:"semana",children:"Por Semana"}),p.jsx($t,{value:"mes",children:"Por Ms"}),p.jsx($t,{value:"ano",children:"Por Ano"})]})]})]}),t.tipoRelatorio!=="fornecedores"&&r.length>0&&p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{children:"Fornecedor"}),p.jsxs(yn,{value:t.fornecedor||"todos",onValueChange:d=>e({...t,fornecedor:d==="todos"?void 0:d}),children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Todos"})}),p.jsxs(mn,{children:[p.jsx($t,{value:"todos",children:"Todos"}),r.map(d=>p.jsx($t,{value:d,children:d},d))]})]})]}),t.tipoRelatorio!=="funcionarios"&&n.length>0&&p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{children:"Funcionrio"}),p.jsxs(yn,{value:t.funcionario||"todos",onValueChange:d=>e({...t,funcionario:d==="todos"?void 0:d}),children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Todos"})}),p.jsxs(mn,{children:[p.jsx($t,{value:"todos",children:"Todos"}),n.map(d=>p.jsx($t,{value:d,children:d},d))]})]})]}),t.tipoRelatorio!=="produtos"&&i.length>0&&p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{children:"Produto"}),p.jsxs(yn,{value:t.produto||"todos",onValueChange:d=>e({...t,produto:d==="todos"?void 0:d}),children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Todos"})}),p.jsxs(mn,{children:[p.jsx($t,{value:"todos",children:"Todos"}),i.map(d=>p.jsx($t,{value:d,children:d},d))]})]})]}),s.length>0&&p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{children:"Cliente"}),p.jsxs(yn,{value:t.cliente||"todos",onValueChange:d=>e({...t,cliente:d==="todos"?void 0:d}),children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Todos"})}),p.jsxs(mn,{children:[p.jsx($t,{value:"todos",children:"Todos"}),s.map(d=>p.jsx($t,{value:d,children:d},d))]})]})]})]}),p.jsx("div",{className:"flex justify-end mt-6",children:p.jsxs(mt,{onClick:a,size:"lg",className:"gap-2",children:[p.jsx(rre,{className:"w-4 h-4"}),"Gerar Relatrio"]})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function xR(t){return t+.5|0}const sy=(t,e,r)=>Math.max(Math.min(t,r),e);function h5(t){return sy(xR(t*2.55),0,255)}function Iy(t){return sy(xR(t*255),0,255)}function g0(t){return sy(xR(t/2.55)/100,0,1)}function Uue(t){return sy(xR(t*100),0,100)}const Fd={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},KW=[..."0123456789ABCDEF"],o5t=t=>KW[t&15],l5t=t=>KW[(t&240)>>4]+KW[t&15],aD=t=>(t&240)>>4===(t&15),c5t=t=>aD(t.r)&&aD(t.g)&&aD(t.b)&&aD(t.a);function u5t(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&Fd[t[1]]*17,g:255&Fd[t[2]]*17,b:255&Fd[t[3]]*17,a:e===5?Fd[t[4]]*17:255}:(e===7||e===9)&&(r={r:Fd[t[1]]<<4|Fd[t[2]],g:Fd[t[3]]<<4|Fd[t[4]],b:Fd[t[5]]<<4|Fd[t[6]],a:e===9?Fd[t[7]]<<4|Fd[t[8]]:255})),r}const d5t=(t,e)=>t<255?e(t):"";function h5t(t){var e=c5t(t)?o5t:l5t;return t?"#"+e(t.r)+e(t.g)+e(t.b)+d5t(t.a,e):void 0}const f5t=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function yCe(t,e,r){const n=e*Math.min(r,1-r),i=(s,a=(s+t/30)%12)=>r-n*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function p5t(t,e,r){const n=(i,s=(i+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function m5t(t,e,r){const n=yCe(t,1,.5);let i;for(e+r>1&&(i=1/(e+r),e*=i,r*=i),i=0;i<3;i++)n[i]*=1-e-r,n[i]+=e;return n}function g5t(t,e,r,n,i){return t===i?(e-r)/n+(e<r?6:0):e===i?(r-t)/n+2:(t-e)/n+4}function RQ(t){const r=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(r,n,i),a=Math.min(r,n,i),o=(s+a)/2;let l,c,u;return s!==a&&(u=s-a,c=o>.5?u/(2-s-a):u/(s+a),l=g5t(r,n,i,u,s),l=l*60+.5),[l|0,c||0,o]}function DQ(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(Iy)}function MQ(t,e,r){return DQ(yCe,t,e,r)}function v5t(t,e,r){return DQ(m5t,t,e,r)}function y5t(t,e,r){return DQ(p5t,t,e,r)}function xCe(t){return(t%360+360)%360}function x5t(t){const e=f5t.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?h5(+e[5]):Iy(+e[5]));const i=xCe(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=v5t(i,s,a):e[1]==="hsv"?n=y5t(i,s,a):n=MQ(i,s,a),{r:n[0],g:n[1],b:n[2],a:r}}function b5t(t,e){var r=RQ(t);r[0]=xCe(r[0]+e),r=MQ(r),t.r=r[0],t.g=r[1],t.b=r[2]}function w5t(t){if(!t)return;const e=RQ(t),r=e[0],n=Uue(e[1]),i=Uue(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${i}%, ${g0(t.a)})`:`hsl(${r}, ${n}%, ${i}%)`}const zue={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Hue={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _5t(){const t={},e=Object.keys(Hue),r=Object.keys(zue);let n,i,s,a,o;for(n=0;n<e.length;n++){for(a=o=e[n],i=0;i<r.length;i++)s=r[i],o=o.replace(s,zue[s]);s=parseInt(Hue[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let oD;function S5t(t){oD||(oD=_5t(),oD.transparent=[0,0,0,0]);const e=oD[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const A5t=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function E5t(t){const e=A5t.exec(t);let r=255,n,i,s;if(e){if(e[7]!==n){const a=+e[7];r=e[8]?h5(a):sy(a*255,0,255)}return n=+e[1],i=+e[3],s=+e[5],n=255&(e[2]?h5(n):sy(n,0,255)),i=255&(e[4]?h5(i):sy(i,0,255)),s=255&(e[6]?h5(s):sy(s,0,255)),{r:n,g:i,b:s,a:r}}}function T5t(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${g0(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const yV=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,G2=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function C5t(t,e,r){const n=G2(g0(t.r)),i=G2(g0(t.g)),s=G2(g0(t.b));return{r:Iy(yV(n+r*(G2(g0(e.r))-n))),g:Iy(yV(i+r*(G2(g0(e.g))-i))),b:Iy(yV(s+r*(G2(g0(e.b))-s))),a:t.a+r*(e.a-t.a)}}function lD(t,e,r){if(t){let n=RQ(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=MQ(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function bCe(t,e){return t&&Object.assign(e||{},t)}function Wue(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Iy(t[3]))):(e=bCe(t,{r:0,g:0,b:0,a:1}),e.a=Iy(e.a)),e}function k5t(t){return t.charAt(0)==="r"?E5t(t):x5t(t)}class aI{constructor(e){if(e instanceof aI)return e;const r=typeof e;let n;r==="object"?n=Wue(e):r==="string"&&(n=u5t(e)||S5t(e)||k5t(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=bCe(this._rgb);return e&&(e.a=g0(e.a)),e}set rgb(e){this._rgb=Wue(e)}rgbString(){return this._valid?T5t(this._rgb):void 0}hexString(){return this._valid?h5t(this._rgb):void 0}hslString(){return this._valid?w5t(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,i=e.rgb;let s;const a=r===s?.5:r,o=2*a-1,l=n.a-i.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-c,n.r=255&c*n.r+s*i.r+.5,n.g=255&c*n.g+s*i.g+.5,n.b=255&c*n.b+s*i.b+.5,n.a=a*n.a+(1-a)*i.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=C5t(this._rgb,e._rgb,r)),this}clone(){return new aI(this.rgb)}alpha(e){return this._rgb.a=Iy(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=xR(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return lD(this._rgb,2,e),this}darken(e){return lD(this._rgb,2,-e),this}saturate(e){return lD(this._rgb,1,e),this}desaturate(e){return lD(this._rgb,1,-e),this}rotate(e){return b5t(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function r0(){}const P5t=(()=>{let t=0;return()=>t++})();function hi(t){return t==null}function La(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function jn(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ul(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function lp(t,e){return Ul(t)?t:e}function bn(t,e){return typeof t>"u"?e:t}const N5t=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,wCe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function vs(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Si(t,e,r,n){let i,s,a;if(La(t))for(s=t.length,i=0;i<s;i++)e.call(r,t[i],i);else if(jn(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(r,t[a[i]],a[i])}function RL(t,e){let r,n,i,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(i=t[r],s=e[r],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function DL(t){if(La(t))return t.map(DL);if(jn(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let i=0;for(;i<n;++i)e[r[i]]=DL(t[r[i]]);return e}return t}function _Ce(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function I5t(t,e,r,n){if(!_Ce(t))return;const i=e[t],s=r[t];jn(i)&&jn(s)?oI(i,s,n):e[t]=DL(s)}function oI(t,e,r){const n=La(e)?e:[e],i=n.length;if(!jn(t))return t;r=r||{};const s=r.merger||I5t;let a;for(let o=0;o<i;++o){if(a=n[o],!jn(a))continue;const l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)s(l[c],t,a,r)}return t}function mP(t,e){return oI(t,e,{merger:O5t})}function O5t(t,e,r){if(!_Ce(t))return;const n=e[t],i=r[t];jn(n)&&jn(i)?mP(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=DL(i))}const que={"":t=>t,x:t=>t.x,y:t=>t.y};function R5t(t){const e=t.split("."),r=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function D5t(t){const e=R5t(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function D_(t,e){return(que[e]||(que[e]=D5t(e)))(t)}function FQ(t){return t.charAt(0).toUpperCase()+t.slice(1)}const lI=t=>typeof t<"u",Yy=t=>typeof t=="function",Gue=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function M5t(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ei=Math.PI,Fs=2*Ei,F5t=Fs+Ei,ML=Number.POSITIVE_INFINITY,j5t=Ei/180,lo=Ei/2,jx=Ei/4,Kue=Ei*2/3,YW=Math.log10,_m=Math.sign;function gP(t,e,r){return Math.abs(t-e)<r}function Yue(t){const e=Math.round(t);t=gP(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(YW(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function L5t(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((i,s)=>i-s).pop(),e}function B5t(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function cI(t){return!B5t(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function $5t(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function V5t(t,e,r){let n,i,s;for(n=0,i=t.length;n<i;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function lg(t){return t*(Ei/180)}function U5t(t){return t*(180/Ei)}function Xue(t){if(!Ul(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function SCe(t,e){const r=e.x-t.x,n=e.y-t.y,i=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*Ei&&(s+=Fs),{angle:s,distance:i}}function XW(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function z5t(t,e){return(t-e+F5t)%Fs-Ei}function Zu(t){return(t%Fs+Fs)%Fs}function uI(t,e,r,n){const i=Zu(t),s=Zu(e),a=Zu(r),o=Zu(s-i),l=Zu(a-i),c=Zu(i-s),u=Zu(i-a);return i===s||i===a||n&&s===a||o>l&&c<u}function jl(t,e,r){return Math.max(e,Math.min(r,t))}function H5t(t){return jl(t,-32768,32767)}function cg(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function jQ(t,e,r){r=r||(a=>t[a]<e);let n=t.length-1,i=0,s;for(;n-i>1;)s=i+n>>1,r(s)?i=s:n=s;return{lo:i,hi:n}}const _b=(t,e,r,n)=>jQ(t,r,n?i=>{const s=t[i][e];return s<r||s===r&&t[i+1][e]===r}:i=>t[i][e]<r),W5t=(t,e,r)=>jQ(t,r,n=>t[n][e]>=r);function q5t(t,e,r){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>r;)i--;return n>0||i<t.length?t.slice(n,i):t}const ACe=["push","pop","shift","splice","unshift"];function G5t(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ACe.forEach(r=>{const n="_onData"+FQ(r),i=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...s)}),a}})})}function Zue(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(ACe.forEach(s=>{delete t[s]}),delete t._chartjs)}function ECe(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const TCe=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function CCe(t,e){let r=[],n=!1;return function(...i){r=i,n||(n=!0,TCe.call(window,()=>{n=!1,t.apply(e,r)}))}}function K5t(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const LQ=t=>t==="start"?"left":t==="end"?"right":"center",Tl=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,Y5t=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function X5t(t,e,r){const n=e.length;let i=0,s=n;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=a.axis,{min:d,max:h,minDefined:f,maxDefined:g}=a.getUserBounds();if(f){if(i=Math.min(_b(l,u,d).lo,r?n:_b(e,u,a.getPixelForValue(d)).lo),c){const m=l.slice(0,i+1).reverse().findIndex(v=>!hi(v[o.axis]));i-=Math.max(0,m)}i=jl(i,0,n-1)}if(g){let m=Math.max(_b(l,a.axis,h,!0).hi+1,r?0:_b(e,u,a.getPixelForValue(h),!0).hi+1);if(c){const v=l.slice(m-1).findIndex(x=>!hi(x[o.axis]));m+=Math.max(0,v)}s=jl(m,i,n)-i}else s=n-i}return{start:i,count:s}}function Z5t(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=i,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,i),s}const cD=t=>t===0||t===1,Que=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Fs/r)),Jue=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Fs/r)+1,vP={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*lo)+1,easeOutSine:t=>Math.sin(t*lo),easeInOutSine:t=>-.5*(Math.cos(Ei*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>cD(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>cD(t)?t:Que(t,.075,.3),easeOutElastic:t=>cD(t)?t:Jue(t,.075,.3),easeInOutElastic(t){return cD(t)?t:t<.5?.5*Que(t*2,.1125,.45):.5+.5*Jue(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-vP.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?vP.easeInBounce(t*2)*.5:vP.easeOutBounce(t*2-1)*.5+.5};function BQ(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ede(t){return BQ(t)?t:new aI(t)}function xV(t){return BQ(t)?t:new aI(t).saturate(.5).darken(.1).hexString()}const Q5t=["x","y","borderWidth","radius","tension"],J5t=["color","borderColor","backgroundColor"];function ePt(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:J5t},numbers:{type:"number",properties:Q5t}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function tPt(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const tde=new Map;function rPt(t,e){e=e||{};const r=t+JSON.stringify(e);let n=tde.get(r);return n||(n=new Intl.NumberFormat(t,e),tde.set(r,n)),n}function $Q(t,e,r){return rPt(e,r).format(t)}const kCe={values(t){return La(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let i,s=t;if(r.length>1){const c=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=nPt(t,r)}const a=YW(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),$Q(t,n,l)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(YW(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?kCe.numeric.call(this,t,e,r):""}};function nPt(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var PCe={formatters:kCe};function iPt(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:PCe.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const M_=Object.create(null),ZW=Object.create(null);function yP(t,e){if(!e)return t;const r=e.split(".");for(let n=0,i=r.length;n<i;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function bV(t,e,r){return typeof e=="string"?oI(yP(t,e),r):oI(yP(t,""),e)}class sPt{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>xV(i.backgroundColor),this.hoverBorderColor=(n,i)=>xV(i.borderColor),this.hoverColor=(n,i)=>xV(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return bV(this,e,r)}get(e){return yP(this,e)}describe(e,r){return bV(ZW,e,r)}override(e,r){return bV(M_,e,r)}route(e,r,n,i){const s=yP(this,e),a=yP(this,n),o="_"+r;Object.defineProperties(s,{[o]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[o],c=a[i];return jn(l)?Object.assign({},c,l):bn(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(r=>r(this))}}var wa=new sPt({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ePt,tPt,iPt]);function aPt(t){return!t||hi(t.size)||hi(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function rde(t,e,r,n,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,r.push(i)),s>n&&(n=s),n}function Lx(t,e,r){const n=t.currentDevicePixelRatio,i=r!==0?Math.max(r/2,.5):0;return Math.round((e-i)*n)/n+i}function nde(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function QW(t,e,r,n){NCe(t,e,r,n,null)}function NCe(t,e,r,n,i){let s,a,o,l,c,u,d,h;const f=e.pointStyle,g=e.rotation,m=e.radius;let v=(g||0)*j5t;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(v),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),f){default:i?t.ellipse(r,n,i/2,m,0,0,Fs):t.arc(r,n,m,0,Fs),t.closePath();break;case"triangle":u=i?i/2:m,t.moveTo(r+Math.sin(v)*u,n-Math.cos(v)*m),v+=Kue,t.lineTo(r+Math.sin(v)*u,n-Math.cos(v)*m),v+=Kue,t.lineTo(r+Math.sin(v)*u,n-Math.cos(v)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,a=Math.cos(v+jx)*l,d=Math.cos(v+jx)*(i?i/2-c:l),o=Math.sin(v+jx)*l,h=Math.sin(v+jx)*(i?i/2-c:l),t.arc(r-d,n-o,c,v-Ei,v-lo),t.arc(r+h,n-a,c,v-lo,v),t.arc(r+d,n+o,c,v,v+lo),t.arc(r-h,n+a,c,v+lo,v+Ei),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,u=i?i/2:l,t.rect(r-u,n-l,2*u,2*l);break}v+=jx;case"rectRot":d=Math.cos(v)*(i?i/2:m),a=Math.cos(v)*m,o=Math.sin(v)*m,h=Math.sin(v)*(i?i/2:m),t.moveTo(r-d,n-o),t.lineTo(r+h,n-a),t.lineTo(r+d,n+o),t.lineTo(r-h,n+a),t.closePath();break;case"crossRot":v+=jx;case"cross":d=Math.cos(v)*(i?i/2:m),a=Math.cos(v)*m,o=Math.sin(v)*m,h=Math.sin(v)*(i?i/2:m),t.moveTo(r-d,n-o),t.lineTo(r+d,n+o),t.moveTo(r+h,n-a),t.lineTo(r-h,n+a);break;case"star":d=Math.cos(v)*(i?i/2:m),a=Math.cos(v)*m,o=Math.sin(v)*m,h=Math.sin(v)*(i?i/2:m),t.moveTo(r-d,n-o),t.lineTo(r+d,n+o),t.moveTo(r+h,n-a),t.lineTo(r-h,n+a),v+=jx,d=Math.cos(v)*(i?i/2:m),a=Math.cos(v)*m,o=Math.sin(v)*m,h=Math.sin(v)*(i?i/2:m),t.moveTo(r-d,n-o),t.lineTo(r+d,n+o),t.moveTo(r+h,n-a),t.lineTo(r-h,n+a);break;case"line":a=i?i/2:Math.cos(v)*m,o=Math.sin(v)*m,t.moveTo(r-a,n-o),t.lineTo(r+a,n+o);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(v)*(i?i/2:m),n+Math.sin(v)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function dI(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function d7(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function h7(t){t.restore()}function oPt(t,e,r,n,i){if(!e)return t.lineTo(r.x,r.y);if(i==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else i==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function lPt(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function cPt(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),hi(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function uPt(t,e,r,n,i){if(i.strikethrough||i.underline){const s=t.measureText(n),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=r-s.actualBoundingBoxAscent,c=r+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,u),t.lineTo(o,u),t.stroke()}}function dPt(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function hI(t,e,r,n,i,s={}){const a=La(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,cPt(t,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&dPt(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),hi(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,r,n,s.maxWidth)),t.fillText(c,r,n,s.maxWidth),uPt(t,r,n,c,s),n+=Number(i.lineHeight);t.restore()}function FL(t,e){const{x:r,y:n,w:i,h:s,radius:a}=e;t.arc(r+a.topLeft,n+a.topLeft,a.topLeft,1.5*Ei,Ei,!0),t.lineTo(r,n+s-a.bottomLeft),t.arc(r+a.bottomLeft,n+s-a.bottomLeft,a.bottomLeft,Ei,lo,!0),t.lineTo(r+i-a.bottomRight,n+s),t.arc(r+i-a.bottomRight,n+s-a.bottomRight,a.bottomRight,lo,0,!0),t.lineTo(r+i,n+a.topRight),t.arc(r+i-a.topRight,n+a.topRight,a.topRight,0,-lo,!0),t.lineTo(r+a.topLeft,n)}const hPt=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fPt=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function pPt(t,e){const r=(""+t).match(hPt);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const mPt=t=>+t||0;function VQ(t,e){const r={},n=jn(e),i=n?Object.keys(e):e,s=jn(t)?n?a=>bn(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)r[a]=mPt(s(a));return r}function ICe(t){return VQ(t,{top:"y",right:"x",bottom:"y",left:"x"})}function fA(t){return VQ(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ch(t){const e=ICe(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ll(t,e){t=t||{},e=e||wa.font;let r=bn(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=bn(t.style,e.style);n&&!(""+n).match(fPt)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:bn(t.family,e.family),lineHeight:pPt(bn(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:bn(t.weight,e.weight),string:""};return i.string=aPt(i),i}function uD(t,e,r,n){let i,s,a;for(i=0,s=t.length;i<s;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function gPt(t,e,r){const{min:n,max:i}=t,s=wCe(e,(i-n)/2),a=(o,l)=>r&&o===0?0:o+l;return{min:a(n,-Math.abs(s)),max:a(i,s)}}function f2(t,e){return Object.assign(Object.create(t),e)}function UQ(t,e=[""],r,n,i=()=>t[0]){const s=r||t;typeof n>"u"&&(n=MCe("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:i,override:o=>UQ([o,...t],e,s,n)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return RCe(o,l,()=>APt(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return sde(o).includes(l)},ownKeys(o){return sde(o)},set(o,l,c){const u=o._storage||(o._storage=i());return o[l]=u[l]=c,delete o._keys,!0}})}function QT(t,e,r,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:OCe(t,n),setContext:s=>QT(t,s,r,n),override:s=>QT(t.override(s),e,r,n)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return RCe(s,a,()=>yPt(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function OCe(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:r,indexable:n,isScriptable:Yy(r)?r:()=>r,isIndexable:Yy(n)?n:()=>n}}const vPt=(t,e)=>t?t+FQ(e):e,zQ=(t,e)=>jn(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function RCe(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function yPt(t,e,r){const{_proxy:n,_context:i,_subProxy:s,_descriptors:a}=t;let o=n[e];return Yy(o)&&a.isScriptable(e)&&(o=xPt(e,o,t,r)),La(o)&&o.length&&(o=bPt(e,o,t,a.isIndexable)),zQ(e,o)&&(o=QT(o,i,s&&s[e],a)),o}function xPt(t,e,r,n){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=r;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,a||n);return o.delete(t),zQ(t,l)&&(l=HQ(i._scopes,i,t,l)),l}function bPt(t,e,r,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(jn(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=HQ(c,i,t,u);e.push(QT(d,s,a&&a[t],o))}}return e}function DCe(t,e,r){return Yy(t)?t(e,r):t}const wPt=(t,e)=>t===!0?e:typeof t=="string"?D_(e,t):void 0;function _Pt(t,e,r,n,i){for(const s of e){const a=wPt(r,s);if(a){t.add(a);const o=DCe(a._fallback,r,i);if(typeof o<"u"&&o!==r&&o!==n)return o}else if(a===!1&&typeof n<"u"&&r!==n)return null}return!1}function HQ(t,e,r,n){const i=e._rootScopes,s=DCe(e._fallback,r,n),a=[...t,...i],o=new Set;o.add(n);let l=ide(o,a,r,s||r,n);return l===null||typeof s<"u"&&s!==r&&(l=ide(o,a,s,l,n),l===null)?!1:UQ(Array.from(o),[""],i,s,()=>SPt(e,r,n))}function ide(t,e,r,n,i){for(;r;)r=_Pt(t,e,r,n,i);return r}function SPt(t,e,r){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return La(i)&&jn(r)?r:i||{}}function APt(t,e,r,n){let i;for(const s of e)if(i=MCe(vPt(s,t),r),typeof i<"u")return zQ(t,i)?HQ(r,n,t,i):i}function MCe(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function sde(t){let e=t._keys;return e||(e=t._keys=EPt(t._scopes)),e}function EPt(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}const TPt=Number.EPSILON||1e-14,JT=(t,e)=>e<t.length&&!t[e].skip&&t[e],FCe=t=>t==="x"?"y":"x";function CPt(t,e,r,n){const i=t.skip?e:t,s=e,a=r.skip?e:r,o=XW(s,i),l=XW(a,s);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=n*c,h=n*u;return{previous:{x:s.x-d*(a.x-i.x),y:s.y-d*(a.y-i.y)},next:{x:s.x+h*(a.x-i.x),y:s.y+h*(a.y-i.y)}}}function kPt(t,e,r){const n=t.length;let i,s,a,o,l,c=JT(t,0);for(let u=0;u<n-1;++u)if(l=c,c=JT(t,u+1),!(!l||!c)){if(gP(e[u],0,TPt)){r[u]=r[u+1]=0;continue}i=r[u]/e[u],s=r[u+1]/e[u],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),r[u]=i*a*e[u],r[u+1]=s*a*e[u])}}function PPt(t,e,r="x"){const n=FCe(r),i=t.length;let s,a,o,l=JT(t,0);for(let c=0;c<i;++c){if(a=o,o=l,l=JT(t,c+1),!o)continue;const u=o[r],d=o[n];a&&(s=(u-a[r])/3,o[`cp1${r}`]=u-s,o[`cp1${n}`]=d-s*e[c]),l&&(s=(l[r]-u)/3,o[`cp2${r}`]=u+s,o[`cp2${n}`]=d+s*e[c])}}function NPt(t,e="x"){const r=FCe(e),n=t.length,i=Array(n).fill(0),s=Array(n);let a,o,l,c=JT(t,0);for(a=0;a<n;++a)if(o=l,l=c,c=JT(t,a+1),!!l){if(c){const u=c[e]-l[e];i[a]=u!==0?(c[r]-l[r])/u:0}s[a]=o?c?_m(i[a-1])!==_m(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}kPt(t,i,s),PPt(t,s,e)}function dD(t,e,r){return Math.max(Math.min(t,r),e)}function IPt(t,e){let r,n,i,s,a,o=dI(t[0],e);for(r=0,n=t.length;r<n;++r)a=s,s=o,o=r<n-1&&dI(t[r+1],e),s&&(i=t[r],a&&(i.cp1x=dD(i.cp1x,e.left,e.right),i.cp1y=dD(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=dD(i.cp2x,e.left,e.right),i.cp2y=dD(i.cp2y,e.top,e.bottom)))}function OPt(t,e,r,n,i){let s,a,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")NPt(t,i);else{let c=n?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)o=t[s],l=CPt(c,o,t[Math.min(s+1,a-(n?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&IPt(t,r)}function WQ(){return typeof window<"u"&&typeof document<"u"}function qQ(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function jL(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const f7=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function RPt(t,e){return f7(t).getPropertyValue(e)}const DPt=["top","right","bottom","left"];function Jw(t,e,r){const n={};r=r?"-"+r:"";for(let i=0;i<4;i++){const s=DPt[i];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const MPt=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function FPt(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:i,offsetY:s}=n;let a=!1,o,l;if(MPt(i,s,t.target))o=i,l=s;else{const c=e.getBoundingClientRect();o=n.clientX-c.left,l=n.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function Yx(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,i=f7(r),s=i.boxSizing==="border-box",a=Jw(i,"padding"),o=Jw(i,"border","width"),{x:l,y:c,box:u}=FPt(t,r),d=a.left+(u&&o.left),h=a.top+(u&&o.top);let{width:f,height:g}=e;return s&&(f-=a.width+o.width,g-=a.height+o.height),{x:Math.round((l-d)/f*r.width/n),y:Math.round((c-h)/g*r.height/n)}}function jPt(t,e,r){let n,i;if(e===void 0||r===void 0){const s=t&&qQ(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const a=s.getBoundingClientRect(),o=f7(s),l=Jw(o,"border","width"),c=Jw(o,"padding");e=a.width-c.width-l.width,r=a.height-c.height-l.height,n=jL(o.maxWidth,s,"clientWidth"),i=jL(o.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||ML,maxHeight:i||ML}}const ay=t=>Math.round(t*10)/10;function LPt(t,e,r,n){const i=f7(t),s=Jw(i,"margin"),a=jL(i.maxWidth,t,"clientWidth")||ML,o=jL(i.maxHeight,t,"clientHeight")||ML,l=jPt(t,e,r);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=Jw(i,"border","width"),f=Jw(i,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,n?c/n:u-s.height),c=ay(Math.min(c,a,l.maxWidth)),u=ay(Math.min(u,o,l.maxHeight)),c&&!u&&(u=ay(c/2)),(e!==void 0||r!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=ay(Math.floor(u*n))),{width:c,height:u}}function ade(t,e,r){const n=e||1,i=ay(t.height*n),s=ay(t.width*n);t.height=ay(t.height),t.width=ay(t.width);const a=t.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=n,a.height=i,a.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const BPt=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};WQ()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function ode(t,e){const r=RPt(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Xx(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function $Pt(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function VPt(t,e,r,n){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=Xx(t,i,r),o=Xx(i,s,r),l=Xx(s,e,r),c=Xx(a,o,r),u=Xx(o,l,r);return Xx(c,u,r)}const UPt=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},zPt=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function pA(t,e,r){return t?UPt(e,r):zPt()}function jCe(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function LCe(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function BCe(t){return t==="angle"?{between:uI,compare:z5t,normalize:Zu}:{between:cg,compare:(e,r)=>e-r,normalize:e=>e}}function lde({start:t,end:e,count:r,loop:n,style:i}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:i}}function HPt(t,e,r){const{property:n,start:i,end:s}=r,{between:a,normalize:o}=BCe(n),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&a(o(e[c%l][n]),i,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function $Ce(t,e,r){if(!r)return[t];const{property:n,start:i,end:s}=r,a=e.length,{compare:o,between:l,normalize:c}=BCe(n),{start:u,end:d,loop:h,style:f}=HPt(t,e,r),g=[];let m=!1,v=null,x,w,b;const _=()=>l(i,b,x)&&o(i,b)!==0,S=()=>o(s,x)===0||l(s,b,x),T=()=>m||_(),E=()=>!m||S();for(let C=u,N=u;C<=d;++C)w=e[C%a],!w.skip&&(x=c(w[n]),x!==b&&(m=l(x,i,s),v===null&&T()&&(v=o(x,i)===0?C:N),v!==null&&E()&&(g.push(lde({start:v,end:C,loop:h,count:a,style:f})),v=null),N=C,b=x));return v!==null&&g.push(lde({start:v,end:d,loop:h,count:a,style:f})),g}function VCe(t,e){const r=[],n=t.segments;for(let i=0;i<n.length;i++){const s=$Ce(n[i],t.points,e);s.length&&r.push(...s)}return r}function WPt(t,e,r,n){let i=0,s=e-1;if(r&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,r&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function qPt(t,e,r,n){const i=t.length,s=[];let a=e,o=t[e],l;for(l=e+1;l<=r;++l){const c=t[l%i];c.skip||c.stop?o.skip||(n=!1,s.push({start:e%i,end:(l-1)%i,loop:n}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&s.push({start:e%i,end:a%i,loop:n}),s}function GPt(t,e){const r=t.points,n=t.options.spanGaps,i=r.length;if(!i)return[];const s=!!t._loop,{start:a,end:o}=WPt(r,i,s,n);if(n===!0)return cde(t,[{start:a,end:o,loop:s}],r,e);const l=o<a?o+i:o,c=!!t._fullLoop&&a===0&&o===i-1;return cde(t,qPt(r,a,l,c),r,e)}function cde(t,e,r,n){return!n||!n.setContext||!r?e:KPt(t,e,r,n)}function KPt(t,e,r,n){const i=t._chart.getContext(),s=ude(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=r.length,c=[];let u=s,d=e[0].start,h=d;function f(g,m,v,x){const w=o?-1:1;if(g!==m){for(g+=l;r[g%l].skip;)g-=w;for(;r[m%l].skip;)m+=w;g%l!==m%l&&(c.push({start:g%l,end:m%l,loop:v,style:x}),u=x,d=m%l)}}for(const g of e){d=o?d:g.start;let m=r[d%l],v;for(h=d+1;h<=g.end;h++){const x=r[h%l];v=ude(n.setContext(f2(i,{type:"segment",p0:m,p1:x,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),YPt(v,u)&&f(d,h-1,g.loop,u),m=x,u=v}d<h-1&&f(d,h-1,g.loop,u)}return c}function ude(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function YPt(t,e){if(!e)return!1;const r=[],n=function(i,s){return BQ(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function hD(t,e,r){return t.options.clip?t[r]:e[r]}function XPt(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:hD(r,e,"left"),right:hD(r,e,"right"),top:hD(n,e,"top"),bottom:hD(n,e,"bottom")}:e}function UCe(t,e){const r=e._clip;if(r.disabled)return!1;const n=XPt(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class ZPt{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,i){const s=r.listeners[i],a=r.duration;s.forEach(o=>o({chart:e,initial:r.initial,numSteps:a,currentStep:Math.min(n-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=TCe.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,n,e,"progress")),s.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var i0=new ZPt;const dde="transparent",QPt={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=ede(t||dde),i=n.valid&&ede(e||dde);return i&&i.valid?i.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class JPt{constructor(e,r,n,i){const s=r[n];i=uD([e.to,i,s,e.from]);const a=uD([e.from,s,i]);this._active=!0,this._fn=e.fn||QPt[e.type||typeof a],this._easing=vP[e.easing]||vP.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,a=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=uD([e.to,r,i,e.from]),this._from=uD([e.from,i,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||r<n),!this._active){this._target[i]=o,this._notify(!0);return}if(r<0){this._target[i]=s;return}l=r/n%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][r]()}}class zCe{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!jn(e))return;const r=Object.keys(wa.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!jn(s))return;const a={};for(const o of r)a[o]=s[o];(La(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,a)})})}_animateOptions(e,r){const n=r.options,i=tNt(e,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&eNt(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(r),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,r));continue}const u=r[c];let d=s[c];const h=n.get(c);if(d)if(h&&d.active()){d.update(h,u,o);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}s[c]=d=new JPt(h,e,c,u),i.push(d)}return i}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return i0.add(this._chart,n),!0}}function eNt(t,e){const r=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const s=t[n[i]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function tNt(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function hde(t,e){const r=t&&t.options||{},n=r.reverse,i=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:i,end:n?i:s}}function rNt(t,e,r){if(r===!1)return!1;const n=hde(t,r),i=hde(e,r);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function nNt(t){let e,r,n,i;return jn(t)?(e=t.top,r=t.right,n=t.bottom,i=t.left):e=r=n=i=t,{top:e,right:r,bottom:n,left:i,disabled:t===!1}}function HCe(t,e){const r=[],n=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=n.length;i<s;++i)r.push(n[i].index);return r}function fde(t,e,r,n={}){const i=t.keys,s=n.mode==="single";let a,o,l,c;if(e===null)return;let u=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===r){if(u=!0,n.all)continue;break}c=t.values[l],Ul(c)&&(s||e===0||_m(e)===_m(c))&&(e+=c)}return!u&&!n.all?0:e}function iNt(t,e){const{iScale:r,vScale:n}=e,i=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[i]:u,[s]:t[u]};return o}function wV(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function sNt(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function aNt(t){const{min:e,max:r,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}function oNt(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function pde(t,e,r,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const s=t[i.index];if(r&&s>0||!r&&s<0)return i.index}return null}function mde(t,e){const{chart:r,_cachedMeta:n}=t,i=r._stacks||(r._stacks={}),{iScale:s,vScale:a,index:o}=n,l=s.axis,c=a.axis,u=sNt(s,a,n),d=e.length;let h;for(let f=0;f<d;++f){const g=e[f],{[l]:m,[c]:v}=g,x=g._stacks||(g._stacks={});h=x[c]=oNt(i,u,m),h[o]=v,h._top=pde(h,a,!0,n.type),h._bottom=pde(h,a,!1,n.type);const w=h._visualValues||(h._visualValues={});w[o]=v}}function _V(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function lNt(t,e){return f2(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function cNt(t,e,r){return f2(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Bk(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const SV=t=>t==="reset"||t==="none",gde=(t,e)=>e?t:Object.assign({},t),uNt=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:HCe(r,!0),values:null};class e_{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=wV(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Bk(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),i=(d,h,f,g)=>d==="x"?h:d==="r"?g:f,s=r.xAxisID=bn(n.xAxisID,_V(e,"x")),a=r.yAxisID=bn(n.yAxisID,_V(e,"y")),o=r.rAxisID=bn(n.rAxisID,_V(e,"r")),l=r.indexAxis,c=r.iAxisID=i(l,s,a,o),u=r.vAxisID=i(l,a,s,o);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(o),r.iScale=this.getScaleForId(c),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Zue(this._data,this),e._stacked&&Bk(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(jn(r)){const i=this._cachedMeta;this._data=iNt(r,i)}else if(n!==r){if(n){Zue(n,this);const i=this._cachedMeta;Bk(i),i._parsed=[]}r&&Object.isExtensible(r)&&G5t(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=r._stacked;r._stacked=wV(r.vScale,r),r.stack!==n.stack&&(i=!0,Bk(r),r.stack=n.stack),this._resyncElements(e),(i||s!==r._stacked)&&(mde(this,r._parsed),r._stacked=wV(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:a}=n,o=s.axis;let l=e===0&&r===i.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,d,h;if(this._parsing===!1)n._parsed=i,n._sorted=!0,h=i;else{La(i[e])?h=this.parseArrayData(n,i,e,r):jn(i[e])?h=this.parseObjectData(n,i,e,r):h=this.parsePrimitiveData(n,i,e,r);const f=()=>d[o]===null||c&&d[o]<c[o];for(u=0;u<r;++u)n._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);n._sorted=l}a&&mde(this,h)}parsePrimitiveData(e,r,n,i){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,c=s.getLabels(),u=s===a,d=new Array(i);let h,f,g;for(h=0,f=i;h<f;++h)g=h+n,d[h]={[o]:u||s.parse(c[g],g),[l]:a.parse(r[g],g)};return d}parseArrayData(e,r,n,i){const{xScale:s,yScale:a}=e,o=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+n,d=r[u],o[l]={x:s.parse(d[0],u),y:a.parse(d[1],u)};return o}parseObjectData(e,r,n,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,h,f;for(u=0,d=i;u<d;++u)h=u+n,f=r[h],c[u]={x:s.parse(D_(f,o),h),y:a.parse(D_(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const i=this.chart,s=this._cachedMeta,a=r[e.axis],o={keys:HCe(i,!0),values:r._stacks[e.axis]._visualValues};return fde(o,a,s.index,{mode:n})}updateRangeFromParsed(e,r,n,i){const s=n[r.axis];let a=s===null?NaN:s;const o=i&&n._stacks[r.axis];i&&o&&(i.values=o,a=fde(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&e===n.iScale,a=i.length,o=this._getOtherScale(e),l=uNt(r,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=aNt(o);let h,f;function g(){f=i[h];const m=f[o.axis];return!Ul(f[e.axis])||u>m||d<m}for(h=0;h<a&&!(!g()&&(this.updateRangeFromParsed(c,e,f,l),s));++h);if(s){for(h=a-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let i,s,a;for(i=0,s=r.length;i<s;++i)a=r[i][e.axis],Ul(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,i=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=nNt(bn(this.options.clip,rNt(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,i=n.data||[],s=r.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,s,o,l),u=o;u<o+l;++u){const d=i[u];d.hidden||(d.active&&c?a.push(d):d.draw(e,s))}for(u=0;u<a.length;++u)a[u].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=cNt(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=lNt(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const i=r==="active",s=this._cachedDataOpts,a=e+"-"+r,o=s[a],l=this.enableOptionSharing&&lI(n);if(o)return gde(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(wa.elements[e]),g=()=>this.getContext(n,i,r),m=c.resolveNamedOptions(h,f,g,d);return m.$shared&&(m.$shared=l,s[a]=Object.freeze(gde(m,l))),m}_resolveAnimations(e,r,n){const i=this.chart,s=this._cachedDataOpts,a=`animation-${r}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,r),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,n,r))}const c=new zCe(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||SV(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),i=this._sharedOptions,s=this.getSharedOptions(n),a=this.includeOptions(r,s)||s!==i;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:a}}updateElement(e,r,n,i){SV(i)?Object.assign(e,n):this._resolveAnimations(r,i).update(e,n)}updateSharedOptions(e,r,n){e&&!SV(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,i){e.active=i;const s=this.getStyle(r,i);this._resolveAnimations(r,n,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const i=n.length,s=r.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,r,n=!0){const i=this._cachedMeta,s=i.data,a=e+r;let o;const l=c=>{for(c.length+=r,o=c.length-1;o>=a;o--)c[o]=c[o-r]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,i){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,r);n._stacked&&Bk(n,i)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,i]=e;this[r](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Le(e_,"defaults",{}),Le(e_,"datasetElementType",null),Le(e_,"dataElementType",null);function dNt(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let i=0,s=r.length;i<s;i++)n=n.concat(r[i].controller.getAllParsedValues(t));t._cache.$bar=ECe(n.sort((i,s)=>i-s))}return t._cache.$bar}function hNt(t){const e=t.iScale,r=dNt(e,t.type);let n=e._length,i,s,a,o;const l=()=>{a===32767||a===-32768||(lI(o)&&(n=Math.min(n,Math.abs(a-o)||n)),o=a)};for(i=0,s=r.length;i<s;++i)a=e.getPixelForValue(r[i]),l();for(o=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),l();return n}function fNt(t,e,r,n){const i=r.barThickness;let s,a;return hi(i)?(s=e.min*r.categoryPercentage,a=r.barPercentage):(s=i*n,a=1),{chunk:s/n,ratio:a,start:e.pixels[t]-s/2}}function pNt(t,e,r,n){const i=e.pixels,s=i[t];let a=t>0?i[t-1]:null,o=t<i.length-1?i[t+1]:null;const l=r.categoryPercentage;a===null&&(a=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-a);const c=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/n,ratio:r.barPercentage,start:c}}function mNt(t,e,r,n){const i=r.parse(t[0],n),s=r.parse(t[1],n),a=Math.min(i,s),o=Math.max(i,s);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),e[r.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:a,max:o}}function WCe(t,e,r,n){return La(t)?mNt(t,e,r,n):e[r.axis]=r.parse(t,n),e}function vde(t,e,r,n){const i=t.iScale,s=t.vScale,a=i.getLabels(),o=i===s,l=[];let c,u,d,h;for(c=r,u=r+n;c<u;++c)h=e[c],d={},d[i.axis]=o||i.parse(a[c],c),l.push(WCe(h,d,s,c));return l}function AV(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function gNt(t,e,r){return t!==0?_m(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function vNt(t){let e,r,n,i,s;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(i="end",s="start"):(i="start",s="end"),{start:r,end:n,reverse:e,top:i,bottom:s}}function yNt(t,e,r,n){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:u}=vNt(t);i==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?i=c:(r._bottom||0)===n?i=u:(s[yde(u,a,o,l)]=!0,i=c)),s[yde(i,a,o,l)]=!0,t.borderSkipped=s}function yde(t,e,r,n){return n?(t=xNt(t,e,r),t=xde(t,r,e)):t=xde(t,e,r),t}function xNt(t,e,r){return t===e?r:t===r?e:t}function xde(t,e,r){return t==="start"?e:t==="end"?r:t}function bNt(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class AM extends e_{parsePrimitiveData(e,r,n,i){return vde(e,r,n,i)}parseArrayData(e,r,n,i){return vde(e,r,n,i)}parseObjectData(e,r,n,i){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?o:l,u=a.axis==="x"?o:l,d=[];let h,f,g,m;for(h=n,f=n+i;h<f;++h)m=r[h],g={},g[s.axis]=s.parse(D_(m,c),h),d.push(WCe(D_(m,u),g,a,h));return d}updateRangeFromParsed(e,r,n,i){super.updateRangeFromParsed(e,r,n,i);const s=n._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:i}=r,s=this.getParsed(e),a=s._custom,o=AV(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(r,i);for(let f=r;f<r+n;f++){const g=this.getParsed(f),m=s||hi(g[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,u),x=(g._stacks||{})[o.axis],w={horizontal:c,base:m.base,enableBorderRadius:!x||AV(g._custom)||a===x._top||a===x._bottom,x:c?m.head:v.center,y:c?v.center:m.head,height:c?v.size:Math.abs(m.size),width:c?Math.abs(m.size):v.size};h&&(w.options=d||this.resolveDataElementOptions(f,e[f].active?"active":i));const b=w.options||e[f].options;yNt(w,b,x,a),bNt(w,b,u.ratio),this.updateElement(e[f],f,w,i)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=n.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(r),l=o&&o[n.axis],c=u=>{const d=u._parsed.find(f=>f[n.axis]===l),h=d&&d[u.vScale.axis];if(hi(h)||isNaN(h))return!0};for(const u of i)if(!(r!==void 0&&c(u))&&((s===!1||a.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[bn(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const i=this._getStacks(e,n),s=r!==void 0?i.indexOf(r):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,i=[];let s,a;for(s=0,a=r.data.length;s<a;++s)i.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const o=e.barThickness;return{min:o||hNt(r),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:i},options:{base:s,minBarLength:a}}=this,o=s||0,l=this.getParsed(e),c=l._custom,u=AV(c);let d=l[r.axis],h=0,f=n?this.applyStack(r,l,n):d,g,m;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&_m(d)!==_m(c.barEnd)&&(h=0),h+=d);const v=!hi(s)&&!u?s:h;let x=r.getPixelForValue(v);if(this.chart.getDataVisibility(e)?g=r.getPixelForValue(h+f):g=x,m=g-x,Math.abs(m)<a){m=gNt(m,r,o)*a,d===o&&(x-=m/2);const w=r.getPixelForDecimal(0),b=r.getPixelForDecimal(1),_=Math.min(w,b),S=Math.max(w,b);x=Math.max(Math.min(x,S),_),g=x+m,n&&!u&&(l._stacks[r.axis]._visualValues[i]=r.getValueForPixel(g)-r.getValueForPixel(x))}if(x===r.getPixelForValue(o)){const w=_m(m)*r.getLineWidthForValue(o)/2;x+=w,m-=w}return{size:m,base:x,head:g,center:g+m/2}}_calculateBarIndexPixels(e,r){const n=r.scale,i=this.options,s=i.skipNull,a=bn(i.maxBarThickness,1/0);let o,l;const c=this._getAxisCount();if(r.grouped){const u=s?this._getStackCount(e):r.stackCount,d=i.barThickness==="flex"?pNt(e,r,i,u*c):fNt(e,r,i,u*c),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(bn(h,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+f;o=d.start+d.chunk*g+d.chunk/2,l=Math.min(a,d.chunk*d.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(a,r.min*r.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,i=n.length;let s=0;for(;s<i;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}Le(AM,"id","bar"),Le(AM,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Le(AM,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function wNt(t,e,r){let n=1,i=1,s=0,a=0;if(e<Fs){const o=t,l=o+e,c=Math.cos(o),u=Math.sin(o),d=Math.cos(l),h=Math.sin(l),f=(b,_,S)=>uI(b,o,l,!0)?1:Math.max(_,_*r,S,S*r),g=(b,_,S)=>uI(b,o,l,!0)?-1:Math.min(_,_*r,S,S*r),m=f(0,c,d),v=f(lo,u,h),x=g(Ei,c,d),w=g(Ei+lo,u,h);n=(m-x)/2,i=(v-w)/2,s=-(m+x)/2,a=-(v+w)/2}return{ratioX:n,ratioY:i,offsetX:s,offsetY:a}}class f5 extends e_{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let s=l=>+n[l];if(jn(n[e])){const{key:l="value"}=this._parsing;s=c=>+D_(n[c],l)}let a,o;for(a=e,o=e+r;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return lg(this.options.rotation-90)}_getCircumference(){return lg(this.options.circumference)}_getRotationExtents(){let e=Fs,r=-Fs;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),r=Math.max(r,s+a)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),l=Math.min(N5t(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:g,offsetY:m}=wNt(d,u,l),v=(n.width-a)/h,x=(n.height-a)/f,w=Math.max(Math.min(v,x)/2,0),b=wCe(this.options.radius,w),_=Math.max(b*l,0),S=(b-_)/this._getVisibleDatasetWeightTotal();this.offsetX=g*b,this.offsetY=m*b,i.total=this.calculateTotal(),this.outerRadius=b-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,i=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Fs)}updateElements(e,r,n,i){const s=i==="reset",a=this.chart,o=a.chartArea,c=a.options.animation,u=(o.left+o.right)/2,d=(o.top+o.bottom)/2,h=s&&c.animateScale,f=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(r,i);let x=this._getRotation(),w;for(w=0;w<r;++w)x+=this._circumference(w,s);for(w=r;w<r+n;++w){const b=this._circumference(w,s),_=e[w],S={x:u+this.offsetX,y:d+this.offsetY,startAngle:x,endAngle:x+b,circumference:b,outerRadius:g,innerRadius:f};v&&(S.options=m||this.resolveDataElementOptions(w,_.active?"active":i)),x+=b,this.updateElement(_,w,S,i)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,i;for(i=0;i<r.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!r[i].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Fs*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=$Q(r._parsed[e],n.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let i,s,a,o,l;if(!e){for(i=0,s=n.data.datasets.length;i<s;++i)if(n.isDatasetVisible(i)){a=n.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=o.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,i=e.length;n<i;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(bn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Le(f5,"id","doughnut"),Le(f5,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Le(f5,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Le(f5,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data,{labels:{pointStyle:n,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((l,c)=>{const d=e.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:d.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(c),lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:d.borderWidth,strokeStyle:d.borderColor,textAlign:i,pointStyle:n,borderRadius:a&&(o||d.borderRadius),index:c}}):[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class EM extends e_{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:i=[],_dataset:s}=r,a=this.chart._animationsDisabled;let{start:o,count:l}=X5t(r,i,a);this._drawStart=o,this._drawCount=l,Z5t(r)&&(o=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:c},e),this.updateElements(i,o,l,e)}updateElements(e,r,n,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(r,i),h=a.axis,f=o.axis,{spanGaps:g,segment:m}=this.options,v=cI(g)?g:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||i==="none",w=r+n,b=e.length;let _=r>0&&this.getParsed(r-1);for(let S=0;S<b;++S){const T=e[S],E=x?T:{};if(S<r||S>=w){E.skip=!0;continue}const C=this.getParsed(S),N=hi(C[f]),F=E[h]=a.getPixelForValue(C[h],S),A=E[f]=s||N?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,C,l):C[f],S);E.skip=isNaN(F)||isNaN(A)||N,E.stop=S>0&&Math.abs(C[h]-_[h])>v,m&&(E.parsed=C,E.raw=c.data[S]),d&&(E.options=u||this.resolveDataElementOptions(S,T.active?"active":i)),x||this.updateElement(T,S,E,i),_=C}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Le(EM,"id","line"),Le(EM,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Le(EM,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Bx(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class GQ{constructor(e){Le(this,"options");this.options=e||{}}static override(e){Object.assign(GQ.prototype,e)}init(){}formats(){return Bx()}parse(){return Bx()}format(){return Bx()}add(){return Bx()}diff(){return Bx()}startOf(){return Bx()}endOf(){return Bx()}}var _Nt={_date:GQ};function SNt(t,e,r,n){const{controller:i,data:s,_sorted:a}=t,o=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const c=o._reversePixels?W5t:_b;if(n){if(i._sharedOptions){const u=s[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const h=c(s,e,r-d),f=c(s,e,r+d);return{lo:h.lo,hi:f.hi}}}}else{const u=c(s,e,r);if(l){const{vScale:d}=i._cachedMeta,{_parsed:h}=t,f=h.slice(0,u.lo+1).reverse().findIndex(m=>!hi(m[d.axis]));u.lo-=Math.max(0,f);const g=h.slice(u.hi).findIndex(m=>!hi(m[d.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:s.length-1}}function bR(t,e,r,n,i){const s=t.getSortedVisibleDatasetMetas(),a=r[e];for(let o=0,l=s.length;o<l;++o){const{index:c,data:u}=s[o],{lo:d,hi:h}=SNt(s[o],e,a,i);for(let f=d;f<=h;++f){const g=u[f];g.skip||n(g,c,f)}}}function ANt(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,i){const s=e?Math.abs(n.x-i.x):0,a=r?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function EV(t,e,r,n,i){const s=[];return!i&&!t.isPointInArea(e)||bR(t,r,e,function(o,l,c){!i&&!dI(o,t.chartArea,0)||o.inRange(e.x,e.y,n)&&s.push({element:o,datasetIndex:l,index:c})},!0),s}function ENt(t,e,r,n){let i=[];function s(a,o,l){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],n),{angle:d}=SCe(a,{x:e.x,y:e.y});uI(d,c,u)&&i.push({element:a,datasetIndex:o,index:l})}return bR(t,r,e,s),i}function TNt(t,e,r,n,i,s){let a=[];const o=ANt(r);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,i);if(n&&!f)return;const g=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(g))&&!f)return;const v=o(e,g);v<l?(a=[{element:u,datasetIndex:d,index:h}],l=v):v===l&&a.push({element:u,datasetIndex:d,index:h})}return bR(t,r,e,c),a}function TV(t,e,r,n,i,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?ENt(t,e,r,i):TNt(t,e,r,n,i,s)}function bde(t,e,r,n,i){const s=[],a=r==="x"?"inXRange":"inYRange";let o=!1;return bR(t,r,e,(l,c,u)=>{l[a]&&l[a](e[r],i)&&(s.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(e.x,e.y,i))}),n&&!o?[]:s}var CNt={evaluateInteractionItems:bR,modes:{index(t,e,r,n){const i=Yx(e,t),s=r.axis||"x",a=r.includeInvisible||!1,o=r.intersect?EV(t,i,s,n,a):TV(t,i,s,!1,n,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,r,n){const i=Yx(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;let o=r.intersect?EV(t,i,s,n,a):TV(t,i,s,!1,n,a);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(t,e,r,n){const i=Yx(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;return EV(t,i,s,n,a)},nearest(t,e,r,n){const i=Yx(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;return TV(t,i,s,r.intersect,n,a)},x(t,e,r,n){const i=Yx(e,t);return bde(t,i,"x",r.intersect,n)},y(t,e,r,n){const i=Yx(e,t);return bde(t,i,"y",r.intersect,n)}}};const qCe=["left","top","right","bottom"];function $k(t,e){return t.filter(r=>r.pos===e)}function wde(t,e){return t.filter(r=>qCe.indexOf(r.pos)===-1&&r.box.axis===e)}function Vk(t,e){return t.sort((r,n)=>{const i=e?n:r,s=e?r:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function kNt(t){const e=[];let r,n,i,s,a,o;for(r=0,n=(t||[]).length;r<n;++r)i=t[r],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:r,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function PNt(t){const e={};for(const r of t){const{stack:n,pos:i,stackWeight:s}=r;if(!n||!qCe.includes(i))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function NNt(t,e){const r=PNt(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:l}=o.box,c=r[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*n:l&&e.availableWidth,o.height=i):(o.width=n,o.height=u?u*i:l&&e.availableHeight)}return r}function INt(t){const e=kNt(t),r=Vk(e.filter(c=>c.box.fullSize),!0),n=Vk($k(e,"left"),!0),i=Vk($k(e,"right")),s=Vk($k(e,"top"),!0),a=Vk($k(e,"bottom")),o=wde(e,"x"),l=wde(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:$k(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function _de(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function GCe(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function ONt(t,e,r,n){const{pos:i,box:s}=r,a=t.maxPadding;if(!jn(i)){r.size&&(t[i]-=r.size);const d=n[r.stack]||{size:0,count:1};d.size=Math.max(d.size,r.horizontal?s.height:s.width),r.size=d.size/d.count,t[i]+=r.size}s.getPadding&&GCe(a,s.getPadding());const o=Math.max(0,e.outerWidth-_de(a,t,"left","right")),l=Math.max(0,e.outerHeight-_de(a,t,"top","bottom")),c=o!==t.w,u=l!==t.h;return t.w=o,t.h=l,r.horizontal?{same:c,other:u}:{same:u,other:c}}function RNt(t){const e=t.maxPadding;function r(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function DNt(t,e){const r=e.maxPadding;function n(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],r[a])}),s}return n(t?["left","right"]:["top","bottom"])}function p5(t,e,r,n){const i=[];let s,a,o,l,c,u;for(s=0,a=t.length,c=0;s<a;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,DNt(o.horizontal,e));const{same:d,other:h}=ONt(e,r,o,n);c|=d&&i.length,u=u||h,l.fullSize||i.push(o)}return c&&p5(i,e,r,n)||u}function fD(t,e,r,n,i){t.top=r,t.left=e,t.right=e+n,t.bottom=r+i,t.width=n,t.height=i}function Sde(t,e,r,n){const i=r.padding;let{x:s,y:a}=e;for(const o of t){const l=o.box,c=n[o.stack]||{count:1,placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const d=e.w*u,h=c.size||l.height;lI(c.start)&&(a=c.start),l.fullSize?fD(l,i.left,a,r.outerWidth-i.right-i.left,h):fD(l,e.left+c.placed,a,d,h),c.start=a,c.placed+=d,a=l.bottom}else{const d=e.h*u,h=c.size||l.width;lI(c.start)&&(s=c.start),l.fullSize?fD(l,s,i.top,h,r.outerHeight-i.bottom-i.top):fD(l,s,e.top+c.placed,h,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=a}var fh={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const i=Ch(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(r-i.height,0),o=INt(t.boxes),l=o.vertical,c=o.horizontal;Si(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,v)=>v.box.options&&v.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:r,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),h=Object.assign({},i);GCe(h,Ch(n));const f=Object.assign({maxPadding:h,w:s,h:a,x:i.left,y:i.top},i),g=NNt(l.concat(c),d);p5(o.fullSize,f,d,g),p5(l,f,d,g),p5(c,f,d,g)&&p5(l,f,d,g),RNt(f),Sde(o.leftAndTop,f,d,g),f.x+=f.w,f.y+=f.h,Sde(o.rightAndBottom,f,d,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Si(o.chartArea,m=>{const v=m.box;Object.assign(v,t.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class KCe{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,i){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,i?Math.floor(r/i):n)}}isAttached(e){return!0}updateConfig(e){}}class MNt extends KCe{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const TM="$chartjs",FNt={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ade=t=>t===null||t==="";function jNt(t,e){const r=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[TM]={initial:{height:n,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",Ade(i)){const s=ode(t,"width");s!==void 0&&(t.width=s)}if(Ade(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=ode(t,"height");s!==void 0&&(t.height=s)}return t}const YCe=BPt?{passive:!0}:!1;function LNt(t,e,r){t&&t.addEventListener(e,r,YCe)}function BNt(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,YCe)}function $Nt(t,e){const r=FNt[t.type]||t.type,{x:n,y:i}=Yx(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function LL(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function VNt(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||LL(o.addedNodes,n),a=a&&!LL(o.removedNodes,n);a&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}function UNt(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||LL(o.removedNodes,n),a=a&&!LL(o.addedNodes,n);a&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}const fI=new Map;let Ede=0;function XCe(){const t=window.devicePixelRatio;t!==Ede&&(Ede=t,fI.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function zNt(t,e){fI.size||window.addEventListener("resize",XCe),fI.set(t,e)}function HNt(t){fI.delete(t),fI.size||window.removeEventListener("resize",XCe)}function WNt(t,e,r){const n=t.canvas,i=n&&qQ(n);if(!i)return;const s=CCe((o,l)=>{const c=i.clientWidth;r(o,l),c<i.clientWidth&&r()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return a.observe(i),zNt(t,s),a}function CV(t,e,r){r&&r.disconnect(),e==="resize"&&HNt(t)}function qNt(t,e,r){const n=t.canvas,i=CCe(s=>{t.ctx!==null&&r($Nt(s,t))},t);return LNt(n,e,i),i}class GNt extends KCe{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(jNt(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[TM])return!1;const n=r[TM].initial;["height","width"].forEach(s=>{const a=n[s];hi(a)?r.removeAttribute(s):r.setAttribute(s,a)});const i=n.style||{};return Object.keys(i).forEach(s=>{r.style[s]=i[s]}),r.width=r.width,delete r[TM],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const i=e.$proxies||(e.$proxies={}),a={attach:VNt,detach:UNt,resize:WNt}[r]||qNt;i[r]=a(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),i=n[r];if(!i)return;({attach:CV,detach:CV,resize:CV}[r]||BNt)(e,r,i),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,i){return LPt(e,r,n,i)}isAttached(e){const r=e&&qQ(e);return!!(r&&r.isConnected)}}function KNt(t){return!WQ()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?MNt:GNt}var $D;let nv=($D=class{constructor(){Le(this,"x");Le(this,"y");Le(this,"active",!1);Le(this,"options");Le(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return cI(this.x)&&cI(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const i={};return e.forEach(s=>{i[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),i}},Le($D,"defaults",{}),Le($D,"defaultRoutes"),$D);function YNt(t,e){const r=t.options.ticks,n=XNt(t),i=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?QNt(e):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return JNt(e,c,s,a/i),c;const u=ZNt(s,e,i);if(a>0){let d,h;const f=a>1?Math.round((l-o)/(a-1)):null;for(pD(e,c,u,hi(f)?0:o-f,o),d=0,h=a-1;d<h;d++)pD(e,c,u,s[d],s[d+1]);return pD(e,c,u,l,hi(f)?e.length:l+f),c}return pD(e,c,u),c}function XNt(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),i=t._maxLength/r;return Math.floor(Math.min(n,i))}function ZNt(t,e,r){const n=eIt(t),i=e.length/r;if(!n)return Math.max(i,1);const s=L5t(n);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function QNt(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function JNt(t,e,r,n){let i=0,s=r[0],a;for(n=Math.ceil(n),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=r[i*n])}function pD(t,e,r,n,i){const s=bn(n,0),a=Math.min(bn(i,t.length),t.length);let o=0,l,c,u;for(r=Math.ceil(r),i&&(l=i-n,r=l/Math.floor(l/r)),u=s;u<0;)o++,u=Math.round(s+o*r);for(c=Math.max(s,0);c<a;c++)c===u&&(e.push(t[c]),o++,u=Math.round(s+o*r))}function eIt(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const tIt=t=>t==="left"?"right":t==="right"?"left":t,Tde=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,Cde=(t,e)=>Math.min(e||t,t);function kde(t,e){const r=[],n=t.length/e,i=t.length;let s=0;for(;s<i;s+=n)r.push(t[Math.floor(s)]);return r}function rIt(t,e,r){const n=t.ticks.length,i=Math.min(e,n-1),s=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(i),c;if(!(r&&(n===1?c=Math.max(l-s,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-o||l>a+o)))return l}function nIt(t,e){Si(t,r=>{const n=r.gc,i=n.length/2;let s;if(i>e){for(s=0;s<i;++s)delete r.data[n[s]];n.splice(0,i)}})}function Uk(t){return t.drawTicks?t.tickLength:0}function Pde(t,e){if(!t.display)return 0;const r=Ll(t.font,e),n=Ch(t.padding);return(La(t.text)?t.text.length:1)*r.lineHeight+n.height}function iIt(t,e){return f2(t,{scale:e,type:"scale"})}function sIt(t,e,r){return f2(t,{tick:r,index:e,type:"tick"})}function aIt(t,e,r){let n=LQ(t);return(r&&e!=="right"||!r&&e==="right")&&(n=tIt(n)),n}function oIt(t,e,r,n){const{top:i,left:s,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,g;const m=a-i,v=o-s;if(t.isHorizontal()){if(f=Tl(n,s,o),jn(r)){const x=Object.keys(r)[0],w=r[x];g=u[x].getPixelForValue(w)+m-e}else r==="center"?g=(c.bottom+c.top)/2+m-e:g=Tde(t,r,e);h=o-s}else{if(jn(r)){const x=Object.keys(r)[0],w=r[x];f=u[x].getPixelForValue(w)-v+e}else r==="center"?f=(c.left+c.right)/2-v+e:f=Tde(t,r,e);g=Tl(n,a,i),d=r==="left"?-lo:lo}return{titleX:f,titleY:g,maxWidth:h,rotation:d}}class VC extends nv{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:i}=this;return e=lp(e,Number.POSITIVE_INFINITY),r=lp(r,Number.NEGATIVE_INFINITY),n=lp(n,Number.POSITIVE_INFINITY),i=lp(i,Number.NEGATIVE_INFINITY),{min:lp(e,n),max:lp(r,i),minDefined:Ul(e),maxDefined:Ul(r)}}getMinMax(e){let{min:r,max:n,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:r,max:n};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),i||(r=Math.min(r,a.min)),s||(n=Math.max(n,a.max));return r=s&&r>n?n:r,n=i&&r>n?r:n,{min:lp(r,lp(n,r)),max:lp(n,lp(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){vs(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gPt(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?kde(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=YNt(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){vs(this.options.afterUpdate,[this])}beforeSetDimensions(){vs(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){vs(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),vs(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){vs(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,i,s;for(n=0,i=e.length;n<i;n++)s=e[n],s.label=vs(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){vs(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){vs(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=Cde(this.ticks.length,e.ticks.maxTicksLimit),i=r.minRotation||0,s=r.maxRotation;let a=i,o,l,c;if(!this._isVisible()||!r.display||i>=s||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=jl(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/n:f/(n-1),d+6>o&&(o=f/(n-(e.offset?.5:1)),l=this.maxHeight-Uk(e.grid)-r.padding-Pde(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),a=U5t(Math.min(Math.asin(jl((u.highest.height+6)/o,-1,1)),Math.asin(jl(l/c,-1,1))-Math.asin(jl(h/c,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){vs(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){vs(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=Pde(i,r.options.font);if(o?(e.width=this.maxWidth,e.height=Uk(s)+l):(e.height=this.maxHeight,e.width=Uk(s)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=n.padding*2,g=lg(this.labelRotation),m=Math.cos(g),v=Math.sin(g);if(o){const x=n.mirror?0:v*d.width+m*h.height;e.height=Math.min(this.maxHeight,e.height+x+f)}else{const x=n.mirror?0:m*d.width+v*h.height;e.width=Math.min(this.maxWidth,e.width+x+f)}this._calculatePadding(c,u,v,m)}}this._handleMargins(),o?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=i*e.width,f=n*r.height):(h=n*e.height,f=i*r.width):s==="start"?f=r.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,f=r.width/2),this.paddingLeft=Math.max((h-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+a)*this.width/(this.width-d),0)}else{let u=r.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=r.height,d=0),this.paddingTop=u+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){vs(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)hi(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=kde(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(r/Cde(r,n));let c=0,u=0,d,h,f,g,m,v,x,w,b,_,S;for(d=0;d<r;d+=l){if(g=e[d].label,m=this._resolveTickFontOptions(d),i.font=v=m.string,x=s[v]=s[v]||{data:{},gc:[]},w=m.lineHeight,b=_=0,!hi(g)&&!La(g))b=rde(i,x.data,x.gc,b,g),_=w;else if(La(g))for(h=0,f=g.length;h<f;++h)S=g[h],!hi(S)&&!La(S)&&(b=rde(i,x.data,x.gc,b,S),_+=w);a.push(b),o.push(_),c=Math.max(b,c),u=Math.max(_,u)}nIt(s,r);const T=a.indexOf(c),E=o.indexOf(u),C=N=>({width:a[N]||0,height:o[N]||0});return{first:C(0),last:C(r-1),widest:C(T),highest:C(E),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return H5t(this._alignToPixels?Lx(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=sIt(this.getContext(),e,n))}return this.$context||(this.$context=iIt(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=lg(this.labelRotation),n=Math.abs(Math.cos(r)),i=Math.abs(Math.sin(r)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*n>o*i?o/n:l/i:l*i<o*n?l/n:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=Uk(s),f=[],g=o.setContext(this.getContext()),m=g.display?g.width:0,v=m/2,x=function(X){return Lx(n,X,m)};let w,b,_,S,T,E,C,N,F,A,I,M;if(a==="top")w=x(this.bottom),E=this.bottom-h,N=w-v,A=x(e.top)+v,M=e.bottom;else if(a==="bottom")w=x(this.top),A=e.top,M=x(e.bottom)-v,E=w+v,N=this.top+h;else if(a==="left")w=x(this.right),T=this.right-h,C=w-v,F=x(e.left)+v,I=e.right;else if(a==="right")w=x(this.left),F=e.left,I=x(e.right)-v,T=w+v,C=this.left+h;else if(r==="x"){if(a==="center")w=x((e.top+e.bottom)/2+.5);else if(jn(a)){const X=Object.keys(a)[0],W=a[X];w=x(this.chart.scales[X].getPixelForValue(W))}A=e.top,M=e.bottom,E=w+v,N=E+h}else if(r==="y"){if(a==="center")w=x((e.left+e.right)/2);else if(jn(a)){const X=Object.keys(a)[0],W=a[X];w=x(this.chart.scales[X].getPixelForValue(W))}T=w-v,C=T-h,F=e.left,I=e.right}const U=bn(i.ticks.maxTicksLimit,d),Y=Math.max(1,Math.ceil(d/U));for(b=0;b<d;b+=Y){const X=this.getContext(b),W=s.setContext(X),G=o.setContext(X),B=W.lineWidth,re=W.color,ae=G.dash||[],R=G.dashOffset,j=W.tickWidth,V=W.tickColor,K=W.tickBorderDash||[],ne=W.tickBorderDashOffset;_=rIt(this,b,l),_!==void 0&&(S=Lx(n,_,B),c?T=C=F=I=S:E=N=A=M=S,f.push({tx1:T,ty1:E,tx2:C,ty2:N,x1:F,y1:A,x2:I,y2:M,width:B,color:re,borderDash:ae,borderDashOffset:R,tickWidth:j,tickColor:V,tickBorderDash:K,tickBorderDashOffset:ne}))}return this._ticksLength=d,this._borderValue=w,f}_computeLabelItems(e){const r=this.axis,n=this.options,{position:i,ticks:s}=n,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,h=Uk(n.grid),f=h+u,g=d?-u:f,m=-lg(this.labelRotation),v=[];let x,w,b,_,S,T,E,C,N,F,A,I,M="middle";if(i==="top")T=this.bottom-g,E=this._getXAxisLabelAlignment();else if(i==="bottom")T=this.top+g,E=this._getXAxisLabelAlignment();else if(i==="left"){const Y=this._getYAxisLabelAlignment(h);E=Y.textAlign,S=Y.x}else if(i==="right"){const Y=this._getYAxisLabelAlignment(h);E=Y.textAlign,S=Y.x}else if(r==="x"){if(i==="center")T=(e.top+e.bottom)/2+f;else if(jn(i)){const Y=Object.keys(i)[0],X=i[Y];T=this.chart.scales[Y].getPixelForValue(X)+f}E=this._getXAxisLabelAlignment()}else if(r==="y"){if(i==="center")S=(e.left+e.right)/2-f;else if(jn(i)){const Y=Object.keys(i)[0],X=i[Y];S=this.chart.scales[Y].getPixelForValue(X)}E=this._getYAxisLabelAlignment(h).textAlign}r==="y"&&(l==="start"?M="top":l==="end"&&(M="bottom"));const U=this._getLabelSizes();for(x=0,w=o.length;x<w;++x){b=o[x],_=b.label;const Y=s.setContext(this.getContext(x));C=this.getPixelForTick(x)+s.labelOffset,N=this._resolveTickFontOptions(x),F=N.lineHeight,A=La(_)?_.length:1;const X=A/2,W=Y.color,G=Y.textStrokeColor,B=Y.textStrokeWidth;let re=E;a?(S=C,E==="inner"&&(x===w-1?re=this.options.reverse?"left":"right":x===0?re=this.options.reverse?"right":"left":re="center"),i==="top"?c==="near"||m!==0?I=-A*F+F/2:c==="center"?I=-U.highest.height/2-X*F+F:I=-U.highest.height+F/2:c==="near"||m!==0?I=F/2:c==="center"?I=U.highest.height/2-X*F:I=U.highest.height-A*F,d&&(I*=-1),m!==0&&!Y.showLabelBackdrop&&(S+=F/2*Math.sin(m))):(T=C,I=(1-A)*F/2);let ae;if(Y.showLabelBackdrop){const R=Ch(Y.backdropPadding),j=U.heights[x],V=U.widths[x];let K=I-R.top,ne=0-R.left;switch(M){case"middle":K-=j/2;break;case"bottom":K-=j;break}switch(E){case"center":ne-=V/2;break;case"right":ne-=V;break;case"inner":x===w-1?ne-=V:x>0&&(ne-=V/2);break}ae={left:ne,top:K,width:V+R.width,height:j+R.height,color:Y.backdropColor}}v.push({label:_,font:N,textOffset:I,options:{rotation:m,color:W,strokeColor:G,strokeWidth:B,textAlign:re,textBaseline:M,translation:[S,T],backdrop:ae}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-lg(this.labelRotation))return e==="top"?"left":"right";let i="center";return r.align==="start"?i="left":r.align==="end"?i="right":r.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let c,u;return r==="left"?i?(u=this.right+s,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):r==="right"?i?(u=this.left+s,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:i,width:s,height:a}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,i,s,a),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?r.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(r.display)for(s=0,a=i.length;s<a;++s){const l=i[s];r.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:i}}=this,s=n.setContext(this.getContext()),a=n.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=Lx(e,this.left,a)-a/2,u=Lx(e,this.right,o)+o/2,d=h=l):(d=Lx(e,this.top,a)-a/2,h=Lx(e,this.bottom,o)+o/2,c=u=l),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(c,d),r.lineTo(u,h),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&d7(n,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,c=a.label,u=a.textOffset;hI(n,c,0,u,l,o)}i&&h7(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:i}}=this;if(!n.display)return;const s=Ll(n.font),a=Ch(n.padding),o=n.align;let l=s.lineHeight/2;r==="bottom"||r==="center"||jn(r)?(l+=a.bottom,La(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=a.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=oIt(this,l,r,o);hI(e,n.text,0,0,s,{color:n.color,maxWidth:d,rotation:h,textAlign:aIt(o,r,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=bn(e.grid&&e.grid.z,-1),i=bn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==VC.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,a;for(s=0,a=r.length;s<a;++s){const o=r[s];o[n]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Ll(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class mD{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;uIt(r)&&(n=this.register(r));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,lIt(e,a,n),this.override&&wa.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,i=this.scope;n in r&&delete r[n],i&&n in wa[i]&&(delete wa[i][n],this.override&&delete M_[n])}}function lIt(t,e,r){const n=oI(Object.create(null),[r?wa.get(r):{},wa.get(e),t.defaults]);wa.set(e,n),t.defaultRoutes&&cIt(e,t.defaultRoutes),t.descriptors&&wa.describe(e,t.descriptors)}function cIt(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),i=n.pop(),s=[t].concat(n).join("."),a=e[r].split("."),o=a.pop(),l=a.join(".");wa.route(s,i,l,o)})}function uIt(t){return"id"in t&&"defaults"in t}class dIt{constructor(){this.controllers=new mD(e_,"datasets",!0),this.elements=new mD(nv,"elements"),this.plugins=new mD(Object,"plugins"),this.scales=new mD(VC,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(i=>{const s=n||this._getRegistryForType(i);n||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Si(i,a=>{const o=n||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,r,n){const i=FQ(e);vs(n["before"+i],[],n),r[e](n),vs(n["after"+i],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const i=r.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var wp=new dIt;class hIt{constructor(){this._init=void 0}notify(e,r,n,i){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,r,n,i){i=i||{};for(const s of e){const a=s.plugin,o=a[n],l=[r,i,s.options];if(vs(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){hi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,i=bn(n.options&&n.options.plugins,{}),s=fIt(n);return i===!1&&!r?[]:mIt(e,s,i,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(r,n),e,"stop"),this._notify(i(n,r),e,"start")}}function fIt(t){const e={},r=[],n=Object.keys(wp.plugins.items);for(let s=0;s<n.length;s++)r.push(wp.getPlugin(n[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];r.indexOf(a)===-1&&(r.push(a),e[a.id]=!0)}return{plugins:r,localIds:e}}function pIt(t,e){return!e&&t===!1?null:t===!0?{}:t}function mIt(t,{plugins:e,localIds:r},n,i){const s=[],a=t.getContext();for(const o of e){const l=o.id,c=pIt(n[l],i);c!==null&&s.push({plugin:o,options:gIt(t.config,{plugin:o,local:r[l]},c,a)})}return s}function gIt(t,{plugin:e,local:r},n,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(n,s);return r&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function JW(t,e){const r=wa.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function vIt(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function yIt(t,e){return t===e?"_index_":"_value_"}function Nde(t){if(t==="x"||t==="y"||t==="r")return t}function xIt(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function eq(t,...e){if(Nde(t))return t;for(const r of e){const n=r.axis||xIt(r.position)||t.length>1&&Nde(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Ide(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function bIt(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return Ide(t,"x",r[0])||Ide(t,"y",r[0])}return{}}function wIt(t,e){const r=M_[t.type]||{scales:{}},n=e.scales||{},i=JW(t.type,e),s=Object.create(null);return Object.keys(n).forEach(a=>{const o=n[a];if(!jn(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=eq(a,o,bIt(a,t),wa.scales[o.type]),c=yIt(l,i),u=r.scales||{};s[a]=mP(Object.create(null),[{axis:l},o,u[l],u[c]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||JW(o,e),u=(M_[o]||{}).scales||{};Object.keys(u).forEach(d=>{const h=vIt(d,l),f=a[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),mP(s[f],[{axis:h},n[f],u[d]])})}),Object.keys(s).forEach(a=>{const o=s[a];mP(o,[wa.scales[o.type],wa.scale])}),s}function ZCe(t){const e=t.options||(t.options={});e.plugins=bn(e.plugins,{}),e.scales=wIt(t,e)}function QCe(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function _It(t){return t=t||{},t.data=QCe(t.data),ZCe(t),t}const Ode=new Map,JCe=new Set;function gD(t,e){let r=Ode.get(t);return r||(r=e(),Ode.set(t,r),JCe.add(r)),r}const zk=(t,e,r)=>{const n=D_(e,r);n!==void 0&&t.add(n)};class SIt{constructor(e){this._config=_It(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=QCe(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ZCe(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return gD(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return gD(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return gD(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return gD(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let i=n.get(e);return(!i||r)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,r,n){const{options:i,type:s}=this,a=this._cachedScopes(e,n),o=a.get(r);if(o)return o;const l=new Set;r.forEach(u=>{e&&(l.add(e),u.forEach(d=>zk(l,e,d))),u.forEach(d=>zk(l,i,d)),u.forEach(d=>zk(l,M_[s]||{},d)),u.forEach(d=>zk(l,wa,d)),u.forEach(d=>zk(l,ZW,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),JCe.has(r)&&a.set(r,c),c}chartOptionScopes(){const{options:e,type:r}=this;return[e,M_[r]||{},wa.datasets[r]||{},{type:r},wa,ZW]}resolveNamedOptions(e,r,n,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=Rde(this._resolverCache,e,i);let l=a;if(EIt(a,r)){s.$shared=!1,n=Yy(n)?n():n;const c=this.createResolver(e,n,o);l=QT(a,n,c)}for(const c of r)s[c]=l[c];return s}createResolver(e,r,n=[""],i){const{resolver:s}=Rde(this._resolverCache,e,n);return jn(r)?QT(s,r,void 0,i):s}}function Rde(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=r.join();let s=n.get(i);return s||(s={resolver:UQ(e,r),subPrefixes:r.filter(o=>!o.toLowerCase().includes("hover"))},n.set(i,s)),s}const AIt=t=>jn(t)&&Object.getOwnPropertyNames(t).some(e=>Yy(t[e]));function EIt(t,e){const{isScriptable:r,isIndexable:n}=OCe(t);for(const i of e){const s=r(i),a=n(i),o=(a||s)&&t[i];if(s&&(Yy(o)||AIt(o))||a&&La(o))return!0}return!1}var TIt="4.5.1";const CIt=["top","bottom","left","right","chartArea"];function Dde(t,e){return t==="top"||t==="bottom"||CIt.indexOf(t)===-1&&e==="x"}function Mde(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function Fde(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),vs(r&&r.onComplete,[t],e)}function kIt(t){const e=t.chart,r=e.options.animation;vs(r&&r.onProgress,[t],e)}function eke(t){return WQ()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const CM={},jde=t=>{const e=eke(t);return Object.values(CM).filter(r=>r.canvas===e).pop()};function PIt(t,e,r){const n=Object.keys(t);for(const i of n){const s=+i;if(s>=e){const a=t[i];delete t[i],(r>0||s>e)&&(t[s+r]=a)}}}function NIt(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}var Fv;let p7=(Fv=class{static register(...e){wp.add(...e),Lde()}static unregister(...e){wp.remove(...e),Lde()}constructor(e,r){const n=this.config=new SIt(r),i=eke(e),s=jde(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||KNt(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=P5t(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new hIt,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=K5t(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],CM[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}i0.listen(this,"complete",Fde),i0.listen(this,"progress",kIt),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:i,_aspectRatio:s}=this;return hi(e)?r&&s?s:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return wp}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ade(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return nde(this.canvas,this.ctx),this}stop(){return i0.stop(this),this}resize(e,r){i0.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,r,s),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,ade(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),vs(n.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Si(r,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,i=Object.keys(n).reduce((a,o)=>(a[o]=!1,a),{});let s=[];r&&(s=s.concat(Object.keys(r).map(a=>{const o=r[a],l=eq(a,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Si(s,a=>{const o=a.options,l=o.id,c=eq(l,o),u=bn(o.type,a.dtype);(o.position===void 0||Dde(o.position,c)!==Dde(a.dposition))&&(o.position=a.dposition),i[l]=!0;let d=null;if(l in n&&n[l].type===u)d=n[l];else{const h=wp.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),n[d.id]=d}d.init(o,e)}),Si(i,(a,o)=>{a||delete n[o]}),Si(n,a=>{fh.configure(this,a,a.options),fh.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((i,s)=>i.index-s.index),n>r){for(let i=r;i<n;++i)this._destroyDatasetMeta(i);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(Mde("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,i)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=r.length;n<i;n++){const s=r[n];let a=this.getDatasetMeta(n);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=o,a.indexAxis=s.indexAxis||JW(o,this.options),a.order=s.order||0,a.index=n,a.label=""+s.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const l=wp.getController(o),{datasetElementType:c,dataElementType:u}=wa.datasets[o];Object.assign(l,{dataElementType:wp.getElement(u),datasetElementType:c&&wp.getElement(c)}),a.controller=new l(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Si(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(h),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||Si(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Mde("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Si(this.scales,e=>{fh.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!Gue(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of r){const a=n==="_removeElements"?-s:s;PIt(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=n(0);for(let s=1;s<r;s++)if(!Gue(i,n(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fh.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Si(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Yy(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(r),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(i0.has(this)?this.attached&&!i0.running(this)&&i0.start(this):(this.draw(),Fde({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let i,s;for(i=0,s=r.length;i<s;++i){const a=r[i];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=UCe(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&d7(r,i),e.controller.draw(),i&&h7(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return dI(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,i){const s=CNt.modes[r];return typeof s=="function"?s(this,e,n,i):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let i=n.filter(s=>s&&s._dataset===r).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=f2(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const i=n?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);lI(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(s,{visible:n}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),i0.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),nde(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete CM[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,a)=>{r.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};Si(this.options.events,s=>n(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(l,c)=>{r.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(r.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",s),n("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",o)},r.isAttached(this.canvas)?o():a()}unbindEvents(){Si(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Si(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const i=n?"set":"remove";let s,a,o,l;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!RL(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),a=s(r,e),o=n?e:s(e,r);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:i=[],options:s}=this,a=r,o=this._getActiveElements(e,i,n,a),l=M5t(e),c=NIt(e,this._lastEvent,n,l);n&&(this._lastEvent=null,vs(s.onHover,[e,o,this],this),l&&vs(s.onClick,[e,o,this],this));const u=!RL(o,i);return(u||r)&&(this._active=o,this._updateHoverStyles(o,i,r)),this._lastEvent=c,u}_getActiveElements(e,r,n,i){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},Le(Fv,"defaults",wa),Le(Fv,"instances",CM),Le(Fv,"overrides",M_),Le(Fv,"registry",wp),Le(Fv,"version",TIt),Le(Fv,"getChart",jde),Fv);function Lde(){return Si(p7.instances,t=>t._plugins.invalidate())}function IIt(t,e,r){const{startAngle:n,x:i,y:s,outerRadius:a,innerRadius:o,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/a,Zu(n-r));if(t.beginPath(),t.arc(i,s,a-c/2,n+d/2,r-d/2),o>0){const h=Math.min(c/o,Zu(n-r));t.arc(i,s,o+c/2,r-h/2,n+h/2,!0)}else{const h=Math.min(c/2,a*Zu(n-r));if(u==="round")t.arc(i,s,h,r-Ei/2,n+Ei/2,!0);else if(u==="bevel"){const f=2*h*h,g=-f*Math.cos(r+Ei/2)+i,m=-f*Math.sin(r+Ei/2)+s,v=f*Math.cos(n+Ei/2)+i,x=f*Math.sin(n+Ei/2)+s;t.lineTo(g,m),t.lineTo(v,x)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function OIt(t,e,r){const{startAngle:n,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=e;let c=i/o;t.beginPath(),t.arc(s,a,o,n-c,r+c),l>i?(c=i/l,t.arc(s,a,l,r+c,n-c,!0)):t.arc(s,a,i,r+lo,n-lo),t.closePath(),t.clip()}function RIt(t){return VQ(t,["outerStart","outerEnd","innerStart","innerEnd"])}function DIt(t,e,r,n){const i=RIt(t.options.borderRadius),s=(r-e)/2,a=Math.min(s,n*e/2),o=l=>{const c=(r-Math.min(s,l))*n/2;return jl(l,0,Math.min(s,c))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:jl(i.innerStart,0,a),innerEnd:jl(i.innerEnd,0,a)}}function K2(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function BL(t,e,r,n,i,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+n+r-c,0),h=u>0?u+n+r+c:0;let f=0;const g=i-l;if(n){const Y=u>0?u-n:0,X=d>0?d-n:0,W=(Y+X)/2,G=W!==0?g*W/(W+n):g;f=(g-G)/2}const m=Math.max(.001,g*d-r/Ei)/d,v=(g-m)/2,x=l+v+f,w=i-v-f,{outerStart:b,outerEnd:_,innerStart:S,innerEnd:T}=DIt(e,h,d,w-x),E=d-b,C=d-_,N=x+b/E,F=w-_/C,A=h+S,I=h+T,M=x+S/A,U=w-T/I;if(t.beginPath(),s){const Y=(N+F)/2;if(t.arc(a,o,d,N,Y),t.arc(a,o,d,Y,F),_>0){const B=K2(C,F,a,o);t.arc(B.x,B.y,_,F,w+lo)}const X=K2(I,w,a,o);if(t.lineTo(X.x,X.y),T>0){const B=K2(I,U,a,o);t.arc(B.x,B.y,T,w+lo,U+Math.PI)}const W=(w-T/h+(x+S/h))/2;if(t.arc(a,o,h,w-T/h,W,!0),t.arc(a,o,h,W,x+S/h,!0),S>0){const B=K2(A,M,a,o);t.arc(B.x,B.y,S,M+Math.PI,x-lo)}const G=K2(E,x,a,o);if(t.lineTo(G.x,G.y),b>0){const B=K2(E,N,a,o);t.arc(B.x,B.y,b,x-lo,N)}}else{t.moveTo(a,o);const Y=Math.cos(N)*d+a,X=Math.sin(N)*d+o;t.lineTo(Y,X);const W=Math.cos(F)*d+a,G=Math.sin(F)*d+o;t.lineTo(W,G)}t.closePath()}function MIt(t,e,r,n,i){const{fullCircles:s,startAngle:a,circumference:o}=e;let l=e.endAngle;if(s){BL(t,e,r,n,l,i);for(let c=0;c<s;++c)t.fill();isNaN(o)||(l=a+(o%Fs||Fs))}return BL(t,e,r,n,l,i),t.fill(),l}function FIt(t,e,r,n,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h,borderRadius:f}=l,g=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,g?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let m=e.endAngle;if(s){BL(t,e,r,n,m,i);for(let v=0;v<s;++v)t.stroke();isNaN(o)||(m=a+(o%Fs||Fs))}g&&OIt(t,e,m),l.selfJoin&&m-a>=Ei&&f===0&&u!=="miter"&&IIt(t,e,m),s||(BL(t,e,r,n,m,i),t.stroke())}class m5 extends nv{constructor(r){super();Le(this,"circumference");Le(this,"endAngle");Le(this,"fullCircles");Le(this,"innerRadius");Le(this,"outerRadius");Le(this,"pixelMargin");Le(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=SCe(s,{x:r,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,g=bn(h,c-l),m=uI(a,l,c)&&l!==c,v=g>=Fs||m,x=cg(o,u+f,d+f);return v&&x}getCenterPoint(r){const{x:n,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:c,spacing:u}=this.options,d=(s+a)/2,h=(o+l+u+c)/2;return{x:n+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:i}=this,s=(n.offset||0)/4,a=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Fs?Math.floor(i/Fs):0,i===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const l=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(Ei,i||0)),u=s*c;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,MIt(r,this,u,a,o),FIt(r,this,u,a,o),r.restore()}}Le(m5,"id","arc"),Le(m5,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Le(m5,"defaultRoutes",{backgroundColor:"backgroundColor"}),Le(m5,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function tke(t,e,r=e){t.lineCap=bn(r.borderCapStyle,e.borderCapStyle),t.setLineDash(bn(r.borderDash,e.borderDash)),t.lineDashOffset=bn(r.borderDashOffset,e.borderDashOffset),t.lineJoin=bn(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=bn(r.borderWidth,e.borderWidth),t.strokeStyle=bn(r.borderColor,e.borderColor)}function jIt(t,e,r){t.lineTo(r.x,r.y)}function LIt(t){return t.stepped?oPt:t.tension||t.cubicInterpolationMode==="monotone"?lPt:jIt}function rke(t,e,r={}){const n=t.length,{start:i=0,end:s=n-1}=r,{start:a,end:o}=e,l=Math.max(i,a),c=Math.min(s,o),u=i<a&&s<a||i>o&&s>o;return{count:n,start:l,loop:e.loop,ilen:c<l&&!u?n+c-l:c-l}}function BIt(t,e,r,n){const{points:i,options:s}=e,{count:a,start:o,loop:l,ilen:c}=rke(i,r,n),u=LIt(s);let{move:d=!0,reverse:h}=n||{},f,g,m;for(f=0;f<=c;++f)g=i[(o+(h?c-f:f))%a],!g.skip&&(d?(t.moveTo(g.x,g.y),d=!1):u(t,m,g,h,s.stepped),m=g);return l&&(g=i[(o+(h?c:0))%a],u(t,m,g,h,s.stepped)),!!l}function $It(t,e,r,n){const i=e.points,{count:s,start:a,ilen:o}=rke(i,r,n),{move:l=!0,reverse:c}=n||{};let u=0,d=0,h,f,g,m,v,x;const w=_=>(a+(c?o-_:_))%s,b=()=>{m!==v&&(t.lineTo(u,v),t.lineTo(u,m),t.lineTo(u,x))};for(l&&(f=i[w(0)],t.moveTo(f.x,f.y)),h=0;h<=o;++h){if(f=i[w(h)],f.skip)continue;const _=f.x,S=f.y,T=_|0;T===g?(S<m?m=S:S>v&&(v=S),u=(d*u+_)/++d):(b(),t.lineTo(_,S),g=T,d=0,m=v=S),x=S}b()}function tq(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?$It:BIt}function VIt(t){return t.stepped?$Pt:t.tension||t.cubicInterpolationMode==="monotone"?VPt:Xx}function UIt(t,e,r,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,r,n)&&i.closePath()),tke(t,e.options),t.stroke(i)}function zIt(t,e,r,n){const{segments:i,options:s}=e,a=tq(e);for(const o of i)tke(t,s,o.style),t.beginPath(),a(t,e,o,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const HIt=typeof Path2D=="function";function WIt(t,e,r,n){HIt&&!e.options.segment?UIt(t,e,r,n):zIt(t,e,r,n)}class oy extends nv{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;OPt(this._points,n,e,i,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=GPt(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,i=e[r],s=this.points,a=VCe(this,{property:r,start:i,end:i});if(!a.length)return;const o=[],l=VIt(n);let c,u;for(c=0,u=a.length;c<u;++c){const{start:d,end:h}=a[c],f=s[d],g=s[h];if(f===g){o.push(f);continue}const m=Math.abs((i-f[r])/(g[r]-f[r])),v=l(f,g,m,n.stepped);v[r]=e[r],o.push(v)}return o.length===1?o[0]:o}pathSegment(e,r,n){return tq(this)(e,this,r,n)}path(e,r,n){const i=this.segments,s=tq(this);let a=this._loop;r=r||0,n=n||this.points.length-r;for(const o of i)a&=s(e,this,o,{start:r,end:r+n-1});return!!a}draw(e,r,n,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),WIt(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Le(oy,"id","line"),Le(oy,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Le(oy,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Le(oy,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Bde(t,e,r,n){const i=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<i.radius+i.hitRadius}class kM extends nv{constructor(r){super();Le(this,"parsed");Le(this,"skip");Le(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(r-a,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return Bde(this,r,"x",n)}inYRange(r,n){return Bde(this,r,"y",n)}getCenterPoint(r){const{x:n,y:i}=this.getProps(["x","y"],r);return{x:n,y:i}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const i=n&&r.borderWidth||0;return(n+i)*2}draw(r,n){const i=this.options;this.skip||i.radius<.1||!dI(this,n,this.size(i)/2)||(r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.fillStyle=i.backgroundColor,QW(r,i,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}Le(kM,"id","point"),Le(kM,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Le(kM,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function nke(t,e){const{x:r,y:n,base:i,width:s,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,c,u,d;return t.horizontal?(d=a/2,o=Math.min(r,i),l=Math.max(r,i),c=n-d,u=n+d):(d=s/2,o=r-d,l=r+d,c=Math.min(n,i),u=Math.max(n,i)),{left:o,top:c,right:l,bottom:u}}function ly(t,e,r,n){return t?0:jl(e,r,n)}function qIt(t,e,r){const n=t.options.borderWidth,i=t.borderSkipped,s=ICe(n);return{t:ly(i.top,s.top,0,r),r:ly(i.right,s.right,0,e),b:ly(i.bottom,s.bottom,0,r),l:ly(i.left,s.left,0,e)}}function GIt(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=fA(i),a=Math.min(e,r),o=t.borderSkipped,l=n||jn(i);return{topLeft:ly(!l||o.top||o.left,s.topLeft,0,a),topRight:ly(!l||o.top||o.right,s.topRight,0,a),bottomLeft:ly(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:ly(!l||o.bottom||o.right,s.bottomRight,0,a)}}function KIt(t){const e=nke(t),r=e.right-e.left,n=e.bottom-e.top,i=qIt(t,r/2,n/2),s=GIt(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:r-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function kV(t,e,r,n){const i=e===null,s=r===null,o=t&&!(i&&s)&&nke(t,n);return o&&(i||cg(e,o.left,o.right))&&(s||cg(r,o.top,o.bottom))}function YIt(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function XIt(t,e){t.rect(e.x,e.y,e.w,e.h)}function PV(t,e,r={}){const n=t.x!==r.x?-e:0,i=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-n,a=(t.y+t.h!==r.y+r.h?e:0)-i;return{x:t.x+n,y:t.y+i,w:t.w+s,h:t.h+a,radius:t.radius}}class PM extends nv{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:i}}=this,{inner:s,outer:a}=KIt(this),o=YIt(a.radius)?FL:XIt;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,PV(a,r,s)),e.clip(),o(e,PV(s,-r,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,PV(s,r)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,r,n){return kV(this,e,r,n)}inXRange(e,r){return kV(this,e,null,r)}inYRange(e,r){return kV(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+i)/2:r,y:s?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Le(PM,"id","bar"),Le(PM,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Le(PM,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function ZIt(t,e,r){const n=t.segments,i=t.points,s=e.points,a=[];for(const o of n){let{start:l,end:c}=o;c=m7(l,c,i);const u=rq(r,i[l],i[c],o.loop);if(!e.segments){a.push({source:o,target:u,start:i[l],end:i[c]});continue}const d=VCe(e,u);for(const h of d){const f=rq(r,s[h.start],s[h.end],h.loop),g=$Ce(o,i,f);for(const m of g)a.push({source:m,target:h,start:{[r]:$de(u,f,"start",Math.max)},end:{[r]:$de(u,f,"end",Math.min)}})}}return a}function rq(t,e,r,n){if(n)return;let i=e[t],s=r[t];return t==="angle"&&(i=Zu(i),s=Zu(s)),{property:t,start:i,end:s}}function QIt(t,e){const{x:r=null,y:n=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:a,end:o})=>{o=m7(a,o,i);const l=i[a],c=i[o];n!==null?(s.push({x:l.x,y:n}),s.push({x:c.x,y:n})):r!==null&&(s.push({x:r,y:l.y}),s.push({x:r,y:c.y}))}),s}function m7(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function $de(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function ike(t,e){let r=[],n=!1;return La(t)?(n=!0,r=t):r=QIt(t,e),r.length?new oy({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function Vde(t){return t&&t.fill!==!1}function JIt(t,e,r){let i=t[e].fill;const s=[e];let a;if(!r)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!Ul(i))return i;if(a=t[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function e4t(t,e,r){const n=i4t(t);if(jn(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return Ul(i)&&Math.floor(i)===i?t4t(n[0],e,i,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function t4t(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function r4t(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:jn(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function n4t(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:jn(t)?n=t.value:n=e.getBaseValue(),n}function i4t(t){const e=t.options,r=e.fill;let n=bn(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function s4t(t){const{scale:e,index:r,line:n}=t,i=[],s=n.segments,a=n.points,o=a4t(e,r);o.push(ike({x:null,y:e.bottom},n));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)o4t(i,a[u],o)}return new oy({points:i,options:{}})}function a4t(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const s=n[i];if(s.index===e)break;s.hidden||r.unshift(s.dataset)}return r}function o4t(t,e,r){const n=[];for(let i=0;i<r.length;i++){const s=r[i],{first:a,last:o,point:l}=l4t(s,e,"x");if(!(!l||a&&o)){if(a)n.unshift(l);else if(t.push(l),!o)break}}t.push(...n)}function l4t(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const i=n[r],s=t.segments,a=t.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],d=a[u.start][r],h=a[u.end][r];if(cg(i,d,h)){o=i===d,l=i===h;break}}return{first:o,last:l,point:n}}class ske{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:i,y:s,radius:a}=this;return r=r||{start:0,end:Fs},e.arc(i,s,a,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:i}=this,s=e.angle;return{x:r+Math.cos(s)*i,y:n+Math.sin(s)*i,angle:s}}}function c4t(t){const{chart:e,fill:r,line:n}=t;if(Ul(r))return u4t(e,r);if(r==="stack")return s4t(t);if(r==="shape")return!0;const i=d4t(t);return i instanceof ske?i:ike(i,n)}function u4t(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function d4t(t){return(t.scale||{}).getPointPositionForValue?f4t(t):h4t(t)}function h4t(t){const{scale:e={},fill:r}=t,n=r4t(r,e);if(Ul(n)){const i=e.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function f4t(t){const{scale:e,fill:r}=t,n=e.options,i=e.getLabels().length,s=n.reverse?e.max:e.min,a=n4t(r,e,s),o=[];if(n.grid.circular){const l=e.getPointPositionForValue(0,s);return new ske({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<i;++l)o.push(e.getPointPositionForValue(l,a));return o}function NV(t,e,r){const n=c4t(e),{chart:i,index:s,line:a,scale:o,axis:l}=e,c=a.options,u=c.fill,d=c.backgroundColor,{above:h=d,below:f=d}=u||{},g=i.getDatasetMeta(s),m=UCe(i,g);n&&a.points.length&&(d7(t,r),p4t(t,{line:a,target:n,above:h,below:f,area:r,scale:o,axis:l,clip:m}),h7(t))}function p4t(t,e){const{line:r,target:n,above:i,below:s,area:a,scale:o,clip:l}=e,c=r._loop?"angle":e.axis;t.save();let u=s;s!==i&&(c==="x"?(Ude(t,n,a.top),IV(t,{line:r,target:n,color:i,scale:o,property:c,clip:l}),t.restore(),t.save(),Ude(t,n,a.bottom)):c==="y"&&(zde(t,n,a.left),IV(t,{line:r,target:n,color:s,scale:o,property:c,clip:l}),t.restore(),t.save(),zde(t,n,a.right),u=i)),IV(t,{line:r,target:n,color:u,scale:o,property:c,clip:l}),t.restore()}function Ude(t,e,r){const{segments:n,points:i}=e;let s=!0,a=!1;t.beginPath();for(const o of n){const{start:l,end:c}=o,u=i[l],d=i[m7(l,c,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,r),t.lineTo(u.x,u.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(d.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function zde(t,e,r){const{segments:n,points:i}=e;let s=!0,a=!1;t.beginPath();for(const o of n){const{start:l,end:c}=o,u=i[l],d=i[m7(l,c,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(r,u.y),t.lineTo(u.x,u.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(r,d.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function IV(t,e){const{line:r,target:n,property:i,color:s,scale:a,clip:o}=e,l=ZIt(r,n,i);for(const{source:c,target:u,start:d,end:h}of l){const{style:{backgroundColor:f=s}={}}=c,g=n!==!0;t.save(),t.fillStyle=f,m4t(t,a,o,g&&rq(i,d,h)),t.beginPath();const m=!!r.pathSegment(t,c);let v;if(g){m?t.closePath():Hde(t,n,h,i);const x=!!n.pathSegment(t,u,{move:m,reverse:!0});v=m&&x,v||Hde(t,n,d,i)}t.closePath(),t.fill(v?"evenodd":"nonzero"),t.restore()}}function m4t(t,e,r,n){const i=e.chart.chartArea,{property:s,start:a,end:o}=n||{};if(s==="x"||s==="y"){let l,c,u,d;s==="x"?(l=a,c=i.top,u=o,d=i.bottom):(l=i.left,c=a,u=i.right,d=o),t.beginPath(),r&&(l=Math.max(l,r.left),u=Math.min(u,r.right),c=Math.max(c,r.top),d=Math.min(d,r.bottom)),t.rect(l,c,u-l,d-c),t.clip()}}function Hde(t,e,r,n){const i=e.interpolate(r,n);i&&t.lineTo(i.x,i.y)}var g4t={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,i=[];let s,a,o,l;for(a=0;a<n;++a)s=t.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof oy&&(l={visible:t.isDatasetVisible(a),index:a,fill:e4t(o,a,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,i.push(l);for(a=0;a<n;++a)l=i[a],!(!l||l.fill===!1)&&(l.fill=JIt(i,a,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),n&&o.fill&&NV(t.ctx,o,s))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const s=n[i].$filler;Vde(s)&&NV(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!Vde(n)||r.drawTime!=="beforeDatasetDraw"||NV(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Wde=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},v4t=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class qde extends nv{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=vs(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=Ll(n.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=Wde(n,s);let c,u;r.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,s,o,l)+10):(u=this.maxHeight,c=this._fitCols(a,i,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+o;let d=e;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((g,m)=>{const v=n+r/2+s.measureText(g.text).width;(m===0||c[c.length-1]+v+2*o>a)&&(d+=u,c[c.length-(m>0?0:1)]=0,f+=u,h++),l[m]={left:0,top:f,row:h,width:v,height:i},c[c.length-1]+=v+o}),d}_fitCols(e,r,n,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-e;let d=o,h=0,f=0,g=0,m=0;return this.legendItems.forEach((v,x)=>{const{itemWidth:w,itemHeight:b}=y4t(n,r,s,v,i);x>0&&f+b+2*o>u&&(d+=h+o,c.push({width:h,height:f}),g+=h+o,m++,h=f=0),l[x]={left:g,top:f,col:m,width:w,height:b},h=Math.max(h,w),f+=b+o}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:i},rtl:s}}=this,a=pA(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=Tl(n,this.left+i,this.right-this.lineWidths[o]);for(const c of r)o!==c.row&&(o=c.row,l=Tl(n,this.left+i,this.right-this.lineWidths[o])),c.top+=this.top+e+i,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+i}else{let o=0,l=Tl(n,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const c of r)c.col!==o&&(o=c.col,l=Tl(n,this.top+e+i,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+i,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;d7(e,this),this._draw(),h7(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:i}=this,{align:s,labels:a}=e,o=wa.color,l=pA(e.rtl,this.left,this.width),c=Ll(a.font),{padding:u}=a,d=c.size,h=d/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:v}=Wde(a,d),x=function(T,E,C){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;i.save();const N=bn(C.lineWidth,1);if(i.fillStyle=bn(C.fillStyle,o),i.lineCap=bn(C.lineCap,"butt"),i.lineDashOffset=bn(C.lineDashOffset,0),i.lineJoin=bn(C.lineJoin,"miter"),i.lineWidth=N,i.strokeStyle=bn(C.strokeStyle,o),i.setLineDash(bn(C.lineDash,[])),a.usePointStyle){const F={radius:m*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:N},A=l.xPlus(T,g/2),I=E+h;NCe(i,F,A,I,a.pointStyleWidth&&g)}else{const F=E+Math.max((d-m)/2,0),A=l.leftForLtr(T,g),I=fA(C.borderRadius);i.beginPath(),Object.values(I).some(M=>M!==0)?FL(i,{x:A,y:F,w:g,h:m,radius:I}):i.rect(A,F,g,m),i.fill(),N!==0&&i.stroke()}i.restore()},w=function(T,E,C){hI(i,C.text,T,E+v/2,c,{strikethrough:C.hidden,textAlign:l.textAlign(C.textAlign)})},b=this.isHorizontal(),_=this._computeTitleHeight();b?f={x:Tl(s,this.left+u,this.right-n[0]),y:this.top+u+_,line:0}:f={x:this.left+u,y:Tl(s,this.top+_+u,this.bottom-r[0].height),line:0},jCe(this.ctx,e.textDirection);const S=v+u;this.legendItems.forEach((T,E)=>{i.strokeStyle=T.fontColor,i.fillStyle=T.fontColor;const C=i.measureText(T.text).width,N=l.textAlign(T.textAlign||(T.textAlign=a.textAlign)),F=g+h+C;let A=f.x,I=f.y;l.setWidth(this.width),b?E>0&&A+F+u>this.right&&(I=f.y+=S,f.line++,A=f.x=Tl(s,this.left+u,this.right-n[f.line])):E>0&&I+S>this.bottom&&(A=f.x=A+r[f.line].width+u,f.line++,I=f.y=Tl(s,this.top+_+u,this.bottom-r[f.line].height));const M=l.x(A);if(x(M,I,T),A=Y5t(N,A+g+h,b?A+F:this.right,e.rtl),w(l.x(A),I,T),b)f.x+=F+u;else if(typeof T.text!="string"){const U=c.lineHeight;f.y+=ake(T,U)+u}else f.y+=S}),LCe(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=Ll(r.font),i=Ch(r.padding);if(!r.display)return;const s=pA(e.rtl,this.left,this.width),a=this.ctx,o=r.position,l=n.size/2,c=i.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=Tl(e.align,d,this.right-h);else{const g=this.columnSizes.reduce((m,v)=>Math.max(m,v.height),0);u=c+Tl(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=Tl(o,d,d+h);a.textAlign=s.textAlign(LQ(o)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=n.string,hI(a,r.text,f,u,n)}_computeTitleHeight(){const e=this.options.title,r=Ll(e.font),n=Ch(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,i,s;if(cg(e,this.left,this.right)&&cg(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],cg(e,i.left,i.left+i.width)&&cg(r,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!w4t(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=v4t(i,n);i&&!s&&vs(r.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!s&&vs(r.onHover,[e,n,this],this)}else n&&vs(r.onClick,[e,n,this],this)}}function y4t(t,e,r,n,i){const s=x4t(n,t,e,r),a=b4t(i,n,e.lineHeight);return{itemWidth:s,itemHeight:a}}function x4t(t,e,r,n){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+r.size/2+n.measureText(i).width}function b4t(t,e,r){let n=t;return typeof e.text!="string"&&(n=ake(e,r)),n}function ake(t,e){const r=t.text?t.text.length:0;return e*r}function w4t(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var _4t={id:"legend",_element:qde,start(t,e,r){const n=t.legend=new qde({ctx:t.ctx,options:r,chart:t});fh.configure(t,n,r),fh.addBox(t,n)},stop(t){fh.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;fh.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,i=r.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(r?0:void 0),u=Ch(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class oke extends nv{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const i=La(n.text)?n.text.length:1;this._padding=Ch(n.padding);const s=i*Ll(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:i,right:s,options:a}=this,o=a.align;let l=0,c,u,d;return this.isHorizontal()?(u=Tl(o,n,s),d=r+e,c=s-n):(a.position==="left"?(u=n+e,d=Tl(o,i,r),l=Ei*-.5):(u=s-e,d=Tl(o,r,i),l=Ei*.5),c=i-r),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=Ll(r.font),s=n.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(s);hI(e,r.text,0,0,n,{color:r.color,maxWidth:l,rotation:c,textAlign:LQ(r.align),textBaseline:"middle",translation:[a,o]})}}function S4t(t,e){const r=new oke({ctx:t.ctx,options:e,chart:t});fh.configure(t,r,e),fh.addBox(t,r),t.titleBlock=r}var A4t={id:"title",_element:oke,start(t,e,r){S4t(t,r)},stop(t){const e=t.titleBlock;fh.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;fh.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const g5={average(t){if(!t.length)return!1;let e,r,n=new Set,i=0,s=0;for(e=0,r=t.length;e<r;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();n.add(l.x),i+=l.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((o,l)=>o+l)/n.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=XW(e,c);u<i&&(i=u,o=l)}}if(o){const l=o.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function pp(t,e){return e&&(La(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function s0(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function E4t(t,e){const{element:r,datasetIndex:n,index:i}=e,s=t.getDatasetMeta(n).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:n,element:r}}function Gde(t,e){const r=t.chart.ctx,{body:n,footer:i,title:s}=t,{boxWidth:a,boxHeight:o}=e,l=Ll(e.bodyFont),c=Ll(e.titleFont),u=Ll(e.footerFont),d=s.length,h=i.length,f=n.length,g=Ch(e.padding);let m=g.height,v=0,x=n.reduce((_,S)=>_+S.before.length+S.lines.length+S.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),x){const _=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;m+=f*_+(x-f)*l.lineHeight+(x-1)*e.bodySpacing}h&&(m+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let w=0;const b=function(_){v=Math.max(v,r.measureText(_).width+w)};return r.save(),r.font=c.string,Si(t.title,b),r.font=l.string,Si(t.beforeBody.concat(t.afterBody),b),w=e.displayColors?a+2+e.boxPadding:0,Si(n,_=>{Si(_.before,b),Si(_.lines,b),Si(_.after,b)}),w=0,r.font=u.string,Si(t.footer,b),r.restore(),v+=g.width,{width:v,height:m}}function T4t(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function C4t(t,e,r,n){const{x:i,width:s}=n,a=r.caretSize+r.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function k4t(t,e,r,n){const{x:i,width:s}=r,{width:a,chartArea:{left:o,right:l}}=t;let c="center";return n==="center"?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),C4t(c,t,e,r)&&(c="center"),c}function Kde(t,e,r){const n=r.yAlign||e.yAlign||T4t(t,r);return{xAlign:r.xAlign||e.xAlign||k4t(t,e,r,n),yAlign:n}}function P4t(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function N4t(t,e,r){let{y:n,height:i}=t;return e==="top"?n+=r:e==="bottom"?n-=i+r:n-=i/2,n}function Yde(t,e,r,n){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:l}=r,c=i+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=fA(a);let g=P4t(e,o);const m=N4t(e,l,c);return l==="center"?o==="left"?g+=c:o==="right"&&(g-=c):o==="left"?g-=Math.max(u,h)+i:o==="right"&&(g+=Math.max(d,f)+i),{x:jl(g,0,n.width-e.width),y:jl(m,0,n.height-e.height)}}function vD(t,e,r){const n=Ch(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function Xde(t){return pp([],s0(t))}function I4t(t,e,r){return f2(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function Zde(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const lke={beforeTitle:r0,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:r0,beforeBody:r0,beforeLabel:r0,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return hi(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:r0,afterBody:r0,beforeFooter:r0,footer:r0,afterFooter:r0};function Lc(t,e,r,n){const i=t[e].call(r,n);return typeof i>"u"?lke[e].call(r,n):i}class nq extends nv{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&r.options.animation&&n.animations,s=new zCe(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=I4t(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,i=Lc(n,"beforeTitle",this,e),s=Lc(n,"title",this,e),a=Lc(n,"afterTitle",this,e);let o=[];return o=pp(o,s0(i)),o=pp(o,s0(s)),o=pp(o,s0(a)),o}getBeforeBody(e,r){return Xde(Lc(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,i=[];return Si(e,s=>{const a={before:[],lines:[],after:[]},o=Zde(n,s);pp(a.before,s0(Lc(o,"beforeLabel",this,s))),pp(a.lines,Lc(o,"label",this,s)),pp(a.after,s0(Lc(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,r){return Xde(Lc(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,i=Lc(n,"beforeFooter",this,e),s=Lc(n,"footer",this,e),a=Lc(n,"afterFooter",this,e);let o=[];return o=pp(o,s0(i)),o=pp(o,s0(s)),o=pp(o,s0(a)),o}_createItems(e){const r=this._active,n=this.chart.data,i=[],s=[],a=[];let o=[],l,c;for(l=0,c=r.length;l<c;++l)o.push(E4t(this.chart,r[l]));return e.filter&&(o=o.filter((u,d,h)=>e.filter(u,d,h,n))),e.itemSort&&(o=o.sort((u,d)=>e.itemSort(u,d,n))),Si(o,u=>{const d=Zde(e.callbacks,u);i.push(Lc(d,"labelColor",this,u)),s.push(Lc(d,"labelPointStyle",this,u)),a.push(Lc(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,r){const n=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=g5[n.position].call(this,i,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const l=this._size=Gde(this,n),c=Object.assign({},o,l),u=Kde(this.chart,n,c),d=Yde(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,i){const s=this.getCaretPosition(e,n,i);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=fA(o),{x:h,y:f}=e,{width:g,height:m}=r;let v,x,w,b,_,S;return s==="center"?(_=f+m/2,i==="left"?(v=h,x=v-a,b=_+a,S=_-a):(v=h+g,x=v+a,b=_-a,S=_+a),w=v):(i==="left"?x=h+Math.max(l,u)+a:i==="right"?x=h+g-Math.max(c,d)-a:x=this.caretX,s==="top"?(b=f,_=b-a,v=x-a,w=x+a):(b=f+m,_=b+a,v=x+a,w=x-a),S=b),{x1:v,x2:x,x3:w,y1:b,y2:_,y3:S}}drawTitle(e,r,n){const i=this.title,s=i.length;let a,o,l;if(s){const c=pA(n.rtl,this.x,this.width);for(e.x=vD(this,n.titleAlign,n),r.textAlign=c.textAlign(n.titleAlign),r.textBaseline="middle",a=Ll(n.titleFont),o=n.titleSpacing,r.fillStyle=n.titleColor,r.font=a.string,l=0;l<s;++l)r.fillText(i[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,r,n,i,s){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=s,u=Ll(s.bodyFont),d=vD(this,"left",s),h=i.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,g=r.y+f;if(s.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=i.leftForLtr(h,c)+c/2,x=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,QW(e,m,v,x),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,QW(e,m,v,x)}else{e.lineWidth=jn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const m=i.leftForLtr(h,c),v=i.leftForLtr(i.xPlus(h,1),c-2),x=fA(a.borderRadius);Object.values(x).some(w=>w!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,FL(e,{x:m,y:g,w:c,h:l,radius:x}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),FL(e,{x:v,y:g+1,w:c-2,h:l-2,radius:x}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,g,c,l),e.strokeRect(m,g,c,l),e.fillStyle=a.backgroundColor,e.fillRect(v,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=n,d=Ll(n.bodyFont);let h=d.lineHeight,f=0;const g=pA(n.rtl,this.x,this.width),m=function(C){r.fillText(C,g.x(e.x+f),e.y+h/2),e.y+=h+s},v=g.textAlign(a);let x,w,b,_,S,T,E;for(r.textAlign=a,r.textBaseline="middle",r.font=d.string,e.x=vD(this,v,n),r.fillStyle=n.bodyColor,Si(this.beforeBody,m),f=o&&v!=="right"?a==="center"?c/2+u:c+2+u:0,_=0,T=i.length;_<T;++_){for(x=i[_],w=this.labelTextColors[_],r.fillStyle=w,Si(x.before,m),b=x.lines,o&&b.length&&(this._drawColorBox(r,e,_,g,n),h=Math.max(d.lineHeight,l)),S=0,E=b.length;S<E;++S)m(b[S]),h=d.lineHeight;Si(x.after,m)}f=0,h=d.lineHeight,Si(this.afterBody,m),e.y-=s}drawFooter(e,r,n){const i=this.footer,s=i.length;let a,o;if(s){const l=pA(n.rtl,this.x,this.width);for(e.x=vD(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",a=Ll(n.footerFont),r.fillStyle=n.footerColor,r.font=a.string,o=0;o<s;++o)r.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,r,n,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:u}=n,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:g}=fA(i.cornerRadius);r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.beginPath(),r.moveTo(o+d,l),a==="top"&&this.drawCaret(e,r,n,i),r.lineTo(o+c-h,l),r.quadraticCurveTo(o+c,l,o+c,l+h),a==="center"&&s==="right"&&this.drawCaret(e,r,n,i),r.lineTo(o+c,l+u-g),r.quadraticCurveTo(o+c,l+u,o+c-g,l+u),a==="bottom"&&this.drawCaret(e,r,n,i),r.lineTo(o+f,l+u),r.quadraticCurveTo(o,l+u,o,l+u-f),a==="center"&&s==="left"&&this.drawCaret(e,r,n,i),r.lineTo(o,l+d),r.quadraticCurveTo(o,l,o+d,l),r.closePath(),r.fill(),i.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const a=g5[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=Gde(this,e),l=Object.assign({},a,this._size),c=Kde(r,e,l),u=Yde(e,l,c,r);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Ch(r.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,i,r),jCe(e,r.textDirection),s.y+=a.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),LCe(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,i=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),s=!RL(n,i),a=this._positionChanged(i,r);(s||a)&&(this._active=i,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,r,n),o=this._positionChanged(a,e),l=r||!RL(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,n,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return r.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:n,caretY:i,options:s}=this,a=g5[s.position].call(this,e,r);return a!==!1&&(n!==a.x||i!==a.y)}}Le(nq,"positioners",g5);var O4t={id:"tooltip",_element:nq,positioners:g5,afterInit(t,e,r){r&&(t.tooltip=new nq({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lke},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const R4t=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function D4t(t,e,r,n){const i=t.indexOf(e);if(i===-1)return R4t(t,e,r,n);const s=t.lastIndexOf(e);return i!==s?r:i}const M4t=(t,e)=>t===null?null:jl(Math.round(t),0,e);function Qde(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class iq extends VC{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:i,label:s}of r)n[i]===s&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(hi(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:D4t(n,e,bn(r,e),this._addedLabels),M4t(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=r;a++)i.push({value:a});return i}getLabelForValue(e){return Qde.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Le(iq,"id","category"),Le(iq,"defaults",{ticks:{callback:Qde}});function F4t(t,e){const r=[],{bounds:i,step:s,min:a,max:o,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=s||1,g=u-1,{min:m,max:v}=e,x=!hi(a),w=!hi(o),b=!hi(c),_=(v-m)/(d+1);let S=Yue((v-m)/g/f)*f,T,E,C,N;if(S<1e-14&&!x&&!w)return[{value:m},{value:v}];N=Math.ceil(v/S)-Math.floor(m/S),N>g&&(S=Yue(N*S/g/f)*f),hi(l)||(T=Math.pow(10,l),S=Math.ceil(S*T)/T),i==="ticks"?(E=Math.floor(m/S)*S,C=Math.ceil(v/S)*S):(E=m,C=v),x&&w&&s&&$5t((o-a)/s,S/1e3)?(N=Math.round(Math.min((o-a)/S,u)),S=(o-a)/N,E=a,C=o):b?(E=x?a:E,C=w?o:C,N=c-1,S=(C-E)/N):(N=(C-E)/S,gP(N,Math.round(N),S/1e3)?N=Math.round(N):N=Math.ceil(N));const F=Math.max(Xue(S),Xue(E));T=Math.pow(10,hi(l)?F:l),E=Math.round(E*T)/T,C=Math.round(C*T)/T;let A=0;for(x&&(h&&E!==a?(r.push({value:a}),E<a&&A++,gP(Math.round((E+A*S)*T)/T,a,Jde(a,_,t))&&A++):E<a&&A++);A<N;++A){const I=Math.round((E+A*S)*T)/T;if(w&&I>o)break;r.push({value:I})}return w&&h&&C!==o?r.length&&gP(r[r.length-1].value,o,Jde(o,_,t))?r[r.length-1].value=o:r.push({value:o}):(!w||C===o)&&r.push({value:C}),r}function Jde(t,e,{horizontal:r,minRotation:n}){const i=lg(n),s=(r?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class j4t extends VC{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return hi(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=r?i:l,o=l=>s=n?s:l;if(e){const l=_m(i),c=_m(s);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),r=r||11),r&&(i=Math.min(r,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,a=F4t(i,s);return e.bounds==="ticks"&&V5t(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-r)/Math.max(e.length-1,1)/2;r-=i,n+=i}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return $Q(e,this.chart.options.locale,this.options.ticks.format)}}class sq extends j4t{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Ul(e)?e:0,this.max=Ul(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=lg(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Le(sq,"id","linear"),Le(sq,"defaults",{ticks:{callback:PCe.formatters.numeric}});const g7={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},tu=Object.keys(g7);function ehe(t,e){return t-e}function the(t,e){if(hi(e))return null;const r=t._adapter,{parser:n,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),Ul(a)||(a=typeof n=="string"?r.parse(a,n):r.parse(a)),a===null?null:(i&&(a=i==="week"&&(cI(s)||s===!0)?r.startOf(a,"isoWeek",s):r.startOf(a,i)),+a)}function rhe(t,e,r,n){const i=tu.length;for(let s=tu.indexOf(t);s<i-1;++s){const a=g7[tu[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-e)/(o*a.size))<=n)return tu[s]}return tu[i-1]}function L4t(t,e,r,n,i){for(let s=tu.length-1;s>=tu.indexOf(r);s--){const a=tu[s];if(g7[a].common&&t._adapter.diff(i,n,a)>=e-1)return a}return tu[r?tu.indexOf(r):0]}function B4t(t){for(let e=tu.indexOf(t)+1,r=tu.length;e<r;++e)if(g7[tu[e]].common)return tu[e]}function nhe(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:i}=jQ(r,e),s=r[n]>=e?r[n]:r[i];t[s]=!0}}function $4t(t,e,r,n){const i=t._adapter,s=+i.startOf(e[0].value,n),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,n))l=r[o],l>=0&&(e[l].major=!0);return e}function ihe(t,e,r){const n=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,n.push({value:o,major:!1});return s===0||!r?n:$4t(t,n,i,r)}class $L extends VC{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),i=this._adapter=new _Nt._date(e.adapters.date);i.init(r),mP(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:the(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!o&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Ul(i)&&!isNaN(i)?i:+r.startOf(Date.now(),n),s=Ul(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=q5t(i,s,a);return this._unit=r.unit||(n.autoSkip?rhe(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):L4t(this,o.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:B4t(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),ihe(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?r=1-i:r=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=jl(r,0,a),n=jl(n,0,a),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,i=this.options,s=i.time,a=s.unit||rhe(s.minUnit,r,n,this._getLabelCapacity(r)),o=bn(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,c=cI(l)||l===!0,u={};let d=r,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":a),e.diff(n,r,a)>1e5*o)throw new Error(r+" and "+n+" are too far apart with stepSize of "+o+" "+a);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<n;h=+e.add(h,o,a),f++)nhe(u,h,g);return(h===n||i.bounds==="ticks"||f===1)&&nhe(u,h,g),Object.keys(u).sort(ehe).map(m=>+m)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const i=this.options.time.displayFormats,s=this._unit,a=r||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,r,n,i){const s=this.options,a=s.ticks.callback;if(a)return vs(a,[e,r,n],this);const o=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&o[l],d=c&&o[c],h=n[r],f=c&&d&&h&&h.major;return this._adapter.format(e,i||(f?d:u))}generateTickLabels(e){let r,n,i;for(r=0,n=e.length;r<n;++r)i=e[r],i.label=this._tickFormatFunction(i.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,i=lg(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*s+o*a,h:n*a+o*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,i=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,ihe(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(r=0,n=i.length;r<n;++r)e=e.concat(i[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const i=this.getLabels();for(r=0,n=i.length;r<n;++r)e.push(the(this,i[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return ECe(e.sort(ehe))}}Le($L,"id","time"),Le($L,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function yD(t,e,r){let n=0,i=t.length-1,s,a,o,l;r?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=_b(t,"pos",e)),{pos:s,time:o}=t[n],{pos:a,time:l}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=_b(t,"time",e)),{time:s,pos:o}=t[n],{time:a,pos:l}=t[i]);const c=a-s;return c?o+(l-o)*(e-s)/c:o}class she extends $L{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=yD(r,this.min),this._tableRange=yD(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,i=[],s=[];let a,o,l,c,u;for(a=0,o=e.length;a<o;++a)c=e[a],c>=r&&c<=n&&i.push(c);if(i.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(a=0,o=i.length;a<o;++a)u=i[a+1],l=i[a-1],c=i[a],Math.round((u+l)/2)!==c&&s.push({time:c,pos:a/(o-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(yD(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return yD(this._table,n*this._tableRange+this._minPos,!0)}}Le(she,"id","timeseries"),Le(she,"defaults",$L.defaults);const cke="label";function ahe(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function V4t(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function uke(t,e){t.labels=e}function dke(t,e,r=cke){const n=[];t.datasets=e.map(i=>{const s=t.datasets.find(a=>a[r]===i[r]);return!s||!i.data||n.includes(s)?{...i}:(n.push(s),Object.assign(s,i),s)})}function U4t(t,e=cke){const r={labels:[],datasets:[]};return uke(r,t.labels),dke(r,t.datasets,e),r}function z4t(t,e){const{height:r=150,width:n=300,redraw:i=!1,datasetIdKey:s,type:a,data:o,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...h}=t,f=O.useRef(null),g=O.useRef(null),m=()=>{f.current&&(g.current=new p7(f.current,{type:a,data:U4t(o,s),options:l&&{...l},plugins:c}),ahe(e,g.current))},v=()=>{ahe(e,null),g.current&&(g.current.destroy(),g.current=null)};return O.useEffect(()=>{!i&&g.current&&l&&V4t(g.current,l)},[i,l]),O.useEffect(()=>{!i&&g.current&&uke(g.current.config.data,o.labels)},[i,o.labels]),O.useEffect(()=>{!i&&g.current&&o.datasets&&dke(g.current.config.data,o.datasets,s)},[i,o.datasets]),O.useEffect(()=>{g.current&&(i?(v(),setTimeout(m)):g.current.update(d))},[i,l,o.labels,o.datasets,d]),O.useEffect(()=>{g.current&&(v(),setTimeout(m))},[a]),O.useEffect(()=>(m(),()=>v()),[]),p.jsx("canvas",{ref:f,role:"img",height:r,width:n,...h,children:u})}const H4t=O.forwardRef(z4t);function KQ(t,e){return p7.register(e),O.forwardRef((r,n)=>p.jsx(H4t,{...r,ref:n,type:t}))}const W4t=KQ("line",EM),q4t=KQ("bar",AM),G4t=KQ("doughnut",f5);p7.register(iq,sq,kM,oy,PM,m5,A4t,O4t,_4t,g4t);function Dv({titulo:t,tipo:e,dados:r,feedback:n,formatarValor:i=s=>`R$ ${s.toLocaleString("pt-BR")}`}){const s="rgb(59, 130, 246)",l={labels:r.labels,datasets:[{label:"Atual",data:r.valores,borderColor:s,backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,pointRadius:4,pointHoverRadius:6},...r.comparacao?[{label:"Perodo Anterior",data:r.comparacao,borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!0,tension:.4,pointRadius:4,pointHoverRadius:6,borderDash:[5,5]}]:[]]},c={labels:r.labels,datasets:[{label:"Valores",data:r.valores,backgroundColor:s,borderRadius:8,barThickness:40}]},u={labels:r.labels,datasets:[{data:r.valores,backgroundColor:["rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(245, 158, 11)","rgb(239, 68, 68)","rgb(139, 92, 246)","rgb(236, 72, 153)"],borderWidth:0}]},d={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:e!=="pizza",position:"top"},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14},bodyFont:{size:13},borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,callbacks:{label:function(g){const m=g;let v=m.dataset.label||"";v&&(v+=": ");const x=typeof m.parsed=="number"?m.parsed:m.parsed.y;return x!=null&&(v+=i(x)),v}}}},scales:e!=="pizza"?{y:{beginAtZero:!0,ticks:{callback:function(g){return i(Number(g))}},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}:void 0},h=()=>{switch(n==null?void 0:n.tipo){case"positivo":return p.jsx(uT,{className:"w-5 h-5 text-green-600"});case"negativo":return p.jsx(n8,{className:"w-5 h-5 text-red-600"});case"alerta":return p.jsx(t8,{className:"w-5 h-5 text-orange-600"});default:return null}},f=()=>{switch(n==null?void 0:n.tipo){case"negativo":case"alerta":return"destructive";default:return"default"}};return p.jsxs(Tr,{className:"p-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-1",children:t}),n&&p.jsx(ZO,{variant:f(),className:"mt-4",children:p.jsxs("div",{className:"flex items-start gap-2",children:[h(),p.jsxs("div",{className:"flex-1",children:[p.jsx(Y8,{className:"text-sm font-semibold mb-1",children:n.tipo==="positivo"?"Desempenho Positivo":n.tipo==="negativo"?"Ateno Necessria":n.tipo==="alerta"?"Alerta":"Informao"}),p.jsx(QO,{className:"text-sm",children:n.mensagem})]})]})})]}),p.jsxs("div",{style:{height:e==="pizza"?"300px":"350px"},children:[e==="linha"&&p.jsx(W4t,{data:l,options:d}),e==="barra"&&p.jsx(q4t,{data:c,options:d}),e==="pizza"&&p.jsx(G4t,{data:u,options:d})]})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var VL={};VL.version="0.18.5";var hke=1252,K4t=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],YQ={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},XQ=function(t){K4t.indexOf(t)!=-1&&(hke=YQ[0]=t)};function Y4t(){XQ(1252)}var wf=function(t){XQ(t)};function ZQ(){wf(1200),Y4t()}function ohe(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function X4t(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function fke(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var v5=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?X4t(t.slice(2)):e==254&&r==255?fke(t.slice(2)):e==65279?t.slice(1):t},xD=function(e){return String.fromCharCode(e)},lhe=function(e){return String.fromCharCode(e)},Jv,cy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function pI(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0,c=0;c<t.length;)r=t.charCodeAt(c++),s=r>>2,n=t.charCodeAt(c++),a=(r&3)<<4|n>>4,i=t.charCodeAt(c++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=cy.charAt(s)+cy.charAt(a)+cy.charAt(o)+cy.charAt(l);return e}function xd(t){var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=cy.indexOf(t.charAt(c++)),a=cy.indexOf(t.charAt(c++)),r=s<<2|a>>4,e+=String.fromCharCode(r),o=cy.indexOf(t.charAt(c++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=cy.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var _n=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),iv=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Xy(t){return _n?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function che(t){return _n?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var sd=function(e){return _n?iv(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function v7(t){if(typeof ArrayBuffer>"u")return sd(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function _x(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function Z4t(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function QQ(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return QQ(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var Oo=_n?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:iv(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Q4t(t){for(var e=[],r=0,n=t.length+250,i=Xy(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|o>>6&15|(a&3)<<4,i[r++]=128|o&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(e.push(i.slice(0,r)),r=0,i=Xy(65535),n=65530)}return e.push(i.slice(0,r)),Oo(e)}var wc=/\u0000/g,y5=/[\u0001-\u0006]/g;function mA(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function _f(t,e){var r=""+t;return r.length>=e?r:na("0",e-r.length)+r}function JQ(t,e){var r=""+t;return r.length>=e?r:na(" ",e-r.length)+r}function UL(t,e){var r=""+t;return r.length>=e?r:r+na(" ",e-r.length)}function J4t(t,e){var r=""+Math.round(t);return r.length>=e?r:na("0",e-r.length)+r}function eOt(t,e){var r=""+t;return r.length>=e?r:na("0",e-r.length)+r}var uhe=Math.pow(2,32);function Y2(t,e){if(t>uhe||t<-uhe)return J4t(t,e);var r=Math.round(t);return eOt(r,e)}function zL(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var dhe=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],OV=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function tOt(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Fr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},hhe={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},rOt={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function HL(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,a=1,o=0,l=1,c=0,u=0,d=Math.floor(i);c<e&&(d=Math.floor(i),o=d*a+s,u=d*c+l,!(i-d<5e-8));)i=1/(i-d),s=a,a=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=s):(u=c,o=a)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function Sb(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,a=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=lOt(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var pke=new Date(1899,11,31,0,0,0),nOt=pke.getTime(),iOt=new Date(1900,2,1,0,0,0);function mke(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=iOt&&(r+=24*60*60*1e3),(r-(nOt+(t.getTimezoneOffset()-pke.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function eJ(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function sOt(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function aOt(t){var e=t<0?12:11,r=eJ(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function oOt(t){var e=eJ(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function mI(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=aOt(t):e===10?r=t.toFixed(10).substr(0,12):r=oOt(t),eJ(sOt(r.toUpperCase()))}function F_(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):mI(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return kh(14,mke(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function lOt(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function cOt(t,e,r,n){var i="",s=0,a=0,o=r.y,l,c=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,c=e.length;break;case 3:return OV[r.m-1][1];case 5:return OV[r.m-1][0];default:return OV[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,c=e.length;break;case 3:return dhe[r.q][0];default:return dhe[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?_f(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=_f(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?_f(l,c):"";return u}function uy(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var gke=/%/g;function uOt(t,e,r){var n=e.replace(gke,""),i=e.length-n.length;return bg(t,n,r*Math.pow(10,2*i))+na("%",i)}function dOt(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return bg(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function vke(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+vke(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var yke=/# (\?+)( ?)\/( ?)(\d+)/;function hOt(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return r+(s===0?"":""+s)+" "+(a===0?na(" ",t[1].length+1+t[4].length):JQ(a,t[1].length)+t[2]+"/"+t[3]+_f(o,t[4].length))}function fOt(t,e,r){return r+(e===0?"":""+e)+na(" ",t[1].length+2+t[4].length)}var xke=/^#*0*\.([0#]+)/,bke=/\).*[0#]/,wke=/\(###\) ###\\?-####/;function hc(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function fhe(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function phe(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function pOt(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function mOt(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function $d(t,e,r){if(t.charCodeAt(0)===40&&!e.match(bke)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?$d("n",n,r):"("+$d("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return dOt(t,e,r);if(e.indexOf("%")!==-1)return uOt(t,e,r);if(e.indexOf("E")!==-1)return vke(e,r);if(e.charCodeAt(0)===36)return"$"+$d(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+Y2(l,e.length);if(e.match(/^[#?]+$/))return i=Y2(r,0),i==="0"&&(i=""),i.length>e.length?i:hc(e.substr(0,e.length-i.length))+i;if(s=e.match(yke))return hOt(s,l,c);if(e.match(/^#+0+$/))return c+Y2(l,e.length-e.indexOf("0"));if(s=e.match(xke))return i=fhe(r,s[1].length).replace(/^([^\.]+)$/,"$1."+hc(s[1])).replace(/\.$/,"."+hc(s[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+na("0",hc(s[1]).length-m.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+fhe(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+uy(Y2(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+$d(t,e,-r):uy(""+(Math.floor(r)+pOt(r,s[1].length)))+"."+_f(phe(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return $d(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=mA($d(t,e.replace(/[\\-]/g,""),r)),a=0,mA(mA(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return a<i.length?i.charAt(a++):g==="0"?"0":""}));if(e.match(wke))return i=$d(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=HL(l,Math.pow(10,a)-1,!1),i=""+c,u=bg("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=UL(o[2],a),u.length<s[4].length&&(u=hc(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=HL(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?JQ(o[1],a)+s[2]+"/"+s[3]+UL(o[2],a):na(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Y2(r,0),e.length<=i.length?i:hc(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var d=e.indexOf(".")-a,h=e.length-i.length-d;return hc(e.substr(0,d)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=phe(r,s[1].length),r<0?"-"+$d(t,e,-r):uy(mOt(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?_f(0,3-g.length):"")+g})+"."+_f(a,s[1].length);switch(e){case"###,##0.00":return $d(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var f=uy(Y2(l,0));return f!=="0"?c+f:"";case"###,###.00":return $d(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return $d(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function gOt(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return bg(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function vOt(t,e,r){var n=e.replace(gke,""),i=e.length-n.length;return bg(t,n,r*Math.pow(10,2*i))+na("%",i)}function _ke(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+_ke(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function mp(t,e,r){if(t.charCodeAt(0)===40&&!e.match(bke)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?mp("n",n,r):"("+mp("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return gOt(t,e,r);if(e.indexOf("%")!==-1)return vOt(t,e,r);if(e.indexOf("E")!==-1)return _ke(e,r);if(e.charCodeAt(0)===36)return"$"+mp(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+_f(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:hc(e.substr(0,e.length-i.length))+i;if(s=e.match(yke))return fOt(s,l,c);if(e.match(/^#+0+$/))return c+_f(l,e.length-e.indexOf("0"));if(s=e.match(xke))return i=(""+r).replace(/^([^\.]+)$/,"$1."+hc(s[1])).replace(/\.$/,"."+hc(s[1])),i=i.replace(/\.(\d*)$/,function(g,m){return"."+m+na("0",hc(s[1]).length-m.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+uy(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+mp(t,e,-r):uy(""+r)+"."+na("0",s[1].length);if(s=e.match(/^#,#*,#0/))return mp(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=mA(mp(t,e.replace(/[\\-]/g,""),r)),a=0,mA(mA(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return a<i.length?i.charAt(a++):g==="0"?"0":""}));if(e.match(wke))return i=mp(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=HL(l,Math.pow(10,a)-1,!1),i=""+c,u=bg("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=UL(o[2],a),u.length<s[4].length&&(u=hc(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=HL(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?JQ(o[1],a)+s[2]+"/"+s[3]+UL(o[2],a):na(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:hc(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var d=e.indexOf(".")-a,h=e.length-i.length-d;return hc(e.substr(0,d)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+mp(t,e,-r):uy(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?_f(0,3-g.length):"")+g})+"."+_f(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var f=uy(""+l);return f!=="0"?c+f:"";default:if(e.match(/\.[0#?]*$/))return mp(t,e.slice(0,e.lastIndexOf(".")),r)+hc(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function bg(t,e,r){return(r|0)===r?mp(t,e,r):$d(t,e,r)}function yOt(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var Ske=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function UC(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":zL(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(Ske))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function xOt(t,e,r,n){for(var i=[],s="",a=0,o="",l="t",c,u,d,h="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!zL(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(d=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(d);i[i.length]={t:"t",v:s},++a;break;case"\\":var f=t.charAt(++a),g=f==="("||f===")"?f:"t";i[i.length]={t:g,v:f},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(c==null&&(c=Sb(e,r,t.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=Sb(e,r),c==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var m={t:o,v:o};if(c==null&&(c=Sb(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",h="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",a+=5,h="h"):t.substr(a,5).toUpperCase()==="/"?(c!=null&&(m.v=c.H>=12?"":""),m.t="T",a+=5,h="h"):(m.t="t",++a),c==null&&m.t==="T")return"";i[i.length]=m,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(Ske)){if(c==null&&(c=Sb(e,r),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",UC(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var v=0,x=0,w;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=h,l="h",v<1&&(v=1);break;case"s":(w=i[a].v.match(/\.0+$/))&&(x=Math.max(x,w[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&i[a].v.match(/[Hh]/)&&(v=1),v<2&&i[a].v.match(/[Mm]/)&&(v=2),v<3&&i[a].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var b="",_;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=cOt(i[a].t.charCodeAt(0),i[a].v,c,x),i[a].t="t";break;case"n":case"?":for(_=a+1;i[_]!=null&&((o=i[_].t)==="?"||o==="D"||(o===" "||o==="t")&&i[_+1]!=null&&(i[_+1].t==="?"||i[_+1].t==="t"&&i[_+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[_].v==="/"||i[_].v===" "&&i[_+1]!=null&&i[_+1].t=="?"));)i[a].v+=i[_].v,i[_]={v:"",t:";"},++_;b+=i[a].v,a=_-1;break;case"G":i[a].t="t",i[a].v=F_(e,r);break}var S="",T,E;if(b.length>0){b.charCodeAt(0)==40?(T=e<0&&b.charCodeAt(0)===45?-e:e,E=bg("n",b,T)):(T=e<0&&n>1?-e:e,E=bg("n",b,T),T<0&&i[0]&&i[0].t=="t"&&(E=E.substr(1),i[0].v="-"+i[0].v)),_=E.length-1;var C=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){C=a;break}var N=i.length;if(C===i.length&&E.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(_>=i[a].v.length-1?(_-=i[a].v.length,i[a].v=E.substr(_+1,i[a].v.length)):_<0?i[a].v="":(i[a].v=E.substr(0,_+1),_=-1),i[a].t="t",N=a);_>=0&&N<i.length&&(i[N].v=E.substr(0,_+1)+i[N].v)}else if(C!==i.length&&E.indexOf("E")===-1){for(_=E.indexOf(".")-1,a=C;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(u=i[a].v.indexOf(".")>-1&&a===C?i[a].v.indexOf(".")-1:i[a].v.length-1,S=i[a].v.substr(u+1);u>=0;--u)_>=0&&(i[a].v.charAt(u)==="0"||i[a].v.charAt(u)==="#")&&(S=E.charAt(_--)+S);i[a].v=S,i[a].t="t",N=a}for(_>=0&&N<i.length&&(i[N].v=E.substr(0,_+1)+i[N].v),_=E.indexOf(".")+1,a=C;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==C)){for(u=i[a].v.indexOf(".")>-1&&a===C?i[a].v.indexOf(".")+1:0,S=i[a].v.substr(0,u);u<i[a].v.length;++u)_<E.length&&(S+=E.charAt(_++));i[a].v=S,i[a].t="t",N=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(T=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=bg(i[a].t,i[a].v,T),i[a].t="t");var F="";for(a=0;a!==i.length;++a)i[a]!=null&&(F+=i[a].v);return F}var mhe=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function ghe(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function bOt(t,e){var r=yOt(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(mhe),o=r[1].match(mhe);return ghe(e,a)?[n,r[0]]:ghe(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,s]}function kh(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Fr)[t],n==null&&(n=r.table&&r.table[hhe[t]]||Fr[hhe[t]]),n==null&&(n=rOt[t]||"General");break}if(zL(n,0))return F_(e,r);e instanceof Date&&(e=mke(e,r.date1904));var i=bOt(n,e);if(zL(i[1]))return F_(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return xOt(i[1],e,r,i[0])}function wg(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Fr[r]==null){e<0&&(e=r);continue}if(Fr[r]==t){e=r;break}}e<0&&(e=391)}return Fr[e]=t,e}function y7(t){for(var e=0;e!=392;++e)t[e]!==void 0&&wg(t[e],e)}function zC(){Fr=tOt()}var wOt={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Ake=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function _Ot(t){var e=typeof t=="number"?Fr[t]:t;return e=e.replace(Ake,"(\\d+)"),new RegExp("^"+e+"$")}function SOt(t,e,r){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(Ake)||[]).forEach(function(d,h){var f=parseInt(r[h+1],10);switch(d.toLowerCase().charAt(0)){case"y":n=f;break;case"d":s=f;break;case"h":a=f;break;case"s":l=f;break;case"m":a>=0?o=f:i=f;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:n==-1&&i==-1&&s==-1?u:c+"T"+u}var AOt=function(){var t={};t.version="1.2.0";function e(){for(var E=0,C=new Array(256),N=0;N!=256;++N)E=N,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,C[N]=E;return typeof Int32Array<"u"?new Int32Array(C):C}var r=e();function n(E){var C=0,N=0,F=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)A[F]=E[F];for(F=0;F!=256;++F)for(N=E[F],C=256+F;C<4096;C+=256)N=A[C]=N>>>8^E[N&255];var I=[];for(F=1;F!=16;++F)I[F-1]=typeof Int32Array<"u"?A.subarray(F*256,F*256+256):A.slice(F*256,F*256+256);return I}var i=n(r),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],d=i[6],h=i[7],f=i[8],g=i[9],m=i[10],v=i[11],x=i[12],w=i[13],b=i[14];function _(E,C){for(var N=C^-1,F=0,A=E.length;F<A;)N=N>>>8^r[(N^E.charCodeAt(F++))&255];return~N}function S(E,C){for(var N=C^-1,F=E.length-15,A=0;A<F;)N=b[E[A++]^N&255]^w[E[A++]^N>>8&255]^x[E[A++]^N>>16&255]^v[E[A++]^N>>>24]^m[E[A++]]^g[E[A++]]^f[E[A++]]^h[E[A++]]^d[E[A++]]^u[E[A++]]^c[E[A++]]^l[E[A++]]^o[E[A++]]^a[E[A++]]^s[E[A++]]^r[E[A++]];for(F+=15;A<F;)N=N>>>8^r[(N^E[A++])&255];return~N}function T(E,C){for(var N=C^-1,F=0,A=E.length,I=0,M=0;F<A;)I=E.charCodeAt(F++),I<128?N=N>>>8^r[(N^I)&255]:I<2048?(N=N>>>8^r[(N^(192|I>>6&31))&255],N=N>>>8^r[(N^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,M=E.charCodeAt(F++)&1023,N=N>>>8^r[(N^(240|I>>8&7))&255],N=N>>>8^r[(N^(128|I>>2&63))&255],N=N>>>8^r[(N^(128|M>>6&15|(I&3)<<4))&255],N=N>>>8^r[(N^(128|M&63))&255]):(N=N>>>8^r[(N^(224|I>>12&15))&255],N=N>>>8^r[(N^(128|I>>6&63))&255],N=N>>>8^r[(N^(128|I&63))&255]);return~N}return t.table=r,t.bstr=_,t.buf=S,t.str=T,t}(),Nr=function(){var e={};e.version="1.2.1";function r(se,de){for(var ue=se.split("/"),xe=de.split("/"),Se=0,Ee=0,qe=Math.min(ue.length,xe.length);Se<qe;++Se){if(Ee=ue[Se].length-xe[Se].length)return Ee;if(ue[Se]!=xe[Se])return ue[Se]<xe[Se]?-1:1}return ue.length-xe.length}function n(se){if(se.charAt(se.length-1)=="/")return se.slice(0,-1).indexOf("/")===-1?se:n(se.slice(0,-1));var de=se.lastIndexOf("/");return de===-1?se:se.slice(0,de+1)}function i(se){if(se.charAt(se.length-1)=="/")return i(se.slice(0,-1));var de=se.lastIndexOf("/");return de===-1?se:se.slice(de+1)}function s(se,de){typeof de=="string"&&(de=new Date(de));var ue=de.getHours();ue=ue<<6|de.getMinutes(),ue=ue<<5|de.getSeconds()>>>1,se.write_shift(2,ue);var xe=de.getFullYear()-1980;xe=xe<<4|de.getMonth()+1,xe=xe<<5|de.getDate(),se.write_shift(2,xe)}function a(se){var de=se.read_shift(2)&65535,ue=se.read_shift(2)&65535,xe=new Date,Se=ue&31;ue>>>=5;var Ee=ue&15;ue>>>=4,xe.setMilliseconds(0),xe.setFullYear(ue+1980),xe.setMonth(Ee-1),xe.setDate(Se);var qe=de&31;de>>>=5;var nt=de&63;return de>>>=6,xe.setHours(de),xe.setMinutes(nt),xe.setSeconds(qe<<1),xe}function o(se){Qo(se,0);for(var de={},ue=0;se.l<=se.length-4;){var xe=se.read_shift(2),Se=se.read_shift(2),Ee=se.l+Se,qe={};switch(xe){case 21589:ue=se.read_shift(1),ue&1&&(qe.mtime=se.read_shift(4)),Se>5&&(ue&2&&(qe.atime=se.read_shift(4)),ue&4&&(qe.ctime=se.read_shift(4))),qe.mtime&&(qe.mt=new Date(qe.mtime*1e3));break}se.l=Ee,de[xe]=qe}return de}var l;function c(){return l||(l={})}function u(se,de){if(se[0]==80&&se[1]==75)return Qt(se,de);if((se[0]|32)==109&&(se[1]|32)==105)return Jt(se,de);if(se.length<512)throw new Error("CFB file size "+se.length+" < 512");var ue=3,xe=512,Se=0,Ee=0,qe=0,nt=0,He=0,Ge=[],Ze=se.slice(0,512);Qo(Ze,0);var _t=d(Ze);switch(ue=_t[0],ue){case 3:xe=512;break;case 4:xe=4096;break;case 0:if(_t[1]==0)return Qt(se,de);default:throw new Error("Major Version: Expected 3 or 4 saw "+ue)}xe!==512&&(Ze=se.slice(0,xe),Qo(Ze,28));var St=se.slice(0,xe);h(Ze,ue);var Wt=Ze.read_shift(4,"i");if(ue===3&&Wt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Wt);Ze.l+=4,qe=Ze.read_shift(4,"i"),Ze.l+=4,Ze.chk("00100000","Mini Stream Cutoff Size: "),nt=Ze.read_shift(4,"i"),Se=Ze.read_shift(4,"i"),He=Ze.read_shift(4,"i"),Ee=Ze.read_shift(4,"i");for(var Et=-1,zt=0;zt<109&&(Et=Ze.read_shift(4,"i"),!(Et<0));++zt)Ge[zt]=Et;var Dr=f(se,xe);v(He,Ee,Dr,xe,Ge);var si=w(Dr,qe,Ge,xe);si[qe].name="!Directory",Se>0&&nt!==M&&(si[nt].name="!MiniFAT"),si[Ge[0]].name="!FAT",si.fat_addrs=Ge,si.ssz=xe;var wn={},us=[],Nc=[],Wl=[];b(qe,si,Dr,us,Se,wn,Nc,nt),g(Nc,Wl,us),us.shift();var mu={FileIndex:Nc,FullPaths:Wl};return de&&de.raw&&(mu.raw={header:St,sectors:Dr}),mu}function d(se){if(se[se.l]==80&&se[se.l+1]==75)return[0,0];se.chk(U,"Header Signature: "),se.l+=16;var de=se.read_shift(2,"u");return[se.read_shift(2,"u"),de]}function h(se,de){var ue=9;switch(se.l+=2,ue=se.read_shift(2)){case 9:if(de!=3)throw new Error("Sector Shift: Expected 9 saw "+ue);break;case 12:if(de!=4)throw new Error("Sector Shift: Expected 12 saw "+ue);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ue)}se.chk("0600","Mini Sector Shift: "),se.chk("000000000000","Reserved: ")}function f(se,de){for(var ue=Math.ceil(se.length/de)-1,xe=[],Se=1;Se<ue;++Se)xe[Se-1]=se.slice(Se*de,(Se+1)*de);return xe[ue-1]=se.slice(ue*de),xe}function g(se,de,ue){for(var xe=0,Se=0,Ee=0,qe=0,nt=0,He=ue.length,Ge=[],Ze=[];xe<He;++xe)Ge[xe]=Ze[xe]=xe,de[xe]=ue[xe];for(;nt<Ze.length;++nt)xe=Ze[nt],Se=se[xe].L,Ee=se[xe].R,qe=se[xe].C,Ge[xe]===xe&&(Se!==-1&&Ge[Se]!==Se&&(Ge[xe]=Ge[Se]),Ee!==-1&&Ge[Ee]!==Ee&&(Ge[xe]=Ge[Ee])),qe!==-1&&(Ge[qe]=xe),Se!==-1&&xe!=Ge[xe]&&(Ge[Se]=Ge[xe],Ze.lastIndexOf(Se)<nt&&Ze.push(Se)),Ee!==-1&&xe!=Ge[xe]&&(Ge[Ee]=Ge[xe],Ze.lastIndexOf(Ee)<nt&&Ze.push(Ee));for(xe=1;xe<He;++xe)Ge[xe]===xe&&(Ee!==-1&&Ge[Ee]!==Ee?Ge[xe]=Ge[Ee]:Se!==-1&&Ge[Se]!==Se&&(Ge[xe]=Ge[Se]));for(xe=1;xe<He;++xe)if(se[xe].type!==0){if(nt=xe,nt!=Ge[nt])do nt=Ge[nt],de[xe]=de[nt]+"/"+de[xe];while(nt!==0&&Ge[nt]!==-1&&nt!=Ge[nt]);Ge[xe]=-1}for(de[0]+="/",xe=1;xe<He;++xe)se[xe].type!==2&&(de[xe]+="/")}function m(se,de,ue){for(var xe=se.start,Se=se.size,Ee=[],qe=xe;ue&&Se>0&&qe>=0;)Ee.push(de.slice(qe*I,qe*I+I)),Se-=I,qe=tb(ue,qe*4);return Ee.length===0?at(0):Oo(Ee).slice(0,se.size)}function v(se,de,ue,xe,Se){var Ee=M;if(se===M){if(de!==0)throw new Error("DIFAT chain shorter than expected")}else if(se!==-1){var qe=ue[se],nt=(xe>>>2)-1;if(!qe)return;for(var He=0;He<nt&&(Ee=tb(qe,He*4))!==M;++He)Se.push(Ee);v(tb(qe,xe-4),de-1,ue,xe,Se)}}function x(se,de,ue,xe,Se){var Ee=[],qe=[];Se||(Se=[]);var nt=xe-1,He=0,Ge=0;for(He=de;He>=0;){Se[He]=!0,Ee[Ee.length]=He,qe.push(se[He]);var Ze=ue[Math.floor(He*4/xe)];if(Ge=He*4&nt,xe<4+Ge)throw new Error("FAT boundary crossed: "+He+" 4 "+xe);if(!se[Ze])break;He=tb(se[Ze],Ge)}return{nodes:Ee,data:khe([qe])}}function w(se,de,ue,xe){var Se=se.length,Ee=[],qe=[],nt=[],He=[],Ge=xe-1,Ze=0,_t=0,St=0,Wt=0;for(Ze=0;Ze<Se;++Ze)if(nt=[],St=Ze+de,St>=Se&&(St-=Se),!qe[St]){He=[];var Et=[];for(_t=St;_t>=0;){Et[_t]=!0,qe[_t]=!0,nt[nt.length]=_t,He.push(se[_t]);var zt=ue[Math.floor(_t*4/xe)];if(Wt=_t*4&Ge,xe<4+Wt)throw new Error("FAT boundary crossed: "+_t+" 4 "+xe);if(!se[zt]||(_t=tb(se[zt],Wt),Et[_t]))break}Ee[St]={nodes:nt,data:khe([He])}}return Ee}function b(se,de,ue,xe,Se,Ee,qe,nt){for(var He=0,Ge=xe.length?2:0,Ze=de[se].data,_t=0,St=0,Wt;_t<Ze.length;_t+=128){var Et=Ze.slice(_t,_t+128);Qo(Et,64),St=Et.read_shift(2),Wt=oJ(Et,0,St-Ge),xe.push(Wt);var zt={name:Wt,type:Et.read_shift(1),color:Et.read_shift(1),L:Et.read_shift(4,"i"),R:Et.read_shift(4,"i"),C:Et.read_shift(4,"i"),clsid:Et.read_shift(16),state:Et.read_shift(4,"i"),start:0,size:0},Dr=Et.read_shift(2)+Et.read_shift(2)+Et.read_shift(2)+Et.read_shift(2);Dr!==0&&(zt.ct=_(Et,Et.l-8));var si=Et.read_shift(2)+Et.read_shift(2)+Et.read_shift(2)+Et.read_shift(2);si!==0&&(zt.mt=_(Et,Et.l-8)),zt.start=Et.read_shift(4,"i"),zt.size=Et.read_shift(4,"i"),zt.size<0&&zt.start<0&&(zt.size=zt.type=0,zt.start=M,zt.name=""),zt.type===5?(He=zt.start,Se>0&&He!==M&&(de[He].name="!StreamData")):zt.size>=4096?(zt.storage="fat",de[zt.start]===void 0&&(de[zt.start]=x(ue,zt.start,de.fat_addrs,de.ssz)),de[zt.start].name=zt.name,zt.content=de[zt.start].data.slice(0,zt.size)):(zt.storage="minifat",zt.size<0?zt.size=0:He!==M&&zt.start!==M&&de[He]&&(zt.content=m(zt,de[He].data,(de[nt]||{}).data))),zt.content&&Qo(zt.content,0),Ee[Wt]=zt,qe.push(zt)}}function _(se,de){return new Date((td(se,de+4)/1e7*Math.pow(2,32)+td(se,de)/1e7-11644473600)*1e3)}function S(se,de){return c(),u(l.readFileSync(se),de)}function T(se,de){var ue=de&&de.type;switch(ue||_n&&Buffer.isBuffer(se)&&(ue="buffer"),ue||"base64"){case"file":return S(se,de);case"base64":return u(sd(xd(se)),de);case"binary":return u(sd(se),de)}return u(se,de)}function E(se,de){var ue=de||{},xe=ue.root||"Root Entry";if(se.FullPaths||(se.FullPaths=[]),se.FileIndex||(se.FileIndex=[]),se.FullPaths.length!==se.FileIndex.length)throw new Error("inconsistent CFB structure");se.FullPaths.length===0&&(se.FullPaths[0]=xe+"/",se.FileIndex[0]={name:xe,type:5}),ue.CLSID&&(se.FileIndex[0].clsid=ue.CLSID),C(se)}function C(se){var de="Sh33tJ5";if(!Nr.find(se,"/"+de)){var ue=at(4);ue[0]=55,ue[1]=ue[3]=50,ue[2]=54,se.FileIndex.push({name:de,type:2,content:ue,size:4,L:69,R:69,C:69}),se.FullPaths.push(se.FullPaths[0]+de),N(se)}}function N(se,de){E(se);for(var ue=!1,xe=!1,Se=se.FullPaths.length-1;Se>=0;--Se){var Ee=se.FileIndex[Se];switch(Ee.type){case 0:xe?ue=!0:(se.FileIndex.pop(),se.FullPaths.pop());break;case 1:case 2:case 5:xe=!0,isNaN(Ee.R*Ee.L*Ee.C)&&(ue=!0),Ee.R>-1&&Ee.L>-1&&Ee.R==Ee.L&&(ue=!0);break;default:ue=!0;break}}if(!(!ue&&!de)){var qe=new Date(1987,1,19),nt=0,He=Object.create?Object.create(null):{},Ge=[];for(Se=0;Se<se.FullPaths.length;++Se)He[se.FullPaths[Se]]=!0,se.FileIndex[Se].type!==0&&Ge.push([se.FullPaths[Se],se.FileIndex[Se]]);for(Se=0;Se<Ge.length;++Se){var Ze=n(Ge[Se][0]);xe=He[Ze],xe||(Ge.push([Ze,{name:i(Ze).replace("/",""),type:1,clsid:X,ct:qe,mt:qe,content:null}]),He[Ze]=!0)}for(Ge.sort(function(Wt,Et){return r(Wt[0],Et[0])}),se.FullPaths=[],se.FileIndex=[],Se=0;Se<Ge.length;++Se)se.FullPaths[Se]=Ge[Se][0],se.FileIndex[Se]=Ge[Se][1];for(Se=0;Se<Ge.length;++Se){var _t=se.FileIndex[Se],St=se.FullPaths[Se];if(_t.name=i(St).replace("/",""),_t.L=_t.R=_t.C=-(_t.color=1),_t.size=_t.content?_t.content.length:0,_t.start=0,_t.clsid=_t.clsid||X,Se===0)_t.C=Ge.length>1?1:-1,_t.size=0,_t.type=5;else if(St.slice(-1)=="/"){for(nt=Se+1;nt<Ge.length&&n(se.FullPaths[nt])!=St;++nt);for(_t.C=nt>=Ge.length?-1:nt,nt=Se+1;nt<Ge.length&&n(se.FullPaths[nt])!=n(St);++nt);_t.R=nt>=Ge.length?-1:nt,_t.type=1}else n(se.FullPaths[Se+1]||"")==n(St)&&(_t.R=Se+1),_t.type=2}}}function F(se,de){var ue=de||{};if(ue.fileType=="mad")return Ni(se,ue);switch(N(se),ue.fileType){case"zip":return gt(se,ue)}var xe=function(Wt){for(var Et=0,zt=0,Dr=0;Dr<Wt.FileIndex.length;++Dr){var si=Wt.FileIndex[Dr];if(si.content){var wn=si.content.length;wn>0&&(wn<4096?Et+=wn+63>>6:zt+=wn+511>>9)}}for(var us=Wt.FullPaths.length+3>>2,Nc=Et+7>>3,Wl=Et+127>>7,mu=Nc+zt+us+Wl,ql=mu+127>>7,Dh=ql<=109?0:Math.ceil((ql-109)/127);mu+ql+Dh+127>>7>ql;)Dh=++ql<=109?0:Math.ceil((ql-109)/127);var zs=[1,Dh,ql,Wl,us,zt,Et,0];return Wt.FileIndex[0].size=Et<<6,zs[7]=(Wt.FileIndex[0].start=zs[0]+zs[1]+zs[2]+zs[3]+zs[4]+zs[5])+(zs[6]+7>>3),zs}(se),Se=at(xe[7]<<9),Ee=0,qe=0;{for(Ee=0;Ee<8;++Ee)Se.write_shift(1,Y[Ee]);for(Ee=0;Ee<8;++Ee)Se.write_shift(2,0);for(Se.write_shift(2,62),Se.write_shift(2,3),Se.write_shift(2,65534),Se.write_shift(2,9),Se.write_shift(2,6),Ee=0;Ee<3;++Ee)Se.write_shift(2,0);for(Se.write_shift(4,0),Se.write_shift(4,xe[2]),Se.write_shift(4,xe[0]+xe[1]+xe[2]+xe[3]-1),Se.write_shift(4,0),Se.write_shift(4,4096),Se.write_shift(4,xe[3]?xe[0]+xe[1]+xe[2]-1:M),Se.write_shift(4,xe[3]),Se.write_shift(-4,xe[1]?xe[0]-1:M),Se.write_shift(4,xe[1]),Ee=0;Ee<109;++Ee)Se.write_shift(-4,Ee<xe[2]?xe[1]+Ee:-1)}if(xe[1])for(qe=0;qe<xe[1];++qe){for(;Ee<236+qe*127;++Ee)Se.write_shift(-4,Ee<xe[2]?xe[1]+Ee:-1);Se.write_shift(-4,qe===xe[1]-1?M:qe+1)}var nt=function(Wt){for(qe+=Wt;Ee<qe-1;++Ee)Se.write_shift(-4,Ee+1);Wt&&(++Ee,Se.write_shift(-4,M))};for(qe=Ee=0,qe+=xe[1];Ee<qe;++Ee)Se.write_shift(-4,W.DIFSECT);for(qe+=xe[2];Ee<qe;++Ee)Se.write_shift(-4,W.FATSECT);nt(xe[3]),nt(xe[4]);for(var He=0,Ge=0,Ze=se.FileIndex[0];He<se.FileIndex.length;++He)Ze=se.FileIndex[He],Ze.content&&(Ge=Ze.content.length,!(Ge<4096)&&(Ze.start=qe,nt(Ge+511>>9)));for(nt(xe[6]+7>>3);Se.l&511;)Se.write_shift(-4,W.ENDOFCHAIN);for(qe=Ee=0,He=0;He<se.FileIndex.length;++He)Ze=se.FileIndex[He],Ze.content&&(Ge=Ze.content.length,!(!Ge||Ge>=4096)&&(Ze.start=qe,nt(Ge+63>>6)));for(;Se.l&511;)Se.write_shift(-4,W.ENDOFCHAIN);for(Ee=0;Ee<xe[4]<<2;++Ee){var _t=se.FullPaths[Ee];if(!_t||_t.length===0){for(He=0;He<17;++He)Se.write_shift(4,0);for(He=0;He<3;++He)Se.write_shift(4,-1);for(He=0;He<12;++He)Se.write_shift(4,0);continue}Ze=se.FileIndex[Ee],Ee===0&&(Ze.start=Ze.size?Ze.start-1:M);var St=Ee===0&&ue.root||Ze.name;if(Ge=2*(St.length+1),Se.write_shift(64,St,"utf16le"),Se.write_shift(2,Ge),Se.write_shift(1,Ze.type),Se.write_shift(1,Ze.color),Se.write_shift(-4,Ze.L),Se.write_shift(-4,Ze.R),Se.write_shift(-4,Ze.C),Ze.clsid)Se.write_shift(16,Ze.clsid,"hex");else for(He=0;He<4;++He)Se.write_shift(4,0);Se.write_shift(4,Ze.state||0),Se.write_shift(4,0),Se.write_shift(4,0),Se.write_shift(4,0),Se.write_shift(4,0),Se.write_shift(4,Ze.start),Se.write_shift(4,Ze.size),Se.write_shift(4,0)}for(Ee=1;Ee<se.FileIndex.length;++Ee)if(Ze=se.FileIndex[Ee],Ze.size>=4096)if(Se.l=Ze.start+1<<9,_n&&Buffer.isBuffer(Ze.content))Ze.content.copy(Se,Se.l,0,Ze.size),Se.l+=Ze.size+511&-512;else{for(He=0;He<Ze.size;++He)Se.write_shift(1,Ze.content[He]);for(;He&511;++He)Se.write_shift(1,0)}for(Ee=1;Ee<se.FileIndex.length;++Ee)if(Ze=se.FileIndex[Ee],Ze.size>0&&Ze.size<4096)if(_n&&Buffer.isBuffer(Ze.content))Ze.content.copy(Se,Se.l,0,Ze.size),Se.l+=Ze.size+63&-64;else{for(He=0;He<Ze.size;++He)Se.write_shift(1,Ze.content[He]);for(;He&63;++He)Se.write_shift(1,0)}if(_n)Se.l=Se.length;else for(;Se.l<Se.length;)Se.write_shift(1,0);return Se}function A(se,de){var ue=se.FullPaths.map(function(He){return He.toUpperCase()}),xe=ue.map(function(He){var Ge=He.split("/");return Ge[Ge.length-(He.slice(-1)=="/"?2:1)]}),Se=!1;de.charCodeAt(0)===47?(Se=!0,de=ue[0].slice(0,-1)+de):Se=de.indexOf("/")!==-1;var Ee=de.toUpperCase(),qe=Se===!0?ue.indexOf(Ee):xe.indexOf(Ee);if(qe!==-1)return se.FileIndex[qe];var nt=!Ee.match(y5);for(Ee=Ee.replace(wc,""),nt&&(Ee=Ee.replace(y5,"!")),qe=0;qe<ue.length;++qe)if((nt?ue[qe].replace(y5,"!"):ue[qe]).replace(wc,"")==Ee||(nt?xe[qe].replace(y5,"!"):xe[qe]).replace(wc,"")==Ee)return se.FileIndex[qe];return null}var I=64,M=-2,U="d0cf11e0a1b11ae1",Y=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:U,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function G(se,de,ue){c();var xe=F(se,ue);l.writeFileSync(de,xe)}function B(se){for(var de=new Array(se.length),ue=0;ue<se.length;++ue)de[ue]=String.fromCharCode(se[ue]);return de.join("")}function re(se,de){var ue=F(se,de);switch(de&&de.type||"buffer"){case"file":return c(),l.writeFileSync(de.filename,ue),ue;case"binary":return typeof ue=="string"?ue:B(ue);case"base64":return pI(typeof ue=="string"?ue:B(ue));case"buffer":if(_n)return Buffer.isBuffer(ue)?ue:iv(ue);case"array":return typeof ue=="string"?sd(ue):ue}return ue}var ae;function R(se){try{var de=se.InflateRaw,ue=new de;if(ue._processChunk(new Uint8Array([3,0]),ue._finishFlushFlag),ue.bytesRead)ae=se;else throw new Error("zlib does not expose bytesRead")}catch(xe){console.error("cannot use native zlib: "+(xe.message||xe))}}function j(se,de){if(!ae)return Gt(se,de);var ue=ae.InflateRaw,xe=new ue,Se=xe._processChunk(se.slice(se.l),xe._finishFlushFlag);return se.l+=xe.bytesRead,Se}function V(se){return ae?ae.deflateRawSync(se):At(se)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],J=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function me(se){var de=(se<<1|se<<11)&139536|(se<<5|se<<15)&558144;return(de>>16|de>>8|de)&255}for(var ce=typeof Uint8Array<"u",he=ce?new Uint8Array(256):[],_e=0;_e<256;++_e)he[_e]=me(_e);function ee(se,de){var ue=he[se&255];return de<=8?ue>>>8-de:(ue=ue<<8|he[se>>8&255],de<=16?ue>>>16-de:(ue=ue<<8|he[se>>16&255],ue>>>24-de))}function je(se,de){var ue=de&7,xe=de>>>3;return(se[xe]|(ue<=6?0:se[xe+1]<<8))>>>ue&3}function Ue(se,de){var ue=de&7,xe=de>>>3;return(se[xe]|(ue<=5?0:se[xe+1]<<8))>>>ue&7}function pe(se,de){var ue=de&7,xe=de>>>3;return(se[xe]|(ue<=4?0:se[xe+1]<<8))>>>ue&15}function Me(se,de){var ue=de&7,xe=de>>>3;return(se[xe]|(ue<=3?0:se[xe+1]<<8))>>>ue&31}function Ye(se,de){var ue=de&7,xe=de>>>3;return(se[xe]|(ue<=1?0:se[xe+1]<<8))>>>ue&127}function xt(se,de,ue){var xe=de&7,Se=de>>>3,Ee=(1<<ue)-1,qe=se[Se]>>>xe;return ue<8-xe||(qe|=se[Se+1]<<8-xe,ue<16-xe)||(qe|=se[Se+2]<<16-xe,ue<24-xe)||(qe|=se[Se+3]<<24-xe),qe&Ee}function Ke(se,de,ue){var xe=de&7,Se=de>>>3;return xe<=5?se[Se]|=(ue&7)<<xe:(se[Se]|=ue<<xe&255,se[Se+1]=(ue&7)>>8-xe),de+3}function be(se,de,ue){var xe=de&7,Se=de>>>3;return ue=(ue&1)<<xe,se[Se]|=ue,de+1}function Pe(se,de,ue){var xe=de&7,Se=de>>>3;return ue<<=xe,se[Se]|=ue&255,ue>>>=8,se[Se+1]=ue,de+8}function De(se,de,ue){var xe=de&7,Se=de>>>3;return ue<<=xe,se[Se]|=ue&255,ue>>>=8,se[Se+1]=ue&255,se[Se+2]=ue>>>8,de+16}function Je(se,de){var ue=se.length,xe=2*ue>de?2*ue:de+5,Se=0;if(ue>=de)return se;if(_n){var Ee=che(xe);if(se.copy)se.copy(Ee);else for(;Se<se.length;++Se)Ee[Se]=se[Se];return Ee}else if(ce){var qe=new Uint8Array(xe);if(qe.set)qe.set(se);else for(;Se<ue;++Se)qe[Se]=se[Se];return qe}return se.length=xe,se}function it(se){for(var de=new Array(se),ue=0;ue<se;++ue)de[ue]=0;return de}function rt(se,de,ue){var xe=1,Se=0,Ee=0,qe=0,nt=0,He=se.length,Ge=ce?new Uint16Array(32):it(32);for(Ee=0;Ee<32;++Ee)Ge[Ee]=0;for(Ee=He;Ee<ue;++Ee)se[Ee]=0;He=se.length;var Ze=ce?new Uint16Array(He):it(He);for(Ee=0;Ee<He;++Ee)Ge[Se=se[Ee]]++,xe<Se&&(xe=Se),Ze[Ee]=0;for(Ge[0]=0,Ee=1;Ee<=xe;++Ee)Ge[Ee+16]=nt=nt+Ge[Ee-1]<<1;for(Ee=0;Ee<He;++Ee)nt=se[Ee],nt!=0&&(Ze[Ee]=Ge[nt+16]++);var _t=0;for(Ee=0;Ee<He;++Ee)if(_t=se[Ee],_t!=0)for(nt=ee(Ze[Ee],xe)>>xe-_t,qe=(1<<xe+4-_t)-1;qe>=0;--qe)de[nt|qe<<_t]=_t&15|Ee<<4;return xe}var st=ce?new Uint16Array(512):it(512),Dt=ce?new Uint16Array(32):it(32);if(!ce){for(var kt=0;kt<512;++kt)st[kt]=0;for(kt=0;kt<32;++kt)Dt[kt]=0}(function(){for(var se=[],de=0;de<32;de++)se.push(5);rt(se,Dt,32);var ue=[];for(de=0;de<=143;de++)ue.push(8);for(;de<=255;de++)ue.push(9);for(;de<=279;de++)ue.push(7);for(;de<=287;de++)ue.push(8);rt(ue,st,288)})();var Nt=function(){for(var de=ce?new Uint8Array(32768):[],ue=0,xe=0;ue<J.length-1;++ue)for(;xe<J[ue+1];++xe)de[xe]=ue;for(;xe<32768;++xe)de[xe]=29;var Se=ce?new Uint8Array(259):[];for(ue=0,xe=0;ue<ne.length-1;++ue)for(;xe<ne[ue+1];++xe)Se[xe]=ue;function Ee(nt,He){for(var Ge=0;Ge<nt.length;){var Ze=Math.min(65535,nt.length-Ge),_t=Ge+Ze==nt.length;for(He.write_shift(1,+_t),He.write_shift(2,Ze),He.write_shift(2,~Ze&65535);Ze-- >0;)He[He.l++]=nt[Ge++]}return He.l}function qe(nt,He){for(var Ge=0,Ze=0,_t=ce?new Uint16Array(32768):[];Ze<nt.length;){var St=Math.min(65535,nt.length-Ze);if(St<10){for(Ge=Ke(He,Ge,+(Ze+St==nt.length)),Ge&7&&(Ge+=8-(Ge&7)),He.l=Ge/8|0,He.write_shift(2,St),He.write_shift(2,~St&65535);St-- >0;)He[He.l++]=nt[Ze++];Ge=He.l*8;continue}Ge=Ke(He,Ge,+(Ze+St==nt.length)+2);for(var Wt=0;St-- >0;){var Et=nt[Ze];Wt=(Wt<<5^Et)&32767;var zt=-1,Dr=0;if((zt=_t[Wt])&&(zt|=Ze&-32768,zt>Ze&&(zt-=32768),zt<Ze))for(;nt[zt+Dr]==nt[Ze+Dr]&&Dr<250;)++Dr;if(Dr>2){Et=Se[Dr],Et<=22?Ge=Pe(He,Ge,he[Et+1]>>1)-1:(Pe(He,Ge,3),Ge+=5,Pe(He,Ge,he[Et-23]>>5),Ge+=3);var si=Et<8?0:Et-4>>2;si>0&&(De(He,Ge,Dr-ne[Et]),Ge+=si),Et=de[Ze-zt],Ge=Pe(He,Ge,he[Et]>>3),Ge-=3;var wn=Et<4?0:Et-2>>1;wn>0&&(De(He,Ge,Ze-zt-J[Et]),Ge+=wn);for(var us=0;us<Dr;++us)_t[Wt]=Ze&32767,Wt=(Wt<<5^nt[Ze])&32767,++Ze;St-=Dr-1}else Et<=143?Et=Et+48:Ge=be(He,Ge,1),Ge=Pe(He,Ge,he[Et]),_t[Wt]=Ze&32767,++Ze}Ge=Pe(He,Ge,0)-1}return He.l=(Ge+7)/8|0,He.l}return function(He,Ge){return He.length<8?Ee(He,Ge):qe(He,Ge)}}();function At(se){var de=at(50+Math.floor(se.length*1.1)),ue=Nt(se,de);return de.slice(0,ue)}var Tt=ce?new Uint16Array(32768):it(32768),Ur=ce?new Uint16Array(32768):it(32768),Yt=ce?new Uint16Array(128):it(128),sr=1,Cr=1;function jr(se,de){var ue=Me(se,de)+257;de+=5;var xe=Me(se,de)+1;de+=5;var Se=pe(se,de)+4;de+=4;for(var Ee=0,qe=ce?new Uint8Array(19):it(19),nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],He=1,Ge=ce?new Uint8Array(8):it(8),Ze=ce?new Uint8Array(8):it(8),_t=qe.length,St=0;St<Se;++St)qe[K[St]]=Ee=Ue(se,de),He<Ee&&(He=Ee),Ge[Ee]++,de+=3;var Wt=0;for(Ge[0]=0,St=1;St<=He;++St)Ze[St]=Wt=Wt+Ge[St-1]<<1;for(St=0;St<_t;++St)(Wt=qe[St])!=0&&(nt[St]=Ze[Wt]++);var Et=0;for(St=0;St<_t;++St)if(Et=qe[St],Et!=0){Wt=he[nt[St]]>>8-Et;for(var zt=(1<<7-Et)-1;zt>=0;--zt)Yt[Wt|zt<<Et]=Et&7|St<<3}var Dr=[];for(He=1;Dr.length<ue+xe;)switch(Wt=Yt[Ye(se,de)],de+=Wt&7,Wt>>>=3){case 16:for(Ee=3+je(se,de),de+=2,Wt=Dr[Dr.length-1];Ee-- >0;)Dr.push(Wt);break;case 17:for(Ee=3+Ue(se,de),de+=3;Ee-- >0;)Dr.push(0);break;case 18:for(Ee=11+Ye(se,de),de+=7;Ee-- >0;)Dr.push(0);break;default:Dr.push(Wt),He<Wt&&(He=Wt);break}var si=Dr.slice(0,ue),wn=Dr.slice(ue);for(St=ue;St<286;++St)si[St]=0;for(St=xe;St<30;++St)wn[St]=0;return sr=rt(si,Tt,286),Cr=rt(wn,Ur,30),de}function Ne(se,de){if(se[0]==3&&!(se[1]&3))return[Xy(de),2];for(var ue=0,xe=0,Se=che(de||1<<18),Ee=0,qe=Se.length>>>0,nt=0,He=0;!(xe&1);){if(xe=Ue(se,ue),ue+=3,xe>>>1)xe>>1==1?(nt=9,He=5):(ue=jr(se,ue),nt=sr,He=Cr);else{ue&7&&(ue+=8-(ue&7));var Ge=se[ue>>>3]|se[(ue>>>3)+1]<<8;if(ue+=32,Ge>0)for(!de&&qe<Ee+Ge&&(Se=Je(Se,Ee+Ge),qe=Se.length);Ge-- >0;)Se[Ee++]=se[ue>>>3],ue+=8;continue}for(;;){!de&&qe<Ee+32767&&(Se=Je(Se,Ee+32767),qe=Se.length);var Ze=xt(se,ue,nt),_t=xe>>>1==1?st[Ze]:Tt[Ze];if(ue+=_t&15,_t>>>=4,!(_t>>>8&255))Se[Ee++]=_t;else{if(_t==256)break;_t-=257;var St=_t<8?0:_t-4>>2;St>5&&(St=0);var Wt=Ee+ne[_t];St>0&&(Wt+=xt(se,ue,St),ue+=St),Ze=xt(se,ue,He),_t=xe>>>1==1?Dt[Ze]:Ur[Ze],ue+=_t&15,_t>>>=4;var Et=_t<4?0:_t-2>>1,zt=J[_t];for(Et>0&&(zt+=xt(se,ue,Et),ue+=Et),!de&&qe<Wt&&(Se=Je(Se,Wt+100),qe=Se.length);Ee<Wt;)Se[Ee]=Se[Ee-zt],++Ee}}}return de?[Se,ue+7>>>3]:[Se.slice(0,Ee),ue+7>>>3]}function Gt(se,de){var ue=se.slice(se.l||0),xe=Ne(ue,de);return se.l+=xe[1],xe[0]}function Ve(se,de){if(se)typeof console<"u"&&console.error(de);else throw new Error(de)}function Qt(se,de){var ue=se;Qo(ue,0);var xe=[],Se=[],Ee={FileIndex:xe,FullPaths:Se};E(Ee,{root:de.root});for(var qe=ue.length-4;(ue[qe]!=80||ue[qe+1]!=75||ue[qe+2]!=5||ue[qe+3]!=6)&&qe>=0;)--qe;ue.l=qe+4,ue.l+=4;var nt=ue.read_shift(2);ue.l+=6;var He=ue.read_shift(4);for(ue.l=He,qe=0;qe<nt;++qe){ue.l+=20;var Ge=ue.read_shift(4),Ze=ue.read_shift(4),_t=ue.read_shift(2),St=ue.read_shift(2),Wt=ue.read_shift(2);ue.l+=8;var Et=ue.read_shift(4),zt=o(ue.slice(ue.l+_t,ue.l+_t+St));ue.l+=_t+St+Wt;var Dr=ue.l;ue.l=Et+4,Ht(ue,Ge,Ze,Ee,zt),ue.l=Dr}return Ee}function Ht(se,de,ue,xe,Se){se.l+=2;var Ee=se.read_shift(2),qe=se.read_shift(2),nt=a(se);if(Ee&8257)throw new Error("Unsupported ZIP encryption");for(var He=se.read_shift(4),Ge=se.read_shift(4),Ze=se.read_shift(4),_t=se.read_shift(2),St=se.read_shift(2),Wt="",Et=0;Et<_t;++Et)Wt+=String.fromCharCode(se[se.l++]);if(St){var zt=o(se.slice(se.l,se.l+St));(zt[21589]||{}).mt&&(nt=zt[21589].mt),((Se||{})[21589]||{}).mt&&(nt=Se[21589].mt)}se.l+=St;var Dr=se.slice(se.l,se.l+Ge);switch(qe){case 8:Dr=j(se,Ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+qe)}var si=!1;Ee&8&&(He=se.read_shift(4),He==134695760&&(He=se.read_shift(4),si=!0),Ge=se.read_shift(4),Ze=se.read_shift(4)),Ge!=de&&Ve(si,"Bad compressed size: "+de+" != "+Ge),Ze!=ue&&Ve(si,"Bad uncompressed size: "+ue+" != "+Ze),Tn(xe,Wt,Dr,{unsafe:!0,mt:nt})}function gt(se,de){var ue=de||{},xe=[],Se=[],Ee=at(1),qe=ue.compression?8:0,nt=0,He=0,Ge=0,Ze=0,_t=0,St=se.FullPaths[0],Wt=St,Et=se.FileIndex[0],zt=[],Dr=0;for(He=1;He<se.FullPaths.length;++He)if(Wt=se.FullPaths[He].slice(St.length),Et=se.FileIndex[He],!(!Et.size||!Et.content||Wt=="Sh33tJ5")){var si=Ze,wn=at(Wt.length);for(Ge=0;Ge<Wt.length;++Ge)wn.write_shift(1,Wt.charCodeAt(Ge)&127);wn=wn.slice(0,wn.l),zt[_t]=AOt.buf(Et.content,0);var us=Et.content;qe==8&&(us=V(us)),Ee=at(30),Ee.write_shift(4,67324752),Ee.write_shift(2,20),Ee.write_shift(2,nt),Ee.write_shift(2,qe),Et.mt?s(Ee,Et.mt):Ee.write_shift(4,0),Ee.write_shift(-4,zt[_t]),Ee.write_shift(4,us.length),Ee.write_shift(4,Et.content.length),Ee.write_shift(2,wn.length),Ee.write_shift(2,0),Ze+=Ee.length,xe.push(Ee),Ze+=wn.length,xe.push(wn),Ze+=us.length,xe.push(us),Ee=at(46),Ee.write_shift(4,33639248),Ee.write_shift(2,0),Ee.write_shift(2,20),Ee.write_shift(2,nt),Ee.write_shift(2,qe),Ee.write_shift(4,0),Ee.write_shift(-4,zt[_t]),Ee.write_shift(4,us.length),Ee.write_shift(4,Et.content.length),Ee.write_shift(2,wn.length),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(4,0),Ee.write_shift(4,si),Dr+=Ee.l,Se.push(Ee),Dr+=wn.length,Se.push(wn),++_t}return Ee=at(22),Ee.write_shift(4,101010256),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,_t),Ee.write_shift(2,_t),Ee.write_shift(4,Dr),Ee.write_shift(4,Ze),Ee.write_shift(2,0),Oo([Oo(xe),Oo(Se),Ee])}var ft={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ar(se,de){if(se.ctype)return se.ctype;var ue=se.name||"",xe=ue.match(/\.([^\.]+)$/);return xe&&ft[xe[1]]||de&&(xe=(ue=de).match(/[\.\\]([^\.\\])+$/),xe&&ft[xe[1]])?ft[xe[1]]:"application/octet-stream"}function tr(se){for(var de=pI(se),ue=[],xe=0;xe<de.length;xe+=76)ue.push(de.slice(xe,xe+76));return ue.join(`\r
`)+`\r
`}function Sr(se){var de=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ge){var Ze=Ge.charCodeAt(0).toString(16).toUpperCase();return"="+(Ze.length==1?"0"+Ze:Ze)});de=de.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),de.charAt(0)==`
`&&(de="=0D"+de.slice(1)),de=de.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ue=[],xe=de.split(`\r
`),Se=0;Se<xe.length;++Se){var Ee=xe[Se];if(Ee.length==0){ue.push("");continue}for(var qe=0;qe<Ee.length;){var nt=76,He=Ee.slice(qe,qe+nt);He.charAt(nt-1)=="="?nt--:He.charAt(nt-2)=="="?nt-=2:He.charAt(nt-3)=="="&&(nt-=3),He=Ee.slice(qe,qe+nt),qe+=nt,qe<Ee.length&&(He+="="),ue.push(He)}}return ue.join(`\r
`)}function qr(se){for(var de=[],ue=0;ue<se.length;++ue){for(var xe=se[ue];ue<=se.length&&xe.charAt(xe.length-1)=="=";)xe=xe.slice(0,xe.length-1)+se[++ue];de.push(xe)}for(var Se=0;Se<de.length;++Se)de[Se]=de[Se].replace(/[=][0-9A-Fa-f]{2}/g,function(Ee){return String.fromCharCode(parseInt(Ee.slice(1),16))});return sd(de.join(`\r
`))}function Nn(se,de,ue){for(var xe="",Se="",Ee="",qe,nt=0;nt<10;++nt){var He=de[nt];if(!He||He.match(/^\s*$/))break;var Ge=He.match(/^(.*?):\s*([^\s].*)$/);if(Ge)switch(Ge[1].toLowerCase()){case"content-location":xe=Ge[2].trim();break;case"content-type":Ee=Ge[2].trim();break;case"content-transfer-encoding":Se=Ge[2].trim();break}}switch(++nt,Se.toLowerCase()){case"base64":qe=sd(xd(de.slice(nt).join("")));break;case"quoted-printable":qe=qr(de.slice(nt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Se)}var Ze=Tn(se,xe.slice(ue.length),qe,{unsafe:!0});Ee&&(Ze.ctype=Ee)}function Jt(se,de){if(B(se.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ue=de&&de.root||"",xe=(_n&&Buffer.isBuffer(se)?se.toString("binary"):B(se)).split(`\r
`),Se=0,Ee="";for(Se=0;Se<xe.length;++Se)if(Ee=xe[Se],!!/^Content-Location:/i.test(Ee)&&(Ee=Ee.slice(Ee.indexOf("file")),ue||(ue=Ee.slice(0,Ee.lastIndexOf("/")+1)),Ee.slice(0,ue.length)!=ue))for(;ue.length>0&&(ue=ue.slice(0,ue.length-1),ue=ue.slice(0,ue.lastIndexOf("/")+1),Ee.slice(0,ue.length)!=ue););var qe=(xe[1]||"").match(/boundary="(.*?)"/);if(!qe)throw new Error("MAD cannot find boundary");var nt="--"+(qe[1]||""),He=[],Ge=[],Ze={FileIndex:He,FullPaths:Ge};E(Ze);var _t,St=0;for(Se=0;Se<xe.length;++Se){var Wt=xe[Se];Wt!==nt&&Wt!==nt+"--"||(St++&&Nn(Ze,xe.slice(_t,Se),ue),_t=Se)}return Ze}function Ni(se,de){var ue=de||{},xe=ue.boundary||"SheetJS";xe="------="+xe;for(var Se=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+xe.slice(2)+'"',"","",""],Ee=se.FullPaths[0],qe=Ee,nt=se.FileIndex[0],He=1;He<se.FullPaths.length;++He)if(qe=se.FullPaths[He].slice(Ee.length),nt=se.FileIndex[He],!(!nt.size||!nt.content||qe=="Sh33tJ5")){qe=qe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Dr){return"_x"+Dr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Dr){return"_u"+Dr.charCodeAt(0).toString(16)+"_"});for(var Ge=nt.content,Ze=_n&&Buffer.isBuffer(Ge)?Ge.toString("binary"):B(Ge),_t=0,St=Math.min(1024,Ze.length),Wt=0,Et=0;Et<=St;++Et)(Wt=Ze.charCodeAt(Et))>=32&&Wt<128&&++_t;var zt=_t>=St*4/5;Se.push(xe),Se.push("Content-Location: "+(ue.root||"file:///C:/SheetJS/")+qe),Se.push("Content-Transfer-Encoding: "+(zt?"quoted-printable":"base64")),Se.push("Content-Type: "+ar(nt,qe)),Se.push(""),Se.push(zt?Sr(Ze):tr(Ze))}return Se.push(xe+`--\r
`),Se.join(`\r
`)}function li(se){var de={};return E(de,se),de}function Tn(se,de,ue,xe){var Se=xe&&xe.unsafe;Se||E(se);var Ee=!Se&&Nr.find(se,de);if(!Ee){var qe=se.FullPaths[0];de.slice(0,qe.length)==qe?qe=de:(qe.slice(-1)!="/"&&(qe+="/"),qe=(qe+de).replace("//","/")),Ee={name:i(de),type:2},se.FileIndex.push(Ee),se.FullPaths.push(qe),Se||Nr.utils.cfb_gc(se)}return Ee.content=ue,Ee.size=ue?ue.length:0,xe&&(xe.CLSID&&(Ee.clsid=xe.CLSID),xe.mt&&(Ee.mt=xe.mt),xe.ct&&(Ee.ct=xe.ct)),Ee}function Oe(se,de){E(se);var ue=Nr.find(se,de);if(ue){for(var xe=0;xe<se.FileIndex.length;++xe)if(se.FileIndex[xe]==ue)return se.FileIndex.splice(xe,1),se.FullPaths.splice(xe,1),!0}return!1}function Lt(se,de,ue){E(se);var xe=Nr.find(se,de);if(xe){for(var Se=0;Se<se.FileIndex.length;++Se)if(se.FileIndex[Se]==xe)return se.FileIndex[Se].name=i(ue),se.FullPaths[Se]=ue,!0}return!1}function It(se){N(se,!0)}return e.find=A,e.read=T,e.parse=u,e.write=re,e.writeFile=G,e.utils={cfb_new:li,cfb_add:Tn,cfb_del:Oe,cfb_mov:Lt,cfb_gc:It,ReadShift:xP,CheckField:qke,prep_blob:Qo,bconcat:Oo,use_zlib:R,_deflateRaw:At,_inflateRaw:Gt,consts:W},e}();function EOt(t){return typeof t=="string"?v7(t):Array.isArray(t)?Z4t(t):t}function wR(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=v7(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?lm(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([EOt(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=_x(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function TOt(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function oa(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function vhe(t,e){for(var r=[],n=oa(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function x7(t){for(var e=[],r=oa(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function b7(t){for(var e=[],r=oa(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function COt(t){for(var e=[],r=oa(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var WL=new Date(1899,11,30,0,0,0);function po(t,e){var r=t.getTime(),n=WL.getTime()+(t.getTimezoneOffset()-WL.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var Eke=new Date,kOt=WL.getTime()+(Eke.getTimezoneOffset()-WL.getTimezoneOffset())*6e4,yhe=Eke.getTimezoneOffset();function w7(t){var e=new Date;return e.setTime(t*24*60*60*1e3+kOt),e.getTimezoneOffset()!==yhe&&e.setTime(e.getTime()+(e.getTimezoneOffset()-yhe)*6e4),e}function POt(t){var e=0,r=0,n=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(r=1,s>3&&(n=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(i[s],10)}return e}var xhe=new Date("2017-02-19T19:06:09.000Z"),Tke=isNaN(xhe.getFullYear())?new Date("2/19/17"):xhe,NOt=Tke.getFullYear()==2017;function Ss(t,e){var r=new Date(t);if(NOt)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(Tke.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function j_(t,e){if(_n&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return lm(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return lm(fke(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return lm(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return lm(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function As(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=As(t[r]));return e}function na(t,e){for(var r="";r.length<e;)r+=t;return r}function kf(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var IOt=["january","february","march","april","may","june","july","august","september","october","november","december"];function eC(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&IOt.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var OOt=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(t||typeof n=="string")return r.split(n);for(var s=r.split(n),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}}();function Cke(t){return t?t.content&&t.type?j_(t.content,!0):t.data?v5(t.data):t.asNodeBuffer&&_n?v5(t.asNodeBuffer().toString("binary")):t.asBinary?v5(t.asBinary()):t._data&&t._data.getContent?v5(j_(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function kke(t){if(!t)return null;if(t.data)return ohe(t.data);if(t.asNodeBuffer&&_n)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?ohe(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function ROt(t){return t&&t.name.slice(-4)===".bin"?kke(t):Cke(t)}function zd(t,e){for(var r=t.FullPaths||oa(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var a=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==a||i==a)return t.files?t.files[r[s]]:t.FileIndex[s]}return null}function tJ(t,e){var r=zd(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function Ra(t,e,r){if(!r)return ROt(tJ(t,e));if(!e)return null;try{return Ra(t,e)}catch{return null}}function ad(t,e,r){if(!r)return Cke(tJ(t,e));if(!e)return null;try{return ad(t,e)}catch{return null}}function DOt(t,e,r){return kke(tJ(t,e))}function bhe(t){for(var e=t.FullPaths||oa(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function hn(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return _n?n=iv(r):n=Q4t(r),Nr.utils.cfb_add(t,e,n)}Nr.utils.cfb_add(t,e,r)}else t.file(e,r)}function rJ(){return Nr.utils.cfb_new()}function Pke(t,e){switch(e.type){case"base64":return Nr.read(t,{type:"base64"});case"binary":return Nr.read(t,{type:"binary"});case"buffer":case"array":return Nr.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function x5(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var Ea=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,MOt=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,whe=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,FOt=/<[^>]*>/g,Hl=Ea.match(whe)?whe:FOt,jOt=/<\w*:/,LOt=/<(\/?)\w+:/;function Hr(t,e,r){for(var n={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(n[0]=t.slice(0,i)),i===t.length)return n;var a=t.match(MOt),o=0,l="",c=0,u="",d="",h=1;if(a)for(c=0;c!=a.length;++c){for(d=a[c],s=0;s!=d.length&&d.charCodeAt(s)!==61;++s);for(u=d.slice(0,s).trim();d.charCodeAt(s+1)==32;)++s;for(h=(i=d.charCodeAt(s+1))==34||i==39?1:0,l=d.slice(s+1+h,d.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var f=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[f]&&u.slice(o-3,o)=="ext")continue;n[f]=l,n[f.toLowerCase()]=l}}return n}function Lm(t){return t.replace(LOt,"<$1")}var Nke={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},nJ=x7(Nke),Kn=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(o,l){return Nke[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=i.indexOf("]]>");return r(i.slice(0,s))+i.slice(s+9,a)+r(i.slice(a+3))}}(),iJ=/[&<>'"]/g,BOt=/[\u0000-\u0008\u000b-\u001f]/g;function Ti(t){var e=t+"";return e.replace(iJ,function(r){return nJ[r]}).replace(BOt,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function _he(t){return Ti(t).replace(/ /g,"_x0020_")}var Ike=/[\u0000-\u001f]/g;function sJ(t){var e=t+"";return e.replace(iJ,function(r){return nJ[r]}).replace(/\n/g,"<br/>").replace(Ike,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function $Ot(t){var e=t+"";return e.replace(iJ,function(r){return nJ[r]}).replace(Ike,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var She=function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}}();function VOt(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function bs(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function RV(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function Ahe(t){var e=Xy(2*t.length),r,n,i=1,s=0,a=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function Ehe(t){return iv(t,"binary").toString("utf8")}var bD="foo bar baz",Li=_n&&(Ehe(bD)==RV(bD)&&Ehe||Ahe(bD)==RV(bD)&&Ahe)||RV,lm=_n?function(t){return iv(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},gI=function(){var t={};return function(r,n){var i=r+"|"+(n||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),Oke=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),UOt=function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),zOt=/<\/?(?:vt:)?variant>/g,HOt=/<(?:vt:)([^>]*)>([\s\S]*)</;function The(t,e){var r=Hr(t),n=t.match(UOt(r.baseType))||[],i=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(s){var a=s.replace(zOt,"").match(HOt);a&&i.push({v:Li(a[2]),t:a[1]})}),i}var Rke=/(^\s|\s$|\n)/;function el(t,e){return"<"+t+(e.match(Rke)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function vI(t){return oa(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function jt(t,e,r){return"<"+t+(r!=null?vI(r):"")+(e!=null?(e.match(Rke)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function aq(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function WOt(t,e){switch(typeof t){case"string":var r=jt("vt:lpwstr",Ti(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return jt((t|0)==t?"vt:i4":"vt:r8",Ti(String(t)));case"boolean":return jt("vt:bool",t?"true":"false")}if(t instanceof Date)return jt("vt:filetime",aq(t));throw new Error("Unable to serialize "+t)}function aJ(t){if(_n&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Li(_x(QQ(t)));throw new Error("Bad input format: expected Buffer or string")}var yI=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,io={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},p2=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ed={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function qOt(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function GOt(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[r+o]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var Che=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},khe=_n?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:iv(e)})):Che(t)}:Che,Phe=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(ug(t,i)));return n.join("").replace(wc,"")},oJ=_n?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(wc,""):Phe(t,e,r)}:Phe,Nhe=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},Dke=_n?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):Nhe(t,e,r)}:Nhe,Ihe=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(lS(t,i)));return n.join("")},_R=_n?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):Ihe(e,r,n)}:Ihe,Mke=function(t,e){var r=td(t,e);return r>0?_R(t,e+4,e+4+r-1):""},Fke=Mke,jke=function(t,e){var r=td(t,e);return r>0?_R(t,e+4,e+4+r-1):""},Lke=jke,Bke=function(t,e){var r=2*td(t,e);return r>0?_R(t,e+4,e+4+r-1):""},$ke=Bke,Vke=function(e,r){var n=td(e,r);return n>0?oJ(e,r+4,r+4+n):""},Uke=Vke,zke=function(t,e){var r=td(t,e);return r>0?_R(t,e+4,e+4+r):""},Hke=zke,Wke=function(t,e){return qOt(t,e)},qL=Wke,lJ=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};_n&&(Fke=function(e,r){if(!Buffer.isBuffer(e))return Mke(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},Lke=function(e,r){if(!Buffer.isBuffer(e))return jke(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},$ke=function(e,r){if(!Buffer.isBuffer(e))return Bke(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},Uke=function(e,r){if(!Buffer.isBuffer(e))return Vke(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},Hke=function(e,r){if(!Buffer.isBuffer(e))return zke(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},qL=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):Wke(e,r)},lJ=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var lS=function(t,e){return t[e]},ug=function(t,e){return t[e+1]*256+t[e]},KOt=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},td=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},tb=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},YOt=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function xP(t,e){var r="",n,i,s=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,_n&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(ug(this,c)),c+=2;t*=2;break;case"utf8":r=_R(this,this.l,this.l+t);break;case"utf16le":t*=2,r=oJ(this,this.l,this.l+t);break;case"wstr":return xP.call(this,t,"dbcs");case"lpstr-ansi":r=Fke(this,this.l),t=4+td(this,this.l);break;case"lpstr-cp":r=Lke(this,this.l),t=4+td(this,this.l);break;case"lpwstr":r=$ke(this,this.l),t=4+2*td(this,this.l);break;case"lpp4":t=4+td(this,this.l),r=Uke(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+td(this,this.l),r=Hke(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=lS(this,this.l+t++))!==0;)s.push(xD(a));r=s.join("");break;case"_wstr":for(t=0,r="";(a=ug(this,this.l+t))!==0;)s.push(xD(a)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=lS(this,c),this.l=c+1,o=xP.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(xD(ug(this,c))),c+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=lS(this,c),this.l=c+1,o=xP.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(xD(lS(this,c))),c+=1}r=s.join("");break;default:switch(t){case 1:return n=lS(this,this.l),this.l++,n;case 2:return n=(e==="i"?KOt:ug)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?tb:YOt)(this,this.l),this.l+=4,n):(i=td(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=qL(this,this.l):i=qL([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=Dke(this,this.l,t);break}}return this.l+=t,r}var XOt=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},ZOt=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},QOt=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function JOt(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)QOt(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,XOt(this,e,this.l);break;case 8:if(n=8,r==="f"){GOt(this,e,this.l);break}case 16:break;case-4:n=4,ZOt(this,e,this.l);break}return this.l+=n,this}function qke(t,e){var r=Dke(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Qo(t,e){t.l=e,t.read_shift=xP,t.chk=qke,t.write_shift=JOt}function zl(t,e){t.l+=e}function at(t){var e=Xy(t);return Qo(e,0),e}function sv(t,e,r){if(t){var n,i,s;Qo(t,t.l||0);for(var a=t.length,o=0,l=0;t.l<a;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=AI[o]||AI[65535];for(n=t.read_shift(1),s=n&127,i=1;i<4&&n&128;++i)s+=((n=t.read_shift(1))&127)<<7*i;l=t.l+s;var u=c.f&&c.f(t,s,r);if(t.l=l,e(u,c,o))return}}}function cu(){var t=[],e=_n?256:2048,r=function(c){var u=at(c);return Qo(u,0),u},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(c){return n&&c<n.length-n.l?n:(i(),n=r(Math.max(c+1,e)))},a=function(){return i(),Oo(t)},o=function(c){i(),n=c,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function bt(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=AI[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&lJ(r)&&t.push(r)}}function bP(t,e,r){var n=As(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Ohe(t,e,r){var n=As(t);return n.s=bP(n.s,e.s,r),n.e=bP(n.e,e.s,r),n}function wP(t,e){if(t.cRel&&t.c<0)for(t=As(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=As(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Br(t);return!t.cRel&&t.cRel!=null&&(r=rRt(r)),!t.rRel&&t.rRel!=null&&(r=eRt(r)),r}function DV(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+js(t.s.c)+":"+(t.e.cRel?"":"$")+js(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Aa(t.s.r)+":"+(t.e.rRel?"":"$")+Aa(t.e.r):wP(t.s,e.biff)+":"+wP(t.e,e.biff)}function cJ(t){return parseInt(tRt(t),10)-1}function Aa(t){return""+(t+1)}function eRt(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function tRt(t){return t.replace(/\$(\d+)$/,"$1")}function uJ(t){for(var e=nRt(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function js(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function rRt(t){return t.replace(/^([A-Z])/,"$$$1")}function nRt(t){return t.replace(/^\$([A-Z])/,"$1")}function iRt(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ls(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Br(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function du(t){var e=t.indexOf(":");return e==-1?{s:Ls(t),e:Ls(t)}:{s:Ls(t.slice(0,e)),e:Ls(t.slice(e+1))}}function ln(t,e){return typeof e>"u"||typeof e=="number"?ln(t.s,t.e):(typeof t!="string"&&(t=Br(t)),typeof e!="string"&&(e=Br(e)),t==e?t:t+":"+e)}function Qn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function Rhe(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=kh(t.z,r?po(e):e)}catch{}try{return t.w=kh((t.XF||{}).numFmtId||(r?14:0),r?po(e):e)}catch{return""+e}}function Gg(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?av[t.v]||t.v:e==null?Rhe(t,t.v):Rhe(t,e))}function Sx(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function Gke(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Ls(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=Qn(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),a==-1&&(c.e.r=a=u.e.r+1)}for(var d=0;d!=e.length;++d)if(e[d]){if(!Array.isArray(e[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[d].length;++h)if(!(typeof e[d][h]>"u")){var f={v:e[d][h]},g=a+d,m=o+h;if(c.s.r>g&&(c.s.r=g),c.s.c>m&&(c.s.c=m),c.e.r<g&&(c.e.r=g),c.e.c<m&&(c.e.c=m),e[d][h]&&typeof e[d][h]=="object"&&!Array.isArray(e[d][h])&&!(e[d][h]instanceof Date))f=e[d][h];else if(Array.isArray(f.v)&&(f.f=e[d][h][1],f.v=f.v[0]),f.v===null)if(f.f)f.t="n";else if(n.nullError)f.t="e",f.v=0;else if(n.sheetStubs)f.t="z";else continue;else typeof f.v=="number"?f.t="n":typeof f.v=="boolean"?f.t="b":f.v instanceof Date?(f.z=n.dateNF||Fr[14],n.cellDates?(f.t="d",f.w=kh(f.z,po(f.v))):(f.t="n",f.v=po(f.v),f.w=kh(f.z,f.v))):f.t="s";if(i)s[g]||(s[g]=[]),s[g][m]&&s[g][m].z&&(f.z=s[g][m].z),s[g][m]=f;else{var v=Br({c:m,r:g});s[v]&&s[v].z&&(f.z=s[v].z),s[v]=f}}}return c.s.c<1e7&&(s["!ref"]=ln(c)),s}function HC(t,e){return Gke(null,t,e)}function sRt(t){return t.read_shift(4,"i")}function Pf(t,e){return e||(e=at(4)),e.write_shift(4,t),e}function Bl(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Ro(t,e){var r=!1;return e==null&&(r=!0,e=at(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function aRt(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function oRt(t,e){return e||(e=at(4)),e.write_shift(2,0),e.write_shift(2,0),e}function dJ(t,e){var r=t.l,n=t.read_shift(1),i=Bl(t),s=[],a={t:i,h:i};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(aRt(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}function lRt(t,e){var r=!1;return e==null&&(r=!0,e=at(15+4*t.t.length)),e.write_shift(1,0),Ro(t.t,e),r?e.slice(0,e.l):e}var cRt=dJ;function uRt(t,e){var r=!1;return e==null&&(r=!0,e=at(23+4*t.t.length)),e.write_shift(1,1),Ro(t.t,e),e.write_shift(4,1),oRt({ich:0,ifnt:0},e),r?e.slice(0,e.l):e}function Rh(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function m2(t,e){return e==null&&(e=at(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function g2(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function v2(t,e){return e==null&&(e=at(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var dRt=Bl,Kke=Ro;function hJ(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function GL(t,e){var r=!1;return e==null&&(r=!0,e=at(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var hRt=Bl,oq=hJ,fJ=GL;function pJ(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?qL([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):tb(e,0)>>2;return r?i/100:i}function Yke(t,e){e==null&&(e=at(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-(1<<29)&&t<1<<29?n=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function Xke(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function fRt(t,e){return e||(e=at(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var y2=Xke,WC=fRt;function Fl(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function L_(t,e){return(e||at(8)).write_shift(8,t,"f")}function pRt(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var c=t_[i];c&&(e.rgb=bI(c));break;case 2:e.rgb=bI([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function KL(t,e){if(e||(e=at(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function mRt(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function gRt(t,e){e||(e=at(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}function Zke(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function vRt(t){return Zke(t,1)}function yRt(t){return Zke(t,2)}var mJ=2,Xc=3,wD=11,Dhe=12,YL=19,_D=64,xRt=65,bRt=71,wRt=4108,_Rt=4126,Po=80,Qke=81,SRt=[Po,Qke],lq={1:{n:"CodePage",t:mJ},2:{n:"Category",t:Po},3:{n:"PresentationFormat",t:Po},4:{n:"ByteCount",t:Xc},5:{n:"LineCount",t:Xc},6:{n:"ParagraphCount",t:Xc},7:{n:"SlideCount",t:Xc},8:{n:"NoteCount",t:Xc},9:{n:"HiddenCount",t:Xc},10:{n:"MultimediaClipCount",t:Xc},11:{n:"ScaleCrop",t:wD},12:{n:"HeadingPairs",t:wRt},13:{n:"TitlesOfParts",t:_Rt},14:{n:"Manager",t:Po},15:{n:"Company",t:Po},16:{n:"LinksUpToDate",t:wD},17:{n:"CharacterCount",t:Xc},19:{n:"SharedDoc",t:wD},22:{n:"HyperlinksChanged",t:wD},23:{n:"AppVersion",t:Xc,p:"version"},24:{n:"DigSig",t:xRt},26:{n:"ContentType",t:Po},27:{n:"ContentStatus",t:Po},28:{n:"Language",t:Po},29:{n:"Version",t:Po},255:{},2147483648:{n:"Locale",t:YL},2147483651:{n:"Behavior",t:YL},1919054434:{}},cq={1:{n:"CodePage",t:mJ},2:{n:"Title",t:Po},3:{n:"Subject",t:Po},4:{n:"Author",t:Po},5:{n:"Keywords",t:Po},6:{n:"Comments",t:Po},7:{n:"Template",t:Po},8:{n:"LastAuthor",t:Po},9:{n:"RevNumber",t:Po},10:{n:"EditTime",t:_D},11:{n:"LastPrinted",t:_D},12:{n:"CreatedDate",t:_D},13:{n:"ModifiedDate",t:_D},14:{n:"PageCount",t:Xc},15:{n:"WordCount",t:Xc},16:{n:"CharCount",t:Xc},17:{n:"Thumbnail",t:bRt},18:{n:"Application",t:Po},19:{n:"DocSecurity",t:Xc},255:{},2147483648:{n:"Locale",t:YL},2147483651:{n:"Behavior",t:YL},1919054434:{}},Mhe={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},ARt=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function ERt(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var TRt=ERt([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t_=As(TRt),av={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Jke={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},uq={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},SD={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function gJ(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function CRt(t){var e=gJ();if(!t||!t.match)return e;var r={};if((t.match(Hl)||[]).forEach(function(n){var i=Hr(n);switch(i[0].replace(jOt,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":e[uq[i.ContentType]]!==void 0&&e[uq[i.ContentType]].push(i.PartName);break}}),e.xmlns!==io.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}function e5e(t,e){var r=COt(uq),n=[],i;n[n.length]=Ea,n[n.length]=jt("Types",null,{xmlns:io.CT,"xmlns:xsd":io.xsd,"xmlns:xsi":io.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return jt("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=jt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:SD[l][e.bookType]||SD[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(c){n[n.length]=jt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:SD[l][e.bookType]||SD[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){n[n.length]=jt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var An={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function xI(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function _P(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(Hl)||[]).forEach(function(i){var s=Hr(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:x5(s.Target,e);r[o]=a,n[s.Id]=a}}),r["!id"]=n,r}function gA(t){var e=[Ea,jt("Relationships",null,{xmlns:io.RELS})];return oa(t["!id"]).forEach(function(r){e[e.length]=jt("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function _i(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[An.HLINK,An.XPATH,An.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var kRt="application/vnd.oasis.opendocument.spreadsheet";function PRt(t,e){for(var r=aJ(t),n,i;n=yI.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=Hr(n[0],!1),i.path=="/"&&i.type!==kRt)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}function NRt(t){var e=[Ea];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Fhe(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function IRt(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function ORt(t){var e=[Ea];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(Fhe(t[r][0],t[r][1])),e.push(IRt("",t[r][0]));return e.push(Fhe("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function t5e(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+VL.version+"</meta:generator></office:meta></office:document-meta>"}var xh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],RRt=function(){for(var t=new Array(xh.length),e=0;e<xh.length;++e){var r=xh[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t}();function r5e(t){var e={};t=Li(t);for(var r=0;r<xh.length;++r){var n=xh[r],i=t.match(RRt[r]);i!=null&&i.length>0&&(e[n[1]]=Kn(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Ss(e[n[1]]))}return e}function MV(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Ti(e),n[n.length]=r?jt(t,e,r):el(t,e))}function n5e(t,e){var r=e||{},n=[Ea,jt("cp:coreProperties",null,{"xmlns:cp":io.CORE_PROPS,"xmlns:dc":io.dc,"xmlns:dcterms":io.dcterms,"xmlns:dcmitype":io.dcmitype,"xmlns:xsi":io.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&MV("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:aq(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&MV("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:aq(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=xh.length;++s){var a=xh[s],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&MV(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var r_=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],i5e=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function s5e(t,e,r,n){var i=[];if(typeof t=="string")i=The(t,n);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(u){return{v:u}}));var a=typeof e=="string"?The(e,n).map(function(u){return u.v}):e,o=0,l=0;if(a.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=a.slice(o,o+l);break}o+=l}}function DRt(t,e,r){var n={};return e||(e={}),t=Li(t),r_.forEach(function(i){var s=(t.match(gI(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Kn(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(n[i[1]]=a[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&s5e(n.HeadingPairs,n.TitlesOfParts,e,r),e}function a5e(t){var e=[],r=jt;return t||(t={}),t.Application="SheetJS",e[e.length]=Ea,e[e.length]=jt("Properties",null,{xmlns:io.EXT_PROPS,"xmlns:vt":io.vt}),r_.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Ti(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Ti(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var MRt=/<[^>]+>[^<]*/g;function FRt(t,e){var r={},n="",i=t.match(MRt);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=Hr(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Kn(o.name);break;case"</property>":n=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=Kn(u);break;case"bool":r[n]=bs(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=Ss(u);break;case"cy":case"error":r[n]=Kn(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,c,l)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return r}function o5e(t){var e=[Ea,jt("Properties",null,{xmlns:io.CUST_PROPS,"xmlns:vt":io.vt})];if(!t)return e.join("");var r=1;return oa(t).forEach(function(i){++r,e[e.length]=jt("property",WOt(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Ti(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var dq={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},FV;function jRt(t,e,r){FV||(FV=x7(dq)),e=FV[e]||e,t[e]=r}function LRt(t,e){var r=[];return oa(dq).map(function(n){for(var i=0;i<xh.length;++i)if(xh[i][1]==n)return xh[i];for(i=0;i<r_.length;++i)if(r_[i][1]==n)return r_[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(el(dq[n[1]]||n[1],i))}}),jt("DocumentProperties",r.join(""),{xmlns:ed.o})}function BRt(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&oa(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<xh.length;++a)if(s==xh[a][1])return;for(a=0;a<r_.length;++a)if(s==r_[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(jt(_he(s),o,{"dt:dt":l}))}}),e&&oa(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(jt(_he(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+ed.o+'">'+i.join("")+"</"+n+">"}function vJ(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function $Rt(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=at(8);return a.write_shift(4,n),a.write_shift(4,i),a}function l5e(t,e,r){var n=t.l,i=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return i}function c5e(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function u5e(t,e,r){return e===31?c5e(t):l5e(t,e,r)}function hq(t,e,r){return u5e(t,e,r===!1?0:4)}function VRt(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return u5e(t,e,0)}function URt(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var i=t.l;r[n]=t.read_shift(0,"lpwstr").replace(wc,""),t.l-i&2&&(t.l+=2)}return r}function zRt(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(wc,"");return r}function HRt(t){var e=t.l,r=XL(t,Qke);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=XL(t,Xc);return[r,n]}function WRt(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(HRt(t));return r}function jhe(t,e){for(var r=t.read_shift(4),n={},i=0;i!=r;++i){var s=t.read_shift(4),a=t.read_shift(4);n[s]=t.read_shift(a,e===1200?"utf16le":"utf8").replace(wc,"").replace(y5,"!"),e===1200&&a%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function d5e(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function qRt(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function XL(t,e,r){var n=t.read_shift(2),i,s=r||{};if(t.l+=2,e!==Dhe&&n!==e&&SRt.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===Dhe?n:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return l5e(t,n,4).replace(wc,"");case 31:return c5e(t);case 64:return vJ(t);case 65:return d5e(t);case 71:return qRt(t);case 80:return hq(t,n,!s.raw).replace(wc,"");case 81:return VRt(t,n).replace(wc,"");case 4108:return WRt(t);case 4126:case 4127:return n==4127?URt(t):zRt(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function Lhe(t,e){var r=at(4),n=at(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=at(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=$Rt(e);break;case 31:case 80:for(n=at(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Oo([r,n])}function Bhe(t,e){var r=t.l,n=t.read_shift(4),i=t.read_shift(4),s=[],a=0,o=0,l=-1,c={};for(a=0;a!=i;++a){var u=t.read_shift(4),d=t.read_shift(4);s[a]=[u,d+r]}s.sort(function(w,b){return w[1]-b[1]});var h={};for(a=0;a!=i;++a){if(t.l!==s[a][1]){var f=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:t.l+2===s[a][1]&&(t.l+=2,f=!1);break;case 80:t.l<=s[a][1]&&(t.l=s[a][1],f=!1);break;case 4108:t.l<=s[a][1]&&(t.l=s[a][1],f=!1);break}if((!e||a==0)&&t.l<=s[a][1]&&(f=!1,t.l=s[a][1]),f)throw new Error("Read Error: Expected address "+s[a][1]+" at "+t.l+" :"+a)}if(e){var g=e[s[a][0]];if(h[g.n]=XL(t,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:wf(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(s[a][0]===1){if(o=h.CodePage=XL(t,mJ),wf(o),l!==-1){var m=t.l;t.l=s[l][1],c=jhe(t,o),t.l=m}}else if(s[a][0]===0){if(o===0){l=a,t.l=s[a+1][1];continue}c=jhe(t,o)}else{var v=c[s[a][0]],x;switch(t[t.l]){case 65:t.l+=4,x=d5e(t);break;case 30:t.l+=4,x=hq(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,x=hq(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,x=t.read_shift(4,"i");break;case 19:t.l+=4,x=t.read_shift(4);break;case 5:t.l+=4,x=t.read_shift(8,"f");break;case 11:t.l+=4,x=ha(t,4);break;case 64:t.l+=4,x=Ss(vJ(t));break;default:throw new Error("unparsed value: "+t[t.l])}h[v]=x}}return t.l=r+n,h}var h5e=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function GRt(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function $he(t,e,r){var n=at(8),i=[],s=[],a=8,o=0,l=at(8),c=at(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),a+=8+l.length,!e){c=at(8),c.write_shift(4,0),i.unshift(c);var u=[at(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var d=t[o][0];for(l=at(8+2*(d.length+1)+(d.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Oo(u),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(h5e.indexOf(t[o][0])>-1||i5e.indexOf(t[o][0])>-1)&&t[o][1]!=null){var h=t[o][1],f=0;if(e){f=+e[t[o][0]];var g=r[f];if(g.p=="version"&&typeof h=="string"){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}l=Lhe(g.t,h)}else{var v=GRt(h);v==-1&&(v=31,h=String(h)),l=Lhe(v,h)}s.push(l),c=at(8),c.write_shift(4,e?f:2+o),i.push(c),a+=8+l.length}var x=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,x),x+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),Oo([n].concat(i).concat(s))}function Vhe(t,e,r){var n=t.content;if(!n)return{};Qo(n,0);var i,s,a,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==Nr.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(a=n.read_shift(16),l=n.read_shift(4));var d=Bhe(n,e),h={SystemIdentifier:c};for(var f in d)h[f]=d[f];if(h.FMTID=s,i===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var g;try{g=Bhe(n,null)}catch{}for(f in g)h[f]=g[f];return h.FMTID=[s,a],h}function Uhe(t,e,r,n,i,s){var a=at(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Nr.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=$he(t,r,n);if(o.push(l),i){var c=$he(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(c)}return Oo(o)}function Mv(t,e){return t.read_shift(e),null}function KRt(t,e){e||(e=at(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function YRt(t,e,r){for(var n=[],i=t.l+e;t.l<i;)n.push(r(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return n}function ha(t,e){return t.read_shift(e)===1}function fc(t,e){return e||(e=at(2)),e.write_shift(2,+!!t),e}function Da(t){return t.read_shift(2,"u")}function nh(t,e){return e||(e=at(2)),e.write_shift(2,t),e}function f5e(t,e){return YRt(t,e,Da)}function XRt(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function p5e(t,e,r){return r||(r=at(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function SR(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?t.read_shift(n,i):"";return a}function ZRt(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,i=r&8,s=1+(r&1),a=0,o,l={};i&&(a=t.read_shift(2)),n&&(o=t.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*a),n&&(t.l+=o),l.t=u,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function QRt(t){var e=t.t||"",r=at(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=at(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return Oo(i)}function B_(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function AR(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):B_(t,n,r)}function x2(t,e,r){if(r.biff>5)return AR(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function m5e(t,e,r){return r||(r=at(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function JRt(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function e3t(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var i=t.read_shift((n?e-24:e)>>1,"utf16le").replace(wc,"");return n&&(t.l+=24),i}function t3t(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=t.read_shift(s>>1,"utf16le").replace(wc,"");return r+a}function r3t(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return e3t(t);case"0303000000000000c000000000000046":return t3t(t);default:throw new Error("Unsupported Moniker "+r)}}function AD(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(wc,""):"";return r}function zhe(t,e){e||(e=at(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function n3t(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=t.read_shift(2);t.l+=2;var s,a,o,l,c="",u,d;i&16&&(s=AD(t,r-t.l)),i&128&&(a=AD(t,r-t.l)),(i&257)===257&&(o=AD(t,r-t.l)),(i&257)===1&&(l=r3t(t,r-t.l)),i&8&&(c=AD(t,r-t.l)),i&32&&(u=t.read_shift(16)),i&64&&(d=vJ(t)),t.l=r;var h=a||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),i&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var f={Target:h};return u&&(f.guid=u),d&&(f.time=d),s&&(f.Tooltip=s),f}function i3t(t){var e=at(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)e.write_shift(4,a[r]);if(s==28)n=n.slice(1),zhe(n,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),s&8&&zhe(i>-1?n.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function g5e(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),i=t.read_shift(1);return[e,r,n,i]}function v5e(t,e){var r=g5e(t);return r[3]=0,r}function Bm(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function $_(t,e,r,n){return n||(n=at(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function s3t(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function a3t(t,e,r){return e===0?"":x2(t,e,r)}function o3t(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[i,s,a]}function y5e(t){var e=t.read_shift(2),r=pJ(t);return[e,r]}function l3t(t,e,r){t.l+=4,e-=4;var n=t.l+e,i=SR(t,e,r),s=t.read_shift(2);if(n-=t.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return t.l+=s,i}function _7(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function x5e(t,e){return e||(e=at(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function b5e(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),i=t.read_shift(1);return{s:{c:n,r:e},e:{c:i,r}}}var c3t=b5e;function w5e(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function u3t(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function d3t(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function vl(t){t.l+=2,t.l+=t.read_shift(2)}var h3t={0:vl,4:vl,5:vl,6:vl,7:d3t,8:vl,9:vl,10:vl,11:vl,12:vl,13:u3t,14:vl,15:vl,16:vl,17:vl,18:vl,19:vl,20:vl,21:w5e};function f3t(t,e){for(var r=t.l+e,n=[];t.l<r;){var i=t.read_shift(2);t.l-=2;try{n.push(h3t[i](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function ED(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function yJ(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=at(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function p3t(t,e){return e===0||t.read_shift(2),1200}function m3t(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,i=x2(t,0,r);return t.read_shift(e+n-t.l),i}function g3t(t,e){var r=!e||e.biff==8,n=at(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function v3t(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function y3t(t,e,r){var n=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=SR(t,0,r);return a.length===0&&(a="Sheet1"),{pos:n,hs:i,dt:s,name:a}}function x3t(t,e){var r=!e||e.biff>=8?2:1,n=at(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function b3t(t,e){for(var r=t.l+e,n=t.read_shift(4),i=t.read_shift(4),s=[],a=0;a!=i&&t.l<r;++a)s.push(ZRt(t));return s.Count=n,s.Unique=i,s}function w3t(t,e){var r=at(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=QRt(t[i]);var s=Oo([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function _3t(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function S3t(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function A3t(t){var e=s3t(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function E3t(t){return t.read_shift(2),t.read_shift(4)}function Hhe(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var i=t.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,i]}function T3t(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,r],Dim:[n,i],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:c}}function C3t(){var t=at(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function k3t(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function P3t(t){var e=at(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function N3t(){}function I3t(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=SR(t,0,r),n}function O3t(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=at(i);return s.write_shift(2,(t.sz||12)*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function R3t(t){var e=Bm(t);return e.isst=t.read_shift(4),e}function D3t(t,e,r,n){var i=at(10);return $_(t,e,n,i),i.write_shift(4,r),i}function M3t(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,i=Bm(t);r.biff==2&&t.l++;var s=AR(t,n-t.l,r);return i.val=s,i}function F3t(t,e,r,n,i){var s=!i||i.biff==8,a=at(8+ +s+(1+s)*r.length);return $_(t,e,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function j3t(t,e,r){var n=t.read_shift(2),i=x2(t,0,r);return[n,i]}function L3t(t,e,r,n){var i=r&&r.biff==5;n||(n=at(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}var B3t=x2;function Whe(t,e,r){var n=t.l+e,i=r.biff==8||!r.biff?4:2,s=t.read_shift(i),a=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=n,{s:{r:s,c:o},e:{r:a,c:l}}}function $3t(t,e){var r=e.biff==8||!e.biff?4:2,n=at(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function V3t(t){var e=t.read_shift(2),r=t.read_shift(2),n=y5e(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function U3t(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(y5e(t));if(t.l!==r)throw new Error("MulRK read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:a,rkrec:s}}function z3t(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:a,ixfe:s}}function H3t(t,e,r,n){var i={},s=t.read_shift(4),a=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=ARt[o>>26],n.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function W3t(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=H3t(t,e,n.fStyle,r),n}function qhe(t,e,r,n){var i=r&&r.biff==5;n||(n=at(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function q3t(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function G3t(t){var e=at(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function Ghe(t,e,r){var n=Bm(t);(r.biff==2||e==9)&&++t.l;var i=XRt(t);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function K3t(t,e,r,n,i,s){var a=at(8);return $_(t,e,n,a),p5e(r,s,a),a}function Y3t(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Bm(t),i=Fl(t);return n.val=i,n}function X3t(t,e,r,n){var i=at(14);return $_(t,e,n,i),L_(r,i),i}var Khe=a3t;function Z3t(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=B_(t,s),o=[];n>t.l;)o.push(AR(t));return[s,i,a,o]}function Yhe(t,e,r){var n=t.read_shift(2),i,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=l3t(t,e-2,r)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var Q3t=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Xhe(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(1),a=t.read_shift(1),o=t.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),l=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var c=B_(t,a,r);i&32&&(c=Q3t[c.charCodeAt(0)]);var u=n-t.l;r&&r.biff==2&&--u;var d=n==t.l||o===0||!(u>0)?[]:fLt(t,u,r,o);return{chKey:s,Name:c,itab:l,rgce:d}}function _5e(t,e,r){if(r.biff<8)return J3t(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(o3t(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function J3t(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=SR(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function eDt(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),i=t.read_shift(2),s=B_(t,n,r),a=B_(t,i,r);return[s,a]}function tDt(t,e,r){var n=b5e(t);t.l++;var i=t.read_shift(1);return e-=8,[pLt(t,e,r),i,n]}function Zhe(t,e,r){var n=c3t(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,dLt(t,e,r)]}function rDt(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function nDt(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=x2(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:i},o,a,s]}}function iDt(t,e,r){return nDt(t,e,r)}function sDt(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(_7(t));return r}function aDt(t){var e=at(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)x5e(t[r],e);return e}function oDt(t,e,r){if(r&&r.biff<8)return cDt(t,e,r);var n=w5e(t),i=f3t(t,e-22,n[1]);return{cmo:n,ft:i}}var lDt={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=r,{fmt:n}}};function cDt(t,e,r){t.l+=4;var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var a=[];return a.push((lDt[n]||zl)(t,e,r)),{cmo:[i,n,s],ft:a}}function uDt(t,e,r){var n=t.l,i="";try{t.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:a=JRt(t,6,r);var o=t.read_shift(2);t.read_shift(2),Da(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-n!=t.lens[c])throw new Error("TxO: bad continue record");var u=t[t.l],d=B_(t,t.lens[c+1]-t.lens[c]-1);if(i+=d,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=n+e,{t:i}}catch{return t.l=n+e,{t:i}}}function dDt(t,e){var r=_7(t);t.l+=16;var n=n3t(t,e-24);return[r,n]}function hDt(t){var e=at(24),r=Ls(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return Oo([e,i3t(t[1])])}function fDt(t,e){t.read_shift(2);var r=_7(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(wc,""),[r,n]}function pDt(t){var e=t[1].Tooltip,r=at(10+2*(e.length+1));r.write_shift(2,2048);var n=Ls(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function mDt(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=Mhe[r]||r,r=t.read_shift(2),e[1]=Mhe[r]||r,e}function gDt(t){return t||(t=at(4)),t.write_shift(2,1),t.write_shift(2,1),t}function vDt(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(v5e(t));return r}function yDt(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(v5e(t));return r}function xDt(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function S5e(t,e,r){if(!r.cellStyles)return zl(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function bDt(t,e){var r=at(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function wDt(t,e){var r={};return e<32||(t.l+=16,r.header=Fl(t),r.footer=Fl(t),t.l+=2),r}function _Dt(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var i=t.read_shift(1);return t.l+=3,i&16&&(n.area=!0),n}function SDt(t){for(var e=at(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}var ADt=Bm,EDt=f5e,TDt=AR;function CDt(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,i}function kDt(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Bm(t);++t.l;var i=x2(t,e-7,r);return n.t="str",n.val=i,n}function PDt(t){var e=Bm(t);++t.l;var r=Fl(t);return e.t="n",e.val=r,e}function NDt(t,e,r){var n=at(15);return kR(n,t,e),n.write_shift(8,r,"f"),n}function IDt(t){var e=Bm(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function ODt(t,e,r){var n=at(9);return kR(n,t,e),n.write_shift(2,r),n}function RDt(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function DDt(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function MDt(t,e,r){var n=t.l+e,i=Bm(t),s=t.read_shift(2),a=B_(t,s,r);return t.l=n,i.t="str",i.val=a,i}var FDt=[2,3,48,49,131,139,140,245],fq=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=x7({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Xy(1);switch(l.type){case"base64":u=sd(xd(o));break;case"binary":u=sd(o);break;case"buffer":case"array":u=o;break}Qo(u,0);var d=u.read_shift(1),h=!!(d&136),f=!1,g=!1;switch(d){case 2:break;case 3:break;case 48:f=!0,h=!0;break;case 49:f=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var m=0,v=521;d==2&&(m=u.read_shift(2)),u.l+=3,d!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),d!=2&&(v=u.read_shift(2));var x=u.read_shift(2),w=l.codepage||1252;d!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(w=t[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var b=[],_={},S=Math.min(u.length,d==2?521:v-10-(f?264:0)),T=g?32:11;u.l<S&&u[u.l]!=13;)switch(_={},_.name=Jv.utils.decode(w,u.slice(u.l,u.l+T)).replace(/[\u0000\r\n].*$/g,""),u.l+=T,_.type=String.fromCharCode(u.read_shift(1)),d!=2&&!g&&(_.offset=u.read_shift(4)),_.len=u.read_shift(1),d==2&&(_.offset=u.read_shift(2)),_.dec=u.read_shift(1),_.name.length&&b.push(_),d!=2&&(u.l+=g?13:14),_.type){case"B":(!f||_.len!=8)&&l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var E=0,C=0;for(c[0]=[],C=0;C!=b.length;++C)c[0][C]=b[C].name;for(;m-- >0;){if(u[u.l]===42){u.l+=x;continue}for(++u.l,c[++E]=[],C=0,C=0;C!=b.length;++C){var N=u.slice(u.l,u.l+b[C].len);u.l+=b[C].len,Qo(N,0);var F=Jv.utils.decode(w,N);switch(b[C].type){case"C":F.trim().length&&(c[E][C]=F.replace(/\s+$/,""));break;case"D":F.length===8?c[E][C]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):c[E][C]=F;break;case"F":c[E][C]=parseFloat(F.trim());break;case"+":case"I":c[E][C]=g?N.read_shift(-4,"i")^2147483648:N.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":c[E][C]=!0;break;case"N":case"F":c[E][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));c[E][C]="##MEMO##"+(g?parseInt(F.trim(),10):N.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(c[E][C]=+F||0);break;case"@":c[E][C]=new Date(N.read_shift(-8,"f")-621356832e5);break;case"T":c[E][C]=new Date((N.read_shift(4)-2440588)*864e5+N.read_shift(4));break;case"Y":c[E][C]=N.read_shift(4,"i")/1e4+N.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[E][C]=-N.read_shift(-8,"f");break;case"B":if(f&&b[C].len==8){c[E][C]=N.read_shift(8,"f");break}case"G":case"P":N.l+=b[C].len;break;case"0":if(b[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[C].type)}}}if(d!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=b,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=HC(r(o,c),c);return u["!cols"]=c.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete c.DBF,u}function i(o,l){try{return Sx(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&wf(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=cu(),d=JL(o,{header:1,raw:!0,cellDates:!0}),h=d[0],f=d.slice(1),g=o["!cols"]||[],m=0,v=0,x=0,w=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++x;continue}if(h[m]!=null){if(++x,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(v=0;v<1024;++v)if(h.indexOf(h[m]+"_"+v)==-1){h[m]+="_"+v;break}}}}var b=Qn(o["!ref"]),_=[],S=[],T=[];for(m=0;m<=b.e.c-b.s.c;++m){var E="",C="",N=0,F=[];for(v=0;v<f.length;++v)f[v][m]!=null&&F.push(f[v][m]);if(F.length==0||h[m]==null){_[m]="?";continue}for(v=0;v<F.length;++v){switch(typeof F[v]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=F[v]instanceof Date?"D":"C";break;default:C="C"}N=Math.max(N,String(F[v]).length),E=E&&E!=C?"C":C}N>250&&(N=250),C=((g[m]||{}).DBF||{}).type,C=="C"&&g[m].DBF.len>N&&(N=g[m].DBF.len),E=="B"&&C=="N"&&(E="N",T[m]=g[m].DBF.dec,N=g[m].DBF.len),S[m]=E=="C"||C=="N"?N:s[E]||0,w+=S[m],_[m]=E}var A=u.next(32);for(A.write_shift(4,318902576),A.write_shift(4,f.length),A.write_shift(2,296+32*x),A.write_shift(2,w),m=0;m<4;++m)A.write_shift(4,0);for(A.write_shift(4,0|(+e[hke]||3)<<8),m=0,v=0;m<h.length;++m)if(h[m]!=null){var I=u.next(32),M=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,M,"sbcs"),I.write_shift(1,_[m]=="?"?"C":_[m],"sbcs"),I.write_shift(4,v),I.write_shift(1,S[m]||s[_[m]]||0),I.write_shift(1,T[m]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),v+=S[m]||s[_[m]]||0}var U=u.next(264);for(U.write_shift(4,13),m=0;m<65;++m)U.write_shift(4,0);for(m=0;m<f.length;++m){var Y=u.next(w);for(Y.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(_[v]){case"L":Y.write_shift(1,f[m][v]==null?63:f[m][v]?84:70);break;case"B":Y.write_shift(8,f[m][v]||0,"f");break;case"N":var X="0";for(typeof f[m][v]=="number"&&(X=f[m][v].toFixed(T[v]||0)),x=0;x<S[v]-X.length;++x)Y.write_shift(1,32);Y.write_shift(1,X,"sbcs");break;case"D":f[m][v]?(Y.write_shift(4,("0000"+f[m][v].getFullYear()).slice(-4),"sbcs"),Y.write_shift(2,("00"+(f[m][v].getMonth()+1)).slice(-2),"sbcs"),Y.write_shift(2,("00"+f[m][v].getDate()).slice(-2),"sbcs")):Y.write_shift(8,"00000000","sbcs");break;case"C":var W=String(f[m][v]!=null?f[m][v]:"").slice(0,S[v]);for(Y.write_shift(1,W,"sbcs"),x=0;x<S[v]-W.length;++x)Y.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}}(),A5e=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+oa(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,f){var g=t[f];return typeof g=="number"?lhe(g):g},n=function(h,f,g){var m=f.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:lhe(m)};t["|"]=254;function i(h,f){switch(f.type){case"base64":return s(xd(h),f);case"binary":return s(h,f);case"buffer":return s(_n&&Buffer.isBuffer(h)?h.toString("binary"):_x(h),f);case"array":return s(j_(h),f)}throw new Error("Unrecognized type "+f.type)}function s(h,f){var g=h.split(/[\n\r]+/),m=-1,v=-1,x=0,w=0,b=[],_=[],S=null,T={},E=[],C=[],N=[],F=0,A;for(+f.codepage>=0&&wf(+f.codepage);x!==g.length;++x){F=0;var I=g[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),M=I.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),U=M[0],Y;if(I.length>0)switch(U){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&_.push(I.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,W=!1,G=!1,B=!1,re=-1,ae=-1;for(w=1;w<M.length;++w)switch(M[w].charAt(0)){case"A":break;case"X":v=parseInt(M[w].slice(1))-1,W=!0;break;case"Y":for(m=parseInt(M[w].slice(1))-1,W||(v=0),A=b.length;A<=m;++A)b[A]=[];break;case"K":Y=M[w].slice(1),Y.charAt(0)==='"'?Y=Y.slice(1,Y.length-1):Y==="TRUE"?Y=!0:Y==="FALSE"?Y=!1:isNaN(kf(Y))?isNaN(eC(Y).getDate())||(Y=Ss(Y)):(Y=kf(Y),S!==null&&UC(S)&&(Y=w7(Y))),X=!0;break;case"E":B=!0;var R=vA(M[w].slice(1),{r:m,c:v});b[m][v]=[b[m][v],R];break;case"S":G=!0,b[m][v]=[b[m][v],"S5S"];break;case"G":break;case"R":re=parseInt(M[w].slice(1))-1;break;case"C":ae=parseInt(M[w].slice(1))-1;break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+I)}if(X&&(b[m][v]&&b[m][v].length==2?b[m][v][0]=Y:b[m][v]=Y,S=null),G){if(B)throw new Error("SYLK shared formula cannot have own formula");var j=re>-1&&b[re][ae];if(!j||!j[1])throw new Error("SYLK shared formula cannot find base");b[m][v][1]=U5e(j[1],{r:m-re,c:v-ae})}break;case"F":var V=0;for(w=1;w<M.length;++w)switch(M[w].charAt(0)){case"X":v=parseInt(M[w].slice(1))-1,++V;break;case"Y":for(m=parseInt(M[w].slice(1))-1,A=b.length;A<=m;++A)b[A]=[];break;case"M":F=parseInt(M[w].slice(1))/20;break;case"F":break;case"G":break;case"P":S=_[parseInt(M[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(N=M[w].slice(1).split(" "),A=parseInt(N[0],10);A<=parseInt(N[1],10);++A)F=parseInt(N[2],10),C[A-1]=F===0?{hidden:!0}:{wch:F},Zy(C[A-1]);break;case"C":v=parseInt(M[w].slice(1))-1,C[v]||(C[v]={});break;case"R":m=parseInt(M[w].slice(1))-1,E[m]||(E[m]={}),F>0?(E[m].hpt=F,E[m].hpx=rC(F)):F===0&&(E[m].hidden=!0);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+I)}V<1&&(S=null);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+I)}}return E.length>0&&(T["!rows"]=E),C.length>0&&(T["!cols"]=C),f&&f.sheetRows&&(b=b.slice(0,f.sheetRows)),[b,T]}function a(h,f){var g=i(h,f),m=g[0],v=g[1],x=HC(m,f);return oa(v).forEach(function(w){x[w]=v[w]}),x}function o(h,f){return Sx(a(h,f),f)}function l(h,f,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+AJ(h.f,{r:g,c:m}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(h,f){f.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=wI(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=_I(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function u(h,f){f.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*SI(g.hpx)+";"),v.length>2&&h.push(v+"R"+(m+1))})}function d(h,f){var g=["ID;PWXL;N;E"],m=[],v=Qn(h["!ref"]),x,w=Array.isArray(h),b=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&c(g,h["!cols"]),h["!rows"]&&u(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var _=v.s.r;_<=v.e.r;++_)for(var S=v.s.c;S<=v.e.c;++S){var T=Br({r:_,c:S});x=w?(h[_]||[])[S]:h[T],!(!x||x.v==null&&(!x.f||x.F))&&m.push(l(x,h,_,S))}return g.join(b)+b+m.join(b)+b+"E"+b}return{to_workbook:o,to_sheet:a,from_sheet:d}}(),E5e=function(){function t(s,a){switch(a.type){case"base64":return e(xd(s),a);case"binary":return e(s,a);case"buffer":return e(_n&&Buffer.isBuffer(s)?s.toString("binary"):_x(s),a);case"array":return e(j_(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,c=-1,u=0,d=[];u!==o.length;++u){if(o[u].trim()==="BOT"){d[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),f=h[0],g=h[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+f){case-1:if(m==="BOT"){d[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?d[l][c]=!0:m==="FALSE"?d[l][c]=!1:isNaN(kf(g))?isNaN(eC(g).getDate())?d[l][c]=g:d[l][c]=Ss(g):d[l][c]=kf(g),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),d[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return a&&a.sheetRows&&(d=d.slice(0,a.sheetRows)),d}function r(s,a){return HC(t(s,a),a)}function n(s,a){return Sx(r(s,a),a)}var i=function(){var s=function(l,c,u,d,h){l.push(c),l.push(u+","+d),l.push('"'+h.replace(/"/g,'""')+'"')},a=function(l,c,u,d){l.push(c+","+u),l.push(c==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var c=[],u=Qn(l["!ref"]),d,h=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var f=u.s.r;f<=u.e.r;++f){a(c,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var m=Br({r:f,c:g});if(d=h?(l[f]||[])[g]:l[m],!d){a(c,1,0,"");continue}switch(d.t){case"n":var v=d.w;!v&&d.v!=null&&(v=d.v),v==null?d.f&&!d.F?a(c,1,0,"="+d.f):a(c,1,0,""):a(c,0,v,"V");break;case"b":a(c,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=kh(d.z||Fr[14],po(Ss(d.v)))),a(c,0,d.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var x=`\r
`,w=c.join(x);return w}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),T5e=function(){function t(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(d,h){for(var f=d.split(`
`),g=-1,m=-1,v=0,x=[];v!==f.length;++v){var w=f[v].trim().split(":");if(w[0]==="cell"){var b=Ls(w[1]);if(x.length<=b.r)for(g=x.length;g<=b.r;++g)x[g]||(x[g]=[]);switch(g=b.r,m=b.c,w[2]){case"t":x[g][m]=t(w[3]);break;case"v":x[g][m]=+w[3];break;case"vtf":var _=w[w.length-1];case"vtc":switch(w[3]){case"nl":x[g][m]=!!+w[4];break;default:x[g][m]=+w[4];break}w[2]=="vtf"&&(x[g][m]=[x[g][m],_])}}}return h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),x}function n(d,h){return HC(r(d,h),h)}function i(d,h){return Sx(n(d,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(d){if(!d||!d["!ref"])return"";for(var h=[],f=[],g,m="",v=du(d["!ref"]),x=Array.isArray(d),w=v.s.r;w<=v.e.r;++w)for(var b=v.s.c;b<=v.e.c;++b)if(m=Br({r:w,c:b}),g=x?(d[w]||[])[b]:d[m],!(!g||g.v==null||g.t==="z")){switch(f=["cell",m,"t"],g.t){case"s":case"str":f.push(e(g.v));break;case"n":g.f?(f[2]="vtf",f[3]="n",f[4]=g.v,f[5]=e(g.f)):(f[2]="v",f[3]=g.v);break;case"b":f[2]="vt"+(g.f?"f":"c"),f[3]="nl",f[4]=g.v?"1":"0",f[5]=e(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var _=po(Ss(g.v));f[2]="vtc",f[3]="nd",f[4]=""+_,f[5]=g.w||kh(g.z||Fr[14],_);break;case"e":continue}h.push(f.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(d){return[s,a,o,a,c(d),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:u}}(),tC=function(){function t(u,d,h,f,g){g.raw?d[h][f]=u:u===""||(u==="TRUE"?d[h][f]=!0:u==="FALSE"?d[h][f]=!1:isNaN(kf(u))?isNaN(eC(u).getDate())?d[h][f]=u:d[h][f]=Ss(u):d[h][f]=kf(u))}function e(u,d){var h=d||{},f=[];if(!u||u.length===0)return f;for(var g=u.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,x=0,w=0;w<=m;++w)x=g[w].indexOf(" "),x==-1?x=g[w].length:x++,v=Math.max(v,x);for(w=0;w<=m;++w){f[w]=[];var b=0;for(t(g[w].slice(0,v).trim(),f,w,b,h),b=1;b<=(g[w].length-v)/10+1;++b)t(g[w].slice(v+(b-1)*10,v+b*10).trim(),f,w,b,h)}return h.sheetRows&&(f=f.slice(0,h.sheetRows)),f}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(u){for(var d={},h=!1,f=0,g=0;f<u.length;++f)(g=u.charCodeAt(f))==34?h=!h:!h&&g in r&&(d[g]=(d[g]||0)+1);g=[];for(f in d)Object.prototype.hasOwnProperty.call(d,f)&&g.push([d[f],f]);if(!g.length){d=n;for(f in d)Object.prototype.hasOwnProperty.call(d,f)&&g.push([d[f],f])}return g.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[g.pop()[1]]||44}function s(u,d){var h=d||{},f="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(f=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(f=u.charAt(4),u=u.slice(6)):f=i(u.slice(0,1024)):h&&h.FS?f=h.FS:f=i(u.slice(0,1024));var v=0,x=0,w=0,b=0,_=0,S=f.charCodeAt(0),T=!1,E=0,C=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var N=h.dateNF!=null?_Ot(h.dateNF):null;function F(){var A=u.slice(b,_),I={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)I.t="z";else if(h.raw)I.t="s",I.v=A;else if(A.trim().length===0)I.t="s",I.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(I.t="s",I.v=A.slice(2,-1).replace(/""/g,'"')):ZFt(A)?(I.t="n",I.f=A.slice(1)):(I.t="s",I.v=A);else if(A=="TRUE")I.t="b",I.v=!0;else if(A=="FALSE")I.t="b",I.v=!1;else if(!isNaN(w=kf(A)))I.t="n",h.cellText!==!1&&(I.w=A),I.v=w;else if(!isNaN(eC(A).getDate())||N&&A.match(N)){I.z=h.dateNF||Fr[14];var M=0;N&&A.match(N)&&(A=SOt(A,h.dateNF,A.match(N)||[]),M=1),h.cellDates?(I.t="d",I.v=Ss(A,M)):(I.t="n",I.v=po(Ss(A,M))),h.cellText!==!1&&(I.w=kh(I.z,I.v instanceof Date?po(I.v):I.v)),h.cellNF||delete I.z}else I.t="s",I.v=A;if(I.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][x]=I):g[Br({c:x,r:v})]=I),b=_+1,C=u.charCodeAt(b),m.e.c<x&&(m.e.c=x),m.e.r<v&&(m.e.r=v),E==S)++x;else if(x=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;_<u.length;++_)switch(E=u.charCodeAt(_)){case 34:C===34&&(T=!T);break;case S:case 10:case 13:if(!T&&F())break e;break}return _-b>0&&F(),g["!ref"]=ln(m),g}function a(u,d){return!(d&&d.PRN)||d.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,d):HC(e(u,d),d)}function o(u,d){var h="",f=d.type=="string"?[0,0,0,0]:OJ(u,d);switch(d.type){case"base64":h=xd(u);break;case"binary":h=u;break;case"buffer":d.codepage==65001?h=u.toString("utf8"):d.codepage&&typeof Jv<"u"?h=Jv.utils.decode(d.codepage,u):h=_n&&Buffer.isBuffer(u)?u.toString("binary"):_x(u);break;case"array":h=j_(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+d.type)}return f[0]==239&&f[1]==187&&f[2]==191?h=Li(h.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?h=Li(h):d.type=="binary"&&typeof Jv<"u"&&d.codepage&&(h=Jv.utils.decode(d.codepage,Jv.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?T5e.to_sheet(d.type=="string"?h:Li(h),d):a(h,d)}function l(u,d){return Sx(o(u,d),d)}function c(u){for(var d=[],h=Qn(u["!ref"]),f,g=Array.isArray(u),m=h.s.r;m<=h.e.r;++m){for(var v=[],x=h.s.c;x<=h.e.c;++x){var w=Br({r:m,c:x});if(f=g?(u[m]||[])[x]:u[w],!f||f.v==null){v.push("          ");continue}for(var b=(f.w||(Gg(f),f.w)||"").slice(0,10);b.length<10;)b+=" ";v.push(b+(x===0?" ":""))}d.push(v.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function jDt(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var i=A5e.to_workbook(t,r);return r.WTF=n,i}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return tC.to_workbook(t,e)}}var n_=function(){function t(R,j,V){if(R){Qo(R,R.l||0);for(var K=V.Enum||re;R.l<R.length;){var ne=R.read_shift(2),J=K[ne]||K[65535],me=R.read_shift(2),ce=R.l+me,he=J.f&&J.f(R,me,V);if(R.l=ce,j(he,J,ne))return}}}function e(R,j){switch(j.type){case"base64":return r(sd(xd(R)),j);case"binary":return r(sd(R),j);case"buffer":case"array":return r(R,j)}throw"Unsupported type "+j.type}function r(R,j){if(!R)return R;var V=j||{},K=V.dense?[]:{},ne="Sheet1",J="",me=0,ce={},he=[],_e=[],ee={s:{r:0,c:0},e:{r:0,c:0}},je=V.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)V.Enum=re,t(R,function(Ye,xt,Ke){switch(Ke){case 0:V.vers=Ye,Ye>=4096&&(V.qpro=!0);break;case 6:ee=Ye;break;case 204:Ye&&(J=Ye);break;case 222:J=Ye;break;case 15:case 51:V.qpro||(Ye[1].v=Ye[1].v.slice(1));case 13:case 14:case 16:Ke==14&&(Ye[2]&112)==112&&(Ye[2]&15)>1&&(Ye[2]&15)<15&&(Ye[1].z=V.dateNF||Fr[14],V.cellDates&&(Ye[1].t="d",Ye[1].v=w7(Ye[1].v))),V.qpro&&Ye[3]>me&&(K["!ref"]=ln(ee),ce[ne]=K,he.push(ne),K=V.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},me=Ye[3],ne=J||"Sheet"+(me+1),J="");var be=V.dense?(K[Ye[0].r]||[])[Ye[0].c]:K[Br(Ye[0])];if(be){be.t=Ye[1].t,be.v=Ye[1].v,Ye[1].z!=null&&(be.z=Ye[1].z),Ye[1].f!=null&&(be.f=Ye[1].f);break}V.dense?(K[Ye[0].r]||(K[Ye[0].r]=[]),K[Ye[0].r][Ye[0].c]=Ye[1]):K[Br(Ye[0])]=Ye[1];break}},V);else if(R[2]==26||R[2]==14)V.Enum=ae,R[2]==14&&(V.qpro=!0,R.l=0),t(R,function(Ye,xt,Ke){switch(Ke){case 204:ne=Ye;break;case 22:Ye[1].v=Ye[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ye[3]>me&&(K["!ref"]=ln(ee),ce[ne]=K,he.push(ne),K=V.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},me=Ye[3],ne="Sheet"+(me+1)),je>0&&Ye[0].r>=je)break;V.dense?(K[Ye[0].r]||(K[Ye[0].r]=[]),K[Ye[0].r][Ye[0].c]=Ye[1]):K[Br(Ye[0])]=Ye[1],ee.e.c<Ye[0].c&&(ee.e.c=Ye[0].c),ee.e.r<Ye[0].r&&(ee.e.r=Ye[0].r);break;case 27:Ye[14e3]&&(_e[Ye[14e3][0]]=Ye[14e3][1]);break;case 1537:_e[Ye[0]]=Ye[1],Ye[0]==me&&(ne=Ye[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(K["!ref"]=ln(ee),ce[J||ne]=K,he.push(J||ne),!_e.length)return{SheetNames:he,Sheets:ce};for(var Ue={},pe=[],Me=0;Me<_e.length;++Me)ce[he[Me]]?(pe.push(_e[Me]||he[Me]),Ue[_e[Me]]=ce[_e[Me]]||ce[he[Me]]):(pe.push(_e[Me]),Ue[_e[Me]]={"!ref":"A1"});return{SheetNames:pe,Sheets:Ue}}function n(R,j){var V=j||{};if(+V.codepage>=0&&wf(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var K=cu(),ne=Qn(R["!ref"]),J=Array.isArray(R),me=[];Bt(K,0,s(1030)),Bt(K,6,l(ne));for(var ce=Math.min(ne.e.r,8191),he=ne.s.r;he<=ce;++he)for(var _e=Aa(he),ee=ne.s.c;ee<=ne.e.c;++ee){he===ne.s.r&&(me[ee]=js(ee));var je=me[ee]+_e,Ue=J?(R[he]||[])[ee]:R[je];if(!(!Ue||Ue.t=="z"))if(Ue.t=="n")(Ue.v|0)==Ue.v&&Ue.v>=-32768&&Ue.v<=32767?Bt(K,13,f(he,ee,Ue.v)):Bt(K,14,m(he,ee,Ue.v));else{var pe=Gg(Ue);Bt(K,15,d(he,ee,pe.slice(0,239)))}}return Bt(K,1),K.end()}function i(R,j){var V=j||{};if(+V.codepage>=0&&wf(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var K=cu();Bt(K,0,a(R));for(var ne=0,J=0;ne<R.SheetNames.length;++ne)(R.Sheets[R.SheetNames[ne]]||{})["!ref"]&&Bt(K,27,B(R.SheetNames[ne],J++));var me=0;for(ne=0;ne<R.SheetNames.length;++ne){var ce=R.Sheets[R.SheetNames[ne]];if(!(!ce||!ce["!ref"])){for(var he=Qn(ce["!ref"]),_e=Array.isArray(ce),ee=[],je=Math.min(he.e.r,8191),Ue=he.s.r;Ue<=je;++Ue)for(var pe=Aa(Ue),Me=he.s.c;Me<=he.e.c;++Me){Ue===he.s.r&&(ee[Me]=js(Me));var Ye=ee[Me]+pe,xt=_e?(ce[Ue]||[])[Me]:ce[Ye];if(!(!xt||xt.t=="z"))if(xt.t=="n")Bt(K,23,F(Ue,Me,me,xt.v));else{var Ke=Gg(xt);Bt(K,22,E(Ue,Me,me,Ke.slice(0,239)))}}++me}}return Bt(K,1),K.end()}function s(R){var j=at(2);return j.write_shift(2,R),j}function a(R){var j=at(26);j.write_shift(2,4096),j.write_shift(2,4),j.write_shift(4,0);for(var V=0,K=0,ne=0,J=0;J<R.SheetNames.length;++J){var me=R.SheetNames[J],ce=R.Sheets[me];if(!(!ce||!ce["!ref"])){++ne;var he=du(ce["!ref"]);V<he.e.r&&(V=he.e.r),K<he.e.c&&(K=he.e.c)}}return V>8191&&(V=8191),j.write_shift(2,V),j.write_shift(1,ne),j.write_shift(1,K),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(1,1),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(4,0),j}function o(R,j,V){var K={s:{c:0,r:0},e:{c:0,r:0}};return j==8&&V.qpro?(K.s.c=R.read_shift(1),R.l++,K.s.r=R.read_shift(2),K.e.c=R.read_shift(1),R.l++,K.e.r=R.read_shift(2),K):(K.s.c=R.read_shift(2),K.s.r=R.read_shift(2),j==12&&V.qpro&&(R.l+=2),K.e.c=R.read_shift(2),K.e.r=R.read_shift(2),j==12&&V.qpro&&(R.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function l(R){var j=at(8);return j.write_shift(2,R.s.c),j.write_shift(2,R.s.r),j.write_shift(2,R.e.c),j.write_shift(2,R.e.r),j}function c(R,j,V){var K=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(K[0].c=R.read_shift(1),K[3]=R.read_shift(1),K[0].r=R.read_shift(2),R.l+=2):(K[2]=R.read_shift(1),K[0].c=R.read_shift(2),K[0].r=R.read_shift(2)),K}function u(R,j,V){var K=R.l+j,ne=c(R,j,V);if(ne[1].t="s",V.vers==20768){R.l++;var J=R.read_shift(1);return ne[1].v=R.read_shift(J,"utf8"),ne}return V.qpro&&R.l++,ne[1].v=R.read_shift(K-R.l,"cstr"),ne}function d(R,j,V){var K=at(7+V.length);K.write_shift(1,255),K.write_shift(2,j),K.write_shift(2,R),K.write_shift(1,39);for(var ne=0;ne<K.length;++ne){var J=V.charCodeAt(ne);K.write_shift(1,J>=128?95:J)}return K.write_shift(1,0),K}function h(R,j,V){var K=c(R,j,V);return K[1].v=R.read_shift(2,"i"),K}function f(R,j,V){var K=at(7);return K.write_shift(1,255),K.write_shift(2,j),K.write_shift(2,R),K.write_shift(2,V,"i"),K}function g(R,j,V){var K=c(R,j,V);return K[1].v=R.read_shift(8,"f"),K}function m(R,j,V){var K=at(13);return K.write_shift(1,255),K.write_shift(2,j),K.write_shift(2,R),K.write_shift(8,V,"f"),K}function v(R,j,V){var K=R.l+j,ne=c(R,j,V);if(ne[1].v=R.read_shift(8,"f"),V.qpro)R.l=K;else{var J=R.read_shift(2);_(R.slice(R.l,R.l+J),ne),R.l+=J}return ne}function x(R,j,V){var K=j&32768;return j&=-32769,j=(K?R:0)+(j>=8192?j-16384:j),(K?"":"$")+(V?js(j):Aa(j))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(R,j){Qo(R,0);for(var V=[],K=0,ne="",J="",me="",ce="";R.l<R.length;){var he=R[R.l++];switch(he){case 0:V.push(R.read_shift(8,"f"));break;case 1:J=x(j[0].c,R.read_shift(2),!0),ne=x(j[0].r,R.read_shift(2),!1),V.push(J+ne);break;case 2:{var _e=x(j[0].c,R.read_shift(2),!0),ee=x(j[0].r,R.read_shift(2),!1);J=x(j[0].c,R.read_shift(2),!0),ne=x(j[0].r,R.read_shift(2),!1),V.push(_e+ee+":"+J+ne)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(R.read_shift(2));break;case 6:{for(var je="";he=R[R.l++];)je+=String.fromCharCode(he);V.push('"'+je.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:ce=V.pop(),me=V.pop(),V.push(["AND","OR"][he-20]+"("+me+","+ce+")");break;default:if(he<32&&b[he])ce=V.pop(),me=V.pop(),V.push(me+b[he]+ce);else if(w[he]){if(K=w[he][1],K==69&&(K=R[R.l++]),K>V.length){console.error("WK1 bad formula parse 0x"+he.toString(16)+":|"+V.join("|")+"|");return}var Ue=V.slice(-K);V.length-=K,V.push(w[he][0]+"("+Ue.join(",")+")")}else return he<=7?console.error("WK1 invalid opcode "+he.toString(16)):he<=24?console.error("WK1 unsupported op "+he.toString(16)):he<=30?console.error("WK1 invalid opcode "+he.toString(16)):he<=115?console.error("WK1 unsupported function opcode "+he.toString(16)):console.error("WK1 unrecognized opcode "+he.toString(16))}}V.length==1?j[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function S(R){var j=[{c:0,r:0},{t:"n",v:0},0];return j[0].r=R.read_shift(2),j[3]=R[R.l++],j[0].c=R[R.l++],j}function T(R,j){var V=S(R);return V[1].t="s",V[1].v=R.read_shift(j-4,"cstr"),V}function E(R,j,V,K){var ne=at(6+K.length);ne.write_shift(2,R),ne.write_shift(1,V),ne.write_shift(1,j),ne.write_shift(1,39);for(var J=0;J<K.length;++J){var me=K.charCodeAt(J);ne.write_shift(1,me>=128?95:me)}return ne.write_shift(1,0),ne}function C(R,j){var V=S(R);V[1].v=R.read_shift(2);var K=V[1].v>>1;if(V[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return V[1].v=K,V}function N(R,j){var V=S(R),K=R.read_shift(4),ne=R.read_shift(4),J=R.read_shift(2);if(J==65535)return K===0&&ne===3221225472?(V[1].t="e",V[1].v=15):K===0&&ne===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var me=J&32768;return J=(J&32767)-16446,V[1].v=(1-me*2)*(ne*Math.pow(2,J+32)+K*Math.pow(2,J)),V}function F(R,j,V,K){var ne=at(14);if(ne.write_shift(2,R),ne.write_shift(1,V),ne.write_shift(1,j),K==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var J=0,me=0,ce=0,he=0;return K<0&&(J=1,K=-K),me=Math.log2(K)|0,K/=Math.pow(2,me-31),he=K>>>0,he&2147483648||(K/=2,++me,he=K>>>0),K-=he,he|=2147483648,he>>>=0,K*=Math.pow(2,32),ce=K>>>0,ne.write_shift(4,ce),ne.write_shift(4,he),me+=16383+(J?32768:0),ne.write_shift(2,me),ne}function A(R,j){var V=N(R);return R.l+=j-14,V}function I(R,j){var V=S(R),K=R.read_shift(4);return V[1].v=K>>6,V}function M(R,j){var V=S(R),K=R.read_shift(8,"f");return V[1].v=K,V}function U(R,j){var V=M(R);return R.l+=j-10,V}function Y(R,j){return R[R.l+j-1]==0?R.read_shift(j,"cstr"):""}function X(R,j){var V=R[R.l++];V>j-1&&(V=j-1);for(var K="";K.length<V;)K+=String.fromCharCode(R[R.l++]);return K}function W(R,j,V){if(!(!V.qpro||j<21)){var K=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var ne=R.read_shift(j-21,"cstr");return[K,ne]}}function G(R,j){for(var V={},K=R.l+j;R.l<K;){var ne=R.read_shift(2);if(ne==14e3){for(V[ne]=[0,""],V[ne][0]=R.read_shift(2);R[R.l];)V[ne][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return V}function B(R,j){var V=at(5+R.length);V.write_shift(2,14e3),V.write_shift(2,j);for(var K=0;K<R.length;++K){var ne=R.charCodeAt(K);V[V.l++]=ne>127?95:ne}return V[V.l++]=0,V}var re={0:{n:"BOF",f:Da},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Y},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},ae={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:T},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:G},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:U},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Y},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}();function LDt(t){var e={},r=t.match(Hl),n=0,i=!1;if(r)for(;n!=r.length;++n){var s=Hr(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=YQ[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var BDt=function(){var t=gI("t"),e=gI("rPr");function r(s){var a=s.match(t);if(!a)return{t:"s",v:""};var o={t:"s",v:Kn(a[1])},l=s.match(e);return l&&(o.s=LDt(l[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(n,"").split(i).map(r).filter(function(o){return o.v})}}(),$Dt=function(){var e=/(\r\n|\n)/g;function r(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),i}function n(i){var s=[[],i.v,[]];return i.v?(i.s&&r(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),VDt=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,UDt=/<(?:\w+:)?r>/,zDt=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function xJ(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Kn(Li(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Li(t),r&&(n.h=sJ(n.t))):t.match(UDt)&&(n.r=Li(t),n.t=Kn(Li((t.replace(zDt,"").match(VDt)||[]).join("").replace(Hl,""))),r&&(n.h=$Dt(BDt(n.r)))),n):{t:""}}var HDt=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,WDt=/<(?:\w+:)?(?:si|sstItem)>/g,qDt=/<\/(?:\w+:)?(?:si|sstItem)>/;function GDt(t,e){var r=[],n="";if(!t)return r;var i=t.match(HDt);if(i){n=i[2].replace(WDt,"").split(qDt);for(var s=0;s!=n.length;++s){var a=xJ(n[s].trim(),e);a!=null&&(r[r.length]=a)}i=Hr(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}var KDt=/^\s|\s$|[\t\n\r]/;function C5e(t,e){if(!e.bookSST)return"";var r=[Ea];r[r.length]=jt("sst",null,{xmlns:p2[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(KDt)&&(s+=' xml:space="preserve"'),s+=">"+Ti(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function YDt(t){return[t.read_shift(4),t.read_shift(4)]}function XDt(t,e){var r=[],n=!1;return sv(t,function(s,a,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function ZDt(t,e){return e||(e=at(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var QDt=lRt;function JDt(t){var e=cu();bt(e,159,ZDt(t));for(var r=0;r<t.length;++r)bt(e,19,QDt(t[r]));return bt(e,160),e.end()}function k5e(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function _g(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function eMt(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=_g(t,4),e.U=_g(t,4),e.W=_g(t,4),e}function tMt(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=s,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function rMt(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(tMt(t));return e}function nMt(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function iMt(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=_g(t,4),e.U=_g(t,4),e.W=_g(t,4),e}function sMt(t){var e=iMt(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function P5e(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function N5e(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function aMt(t){var e=_g(t);switch(e.Minor){case 2:return[e.Minor,oMt(t)];case 3:return[e.Minor,lMt()];case 4:return[e.Minor,cMt(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function oMt(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=P5e(t,r),i=N5e(t,t.length-t.l);return{t:"Std",h:n,v:i}}function lMt(){throw new Error("File is password-protected: ECMA-376 Extensible")}function cMt(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(Hl,function(s){var a=Hr(s);switch(Lm(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=a[o]});break;case"<dataIntegrity":n.encryptedHmacKey=a.encryptedHmacKey,n.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(a);break;default:throw a[0]}}),n}function uMt(t,e){var r={},n=r.EncryptionVersionInfo=_g(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,r.EncryptionHeader=P5e(t,i),e-=i,r.EncryptionVerifier=N5e(t,e),r}function dMt(t){var e={},r=e.EncryptionVersionInfo=_g(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function bJ(t){var e=0,r,n=k5e(t),i=n.length+1,s,a,o,l,c;for(r=Xy(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],o=e&16384?1:0,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var I5e=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(a){return(a/2|a*128)&255},i=function(a,o){return n(a^o)},s=function(a){for(var o=e[a.length-1],l=104,c=a.length-1;c>=0;--c)for(var u=a[c],d=0;d!=7;++d)u&64&&(o^=r[l]),u*=2,--l;return o};return function(a){for(var o=k5e(a),l=s(o),c=o.length,u=Xy(16),d=0;d!=16;++d)u[d]=0;var h,f,g;for((c&1)===1&&(h=l>>8,u[c]=i(t[0],h),--c,h=l&255,f=o[o.length-1],u[c]=i(f,h));c>0;)--c,h=l>>8,u[c]=i(o[c],h),--c,h=l&255,u[c]=i(o[c],h);for(c=15,g=15-o.length;g>0;)h=l>>8,u[c]=i(t[g],h),--c,--g,h=l&255,u[c]=i(o[c],h),--c,--g;return u}}(),hMt=function(t,e,r,n,i){i||(i=e),n||(n=I5e(t));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=n[r],a=(a>>5|a<<3)&255,i[s]=a,++r;return[i,r,n]},fMt=function(t){var e=0,r=I5e(t);return function(n){var i=hMt("",n,e,r);return e=i[1],i[0]}};function pMt(t,e,r,n){var i={key:Da(t),verificationBytes:Da(t)};return r.password&&(i.verifier=bJ(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=fMt(r.password)),i}function mMt(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=dMt(t):n.Data=uMt(t,e),n}function gMt(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?mMt(t,e-2,n):pMt(t,r.biff>=8?e:e-2,r,n),n}var O5e=function(){function t(i,s){switch(s.type){case"base64":return e(xd(i),s);case"binary":return e(i,s);case"buffer":return e(_n&&Buffer.isBuffer(i)?i.toString("binary"):_x(i),s);case"array":return e(j_(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,d){Array.isArray(o)&&(o[d]=[]);for(var h=/\\\w+\b/g,f=0,g,m=-1;g=h.exec(u);){switch(g[0]){case"\\cell":var v=u.slice(f,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var x={v,t:"s"};Array.isArray(o)?o[d][m]=x:o[Br({r:d,c:m})]=x}break}f=h.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=ln(c),o}function r(i,s){return Sx(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=Qn(i["!ref"]),o,l=Array.isArray(i),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var d=Br({r:c,c:u});o=l?(i[c]||[])[u]:i[d],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Gg(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function vMt(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function bI(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function yMt(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(e,r,n),s=Math.min(e,r,n),a=i-s;if(a===0)return[0,0,e];var o=0,l=0,c=i+s;switch(l=a/(c>1?2-c:c),i){case e:o=((r-n)/a+6)%6;break;case r:o=(n-e)/a+2;break;case n:o=(e-r)/a+4;break}return[o/6,l,c/2]}function xMt(t){var e=t[0],r=t[1],n=t[2],i=r*2*(n<.5?n:1-n),s=n-i/2,a=[s,s,s],o=6*e,l;if(r!==0)switch(o|0){case 0:case 6:l=i*o,a[0]+=i,a[1]+=l;break;case 1:l=i*(2-o),a[0]+=l,a[1]+=i;break;case 2:l=i*(o-2),a[1]+=i,a[2]+=l;break;case 3:l=i*(4-o),a[1]+=l,a[2]+=i;break;case 4:l=i*(o-4),a[2]+=i,a[0]+=l;break;case 5:l=i*(6-o),a[2]+=l,a[0]+=i;break}for(var c=0;c!=3;++c)a[c]=Math.round(a[c]*255);return a}function ZL(t,e){if(e===0)return t;var r=yMt(vMt(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),bI(xMt(r))}var R5e=6,bMt=15,wMt=1,Ml=R5e;function wI(t){return Math.floor((t+Math.round(128/Ml)/256)*Ml)}function _I(t){return Math.floor((t-5)/Ml*100+.5)/100}function QL(t){return Math.round((t*Ml+5)/Ml*256)/256}function jV(t){return QL(_I(wI(t)))}function wJ(t){var e=Math.abs(t-jV(t)),r=Ml;if(e>.005)for(Ml=wMt;Ml<bMt;++Ml)Math.abs(t-jV(t))<=e&&(e=Math.abs(t-jV(t)),r=Ml);Ml=r}function Zy(t){t.width?(t.wpx=wI(t.width),t.wch=_I(t.wpx),t.MDW=Ml):t.wpx?(t.wch=_I(t.wpx),t.width=QL(t.wch),t.MDW=Ml):typeof t.wch=="number"&&(t.width=QL(t.wch),t.wpx=wI(t.width),t.MDW=Ml),t.customWidth&&delete t.customWidth}var _Mt=96,D5e=_Mt;function SI(t){return t*96/D5e}function rC(t){return t*D5e/96}var SMt={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function AMt(t,e,r,n){e.Borders=[];var i={},s=!1;(t[0].match(Hl)||[]).forEach(function(a){var o=Hr(a);switch(Lm(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=bs(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=bs(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function EMt(t,e,r,n){e.Fills=[];var i={},s=!1;(t[0].match(Hl)||[]).forEach(function(a){var o=Hr(a);switch(Lm(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function TMt(t,e,r,n){e.Fonts=[];var i={},s=!1;(t[0].match(Hl)||[]).forEach(function(a){var o=Hr(a);switch(Lm(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Li(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?bs(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?bs(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?bs(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?bs(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?bs(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?bs(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?bs(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=YQ[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=bs(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=t_[i.color.index];i.color.index==81&&(l=t_[1]),l||(l=t_[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=ZL(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function CMt(t,e,r){e.NumberFmt=[];for(var n=oa(Fr),i=0;i<n.length;++i)e.NumberFmt[n[i]]=Fr[n[i]];var s=t[0].match(Hl);if(s)for(i=0;i<s.length;++i){var a=Hr(s[i]);switch(Lm(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Kn(Li(a.formatCode)),l=parseInt(a.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}wg(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function kMt(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=jt("numFmt",null,{numFmtId:n,formatCode:Ti(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=jt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var TD=["numFmtId","fillId","fontId","borderId","xfId"],CD=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function PMt(t,e,r){e.CellXf=[];var n,i=!1;(t[0].match(Hl)||[]).forEach(function(s){var a=Hr(s),o=0;switch(Lm(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=a,delete n[0],o=0;o<TD.length;++o)n[TD[o]]&&(n[TD[o]]=parseInt(n[TD[o]],10));for(o=0;o<CD.length;++o)n[CD[o]]&&(n[CD[o]]=bs(n[CD[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=bs(a.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function NMt(t){var e=[];return e[e.length]=jt("cellXfs",null),t.forEach(function(r){e[e.length]=jt("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=jt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var IMt=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var d;return(d=o.match(e))&&CMt(d,u,c),(d=o.match(i))&&TMt(d,u,l,c),(d=o.match(n))&&EMt(d,u,l,c),(d=o.match(s))&&AMt(d,u,l,c),(d=o.match(r))&&PMt(d,u,c),u}}();function M5e(t,e){var r=[Ea,jt("styleSheet",null,{xmlns:p2[0],"xmlns:vt":io.vt})],n;return t.SSF&&(n=kMt(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=NMt(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function OMt(t,e){var r=t.read_shift(2),n=Bl(t);return[r,n]}function RMt(t,e,r){r||(r=at(6+4*e.length)),r.write_shift(2,t),Ro(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function DMt(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=mRt(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=pRt(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Bl(t),n}function MMt(t,e){e||(e=at(25+4*32)),e.write_shift(2,t.sz*20),gRt(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),KL(t.color,e);var n=0;return t.scheme=="major"&&(n=1),t.scheme=="minor"&&(n=2),e.write_shift(1,n),Ro(t.name,e),e.length>e.l?e.slice(0,e.l):e}var FMt=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],LV,jMt=zl;function Qhe(t,e){e||(e=at(4*3+8*7+16*1)),LV||(LV=x7(FMt));var r=LV[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(KL({auto:1},e),KL({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function LMt(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function F5e(t,e,r){r||(r=at(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Hk(t,e){return e||(e=at(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var BMt=zl;function $Mt(t,e){return e||(e=at(51)),e.write_shift(1,0),Hk(null,e),Hk(null,e),Hk(null,e),Hk(null,e),Hk(null,e),e.length>e.l?e.slice(0,e.l):e}function VMt(t,e){return e||(e=at(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,+t.builtinId),e.write_shift(1,0),GL(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function UMt(t,e,r){var n=at(2052);return n.write_shift(4,t),GL(e,n),GL(r,n),n.length>n.l?n.slice(0,n.l):n}function zMt(t,e,r){var n={};n.NumberFmt=[];for(var i in Fr)n.NumberFmt[i]=Fr[i];n.CellXf=[],n.Fonts=[];var s=[],a=!1;return sv(t,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],wg(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=ZL(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(u),a=!0;break;case 38:s.pop(),a=!1;break;default:if(c.T>0)s.push(u);else if(c.T<0)s.pop();else if(!a||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function HMt(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(bt(t,615,Pf(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&bt(t,44,RMt(i,e[i]))}),bt(t,616))}}function WMt(t){var e=1;bt(t,611,Pf(e)),bt(t,43,MMt({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),bt(t,612)}function qMt(t){var e=2;bt(t,603,Pf(e)),bt(t,45,Qhe({patternType:"none"})),bt(t,45,Qhe({patternType:"gray125"})),bt(t,604)}function GMt(t){var e=1;bt(t,613,Pf(e)),bt(t,46,$Mt()),bt(t,614)}function KMt(t){var e=1;bt(t,626,Pf(e)),bt(t,47,F5e({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),bt(t,627)}function YMt(t,e){bt(t,617,Pf(e.length)),e.forEach(function(r){bt(t,47,F5e(r,0))}),bt(t,618)}function XMt(t){var e=1;bt(t,619,Pf(e)),bt(t,48,VMt({xfId:0,builtinId:0,name:"Normal"})),bt(t,620)}function ZMt(t){var e=0;bt(t,505,Pf(e)),bt(t,506)}function QMt(t){var e=0;bt(t,508,UMt(e,"TableStyleMedium9","PivotStyleMedium4")),bt(t,509)}function JMt(t,e){var r=cu();return bt(r,278),HMt(r,t.SSF),WMt(r),qMt(r),GMt(r),KMt(r),YMt(r,e.cellXfs),XMt(r),ZMt(r),QMt(r),bt(r,279),r.end()}var eFt=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function tFt(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(Hl)||[]).forEach(function(i){var s=Hr(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[eFt.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function rFt(){}function nFt(){}var iFt=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,sFt=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,aFt=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function oFt(t,e,r){e.themeElements={};var n;[["clrScheme",iFt,tFt],["fontScheme",sFt,rFt],["fmtScheme",aFt,nFt]].forEach(function(i){if(!(n=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,r)})}var lFt=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function j5e(t,e){(!t||t.length===0)&&(t=_J());var r,n={};if(!(r=t.match(lFt)))throw new Error("themeElements not found in theme");return oFt(r[0],n,e),n.raw=t,n}function _J(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Ea];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function cFt(t,e,r){var n=t.l+e,i=t.read_shift(4);if(i!==124226){if(!r.cellStyles){t.l=n;return}var s=t.slice(t.l);t.l=n;var a;try{a=Pke(s,{type:"array"})}catch{return}var o=ad(a,"theme/theme/theme1.xml",!0);if(o)return j5e(o,r)}}function uFt(t){return t.read_shift(4)}function dFt(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=hFt(t,4);break;case 2:e.xclrValue=g5e(t);break;case 3:e.xclrValue=uFt(t);break;case 4:t.l+=4;break}return t.l+=8,e}function hFt(t,e){return zl(t,e)}function fFt(t,e){return zl(t,e)}function pFt(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=dFt(t);break;case 6:n[1]=fFt(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function mFt(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(pFt(t,r-t.l));return{ixfe:n,ext:s}}function gFt(t,e){e.forEach(function(r){switch(r[0]){}})}function vFt(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Bl(t)}}function yFt(t){var e=at(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Ro(t.name,e),e.slice(0,e.l)}function xFt(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function bFt(t){var e=at(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function wFt(t,e){var r=at(8+2*e.length);return r.write_shift(4,t),Ro(e,r),r.slice(0,r.l)}function _Ft(t){return t.l+=4,t.read_shift(4)!=0}function SFt(t,e){var r=at(8);return r.write_shift(4,t),r.write_shift(4,1),r}function AFt(t,e,r){var n={Types:[],Cell:[],Value:[]},i=r||{},s=[],a=!1,o=2;return sv(t,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(d){o==1?n.Cell.push({type:n.Types[d[0]-1].name,index:d[1]}):o==0&&n.Value.push({type:n.Types[d[0]-1].name,index:d[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(u),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!c.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function EFt(){var t=cu();return bt(t,332),bt(t,334,Pf(1)),bt(t,335,yFt({name:"XLDAPR",version:12e4,flags:3496657072})),bt(t,336),bt(t,339,wFt(1,"XLDAPR")),bt(t,52),bt(t,35,Pf(514)),bt(t,4096,Pf(0)),bt(t,4097,nh(1)),bt(t,36),bt(t,53),bt(t,340),bt(t,337,SFt(1)),bt(t,51,bFt([[1,0]])),bt(t,338),bt(t,333),t.end()}function TFt(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var i=!1,s=2,a;return t.replace(Hl,function(o){var l=Hr(o);switch(Lm(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(a=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):s==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function L5e(){var t=[Ea];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function CFt(t){var e=[];if(!t)return e;var r=1;return(t.match(Hl)||[]).forEach(function(n){var i=Hr(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,e.push(i);break}}),e}function kFt(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Br(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function PFt(t,e,r){var n=[];return sv(t,function(s,a,o){switch(o){case 63:n.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function NFt(t,e,r,n){if(!t)return t;var i=n||{},s=!1;sv(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function IFt(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}var RS=1024;function B5e(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[jt("xml",null,{"xmlns:v":ed.v,"xmlns:o":ed.o,"xmlns:x":ed.x,"xmlns:mv":ed.mv}).replace(/\/>/,">"),jt("o:shapelayout",jt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),jt("v:shapetype",[jt("v:stroke",null,{joinstyle:"miter"}),jt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];RS<t*1e3;)RS+=1e3;return e.forEach(function(s){var a=Ls(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?jt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=jt("v:fill",l,o),u={on:"t",obscured:"t"};++RS,i=i.concat(["<v:shape"+vI({id:"_x0000_s"+RS,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,jt("v:shadow",null,u),jt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",el("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),el("x:AutoFill","False"),el("x:Row",String(a.r)),el("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function Jhe(t,e,r,n){var i=Array.isArray(t),s;e.forEach(function(a){var o=Ls(a.ref);if(i?(t[o.r]||(t[o.r]=[]),s=t[o.r][o.c]):s=t[a.ref],!s){s={t:"z"},i?t[o.r][o.c]=s:t[a.ref]=s;var l=Qn(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=ln(l);c!==t["!ref"]&&(t["!ref"]=c)}s.c||(s.c=[]);var u={a:a.author,t:a.t,r:a.r,T:r};a.h&&(u.h=a.h);for(var d=s.c.length-1;d>=0;--d){if(!r&&s.c[d].T)return;r&&!s.c[d].T&&s.c.splice(d,1)}if(r&&n){for(d=0;d<n.length;++d)if(u.a==n[d].id){u.a=n[d].name||u.a;break}}s.c.push(u)})}function OFt(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Hr(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Ls(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var d=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!d&&!!d[1]&&xJ(d[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function $5e(t){var e=[Ea,jt("comments",null,{xmlns:p2[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=Ti(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(Ti(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(el("t",Ti(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(el("t",Ti(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function RFt(t,e){var r=[],n=!1,i={},s=0;return t.replace(Hl,function(o,l){var c=Hr(o);switch(Lm(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":i.t=t.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function DFt(t,e,r){var n=[Ea,jt("ThreadedComments",null,{xmlns:io.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push(jt("threadedComment",el("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function MFt(t,e){var r=[],n=!1;return t.replace(Hl,function(s){var a=Hr(s);switch(Lm(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),r}function FFt(t){var e=[Ea,jt("personList",null,{xmlns:io.TCMNT,"xmlns:x":p2[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(jt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function jFt(t){var e={};e.iauthor=t.read_shift(4);var r=y2(t);return e.rfx=r.s,e.ref=Br(r.s),t.l+=16,e}function LFt(t,e){return e==null&&(e=at(36)),e.write_shift(4,t[1].iauthor),WC(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var BFt=Bl;function $Ft(t){return Ro(t.slice(0,54))}function VFt(t,e){var r=[],n=[],i={},s=!1;return sv(t,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function UFt(t){var e=cu(),r=[];return bt(e,628),bt(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),bt(e,632,$Ft(i.a)))})}),bt(e,631),bt(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:Ls(n[0]),e:Ls(n[0])};bt(e,635,LFt([s,i])),i.t&&i.t.length>0&&bt(e,637,uRt(i)),bt(e,636),delete i.iauthor})}),bt(e,634),bt(e,629),e.end()}var zFt="application/vnd.ms-office.vbaProject";function HFt(t){var e=Nr.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Nr.utils.cfb_add(e,i,t.FileIndex[n].content)}}),Nr.write(e)}function WFt(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Nr.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var V5e=["xlsb","xlsm","xlam","biff8","xla"];function qFt(){return{"!type":"dialog"}}function GFt(){return{"!type":"dialog"}}function KFt(){return{"!type":"macro"}}function YFt(){return{"!type":"macro"}}var vA=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,i+(o?"":"$")+js(u)+(l?"":"$")+Aa(c)}return function(i,s){return e=s,i.replace(t,r)}}(),SJ=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,AJ=function(){return function(e,r){return e.replace(SJ,function(n,i,s,a,o,l){var c=uJ(a)-(s?0:r.c),u=cJ(l)-(o?0:r.r),d=u==0?"":o?u+1:"["+u+"]",h=c==0?"":s?c+1:"["+c+"]";return i+"R"+d+"C"+h})}}();function U5e(t,e){return t.replace(SJ,function(r,n,i,s,a,o){return n+(i=="$"?i+s:js(uJ(s)+e.c))+(a=="$"?a+o:Aa(cJ(o)+e.r))})}function XFt(t,e,r){var n=du(e),i=n.s,s=Ls(r),a={r:s.r-i.r,c:s.c-i.c};return U5e(t,a)}function ZFt(t){return t.length!=1}function efe(t){return t.replace(/_xlfn\./g,"")}function Ta(t){t.l+=1}function Qy(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function z5e(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return H5e(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),a=Qy(t),o=Qy(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function H5e(t){var e=Qy(t),r=Qy(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function QFt(t,e,r){if(r.biff<8)return H5e(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=Qy(t),a=Qy(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function W5e(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return JFt(t);var n=t.read_shift(r&&r.biff==12?4:2),i=Qy(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function JFt(t){var e=Qy(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function ejt(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function tjt(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return rjt(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function rjt(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function njt(t,e,r){var n=(t[t.l++]&96)>>5,i=z5e(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function ijt(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=z5e(t,s,r);return[n,i,a]}function sjt(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function ajt(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function ojt(t,e,r){var n=(t[t.l++]&96)>>5,i=QFt(t,e-1,r);return[n,i]}function ljt(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function tfe(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function cjt(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function ujt(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function djt(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function hjt(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function fjt(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function q5e(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function pjt(t){return t.read_shift(2),q5e(t)}function mjt(t){return t.read_shift(2),q5e(t)}function gjt(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=W5e(t,0,r);return[n,i]}function vjt(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=tjt(t,0,r);return[n,i]}function yjt(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=W5e(t,0,r);return[n,i,s]}function xjt(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[_Lt[i],Y5e[i],n]}function bjt(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:wjt(t);return[i,(s[0]===0?Y5e:wLt)[s[1]]]}function wjt(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function _jt(t,e,r){t.l+=r&&r.biff==2?3:4}function Sjt(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function Ajt(t){return t.l++,av[t.read_shift(1)]}function Ejt(t){return t.l++,t.read_shift(2)}function Tjt(t){return t.l++,t.read_shift(1)!==0}function Cjt(t){return t.l++,Fl(t)}function kjt(t,e,r){return t.l++,SR(t,e-1,r)}function Pjt(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ha(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=av[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Fl(t);break;case 2:r[1]=x2(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Njt(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?y2:_7)(t));return i}function Ijt(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=Pjt(t,r.biff);return a}function Ojt(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function Rjt(t,e,r){if(r.biff==5)return Djt(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function Djt(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function Mjt(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function Fjt(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function jjt(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function Ljt(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var Bjt=zl,$jt=zl,Vjt=zl;function ER(t,e,r){return t.l+=2,[ejt(t)]}function EJ(t){return t.l+=6,[]}var Ujt=ER,zjt=EJ,Hjt=EJ,Wjt=ER;function G5e(t){return t.l+=2,[Da(t),t.read_shift(2)&1]}var qjt=ER,Gjt=G5e,Kjt=EJ,Yjt=ER,Xjt=ER,Zjt=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Qjt(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=Zjt[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:i,C:s}}function Jjt(t){return t.l+=2,[t.read_shift(4)]}function eLt(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function tLt(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function rLt(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function nLt(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function iLt(t){return t.l+=4,[0,0]}var rfe={1:{n:"PtgExp",f:Sjt},2:{n:"PtgTbl",f:Vjt},3:{n:"PtgAdd",f:Ta},4:{n:"PtgSub",f:Ta},5:{n:"PtgMul",f:Ta},6:{n:"PtgDiv",f:Ta},7:{n:"PtgPower",f:Ta},8:{n:"PtgConcat",f:Ta},9:{n:"PtgLt",f:Ta},10:{n:"PtgLe",f:Ta},11:{n:"PtgEq",f:Ta},12:{n:"PtgGe",f:Ta},13:{n:"PtgGt",f:Ta},14:{n:"PtgNe",f:Ta},15:{n:"PtgIsect",f:Ta},16:{n:"PtgUnion",f:Ta},17:{n:"PtgRange",f:Ta},18:{n:"PtgUplus",f:Ta},19:{n:"PtgUminus",f:Ta},20:{n:"PtgPercent",f:Ta},21:{n:"PtgParen",f:Ta},22:{n:"PtgMissArg",f:Ta},23:{n:"PtgStr",f:kjt},26:{n:"PtgSheet",f:eLt},27:{n:"PtgEndSheet",f:tLt},28:{n:"PtgErr",f:Ajt},29:{n:"PtgBool",f:Tjt},30:{n:"PtgInt",f:Ejt},31:{n:"PtgNum",f:Cjt},32:{n:"PtgArray",f:ljt},33:{n:"PtgFunc",f:xjt},34:{n:"PtgFuncVar",f:bjt},35:{n:"PtgName",f:Ojt},36:{n:"PtgRef",f:gjt},37:{n:"PtgArea",f:njt},38:{n:"PtgMemArea",f:Mjt},39:{n:"PtgMemErr",f:Bjt},40:{n:"PtgMemNoMem",f:$jt},41:{n:"PtgMemFunc",f:Fjt},42:{n:"PtgRefErr",f:jjt},43:{n:"PtgAreaErr",f:sjt},44:{n:"PtgRefN",f:vjt},45:{n:"PtgAreaN",f:ojt},46:{n:"PtgMemAreaN",f:rLt},47:{n:"PtgMemNoMemN",f:nLt},57:{n:"PtgNameX",f:Rjt},58:{n:"PtgRef3d",f:yjt},59:{n:"PtgArea3d",f:ijt},60:{n:"PtgRefErr3d",f:Ljt},61:{n:"PtgAreaErr3d",f:ajt},255:{}},sLt={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},aLt={1:{n:"PtgElfLel",f:G5e},2:{n:"PtgElfRw",f:Yjt},3:{n:"PtgElfCol",f:Ujt},6:{n:"PtgElfRwV",f:Xjt},7:{n:"PtgElfColV",f:Wjt},10:{n:"PtgElfRadical",f:qjt},11:{n:"PtgElfRadicalS",f:Kjt},13:{n:"PtgElfColS",f:zjt},15:{n:"PtgElfColSV",f:Hjt},16:{n:"PtgElfRadicalLel",f:Gjt},25:{n:"PtgList",f:Qjt},29:{n:"PtgSxName",f:Jjt},255:{}},oLt={0:{n:"PtgAttrNoop",f:iLt},1:{n:"PtgAttrSemi",f:fjt},2:{n:"PtgAttrIf",f:djt},4:{n:"PtgAttrChoose",f:cjt},8:{n:"PtgAttrGoto",f:ujt},16:{n:"PtgAttrSum",f:_jt},32:{n:"PtgAttrBaxcel",f:tfe},33:{n:"PtgAttrBaxcel",f:tfe},64:{n:"PtgAttrSpace",f:pjt},65:{n:"PtgAttrSpaceSemi",f:mjt},128:{n:"PtgAttrIfError",f:hjt},255:{}};function TR(t,e,r,n){if(n.biff<8)return zl(t,e);for(var i=t.l+e,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=Ijt(t,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=Njt(t,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=i-t.l,e!==0&&s.push(zl(t,e)),s}function CR(t,e,r){for(var n=t.l+e,i,s,a=[];n!=t.l;)e=n-t.l,s=t[t.l],i=rfe[s]||rfe[sLt[s]],(s===24||s===25)&&(i=(s===24?aLt:oLt)[t[t.l+1]]),!i||!i.f?zl(t,e):a.push([i.n,i.f(t,e,r)]);return a}function lLt(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var cLt={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function uLt(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function K5e(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function nfe(t,e,r){var n=K5e(t,e,r);return n=="#REF"?n:uLt(n,r)}function Nl(t,e,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,d=0,h=0,f,g="";if(!t[0]||!t[0][0])return"";for(var m=-1,v="",x=0,w=t[0].length;x<w;++x){var b=t[0][x];switch(b[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(t[0][m][1][0]){case 0:v=na(" ",t[0][m][1][1]);break;case 1:v=na("\r",t[0][m][1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][m][1][0])}c=c+v,m=-1}o.push(c+cLt[b[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=bP(b[1][1],a,i),o.push(wP(u,s));break;case"PtgRefN":u=r?bP(b[1][1],r,i):b[1][1],o.push(wP(u,s));break;case"PtgRef3d":d=b[1][1],u=bP(b[1][2],a,i),g=nfe(n,d,i),o.push(g+"!"+wP(u,s));break;case"PtgFunc":case"PtgFuncVar":var _=b[1][0],S=b[1][1];_||(_=0),_&=127;var T=_==0?[]:o.slice(-_);o.length-=_,S==="User"&&(S=T.shift()),o.push(S+"("+T.join(",")+")");break;case"PtgBool":o.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(b[1]);break;case"PtgNum":o.push(String(b[1]));break;case"PtgStr":o.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(b[1]);break;case"PtgAreaN":f=Ohe(b[1][1],r?{s:r}:a,i),o.push(DV(f,i));break;case"PtgArea":f=Ohe(b[1][1],a,i),o.push(DV(f,i));break;case"PtgArea3d":d=b[1][1],f=b[1][2],g=nfe(n,d,i),o.push(g+"!"+DV(f,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var E=(n.names||[])[h-1]||(n[0]||[])[h],C=E?E.Name:"SH33TJSNAME"+String(h);C&&C.slice(0,6)=="_xlfn."&&!i.xlfn&&(C=C.slice(6)),o.push(C);break;case"PtgNameX":var N=b[1][1];h=b[1][2];var F;if(i.biff<=5)N<0&&(N=-N),n[N]&&(F=n[N][h]);else{var A="";if(((n[N]||[])[0]||[])[0]==14849||(((n[N]||[])[0]||[])[0]==1025?n[N][h]&&n[N][h].itab>0&&(A=n.SheetNames[n[N][h].itab-1]+"!"):A=n.SheetNames[h-1]+"!"),n[N]&&n[N][h])A+=n[N][h].Name;else if(n[0]&&n[0][h])A+=n[0][h].Name;else{var I=(K5e(n,N,i)||"").split(";;");I[h-1]?A=I[h-1]:A+="SH33TJSERRX"}o.push(A);break}F||(F={Name:"SH33TJSERRY"}),o.push(F.Name);break;case"PtgParen":var M="(",U=")";if(m>=0){switch(v="",t[0][m][1][0]){case 2:M=na(" ",t[0][m][1][1])+M;break;case 3:M=na("\r",t[0][m][1][1])+M;break;case 4:U=na(" ",t[0][m][1][1])+U;break;case 5:U=na("\r",t[0][m][1][1])+U;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][m][1][0])}m=-1}o.push(M+o.pop()+U);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:b[1][1],r:b[1][0]};var Y={c:r.c,r:r.r};if(n.sharedf[Br(u)]){var X=n.sharedf[Br(u)];o.push(Nl(X,a,Y,n,i))}else{var W=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Nl(c[1],a,Y,n,i)),W=!0;break}W||o.push(b[1])}break;case"PtgArray":o.push("{"+lLt(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var G=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&m>=0&&G.indexOf(t[0][x][0])==-1){b=t[0][m];var B=!0;switch(b[1][0]){case 4:B=!1;case 0:v=na(" ",b[1][1]);break;case 5:B=!1;case 1:v=na("\r",b[1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}o.push((B?v:"")+o.pop()+(B?"":v)),m=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function dLt(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],zl(t,e-2)];var o=CR(t,a,r);return e!==a+i&&(s=TR(t,e-a-i,o,r)),t.l=n,[o,s]}function hLt(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],zl(t,e-2)];var o=CR(t,a,r);return e!==a+i&&(s=TR(t,e-a-i,o,r)),t.l=n,[o,s]}function fLt(t,e,r,n){var i=t.l+e,s=CR(t,n,r),a;return i!==t.l&&(a=TR(t,i-t.l,s,r)),[s,a]}function pLt(t,e,r){var n=t.l+e,i,s=t.read_shift(2),a=CR(t,s,r);return s==65535?[[],zl(t,e-2)]:(e!==s+2&&(i=TR(t,n-s-2,a,r)),[a,i])}function mLt(t){var e;if(ug(t,t.l+6)!==65535)return[Fl(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function gLt(t){if(t==null){var e=at(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return L_(t);return L_(0)}function BV(t,e,r){var n=t.l+e,i=Bm(t);r.biff==2&&++t.l;var s=mLt(t),a=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var o=hLt(t,n-t.l,r);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function vLt(t,e,r,n,i){var s=$_(e,r,i),a=gLt(t.v),o=at(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=at(t.bf.length),u=0;u<t.bf.length;++u)c[u]=t.bf[u];var d=Oo([s,a,o,c]);return d}function S7(t,e,r){var n=t.read_shift(4),i=CR(t,n,r),s=t.read_shift(4),a=s>0?TR(t,s,i,r):null;return[i,a]}var yLt=S7,A7=S7,xLt=S7,bLt=S7,wLt={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Y5e={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},_Lt={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ife(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function SLt(t){var e="of:="+t.replace(SJ,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function $V(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function ALt(t){return t.replace(/\./,"!")}var SP={},yA={},AP=typeof Map<"u";function TJ(t,e,r){var n=0,i=t.length;if(r){if(AP?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=AP?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(AP?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function E7(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Ml=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=_I(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=QL(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function i_(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Ax(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){wg(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function X5e(t,e,r,n,i,s){try{n.cellNF&&(t.z=Fr[e])}catch(o){if(n.WTF)throw o}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Ss(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(Fr[e]==null&&wg(wOt[e]||"General",e),t.t==="e")t.w=t.w||av[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=mI(t.v);else if(t.t==="d"){var a=po(t.v);(a|0)===a?t.w=a.toString(10):t.w=mI(a)}else{if(t.v===void 0)return"";t.w=F_(t.v,yA)}else t.t==="d"?t.w=kh(e,po(t.v),yA):t.w=kh(e,t.v,yA)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{t.s=s.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=ZL(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=ZL(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function ELt(t,e,r){if(t&&t["!ref"]){var n=Qn(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function TLt(t,e){var r=Qn(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=ln(r))}var CLt=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,kLt=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,PLt=/<(?:\w:)?hyperlink [^>]*>/mg,NLt=/"(\w*:\w*)"/,ILt=/<(?:\w:)?col\b[^>]*[\/]?>/g,OLt=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,RLt=/<(?:\w:)?pageMargins[^>]*\/>/g,Z5e=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,DLt=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,MLt=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function FLt(t,e,r,n,i,s,a){if(!t)return t;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",d=t.match(kLt);d?(c=t.slice(0,d.index),u=t.slice(d.index+d[0].length)):c=u=t;var h=c.match(Z5e);h?CJ(h[0],o,i,r):(h=c.match(DLt))&&LLt(h[0],h[1]||"",o,i,r);var f=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(f>0){var g=c.slice(f,f+50).match(NLt);g&&TLt(o,g[1])}var m=c.match(MLt);m&&m[1]&&ZLt(m[1],i);var v=[];if(e.cellStyles){var x=c.match(ILt);x&&qLt(v,x)}d&&e6t(d[1],o,e,l,s,a);var w=u.match(OLt);w&&(o["!autofilter"]=KLt(w[0]));var b=[],_=u.match(CLt);if(_)for(f=0;f!=_.length;++f)b[f]=Qn(_[f].slice(_[f].indexOf('"')+1));var S=u.match(PLt);S&&zLt(o,S,n);var T=u.match(RLt);if(T&&(o["!margins"]=HLt(Hr(T[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=ln(l)),e.sheetRows>0&&o["!ref"]){var E=Qn(o["!ref"]);e.sheetRows<=+E.e.r&&(E.e.r=e.sheetRows-1,E.e.r>l.e.r&&(E.e.r=l.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>l.e.c&&(E.e.c=l.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),o["!fullref"]=o["!ref"],o["!ref"]=ln(E))}return v.length>0&&(o["!cols"]=v),b.length>0&&(o["!merges"]=b),o}function jLt(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+ln(t[r])+'"/>';return e+"</mergeCells>"}function CJ(t,e,r,n){var i=Hr(t);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=Kn(Li(i.codeName)))}function LLt(t,e,r,n,i){CJ(t.slice(0,t.indexOf(">")),r,n,i)}function BLt(t,e,r,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,a.codeName=lm(Ti(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+jt("outlinePr",null,c)}!s&&!o||(i[i.length]=jt("sheetPr",o,a))}var $Lt=["objects","scenarios","selectLockedCells","selectUnlockedCells"],VLt=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function ULt(t){var e={sheet:1};return $Lt.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),VLt.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=bJ(t.password).toString(16).toUpperCase()),jt("sheetProtection",null,e)}function zLt(t,e,r){for(var n=Array.isArray(t),i=0;i!=e.length;++i){var s=Hr(Li(e[i]),!0);if(!s.ref)return;var a=((r||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+Kn(s.location))):(s.Target="#"+Kn(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Qn(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Br({c,r:l});n?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=s):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=s)}}}function HLt(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function WLt(t){return i_(t),jt("pageMargins",null,t)}function qLt(t,e){for(var r=!1,n=0;n!=e.length;++n){var i=Hr(e[n],!0);i.hidden&&(i.hidden=bs(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,wJ(i.width)),Zy(i);s<=a;)t[s++]=As(i)}}function GLt(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=jt("col",null,E7(i,n)));return r[r.length]="</cols>",r.join("")}function KLt(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function YLt(t,e,r,n){var i=typeof t.ref=="string"?t.ref:ln(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=du(i);a.s.r==a.e.r&&(a.e.r=du(e["!ref"]).e.r,i=ln(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),jt("autoFilter",null,{ref:i})}var XLt=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function ZLt(t,e){e.Views||(e.Views=[{}]),(t.match(XLt)||[]).forEach(function(r,n){var i=Hr(r);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),bs(i.rightToLeft)&&(e.Views[n].RTL=!0)})}function QLt(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),jt("sheetViews",jt("sheetView",null,i),{})}function JLt(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=av[t.v];break;case"d":n&&n.cellDates?i=Ss(t.v,-1).toISOString():(t=As(t),t.t="n",i=""+(t.v=po(Ss(t.v)))),typeof t.z>"u"&&(t.z=Fr[14]);break;default:i=t.v;break}var o=el("v",Ti(i)),l={r:e},c=Ax(n.cellXfs,t,n);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=el("v",""+TJ(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=jt("f",Ti(t.f),u)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),jt("c",o,l)}var e6t=function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=gI("v"),a=gI("f");return function(l,c,u,d,h,f){for(var g=0,m="",v=[],x=[],w=0,b=0,_=0,S="",T,E,C=0,N=0,F,A,I=0,M=0,U=Array.isArray(f.CellXf),Y,X=[],W=[],G=Array.isArray(c),B=[],re={},ae=!1,R=!!u.sheetStubs,j=l.split(e),V=0,K=j.length;V!=K;++V){m=j[V].trim();var ne=m.length;if(ne!==0){var J=0;e:for(g=0;g<ne;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(E=Hr(m.slice(J,g),!0),C=E.r!=null?parseInt(E.r,10):C+1,N=-1,u.sheetRows&&u.sheetRows<C)continue;re={},ae=!1,E.ht&&(ae=!0,re.hpt=parseFloat(E.ht),re.hpx=rC(re.hpt)),E.hidden=="1"&&(ae=!0,re.hidden=!0),E.outlineLevel!=null&&(ae=!0,re.level=+E.outlineLevel),ae&&(B[C-1]=re)}break;case"<":J=g;break}if(J>=g)break;if(E=Hr(m.slice(J,g),!0),C=E.r!=null?parseInt(E.r,10):C+1,N=-1,!(u.sheetRows&&u.sheetRows<C)){d.s.r>C-1&&(d.s.r=C-1),d.e.r<C-1&&(d.e.r=C-1),u&&u.cellStyles&&(re={},ae=!1,E.ht&&(ae=!0,re.hpt=parseFloat(E.ht),re.hpx=rC(re.hpt)),E.hidden=="1"&&(ae=!0,re.hidden=!0),E.outlineLevel!=null&&(ae=!0,re.level=+E.outlineLevel),ae&&(B[C-1]=re)),v=m.slice(g).split(t);for(var me=0;me!=v.length&&v[me].trim().charAt(0)=="<";++me);for(v=v.slice(me),g=0;g!=v.length;++g)if(m=v[g].trim(),m.length!==0){if(x=m.match(r),w=g,b=0,_=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,x!=null&&x.length===2){for(w=0,S=x[1],b=0;b!=S.length&&!((_=S.charCodeAt(b)-64)<1||_>26);++b)w=26*w+_;--w,N=w}else++N;for(b=0;b!=m.length&&m.charCodeAt(b)!==62;++b);if(++b,E=Hr(m.slice(0,b),!0),E.r||(E.r=Br({r:C-1,c:N})),S=m.slice(b),T={t:""},(x=S.match(s))!=null&&x[1]!==""&&(T.v=Kn(x[1])),u.cellFormula){if((x=S.match(a))!=null&&x[1]!==""){if(T.f=Kn(Li(x[1])).replace(/\r\n/g,`
`),u.xlfn||(T.f=efe(T.f)),x[0].indexOf('t="array"')>-1)T.F=(S.match(i)||[])[1],T.F.indexOf(":")>-1&&X.push([Qn(T.F),T.F]);else if(x[0].indexOf('t="shared"')>-1){A=Hr(x[0]);var ce=Kn(Li(x[1]));u.xlfn||(ce=efe(ce)),W[parseInt(A.si,10)]=[A,ce,E.r]}}else(x=S.match(/<f[^>]*\/>/))&&(A=Hr(x[0]),W[A.si]&&(T.f=XFt(W[A.si][1],W[A.si][2],E.r)));var he=Ls(E.r);for(b=0;b<X.length;++b)he.r>=X[b][0].s.r&&he.r<=X[b][0].e.r&&he.c>=X[b][0].s.c&&he.c<=X[b][0].e.c&&(T.F=X[b][1])}if(E.t==null&&T.v===void 0)if(T.f||T.F)T.v=0,T.t="n";else if(R)T.t="z";else continue;else T.t=E.t||"n";switch(d.s.c>N&&(d.s.c=N),d.e.c<N&&(d.e.c=N),T.t){case"n":if(T.v==""||T.v==null){if(!R)continue;T.t="z"}else T.v=parseFloat(T.v);break;case"s":if(typeof T.v>"u"){if(!R)continue;T.t="z"}else F=SP[parseInt(T.v,10)],T.v=F.t,T.r=F.r,u.cellHTML&&(T.h=F.h);break;case"str":T.t="s",T.v=T.v!=null?Li(T.v):"",u.cellHTML&&(T.h=sJ(T.v));break;case"inlineStr":x=S.match(n),T.t="s",x!=null&&(F=xJ(x[1]))?(T.v=F.t,u.cellHTML&&(T.h=F.h)):T.v="";break;case"b":T.v=bs(T.v);break;case"d":u.cellDates?T.v=Ss(T.v,1):(T.v=po(Ss(T.v,1)),T.t="n");break;case"e":(!u||u.cellText!==!1)&&(T.w=T.v),T.v=Jke[T.v];break}if(I=M=0,Y=null,U&&E.s!==void 0&&(Y=f.CellXf[E.s],Y!=null&&(Y.numFmtId!=null&&(I=Y.numFmtId),u.cellStyles&&Y.fillId!=null&&(M=Y.fillId))),X5e(T,I,M,u,h,f),u.cellDates&&U&&T.t=="n"&&UC(Fr[I])&&(T.t="d",T.v=w7(T.v)),E.cm&&u.xlmeta){var _e=(u.xlmeta.Cell||[])[+E.cm-1];_e&&_e.type=="XLDAPR"&&(T.D=!0)}if(G){var ee=Ls(E.r);c[ee.r]||(c[ee.r]=[]),c[ee.r][ee.c]=T}else c[E.r]=T}}}}B.length>0&&(c["!rows"]=B)}}();function t6t(t,e,r,n){var i=[],s=[],a=Qn(t["!ref"]),o="",l,c="",u=[],d=0,h=0,f=t["!rows"],g=Array.isArray(t),m={r:c},v,x=-1;for(h=a.s.c;h<=a.e.c;++h)u[h]=js(h);for(d=a.s.r;d<=a.e.r;++d){for(s=[],c=Aa(d),h=a.s.c;h<=a.e.c;++h){l=u[h]+c;var w=g?(t[d]||[])[h]:t[l];w!==void 0&&(o=JLt(w,l,t,e))!=null&&s.push(o)}(s.length>0||f&&f[d])&&(m={r:c},f&&f[d]&&(v=f[d],v.hidden&&(m.hidden=1),x=-1,v.hpx?x=SI(v.hpx):v.hpt&&(x=v.hpt),x>-1&&(m.ht=x,m.customHeight=1),v.level&&(m.outlineLevel=v.level)),i[i.length]=jt("row",s.join(""),m))}if(f)for(;d<f.length;++d)f&&f[d]&&(m={r:d+1},v=f[d],v.hidden&&(m.hidden=1),x=-1,v.hpx?x=SI(v.hpx):v.hpt&&(x=v.hpt),x>-1&&(m.ht=x,m.customHeight=1),v.level&&(m.outlineLevel=v.level),i[i.length]=jt("row","",m));return i.join("")}function Q5e(t,e,r,n){var i=[Ea,jt("worksheet",null,{xmlns:p2[0],"xmlns:r":io.r})],s=r.SheetNames[t],a=0,o="",l=r.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",u=Qn(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=ln(u)}n||(n={}),l["!comments"]=[];var d=[];BLt(l,r,t,e,i),i[i.length]=jt("dimension",null,{ref:c}),i[i.length]=QLt(l,e,t,r),e.sheetFormat&&(i[i.length]=jt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=GLt(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=t6t(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=ULt(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=YLt(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=jLt(l["!merges"]));var h=-1,f,g=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(m){m[1].Target&&(f={ref:m[0]},m[1].Target.charAt(0)!="#"&&(g=_i(n,-1,Ti(m[1].Target).replace(/#.*$/,""),An.HLINK),f["r:id"]="rId"+g),(h=m[1].Target.indexOf("#"))>-1&&(f.location=Ti(m[1].Target.slice(h+1))),m[1].Tooltip&&(f.tooltip=Ti(m[1].Tooltip)),i[i.length]=jt("hyperlink",null,f))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=WLt(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=el("ignoredErrors",jt("ignoredError",null,{numberStoredAsText:1,sqref:c}))),d.length>0&&(g=_i(n,-1,"../drawings/drawing"+(t+1)+".xml",An.DRAW),i[i.length]=jt("drawing",null,{"r:id":"rId"+g}),l["!drawing"]=d),l["!comments"].length>0&&(g=_i(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",An.VML),i[i.length]=jt("legacyDrawing",null,{"r:id":"rId"+g}),l["!legacy"]=g),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function r6t(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function n6t(t,e,r){var n=at(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=SI(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var d=-1,h=-1,f=u<<10;f<u+1<<10;++f){c.c=f;var g=Array.isArray(r)?(r[c.r]||[])[c.c]:r[Br(c)];g&&(d<0&&(d=f),h=f)}d<0||(++o,n.write_shift(4,d),n.write_shift(4,h))}var m=n.l;return n.l=l,n.write_shift(4,o),n.l=m,n.length>n.l?n.slice(0,n.l):n}function i6t(t,e,r,n){var i=n6t(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&bt(t,0,i)}var s6t=y2,a6t=WC;function o6t(){}function l6t(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=dRt(t),r}function c6t(t,e,r){r==null&&(r=at(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return KL({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Kke(t,r),r.slice(0,r.l)}function u6t(t){var e=Rh(t);return[e]}function d6t(t,e,r){return r==null&&(r=at(8)),m2(e,r)}function h6t(t){var e=g2(t);return[e]}function f6t(t,e,r){return r==null&&(r=at(4)),v2(e,r)}function p6t(t){var e=Rh(t),r=t.read_shift(1);return[e,r,"b"]}function m6t(t,e,r){return r==null&&(r=at(9)),m2(e,r),r.write_shift(1,t.v?1:0),r}function g6t(t){var e=g2(t),r=t.read_shift(1);return[e,r,"b"]}function v6t(t,e,r){return r==null&&(r=at(5)),v2(e,r),r.write_shift(1,t.v?1:0),r}function y6t(t){var e=Rh(t),r=t.read_shift(1);return[e,r,"e"]}function x6t(t,e,r){return r==null&&(r=at(9)),m2(e,r),r.write_shift(1,t.v),r}function b6t(t){var e=g2(t),r=t.read_shift(1);return[e,r,"e"]}function w6t(t,e,r){return r==null&&(r=at(8)),v2(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function _6t(t){var e=Rh(t),r=t.read_shift(4);return[e,r,"s"]}function S6t(t,e,r){return r==null&&(r=at(12)),m2(e,r),r.write_shift(4,e.v),r}function A6t(t){var e=g2(t),r=t.read_shift(4);return[e,r,"s"]}function E6t(t,e,r){return r==null&&(r=at(8)),v2(e,r),r.write_shift(4,e.v),r}function T6t(t){var e=Rh(t),r=Fl(t);return[e,r,"n"]}function C6t(t,e,r){return r==null&&(r=at(16)),m2(e,r),L_(t.v,r),r}function J5e(t){var e=g2(t),r=Fl(t);return[e,r,"n"]}function k6t(t,e,r){return r==null&&(r=at(12)),v2(e,r),L_(t.v,r),r}function P6t(t){var e=Rh(t),r=pJ(t);return[e,r,"n"]}function N6t(t,e,r){return r==null&&(r=at(12)),m2(e,r),Yke(t.v,r),r}function I6t(t){var e=g2(t),r=pJ(t);return[e,r,"n"]}function O6t(t,e,r){return r==null&&(r=at(8)),v2(e,r),Yke(t.v,r),r}function R6t(t){var e=Rh(t),r=dJ(t);return[e,r,"is"]}function D6t(t){var e=Rh(t),r=Bl(t);return[e,r,"str"]}function M6t(t,e,r){return r==null&&(r=at(12+4*t.v.length)),m2(e,r),Ro(t.v,r),r.length>r.l?r.slice(0,r.l):r}function F6t(t){var e=g2(t),r=Bl(t);return[e,r,"str"]}function j6t(t,e,r){return r==null&&(r=at(8+4*t.v.length)),v2(e,r),Ro(t.v,r),r.length>r.l?r.slice(0,r.l):r}function L6t(t,e,r){var n=t.l+e,i=Rh(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(r.cellFormula){t.l+=2;var o=A7(t,n-t.l,r);a[3]=Nl(o,null,i,r.supbooks,r)}else t.l=n;return a}function B6t(t,e,r){var n=t.l+e,i=Rh(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(r.cellFormula){t.l+=2;var o=A7(t,n-t.l,r);a[3]=Nl(o,null,i,r.supbooks,r)}else t.l=n;return a}function $6t(t,e,r){var n=t.l+e,i=Rh(t);i.r=r["!row"];var s=Fl(t),a=[i,s,"n"];if(r.cellFormula){t.l+=2;var o=A7(t,n-t.l,r);a[3]=Nl(o,null,i,r.supbooks,r)}else t.l=n;return a}function V6t(t,e,r){var n=t.l+e,i=Rh(t);i.r=r["!row"];var s=Bl(t),a=[i,s,"str"];if(r.cellFormula){t.l+=2;var o=A7(t,n-t.l,r);a[3]=Nl(o,null,i,r.supbooks,r)}else t.l=n;return a}var U6t=y2,z6t=WC;function H6t(t,e){return e==null&&(e=at(4)),e.write_shift(4,t),e}function W6t(t,e){var r=t.l+e,n=y2(t),i=hJ(t),s=Bl(t),a=Bl(t),o=Bl(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function q6t(t,e){var r=at(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));WC({s:Ls(t[0]),e:Ls(t[0])},r),fJ("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return Ro(i||"",r),Ro(t[1].Tooltip||"",r),Ro("",r),r.slice(0,r.l)}function G6t(){}function K6t(t,e,r){var n=t.l+e,i=Xke(t),s=t.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var o=yLt(t,n-t.l,r);a[1]=o}else t.l=n;return a}function Y6t(t,e,r){var n=t.l+e,i=y2(t),s=[i];if(r.cellFormula){var a=bLt(t,n-t.l,r);s[1]=a,t.l=n}else t.l=n;return s}function X6t(t,e,r){r==null&&(r=at(18));var n=E7(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var ePe=["left","right","top","bottom","header","footer"];function Z6t(t){var e={};return ePe.forEach(function(r){e[r]=Fl(t)}),e}function Q6t(t,e){return e==null&&(e=at(6*8)),i_(t),ePe.forEach(function(r){L_(t[r],e)}),e}function J6t(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function e8t(t,e,r){r==null&&(r=at(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function t8t(t){var e=at(24);return e.write_shift(4,4),e.write_shift(4,1),WC(t,e),e}function r8t(t,e){return e==null&&(e=at(16*4+2)),e.write_shift(2,t.password?bJ(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function n8t(){}function i8t(){}function s8t(t,e,r,n,i,s,a){if(!t)return t;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=!1,h=!1,f,g,m,v,x,w,b,_,S,T=[];o.biff=12,o["!row"]=0;var E=0,C=!1,N=[],F={},A=o.supbooks||i.supbooks||[[]];if(A.sharedf=F,A.arrayf=N,A.SheetNames=i.SheetNames||i.Sheets.map(function(G){return G.name}),!o.supbooks&&(o.supbooks=A,i.Names))for(var I=0;I<i.Names.length;++I)A[0][I+1]=i.Names[I];var M=[],U=[],Y=!1;AI[16]={n:"BrtShortReal",f:J5e};var X;if(sv(t,function(B,re,ae){if(!h)switch(ae){case 148:c=B;break;case 0:f=B,o.sheetRows&&o.sheetRows<=f.r&&(h=!0),_=Aa(v=f.r),o["!row"]=f.r,(B.hidden||B.hpt||B.level!=null)&&(B.hpt&&(B.hpx=rC(B.hpt)),U[B.r]=B);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:B[2]},B[2]){case"n":g.v=B[1];break;case"s":b=SP[B[1]],g.v=b.t,g.r=b.r;break;case"b":g.v=!!B[1];break;case"e":g.v=B[1],o.cellText!==!1&&(g.w=av[g.v]);break;case"str":g.t="s",g.v=B[1];break;case"is":g.t="s",g.v=B[1].t;break}if((m=a.CellXf[B[0].iStyleRef])&&X5e(g,m.numFmtId,null,o,s,a),x=B[0].c==-1?x+1:B[0].c,o.dense?(l[v]||(l[v]=[]),l[v][x]=g):l[js(x)+_]=g,o.cellFormula){for(C=!1,E=0;E<N.length;++E){var R=N[E];f.r>=R[0].s.r&&f.r<=R[0].e.r&&x>=R[0].s.c&&x<=R[0].e.c&&(g.F=ln(R[0]),C=!0)}!C&&B.length>3&&(g.f=B[3])}if(u.s.r>f.r&&(u.s.r=f.r),u.s.c>x&&(u.s.c=x),u.e.r<f.r&&(u.e.r=f.r),u.e.c<x&&(u.e.c=x),o.cellDates&&m&&g.t=="n"&&UC(Fr[m.numFmtId])){var j=Sb(g.v);j&&(g.t="d",g.v=new Date(j.y,j.m-1,j.d,j.H,j.M,j.S,j.u))}X&&(X.type=="XLDAPR"&&(g.D=!0),X=void 0);break;case 1:case 12:if(!o.sheetStubs||d)break;g={t:"z",v:void 0},x=B[0].c==-1?x+1:B[0].c,o.dense?(l[v]||(l[v]=[]),l[v][x]=g):l[js(x)+_]=g,u.s.r>f.r&&(u.s.r=f.r),u.s.c>x&&(u.s.c=x),u.e.r<f.r&&(u.e.r=f.r),u.e.c<x&&(u.e.c=x),X&&(X.type=="XLDAPR"&&(g.D=!0),X=void 0);break;case 176:T.push(B);break;case 49:X=((o.xlmeta||{}).Cell||[])[B-1];break;case 494:var V=n["!id"][B.relId];for(V?(B.Target=V.Target,B.loc&&(B.Target+="#"+B.loc),B.Rel=V):B.relId==""&&(B.Target="#"+B.loc),v=B.rfx.s.r;v<=B.rfx.e.r;++v)for(x=B.rfx.s.c;x<=B.rfx.e.c;++x)o.dense?(l[v]||(l[v]=[]),l[v][x]||(l[v][x]={t:"z",v:void 0}),l[v][x].l=B):(w=Br({c:x,r:v}),l[w]||(l[w]={t:"z",v:void 0}),l[w].l=B);break;case 426:if(!o.cellFormula)break;N.push(B),S=o.dense?l[v][x]:l[js(x)+_],S.f=Nl(B[1],u,{r:f.r,c:x},A,o),S.F=ln(B[0]);break;case 427:if(!o.cellFormula)break;F[Br(B[0].s)]=B[1],S=o.dense?l[v][x]:l[js(x)+_],S.f=Nl(B[1],u,{r:f.r,c:x},A,o);break;case 60:if(!o.cellStyles)break;for(;B.e>=B.s;)M[B.e--]={width:B.w/256,hidden:!!(B.flags&1),level:B.level},Y||(Y=!0,wJ(B.w/256)),Zy(M[B.e+1]);break;case 161:l["!autofilter"]={ref:ln(B)};break;case 476:l["!margins"]=B;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),B.name&&(i.Sheets[r].CodeName=B.name),(B.above||B.left)&&(l["!outline"]={above:B.above,left:B.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),B.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:d=!0;break;case 36:d=!1;break;case 37:d=!0;break;case 38:d=!1;break;default:if(!re.T){if(!d||o.WTF)throw new Error("Unexpected record 0x"+ae.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=ln(c||u)),o.sheetRows&&l["!ref"]){var W=Qn(l["!ref"]);o.sheetRows<=+W.e.r&&(W.e.r=o.sheetRows-1,W.e.r>u.e.r&&(W.e.r=u.e.r),W.e.r<W.s.r&&(W.s.r=W.e.r),W.e.c>u.e.c&&(W.e.c=u.e.c),W.e.c<W.s.c&&(W.s.c=W.e.c),l["!fullref"]=l["!ref"],l["!ref"]=ln(W))}return T.length>0&&(l["!merges"]=T),M.length>0&&(l["!cols"]=M),U.length>0&&(l["!rows"]=U),l}function a8t(t,e,r,n,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=As(e),e.z=e.z||Fr[14],e.v=po(Ss(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=Ax(i.cellXfs,e,i),e.l&&s["!links"].push([Br(l),e.l]),e.c&&s["!comments"].push([Br(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=TJ(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?bt(t,18,E6t(e,l)):bt(t,7,S6t(e,l))):(l.t="str",a?bt(t,17,j6t(e,l)):bt(t,6,M6t(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?bt(t,13,O6t(e,l)):bt(t,2,N6t(e,l)):a?bt(t,16,k6t(e,l)):bt(t,5,C6t(e,l)),!0;case"b":return l.t="b",a?bt(t,15,v6t(e,l)):bt(t,4,m6t(e,l)),!0;case"e":return l.t="e",a?bt(t,14,w6t(e,l)):bt(t,3,x6t(e,l)),!0}return a?bt(t,12,f6t(e,l)):bt(t,1,d6t(e,l)),!0}function o8t(t,e,r,n){var i=Qn(e["!ref"]||"A1"),s,a="",o=[];bt(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var u=i.s.r;u<=c;++u){a=Aa(u),i6t(t,e,i,u);var d=!1;if(u<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(o[h]=js(h)),s=o[h]+a;var f=l?(e[u]||[])[h]:e[s];if(!f){d=!1;continue}d=a8t(t,f,u,h,n,e,d)}}bt(t,146)}function l8t(t,e){!e||!e["!merges"]||(bt(t,177,H6t(e["!merges"].length)),e["!merges"].forEach(function(r){bt(t,176,z6t(r))}),bt(t,178))}function c8t(t,e){!e||!e["!cols"]||(bt(t,390),e["!cols"].forEach(function(r,n){r&&bt(t,60,X6t(n,r))}),bt(t,391))}function u8t(t,e){!e||!e["!ref"]||(bt(t,648),bt(t,649,t8t(Qn(e["!ref"]))),bt(t,650))}function d8t(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=_i(r,-1,n[1].Target.replace(/#.*$/,""),An.HLINK);bt(t,494,q6t(n,i))}}),delete e["!links"]}function h8t(t,e,r,n){if(e["!comments"].length>0){var i=_i(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",An.VML);bt(t,551,fJ("rId"+i)),e["!legacy"]=i}}function f8t(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:ln(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=du(s);o.s.r==o.e.r&&(o.e.r=du(e["!ref"]).e.r,s=ln(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),bt(t,161,WC(Qn(s))),bt(t,162)}}function p8t(t,e,r){bt(t,133),bt(t,137,e8t(e,r)),bt(t,138),bt(t,134)}function m8t(t,e){e["!protect"]&&bt(t,535,r8t(e["!protect"]))}function g8t(t,e,r,n){var i=cu(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=Qn(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],bt(i,129),(r.vbaraw||a["!outline"])&&bt(i,147,c6t(o,a["!outline"])),bt(i,148,a6t(l)),p8t(i,a,r.Workbook),c8t(i,a),o8t(i,a,t,e),m8t(i,a),f8t(i,a,r,t),l8t(i,a),d8t(i,a,n),a["!margins"]&&bt(i,476,Q6t(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&u8t(i,a),h8t(i,a,t,n),bt(i,130),i.end()}function v8t(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=r?+a[2]:a[2])});var i=Kn((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[e,i,n]}function y8t(t,e,r,n,i,s){var a=s||{"!type":"chart"};if(!t)return s;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(d){var h=v8t(d);u.s.r=u.s.c=0,u.e.c=o,c=js(o),h[0].forEach(function(f,g){a[c+Aa(g)]={t:"n",v:f,z:h[1]},l=g}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(a["!ref"]=ln(u)),a}function x8t(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=t.match(Z5e);return o&&CJ(o[0],s,i,r),(a=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function b8t(t,e){t.l+=10;var r=Bl(t);return{name:r}}function w8t(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return sv(t,function(l,c,u){switch(u){case 550:s["!rel"]=l;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),l.name&&(i.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var kJ=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],_8t=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],S8t=[],A8t=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function sfe(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],i=0;i!=e.length;++i){var s=e[i];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=bs(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function afe(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=bs(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function tPe(t){afe(t.WBProps,kJ),afe(t.CalcPr,A8t),sfe(t.WBView,_8t),sfe(t.Sheets,S8t),yA.date1904=bs(t.WBProps.date1904)}function E8t(t){return!t.Workbook||!t.Workbook.WBProps?"false":bs(t.Workbook.WBProps.date1904)?"true":"false"}var T8t="][*?/\\".split("");function rPe(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return T8t.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function C8t(t,e,r){t.forEach(function(n,i){rPe(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=e&&e[i]&&e[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function k8t(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];C8t(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)ELt(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}var P8t=/<\w+:workbook/;function N8t(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",s={},a=0;if(t.replace(Hl,function(l,c){var u=Hr(l);switch(Lm(u[0])){case"<?xml":break;case"<workbook":l.match(P8t)&&(i="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":kJ.forEach(function(d){if(u[d[0]]!=null)switch(d[2]){case"bool":r.WBProps[d[0]]=bs(u[d[0]]);break;case"int":r.WBProps[d[0]]=parseInt(u[d[0]],10);break;default:r.WBProps[d[0]]=u[d[0]]}}),u.codeName&&(r.WBProps.CodeName=Li(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Kn(Li(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Li(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),bs(u.hidden||"0")&&(s.Hidden=!0),a=c+l.length;break;case"</definedName>":s.Ref=Kn(Li(t.slice(a,c))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),p2.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return tPe(r),r}function nPe(t){var e=[Ea];e[e.length]=jt("workbook",null,{xmlns:p2[0],"xmlns:r":io.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(kJ.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=jt("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:Ti(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=jt("sheet",null,a)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=jt("definedName",Ti(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function I8t(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=oq(t),r.name=Bl(t),r}function O8t(t,e){return e||(e=at(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),fJ(t.strRelID,e),Ro(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function R8t(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Bl(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function D8t(t,e){e||(e=at(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),Kke(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function M8t(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function F8t(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=hRt(t),a=xLt(t,0,r),o=hJ(t);t.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function j8t(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],AI[16]={n:"BrtFRTArchID$",f:M8t},sv(t,function(l,c,u){switch(u){case 156:a.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=Nl(l.Ptg,null,null,a,e),delete e.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([u,l]):a[0]=[u,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(u),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),tPe(r),r.Names=s,r.supbooks=a,r}function L8t(t,e){bt(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};bt(t,156,O8t(i))}bt(t,144)}function B8t(t,e){e||(e=at(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Ro("SheetJS",e),Ro(VL.version,e),Ro(VL.version,e),Ro("7262",e),e.length>e.l?e.slice(0,e.l):e}function $8t(t,e){e||(e=at(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function V8t(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(bt(t,135),bt(t,158,$8t(i)),bt(t,136))}}function U8t(t,e){var r=cu();return bt(r,131),bt(r,128,B8t()),bt(r,153,D8t(t.Workbook&&t.Workbook.WBProps||null)),V8t(r,t),L8t(r,t),bt(r,132),r.end()}function z8t(t,e,r){return e.slice(-4)===".bin"?j8t(t,r):N8t(t,r)}function H8t(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?s8t(t,n,r,i,s,a,o):FLt(t,n,r,i,s,a,o)}function W8t(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?w8t(t,n,r,i,s):x8t(t,n,r,i,s)}function q8t(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?KFt():YFt()}function G8t(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?qFt():GFt()}function K8t(t,e,r,n){return e.slice(-4)===".bin"?zMt(t,r,n):IMt(t,r,n)}function Y8t(t,e,r){return j5e(t,r)}function X8t(t,e,r){return e.slice(-4)===".bin"?XDt(t,r):GDt(t,r)}function Z8t(t,e,r){return e.slice(-4)===".bin"?VFt(t,r):OFt(t,r)}function Q8t(t,e,r){return e.slice(-4)===".bin"?PFt(t):CFt(t)}function J8t(t,e,r,n){return r.slice(-4)===".bin"?NFt(t,e,r,n):void 0}function eBt(t,e,r){return e.slice(-4)===".bin"?AFt(t,e,r):TFt(t,e,r)}function tBt(t,e,r){return(e.slice(-4)===".bin"?U8t:nPe)(t)}function rBt(t,e,r,n,i){return(e.slice(-4)===".bin"?g8t:Q5e)(t,r,n,i)}function nBt(t,e,r){return(e.slice(-4)===".bin"?JMt:M5e)(t,r)}function iBt(t,e,r){return(e.slice(-4)===".bin"?JDt:C5e)(t,r)}function sBt(t,e,r){return(e.slice(-4)===".bin"?UFt:$5e)(t)}function aBt(t){return(t.slice(-4)===".bin"?EFt:L5e)()}var iPe=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,sPe=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Wh(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=t.match(iPe),s,a,o,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(sPe),(a=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),n[o]=s[2].slice(1,s[2].length-1));return n}function oBt(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(iPe),i,s,a,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(sPe),(s=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),r[a]=i[2].slice(1,i[2].length-1));return r}var EP;function lBt(t,e){var r=EP[t]||Kn(t);return r==="General"?F_(e):kh(r,e)}function cBt(t,e,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=bs(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=Ss(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[Kn(e)]=i}function uBt(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||av[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=mI(t.v):t.w=F_(t.v):t.w=lBt(e||"General",t.v)}catch(s){if(r.WTF)throw s}try{var n=EP[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&UC(n)){var i=Sb(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(r.WTF)throw s}}}function dBt(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=SMt[n.Pattern]||n.Pattern)}t[e.ID]=e}function hBt(t,e,r,n,i,s,a,o,l,c){var u="General",d=n.StyleID,h={};c=c||{};var f=[],g=0;for(d===void 0&&o&&(d=o.StyleID),d===void 0&&a&&(d=a.StyleID);s[d]!==void 0&&(s[d].nf&&(u=s[d].nf),s[d].Interior&&f.push(s[d].Interior),!!s[d].Parent);)d=s[d].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=bs(t);break;case"String":n.t="s",n.r=She(Kn(t)),n.v=t.indexOf("<")>-1?Kn(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(Ss(t)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Kn(t):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Jke[t],c.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=She(e||t));break}if(uBt(n,u,c),c.cellFormula!==!1)if(n.Formula){var m=Kn(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=vA(m,i),delete n.Formula,n.ArrayRange=="RC"?n.F=vA("RC:RC",i):n.ArrayRange&&(n.F=vA(n.ArrayRange,i),l.push([Qn(n.F),n.F]))}else for(g=0;g<l.length;++g)i.r>=l[g][0].s.r&&i.r<=l[g][0].e.r&&i.c>=l[g][0].s.c&&i.c<=l[g][0].e.c&&(n.F=l[g][1]);c.cellStyles&&(f.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function fBt(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function VV(t,e){var r=e||{};zC();var n=v5(aJ(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Li(n));var i=n.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=As(r);return a.type="string",tC.to_workbook(n,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(xt){i.indexOf("<"+xt)>=0&&(s=!0)}),s)return QBt(n,r);EP={"General Number":"General","General Date":Fr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Fr[15],"Short Date":Fr[14],"Long Time":Fr[19],"Medium Time":Fr[18],"Short Time":Fr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Fr[2],Standard:Fr[4],Percent:Fr[10],Scientific:Fr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},d=[],h=r.dense?[]:{},f="",g={},m={},v=Wh('<Data ss:Type="String">'),x=0,w=0,b=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},T={},E="",C=0,N=[],F={},A={},I=0,M=[],U=[],Y={},X=[],W,G=!1,B=[],re=[],ae={},R=0,j=0,V={Sheets:[],WBProps:{date1904:!1}},K={};yI.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ne="";o=yI.exec(n);)switch(o[3]=(ne=o[3]).toLowerCase()){case"data":if(ne=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?hBt(n.slice(x,o.index),E,v,l[l.length-1][0]=="comment"?Y:g,{c:w,r:b},S,X[w],m,B,r):(E="",v=Wh(o[0]),x=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(U.length>0&&(g.c=U),(!r.sheetRows||r.sheetRows>b)&&g.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][w]=g):h[js(w)+Aa(b)]=g),g.HRef&&(g.l={Target:Kn(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(R=w+(parseInt(g.MergeAcross,10)|0),j=b+(parseInt(g.MergeDown,10)|0),N.push({s:{c:w,r:b},e:{c:R,r:j}})),!r.sheetStubs)g.MergeAcross?w=R+1:++w;else if(g.MergeAcross||g.MergeDown){for(var J=w;J<=R;++J)for(var me=b;me<=j;++me)(J>w||me>b)&&(r.dense?(h[me]||(h[me]=[]),h[me][J]={t:"z"}):h[js(J)+Aa(me)]={t:"z"});w=R+1}else++w;else g=oBt(o[0]),g.Index&&(w=+g.Index-1),w<_.s.c&&(_.s.c=w),w>_.e.c&&(_.e.c=w),o[0].slice(-2)==="/>"&&++w,U=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(b<_.s.r&&(_.s.r=b),b>_.e.r&&(_.e.r=b),o[0].slice(-2)==="/>"&&(m=Wh(o[0]),m.Index&&(b=+m.Index-1)),w=0,++b):(m=Wh(o[0]),m.Index&&(b=+m.Index-1),ae={},(m.AutoFitHeight=="0"||m.Height)&&(ae.hpx=parseInt(m.Height,10),ae.hpt=SI(ae.hpx),re[b]=ae),m.Hidden=="1"&&(ae.hidden=!0,re[b]=ae));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));d.push(f),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(h["!ref"]=ln(_),r.sheetRows&&r.sheetRows<=_.e.r&&(h["!fullref"]=h["!ref"],_.e.r=r.sheetRows-1,h["!ref"]=ln(_))),N.length&&(h["!merges"]=N),X.length>0&&(h["!cols"]=X),re.length>0&&(h["!rows"]=re),u[f]=h}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=w=0,l.push([o[3],!1]),c=Wh(o[0]),f=Kn(c.Name),h=r.dense?[]:{},N=[],B=[],re=[],K={name:f,Hidden:0},V.Sheets.push(K);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),X=[],G=!1}break;case"style":o[1]==="/"?dBt(S,T,r):T=Wh(o[0]);break;case"numberformat":T.nf=Kn(Wh(o[0]).Format||"General"),EP[T.nf]&&(T.nf=EP[T.nf]);for(var ce=0;ce!=392&&Fr[ce]!=T.nf;++ce);if(ce==392){for(ce=57;ce!=392;++ce)if(Fr[ce]==null){wg(T.nf,ce);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(W=Wh(o[0]),W.Hidden&&(W.hidden=!0,delete W.Hidden),W.Width&&(W.wpx=parseInt(W.Width,10)),!G&&W.wpx>10){G=!0,Ml=R5e;for(var he=0;he<X.length;++he)X[he]&&Zy(X[he])}G&&Zy(W),X[W.Index-1||X.length]=W;for(var _e=0;_e<+W.Span;++_e)X[X.length]=As(W);break;case"namedrange":if(o[1]==="/")break;V.Names||(V.Names=[]);var ee=Hr(o[0]),je={Name:ee.Name,Ref:vA(ee.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(je.Sheet=V.Sheets.length-1),V.Names.push(je);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?E+=n.slice(C,o.index):C=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;T.Interior=Wh(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?jRt(F,ne,n.slice(I,o.index)):I=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));fBt(Y),U.push(Y)}else l.push([o[3],!1]),c=Wh(o[0]),Y={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ue=Wh(o[0]);h["!autofilter"]={ref:vA(Ue.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return dfe(n,r);var pe=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:pe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:pe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:pe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:pe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(I,o.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2;break}else I=o.index+o[0].length;break;case"header":h["!margins"]||i_(h["!margins"]={},"xlml"),isNaN(+Hr(o[0]).Margin)||(h["!margins"].header=+Hr(o[0]).Margin);break;case"footer":h["!margins"]||i_(h["!margins"]={},"xlml"),isNaN(+Hr(o[0]).Margin)||(h["!margins"].footer=+Hr(o[0]).Margin);break;case"pagemargins":var Me=Hr(o[0]);h["!margins"]||i_(h["!margins"]={},"xlml"),isNaN(+Me.Top)||(h["!margins"].top=+Me.Top),isNaN(+Me.Left)||(h["!margins"].left=+Me.Left),isNaN(+Me.Right)||(h["!margins"].right=+Me.Right),isNaN(+Me.Bottom)||(h["!margins"].bottom=+Me.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:pe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:pe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:pe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:pe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:pe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:pe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:pe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:pe=!1}break;case"smarttags":break;default:pe=!1;break}if(pe||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?cBt(A,ne,M,n.slice(I,o.index)):(M=o,I=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Ye={};return!r.bookSheets&&!r.bookProps&&(Ye.Sheets=u),Ye.SheetNames=d,Ye.Workbook=V,Ye.SSF=As(Fr),Ye.Props=F,Ye.Custprops=A,Ye}function pq(t,e){switch(NJ(e=e||{}),e.type||"base64"){case"base64":return VV(xd(t),e);case"binary":case"buffer":case"file":return VV(t,e);case"array":return VV(_x(t),e)}}function pBt(t,e){var r=[];return t.Props&&r.push(LRt(t.Props,e)),t.Custprops&&r.push(BRt(t.Props,t.Custprops)),r.join("")}function mBt(){return""}function gBt(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(jt("NumberFormat",null,{"ss:Format":Ti(Fr[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push(jt("Style",s.join(""),a))}),jt("Styles",r.join(""))}function aPe(t){return jt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+AJ(t.Ref,{r:0,c:0})})}function vBt(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(aPe(i)))}return jt("Names",r.join(""))}function yBt(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(aPe(o)))}return s.join("")}function xBt(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(jt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(jt("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(jt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(jt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(el("ProtectContents","True")),t["!protect"].objects&&i.push(el("ProtectObjects","True")),t["!protect"].scenarios&&i.push(el("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(el("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(el("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":jt("WorksheetOptions",i.join(""),{xmlns:ed.x})}function bBt(t){return t.map(function(e){var r=VOt(e.t||""),n=jt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return jt("Comment",n,{"ss:Author":e.a})}).join("")}function wBt(t,e,r,n,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Ti(AJ(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=Ls(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Ti(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Ti(t.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c!=a.c||c[u].s.r!=a.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var d="",h="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":d="Number",h=String(t.v);break;case"b":d="Boolean",h=t.v?"1":"0";break;case"e":d="Error",h=av[t.v];break;case"d":d="DateTime",h=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Fr[14]);break;case"s":d="String",h=$Ot(t.v||"");break}var f=Ax(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+f),o["ss:Index"]=a.c+1;var g=t.v!=null?h:"",m=t.t=="z"?"":'<Data ss:Type="'+d+'">'+g+"</Data>";return(t.c||[]).length>0&&(m+=bBt(t.c)),jt("Cell",m,o)}function _Bt(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=rC(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function SBt(t,e,r,n){if(!t["!ref"])return"";var i=Qn(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(v,x){Zy(v);var w=!!v.width,b=E7(x,v),_={"ss:Index":x+1};w&&(_["ss:Width"]=wI(b.width)),v.hidden&&(_["ss:Hidden"]="1"),o.push(jt("Column",null,_))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var u=[_Bt(c,(t["!rows"]||[])[c])],d=i.s.c;d<=i.e.c;++d){var h=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>d)&&!(s[a].s.r>c)&&!(s[a].e.c<d)&&!(s[a].e.r<c)){(s[a].s.c!=d||s[a].s.r!=c)&&(h=!0);break}if(!h){var f={r:c,c:d},g=Br(f),m=l?(t[c]||[])[d]:t[g];u.push(wBt(m,g,t,e,r,n,f))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function ABt(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],a=s?yBt(s,e,t,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?SBt(s,e,t,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(xBt(s,e,t,r)),n.join("")}function EBt(t,e){e||(e={}),t.SSF||(t.SSF=As(Fr)),t.SSF&&(zC(),y7(t.SSF),e.revssf=b7(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Ax(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(pBt(t,e)),r.push(mBt()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(jt("Worksheet",ABt(n,e,t),{"ss:Name":Ti(t.SheetNames[n])}));return r[2]=gBt(t,e),r[3]=vBt(t),Ea+jt("Workbook",r.join(""),{xmlns:ed.ss,"xmlns:o":ed.o,"xmlns:x":ed.x,"xmlns:ss":ed.ss,"xmlns:dt":ed.dt,"xmlns:html":ed.html})}function TBt(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=vRt(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=yRt(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var CBt=[60,1084,2066,2165,2175];function kBt(t,e,r,n,i){var s=n,a=[],o=r.slice(r.l,r.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),r.l+=s;for(var l=ug(r,r.l),c=mq[l],u=0;c!=null&&CBt.indexOf(l)>-1;)s=ug(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+s),a.push(o),r.l+=4+s,c=mq[l=ug(r,r.l)];var d=Oo(a);Qo(d,0);var h=0;d.lens=[];for(var f=0;f<a.length;++f)d.lens.push(h),h+=a[f].length;if(d.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+d.length+" < "+n;return e.f(d,d.length,i)}function cp(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Fr[n])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||av[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=mI(t.v):t.w=F_(t.v):t.w=kh(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&n&&t.t=="n"&&UC(Fr[n]||String(n))){var i=Sb(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function kD(t,e,r){return{v:t,ixfe:e,t:r}}function PBt(t,e){var r={opts:{}},n={},i=e.dense?[]:{},s={},a={},o=null,l=[],c="",u={},d,h="",f,g,m,v,x={},w=[],b,_,S=[],T=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},C={},N=function(At){return At<8?t_[At]:At<64&&T[At-8]||t_[At]},F=function(At,Tt,Ur){var Yt=Tt.XF.data;if(!(!Yt||!Yt.patternType||!Ur||!Ur.cellStyles)){Tt.s={},Tt.s.patternType=Yt.patternType;var sr;(sr=bI(N(Yt.icvFore)))&&(Tt.s.fgColor={rgb:sr}),(sr=bI(N(Yt.icvBack)))&&(Tt.s.bgColor={rgb:sr})}},A=function(At,Tt,Ur){if(!(ae>1)&&!(Ur.sheetRows&&At.r>=Ur.sheetRows)){if(Ur.cellStyles&&Tt.XF&&Tt.XF.data&&F(At,Tt,Ur),delete Tt.ixfe,delete Tt.XF,d=At,h=Br(At),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),At.r<a.s.r&&(a.s.r=At.r),At.c<a.s.c&&(a.s.c=At.c),At.r+1>a.e.r&&(a.e.r=At.r+1),At.c+1>a.e.c&&(a.e.c=At.c+1),Ur.cellFormula&&Tt.f){for(var Yt=0;Yt<w.length;++Yt)if(!(w[Yt][0].s.c>At.c||w[Yt][0].s.r>At.r)&&!(w[Yt][0].e.c<At.c||w[Yt][0].e.r<At.r)){Tt.F=ln(w[Yt][0]),(w[Yt][0].s.c!=At.c||w[Yt][0].s.r!=At.r)&&delete Tt.f,Tt.f&&(Tt.f=""+Nl(w[Yt][1],a,At,B,I));break}}Ur.dense?(i[At.r]||(i[At.r]=[]),i[At.r][At.c]=Tt):i[h]=Tt}},I={enc:!1,sbcch:0,snames:[],sharedf:x,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(I.password=e.password);var M,U=[],Y=[],X=[],W=[],G=!1,B=[];B.SheetNames=I.snames,B.sharedf=I.sharedf,B.arrayf=I.arrayf,B.names=[],B.XTI=[];var re=0,ae=0,R=0,j=[],V=[],K;I.codepage=1200,wf(1200);for(var ne=!1;t.l<t.length-1;){var J=t.l,me=t.read_shift(2);if(me===0&&re===10)break;var ce=t.l===t.length?0:t.read_shift(2),he=mq[me];if(he&&he.f){if(e.bookSheets&&re===133&&me!==133)break;if(re=me,he.r===2||he.r==12){var _e=t.read_shift(2);if(ce-=2,!I.enc&&_e!==me&&((_e&255)<<8|_e>>8)!==me)throw new Error("rt mismatch: "+_e+"!="+me);he.r==12&&(t.l+=10,ce-=10)}var ee={};if(me===10?ee=he.f(t,ce,I):ee=kBt(me,he,t,ce,I),ae==0&&[9,521,1033,2057].indexOf(re)===-1)continue;switch(me){case 34:r.opts.Date1904=E.WBProps.date1904=ee;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(I.enc||(t.l=0),I.enc=ee,!e.password)throw new Error("File is password-protected");if(ee.valid==null)throw new Error("Encryption scheme unsupported");if(!ee.valid)throw new Error("Password is incorrect");break;case 92:I.lastuser=ee;break;case 66:var je=Number(ee);switch(je){case 21010:je=1200;break;case 32768:je=1e4;break;case 32769:je=1252;break}wf(I.codepage=je),ne=!0;break;case 317:I.rrtabid=ee;break;case 25:I.winlocked=ee;break;case 439:r.opts.RefreshAll=ee;break;case 12:r.opts.CalcCount=ee;break;case 16:r.opts.CalcDelta=ee;break;case 17:r.opts.CalcIter=ee;break;case 13:r.opts.CalcMode=ee;break;case 14:r.opts.CalcPrecision=ee;break;case 95:r.opts.CalcSaveRecalc=ee;break;case 15:I.CalcRefMode=ee;break;case 2211:r.opts.FullCalc=ee;break;case 129:ee.fDialog&&(i["!type"]="dialog"),ee.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ee.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:S.push(ee);break;case 430:B.push([ee]),B[B.length-1].XTI=[];break;case 35:case 547:B[B.length-1].push(ee);break;case 24:case 536:K={Name:ee.Name,Ref:Nl(ee.rgce,a,null,B,I)},ee.itab>0&&(K.Sheet=ee.itab-1),B.names.push(K),B[0]||(B[0]=[],B[0].XTI=[]),B[B.length-1].push(ee),ee.Name=="_xlnm._FilterDatabase"&&ee.itab>0&&ee.rgce&&ee.rgce[0]&&ee.rgce[0][0]&&ee.rgce[0][0][0]=="PtgArea3d"&&(V[ee.itab-1]={ref:ln(ee.rgce[0][0][1][2])});break;case 22:I.ExternCount=ee;break;case 23:B.length==0&&(B[0]=[],B[0].XTI=[]),B[B.length-1].XTI=B[B.length-1].XTI.concat(ee),B.XTI=B.XTI.concat(ee);break;case 2196:if(I.biff<8)break;K!=null&&(K.Comment=ee[1]);break;case 18:i["!protect"]=ee;break;case 19:ee!==0&&I.WTF&&console.error("Password verifier: "+ee);break;case 133:s[ee.pos]=ee,I.snames.push(ee.name);break;case 10:{if(--ae)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=ln(a),e.sheetRows&&e.sheetRows<=a.e.r){var Ue=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=ln(a),a.e.r=Ue}a.e.r++,a.e.c++}U.length>0&&(i["!merges"]=U),Y.length>0&&(i["!objects"]=Y),X.length>0&&(i["!cols"]=X),W.length>0&&(i["!rows"]=W),E.Sheets.push(C)}c===""?u=i:n[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(I.biff===8&&(I.biff={9:2,521:3,1033:4}[me]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ee.BIFFVer]||8),I.biffguess=ee.BIFFVer==0,ee.BIFFVer==0&&ee.dt==4096&&(I.biff=5,ne=!0,wf(I.codepage=28591)),I.biff==8&&ee.BIFFVer==0&&ee.dt==16&&(I.biff=2),ae++)break;if(i=e.dense?[]:{},I.biff<8&&!ne&&(ne=!0,wf(I.codepage=e.codepage||1252)),I.biff<5||ee.BIFFVer==0&&ee.dt==4096){c===""&&(c="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var pe={pos:t.l-ce,name:c};s[pe.pos]=pe,I.snames.push(c)}else c=(s[J]||{name:""}).name;ee.dt==32&&(i["!type"]="chart"),ee.dt==64&&(i["!type"]="macro"),U=[],Y=[],I.arrayf=w=[],X=[],W=[],G=!1,C={Hidden:(s[J]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[ee.r]||[])[ee.c]:i[Br({c:ee.c,r:ee.r})])&&++ee.c,b={ixfe:ee.ixfe,XF:S[ee.ixfe]||{},v:ee.val,t:"n"},R>0&&(b.z=j[b.ixfe>>8&63]),cp(b,e,r.opts.Date1904),A({c:ee.c,r:ee.r},b,e);break;case 5:case 517:b={ixfe:ee.ixfe,XF:S[ee.ixfe],v:ee.val,t:ee.t},R>0&&(b.z=j[b.ixfe>>8&63]),cp(b,e,r.opts.Date1904),A({c:ee.c,r:ee.r},b,e);break;case 638:b={ixfe:ee.ixfe,XF:S[ee.ixfe],v:ee.rknum,t:"n"},R>0&&(b.z=j[b.ixfe>>8&63]),cp(b,e,r.opts.Date1904),A({c:ee.c,r:ee.r},b,e);break;case 189:for(var Me=ee.c;Me<=ee.C;++Me){var Ye=ee.rkrec[Me-ee.c][0];b={ixfe:Ye,XF:S[Ye],v:ee.rkrec[Me-ee.c][1],t:"n"},R>0&&(b.z=j[b.ixfe>>8&63]),cp(b,e,r.opts.Date1904),A({c:Me,r:ee.r},b,e)}break;case 6:case 518:case 1030:{if(ee.val=="String"){o=ee;break}if(b=kD(ee.val,ee.cell.ixfe,ee.tt),b.XF=S[b.ixfe],e.cellFormula){var xt=ee.formula;if(xt&&xt[0]&&xt[0][0]&&xt[0][0][0]=="PtgExp"){var Ke=xt[0][0][1][0],be=xt[0][0][1][1],Pe=Br({r:Ke,c:be});x[Pe]?b.f=""+Nl(ee.formula,a,ee.cell,B,I):b.F=((e.dense?(i[Ke]||[])[be]:i[Pe])||{}).F}else b.f=""+Nl(ee.formula,a,ee.cell,B,I)}R>0&&(b.z=j[b.ixfe>>8&63]),cp(b,e,r.opts.Date1904),A(ee.cell,b,e),o=ee}break;case 7:case 519:if(o)o.val=ee,b=kD(ee,o.cell.ixfe,"s"),b.XF=S[b.ixfe],e.cellFormula&&(b.f=""+Nl(o.formula,a,o.cell,B,I)),R>0&&(b.z=j[b.ixfe>>8&63]),cp(b,e,r.opts.Date1904),A(o.cell,b,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(ee);var De=Br(ee[0].s);if(f=e.dense?(i[ee[0].s.r]||[])[ee[0].s.c]:i[De],e.cellFormula&&f){if(!o||!De||!f)break;f.f=""+Nl(ee[1],a,ee[0],B,I),f.F=ln(ee[0])}}break;case 1212:{if(!e.cellFormula)break;if(h){if(!o)break;x[Br(o.cell)]=ee[0],f=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Br(o.cell)],(f||{}).f=""+Nl(ee[0],a,d,B,I)}}break;case 253:b=kD(l[ee.isst].t,ee.ixfe,"s"),l[ee.isst].h&&(b.h=l[ee.isst].h),b.XF=S[b.ixfe],R>0&&(b.z=j[b.ixfe>>8&63]),cp(b,e,r.opts.Date1904),A({c:ee.c,r:ee.r},b,e);break;case 513:e.sheetStubs&&(b={ixfe:ee.ixfe,XF:S[ee.ixfe],t:"z"},R>0&&(b.z=j[b.ixfe>>8&63]),cp(b,e,r.opts.Date1904),A({c:ee.c,r:ee.r},b,e));break;case 190:if(e.sheetStubs)for(var Je=ee.c;Je<=ee.C;++Je){var it=ee.ixfe[Je-ee.c];b={ixfe:it,XF:S[it],t:"z"},R>0&&(b.z=j[b.ixfe>>8&63]),cp(b,e,r.opts.Date1904),A({c:Je,r:ee.r},b,e)}break;case 214:case 516:case 4:b=kD(ee.val,ee.ixfe,"s"),b.XF=S[b.ixfe],R>0&&(b.z=j[b.ixfe>>8&63]),cp(b,e,r.opts.Date1904),A({c:ee.c,r:ee.r},b,e);break;case 0:case 512:ae===1&&(a=ee);break;case 252:l=ee;break;case 1054:if(I.biff==4){j[R++]=ee[1];for(var rt=0;rt<R+163&&Fr[rt]!=ee[1];++rt);rt>=163&&wg(ee[1],R+163)}else wg(ee[1],ee[0]);break;case 30:{j[R++]=ee;for(var st=0;st<R+163&&Fr[st]!=ee;++st);st>=163&&wg(ee,R+163)}break;case 229:U=U.concat(ee);break;case 93:Y[ee.cmo[0]]=I.lastobj=ee;break;case 438:I.lastobj.TxO=ee;break;case 127:I.lastobj.ImData=ee;break;case 440:for(v=ee[0].s.r;v<=ee[0].e.r;++v)for(m=ee[0].s.c;m<=ee[0].e.c;++m)f=e.dense?(i[v]||[])[m]:i[Br({c:m,r:v})],f&&(f.l=ee[1]);break;case 2048:for(v=ee[0].s.r;v<=ee[0].e.r;++v)for(m=ee[0].s.c;m<=ee[0].e.c;++m)f=e.dense?(i[v]||[])[m]:i[Br({c:m,r:v})],f&&f.l&&(f.l.Tooltip=ee[1]);break;case 28:{if(I.biff<=5&&I.biff>=2)break;f=e.dense?(i[ee[0].r]||[])[ee[0].c]:i[Br(ee[0])];var Dt=Y[ee[2]];f||(e.dense?(i[ee[0].r]||(i[ee[0].r]=[]),f=i[ee[0].r][ee[0].c]={t:"z"}):f=i[Br(ee[0])]={t:"z"},a.e.r=Math.max(a.e.r,ee[0].r),a.s.r=Math.min(a.s.r,ee[0].r),a.e.c=Math.max(a.e.c,ee[0].c),a.s.c=Math.min(a.s.c,ee[0].c)),f.c||(f.c=[]),g={a:ee[1],t:Dt.TxO.t},f.c.push(g)}break;case 2173:gFt(S[ee.ixfe],ee.ext);break;case 125:{if(!I.cellStyles)break;for(;ee.e>=ee.s;)X[ee.e--]={width:ee.w/256,level:ee.level||0,hidden:!!(ee.flags&1)},G||(G=!0,wJ(ee.w/256)),Zy(X[ee.e+1])}break;case 520:{var kt={};ee.level!=null&&(W[ee.r]=kt,kt.level=ee.level),ee.hidden&&(W[ee.r]=kt,kt.hidden=!0),ee.hpt&&(W[ee.r]=kt,kt.hpt=ee.hpt,kt.hpx=rC(ee.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||i_(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[me]]=ee;break;case 161:i["!margins"]||i_(i["!margins"]={}),i["!margins"].header=ee.header,i["!margins"].footer=ee.footer;break;case 574:ee.RTL&&(E.Views[0].RTL=!0);break;case 146:T=ee;break;case 2198:M=ee;break;case 140:_=ee;break;case 442:c?C.CodeName=ee||C.name:E.WBProps.CodeName=ee||"ThisWorkbook";break}}else he||console.error("Missing Info for XLS Record 0x"+me.toString(16)),t.l+=ce}return r.SheetNames=oa(s).sort(function(Nt,At){return Number(Nt)-Number(At)}).map(function(Nt){return s[Nt].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&V.forEach(function(Nt,At){r.Sheets[r.SheetNames[At]]["!autofilter"]=Nt}),r.Strings=l,r.SSF=As(Fr),I.enc&&(r.Encryption=I.enc),M&&(r.Themes=M),r.Metadata={},_!==void 0&&(r.Metadata.Country=_),B.names.length>0&&(E.Names=B.names),r.Workbook=E,r}var TP={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function NBt(t,e,r){var n=Nr.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=Vhe(n,lq,TP.DSI);for(var s in i)e[s]=i[s]}catch(c){if(r.WTF)throw c}var a=Nr.find(t,"/!SummaryInformation");if(a&&a.size>0)try{var o=Vhe(a,cq,TP.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(r.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(s5e(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function IBt(t,e){var r=[],n=[],i=[],s=0,a,o=vhe(lq,"n"),l=vhe(cq,"n");if(t.Props)for(a=oa(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=oa(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Custprops[a[s]]]);var c=[];for(s=0;s<i.length;++s)h5e.indexOf(i[s][0])>-1||i5e.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);n.length&&Nr.utils.cfb_add(e,"/SummaryInformation",Uhe(n,TP.SI,l,cq)),(r.length||c.length)&&Nr.utils.cfb_add(e,"/DocumentSummaryInformation",Uhe(r,TP.DSI,o,lq,c.length?c:null,TP.UDI))}function oPe(t,e){e||(e={}),NJ(e),ZQ(),e.codepage&&XQ(e.codepage);var r,n;if(t.FullPaths){if(Nr.find(t,"/encryption"))throw new Error("File is password-protected");r=Nr.find(t,"!CompObj"),n=Nr.find(t,"/Workbook")||Nr.find(t,"/Book")}else{switch(e.type){case"base64":t=sd(xd(t));break;case"binary":t=sd(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Qo(t,0),n={content:t}}var i,s;if(r&&TBt(r),e.bookProps&&!e.bookSheets)i={};else{var a=_n?"buffer":"array";if(n&&n.content)i=PBt(n.content,e);else if((s=Nr.find(t,"PerfectOffice_MAIN"))&&s.content)i=n_.to_workbook(s.content,(e.type=a,e));else if((s=Nr.find(t,"NativeContent_MAIN"))&&s.content)i=n_.to_workbook(s.content,(e.type=a,e));else throw(s=Nr.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Nr.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=HFt(t))}var o={};return t.FullPaths&&NBt(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}function OBt(t,e){var r=e||{},n=Nr.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Nr.utils.cfb_add(n,i,lPe(t,r)),r.biff==8&&(t.Props||t.Custprops)&&IBt(t,n),r.biff==8&&t.vbaraw&&WFt(n,Nr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var AI={0:{f:r6t},1:{f:u6t},2:{f:P6t},3:{f:y6t},4:{f:p6t},5:{f:T6t},6:{f:D6t},7:{f:_6t},8:{f:V6t},9:{f:$6t},10:{f:L6t},11:{f:B6t},12:{f:h6t},13:{f:I6t},14:{f:b6t},15:{f:g6t},16:{f:J5e},17:{f:F6t},18:{f:A6t},19:{f:dJ},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:F8t},40:{},42:{},43:{f:DMt},44:{f:OMt},45:{f:jMt},46:{f:BMt},47:{f:LMt},48:{},49:{f:sRt},50:{},51:{f:xFt},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:S5e},62:{f:R6t},63:{f:kFt},64:{f:n8t},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:zl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:J6t},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:l6t},148:{f:s6t,p:16},151:{f:G6t},152:{},153:{f:R8t},154:{},155:{},156:{f:I8t},157:{},158:{},159:{T:1,f:YDt},160:{T:-1},161:{T:1,f:y2},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:U6t},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:vFt},336:{T:-1},337:{f:_Ft,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:oq},357:{},358:{},359:{},360:{T:1},361:{},362:{f:_5e},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:K6t},427:{f:Y6t},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Z6t},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:o6t},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:W6t},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:oq},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:BFt},633:{T:1},634:{T:-1},635:{T:1,f:jFt},636:{T:-1},637:{f:cRt},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:b8t},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:i8t},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},mq={6:{f:BV},10:{f:Mv},12:{f:Da},13:{f:Da},14:{f:ha},15:{f:ha},16:{f:Fl},17:{f:ha},18:{f:ha},19:{f:Da},20:{f:Khe},21:{f:Khe},23:{f:_5e},24:{f:Xhe},25:{f:ha},26:{},27:{},28:{f:iDt},29:{},34:{f:ha},35:{f:Yhe},38:{f:Fl},39:{f:Fl},40:{f:Fl},41:{f:Fl},42:{f:ha},43:{f:ha},47:{f:gMt},49:{f:I3t},51:{f:Da},60:{},61:{f:T3t},64:{f:ha},65:{f:N3t},66:{f:Da},77:{},80:{},81:{},82:{},85:{f:Da},89:{},90:{},91:{},92:{f:m3t},93:{f:oDt},94:{},95:{f:ha},96:{},97:{},99:{f:ha},125:{f:S5e},128:{f:q3t},129:{f:v3t},130:{f:Da},131:{f:ha},132:{f:ha},133:{f:y3t},134:{},140:{f:mDt},141:{f:Da},144:{},146:{f:yDt},151:{},152:{},153:{},154:{},155:{},156:{f:Da},157:{},158:{},160:{f:EDt},161:{f:wDt},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:U3t},190:{f:z3t},193:{f:Mv},197:{},198:{},199:{},200:{},201:{},202:{f:ha},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Da},220:{},221:{f:ha},222:{},224:{f:W3t},225:{f:p3t},226:{f:Mv},227:{},229:{f:sDt},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:b3t},253:{f:R3t},255:{f:_3t},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:f5e},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ha},353:{f:Mv},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Z3t},431:{f:ha},432:{},433:{},434:{},437:{},438:{f:uDt},439:{f:ha},440:{f:dDt},441:{},442:{f:AR},443:{},444:{f:Da},445:{},446:{},448:{f:Mv},449:{f:E3t,r:2},450:{f:Mv},512:{f:Whe},513:{f:ADt},515:{f:Y3t},516:{f:M3t},517:{f:Ghe},519:{f:TDt},520:{f:S3t},523:{},545:{f:Zhe},549:{f:Hhe},566:{},574:{f:k3t},638:{f:V3t},659:{},1048:{},1054:{f:j3t},1084:{},1212:{f:tDt},2048:{f:fDt},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:ED},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Mv},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:xDt,r:12},2173:{f:mFt,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ha,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:eDt,r:12},2197:{},2198:{f:cFt,r:12},2199:{},2200:{},2201:{},2202:{f:rDt,r:12},2203:{f:Mv},2204:{},2205:{},2206:{},2207:{},2211:{f:A3t},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Da},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:_Dt},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:vDt},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Whe},1:{},2:{f:IDt},3:{f:PDt},4:{f:kDt},5:{f:Ghe},7:{f:RDt},8:{},9:{f:ED},11:{},22:{f:Da},30:{f:B3t},31:{},32:{},33:{f:Zhe},36:{},37:{f:Hhe},50:{f:DDt},62:{},52:{},67:{},68:{f:Da},69:{},86:{},126:{},127:{f:CDt},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:MDt},223:{},234:{},354:{},421:{},518:{f:BV},521:{f:ED},536:{f:Xhe},547:{f:Yhe},561:{},579:{},1030:{f:BV},1033:{f:ED},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Bt(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&lJ(r)&&t.push(r)}}function RBt(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return Bt(t,e,r,i);var s=e;if(!isNaN(s)){for(var a=r.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,s),u.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c;l<i;){for(u=t.next(4),u.write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;u.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c}}}function kR(t,e,r){return t||(t=at(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function DBt(t,e,r,n){var i=at(9);return kR(i,t,e),p5e(r,n||"b",i),i}function MBt(t,e,r){var n=at(8+2*r.length);return kR(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function FBt(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?po(Ss(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Bt(t,2,ODt(r,n,i)):Bt(t,3,NDt(r,n,i));return;case"b":case"e":Bt(t,5,DBt(r,n,e.v,e.t));return;case"s":case"str":Bt(t,4,MBt(r,n,(e.v||"").slice(0,255)));return}Bt(t,1,kR(null,r,n))}function jBt(t,e,r,n){var i=Array.isArray(e),s=Qn(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=ln(s)}for(var c=s.s.r;c<=s.e.r;++c){o=Aa(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=js(u)),a=l[u]+o;var d=i?(e[c]||[])[u]:e[a];d&&FBt(t,d,c,u)}}}function LBt(t,e){for(var r=e||{},n=cu(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Bt(n,r.biff==4?1033:r.biff==3?521:9,yJ(t,16,r)),jBt(n,t.Sheets[t.SheetNames[i]],i,r),Bt(n,10),n.end()}function BBt(t,e,r){Bt(t,49,O3t({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function $Bt(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Bt(t,1054,L3t(i,e[i],r))})}function VBt(t,e){var r=at(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Bt(t,2151,r),r=at(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),x5e(Qn(e["!ref"]||"A1"),r),r.write_shift(4,4),Bt(t,2152,r)}function UBt(t,e){for(var r=0;r<16;++r)Bt(t,224,qhe({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Bt(t,224,qhe(n,0,e))})}function zBt(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];Bt(t,440,hDt(n)),n[1].Tooltip&&Bt(t,2048,pDt(n))}delete e["!links"]}function HBt(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&Bt(t,125,bDt(E7(i,n),i))})}}function WBt(t,e,r,n,i){var s=16+Ax(i.cellXfs,e,i);if(e.v==null&&!e.bf){Bt(t,513,$_(r,n,s));return}if(e.bf)Bt(t,6,vLt(e,r,n,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?po(Ss(e.v)):e.v;Bt(t,515,X3t(r,n,a,s));break;case"b":case"e":Bt(t,517,K3t(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=TJ(i.Strings,e.v,i.revStrings);Bt(t,253,D3t(r,n,o,s))}else Bt(t,516,F3t(r,n,(e.v||"").slice(0,255),s,i));break;default:Bt(t,513,$_(r,n,s))}}function qBt(t,e,r){var n=cu(),i=r.SheetNames[t],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),c=e.biff==8,u,d="",h=[],f=Qn(s["!ref"]||"A1"),g=c?65536:16384;if(f.e.c>255||f.e.r>=g){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,g-1)}Bt(n,2057,yJ(r,16,e)),Bt(n,13,nh(1)),Bt(n,12,nh(100)),Bt(n,15,fc(!0)),Bt(n,17,fc(!1)),Bt(n,16,L_(.001)),Bt(n,95,fc(!0)),Bt(n,42,fc(!1)),Bt(n,43,fc(!1)),Bt(n,130,nh(1)),Bt(n,128,G3t()),Bt(n,131,fc(!1)),Bt(n,132,fc(!1)),c&&HBt(n,s["!cols"]),Bt(n,512,$3t(f,e)),c&&(s["!links"]=[]);for(var m=f.s.r;m<=f.e.r;++m){d=Aa(m);for(var v=f.s.c;v<=f.e.c;++v){m===f.s.r&&(h[v]=js(v)),u=h[v]+d;var x=l?(s[m]||[])[v]:s[u];x&&(WBt(n,x,m,v,e),c&&x.l&&s["!links"].push([u,x.l]))}}var w=o.CodeName||o.name||i;return c&&Bt(n,574,P3t((a.Views||[])[0])),c&&(s["!merges"]||[]).length&&Bt(n,229,aDt(s["!merges"])),c&&zBt(n,s),Bt(n,442,m5e(w)),c&&VBt(n,s),Bt(n,10),n.end()}function GBt(t,e,r){var n=cu(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(Bt(n,2057,yJ(t,5,r)),r.bookType=="xla"&&Bt(n,135),Bt(n,225,o?nh(1200):null),Bt(n,193,KRt(2)),l&&Bt(n,191),l&&Bt(n,192),Bt(n,226),Bt(n,92,g3t("SheetJS",r)),Bt(n,66,nh(o?1200:1252)),o&&Bt(n,353,nh(0)),o&&Bt(n,448),Bt(n,317,SDt(t.SheetNames.length)),o&&t.vbaraw&&Bt(n,211),o&&t.vbaraw){var c=a.CodeName||"ThisWorkbook";Bt(n,442,m5e(c))}Bt(n,156,nh(17)),Bt(n,25,fc(!1)),Bt(n,18,fc(!1)),Bt(n,19,nh(0)),o&&Bt(n,431,fc(!1)),o&&Bt(n,444,nh(0)),Bt(n,61,C3t()),Bt(n,64,fc(!1)),Bt(n,141,nh(0)),Bt(n,34,fc(E8t(t)=="true")),Bt(n,14,fc(!0)),o&&Bt(n,439,fc(!1)),Bt(n,218,nh(0)),BBt(n,t,r),$Bt(n,t.SSF,r),UBt(n,r),o&&Bt(n,352,fc(!1));var u=n.end(),d=cu();o&&Bt(d,140,gDt()),o&&r.Strings&&RBt(d,252,w3t(r.Strings)),Bt(d,10);var h=d.end(),f=cu(),g=0,m=0;for(m=0;m<t.SheetNames.length;++m)g+=(o?12:11)+(o?2:1)*t.SheetNames[m].length;var v=u.length+g+h.length;for(m=0;m<t.SheetNames.length;++m){var x=s[m]||{};Bt(f,133,x3t({pos:v,hs:x.Hidden||0,dt:0,name:t.SheetNames[m]},r)),v+=e[m].length}var w=f.end();if(g!=w.length)throw new Error("BS8 "+g+" != "+w.length);var b=[];return u.length&&b.push(u),w.length&&b.push(w),h.length&&b.push(h),Oo(b)}function KBt(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=As(Fr)),t&&t.SSF&&(zC(),y7(t.SSF),r.revssf=b7(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,IJ(r),r.cellXfs=[],Ax(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=qBt(i,r,t);return n.unshift(GBt(t,n,r)),Oo(n)}function lPe(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=du(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return KBt(t,e);case 4:case 3:case 2:return LBt(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function ofe(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),a=i.index,o=s&&s.index||t.length,l=OOt(t.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,d=0,h=0,f={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(a=0;a<l.length;++a){var m=l[a].trim(),v=m.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var x=m.split(/<\/t[dh]>/i);for(o=0;o<x.length;++o){var w=x[o].trim();if(w.match(/<t[dh]/i)){for(var b=w,_=0;b.charAt(0)=="<"&&(_=b.indexOf(">"))>-1;)b=b.slice(_+1);for(var S=0;S<g.length;++S){var T=g[S];T.s.c==u&&T.s.r<c&&c<=T.e.r&&(u=T.e.c+1,S=-1)}var E=Hr(w.slice(0,w.indexOf(">")));h=E.colspan?+E.colspan:1,((d=+E.rowspan)>1||h>1)&&g.push({s:{r:c,c:u},e:{r:c+(d||1)-1,c:u+h-1}});var C=E.t||E["data-t"]||"";if(!b.length){u+=h;continue}if(b=Oke(b),f.s.r>c&&(f.s.r=c),f.e.r<c&&(f.e.r=c),f.s.c>u&&(f.s.c=u),f.e.c<u&&(f.e.c=u),!b.length){u+=h;continue}var N={t:"s",v:b};r.raw||!b.trim().length||C=="s"||(b==="TRUE"?N={t:"b",v:!0}:b==="FALSE"?N={t:"b",v:!1}:isNaN(kf(b))?isNaN(eC(b).getDate())||(N={t:"d",v:Ss(b)},r.cellDates||(N={t:"n",v:po(N.v)}),N.z=r.dateNF||Fr[14]):N={t:"n",v:kf(b)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=N):n[Br({r:c,c:u})]=N,u+=h}}}}return n["!ref"]=ln(f),g.length&&(n["!merges"]=g),n}function YBt(t,e,r,n){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>r||i[c].s.c>a)&&!(i[c].e.r<r||i[c].e.c<a)){if(i[c].s.r<r||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=Br({r,c:a}),d=n.dense?(t[r]||[])[a]:t[u],h=d&&d.v!=null&&(d.h||sJ(d.w||(Gg(d),d.w)||""))||"",f={};o>1&&(f.rowspan=o),l>1&&(f.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":d&&(f["data-t"]=d&&d.t||"z",d.v!=null&&(f["data-v"]=d.v),d.z!=null&&(f["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),f.id=(n.id||"sjs")+"-"+u,s.push(jt("td",h,f))}}var g="<tr>";return g+s.join("")+"</tr>"}var XBt='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',ZBt="</body></html>";function QBt(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Sx(ofe(r[0],e),e);var n=DJ();return r.forEach(function(i,s){MJ(n,ofe(i,e),"Sheet"+(s+1))}),n}function JBt(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function cPe(t,e){var r=e||{},n=r.header!=null?r.header:XBt,i=r.footer!=null?r.footer:ZBt,s=[n],a=du(t["!ref"]);r.dense=Array.isArray(t),s.push(JBt(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)s.push(YBt(t,a,o,r));return s.push("</table>"+i),s.join("")}function uPe(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?Ls(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var u=du(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var d=[],h=0,f=t["!rows"]||(t["!rows"]=[]),g=0,m=0,v=0,x=0,w=0,b=0;for(t["!cols"]||(t["!cols"]=[]);g<o.length&&m<l;++g){var _=o[g];if(lfe(_)){if(n.display)continue;f[m]={hidden:!0}}var S=_.children;for(v=x=0;v<S.length;++v){var T=S[v];if(!(n.display&&lfe(T))){var E=T.hasAttribute("data-v")?T.getAttribute("data-v"):T.hasAttribute("v")?T.getAttribute("v"):Oke(T.innerHTML),C=T.getAttribute("data-z")||T.getAttribute("z");for(h=0;h<d.length;++h){var N=d[h];N.s.c==x+s&&N.s.r<m+i&&m+i<=N.e.r&&(x=N.e.c+1-s,h=-1)}b=+T.getAttribute("colspan")||1,((w=+T.getAttribute("rowspan")||1)>1||b>1)&&d.push({s:{r:m+i,c:x+s},e:{r:m+i+(w||1)-1,c:x+s+(b||1)-1}});var F={t:"s",v:E},A=T.getAttribute("data-t")||T.getAttribute("t")||"";E!=null&&(E.length==0?F.t=A||"z":n.raw||E.trim().length==0||A=="s"||(E==="TRUE"?F={t:"b",v:!0}:E==="FALSE"?F={t:"b",v:!1}:isNaN(kf(E))?isNaN(eC(E).getDate())||(F={t:"d",v:Ss(E)},n.cellDates||(F={t:"n",v:po(F.v)}),F.z=n.dateNF||Fr[14]):F={t:"n",v:kf(E)})),F.z===void 0&&C!=null&&(F.z=C);var I="",M=T.getElementsByTagName("A");if(M&&M.length)for(var U=0;U<M.length&&!(M[U].hasAttribute("href")&&(I=M[U].getAttribute("href"),I.charAt(0)!="#"));++U);I&&I.charAt(0)!="#"&&(F.l={Target:I}),n.dense?(t[m+i]||(t[m+i]=[]),t[m+i][x+s]=F):t[Br({c:x+s,r:m+i})]=F,c.e.c<x+s&&(c.e.c=x+s),x+=b}}++m}return d.length&&(t["!merges"]=(t["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,m-1+i),t["!ref"]=ln(c),m>=l&&(t["!fullref"]=ln((c.e.r=o.length-g+m-1+i,c))),t}function dPe(t,e){var r=e||{},n=r.dense?[]:{};return uPe(n,t,e)}function e7t(t,e){return Sx(dPe(t,e),e)}function lfe(t){var e="",r=t7t(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function t7t(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function r7t(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Kn(e.replace(/<[^>]*>/g,""));return[r]}var cfe={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function hPe(t,e){var r=e||{},n=aJ(t),i=[],s,a,o={name:""},l="",c=0,u,d,h={},f=[],g=r.dense?[]:{},m,v,x={value:""},w="",b=0,_=[],S=-1,T=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,N={},F=[],A={},I=0,M=0,U=[],Y=1,X=1,W=[],G={Names:[]},B={},re=["",""],ae=[],R={},j="",V=0,K=!1,ne=!1,J=0;for(yI.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=yI.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"":m[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?g["!ref"]=ln(E):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=E.e.r&&(g["!fullref"]=g["!ref"],E.e.r=r.sheetRows-1,g["!ref"]=ln(E)),F.length&&(g["!merges"]=F),U.length&&(g["!rows"]=U),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),f.push(u.name),h[u.name]=g,ne=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=Hr(m[0],!1),S=T=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,g=r.dense?[]:{},F=[],U=[],ne=!0);break;case"table-row-group":m[1]==="/"?--C:++C;break;case"table-row":case"":if(m[1]==="/"){S+=Y,Y=1;break}if(d=Hr(m[0],!1),d.?S=d.-1:S==-1&&(S=0),Y=+d["number-rows-repeated"]||1,Y<10)for(J=0;J<Y;++J)C>0&&(U[S+J]={level:C});T=-1;break;case"covered-table-cell":m[1]!=="/"&&++T,r.sheetStubs&&(r.dense?(g[S]||(g[S]=[]),g[S][T]={t:"z"}):g[Br({r:S,c:T})]={t:"z"}),w="",_=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++T,x=Hr(m[0],!1),X=parseInt(x["number-columns-repeated"]||"1",10),v={t:"z",v:null},x.formula&&r.cellFormula!=!1&&(v.f=ife(Kn(x.formula))),(x.||x["value-type"])=="string"&&(v.t="s",v.v=Kn(x["string-value"]||""),r.dense?(g[S]||(g[S]=[]),g[S][T]=v):g[Br({r:S,c:T})]=v),T+=X-1;else if(m[1]!=="/"){++T,w="",b=0,_=[],X=1;var me=Y?S+Y-1:S;if(T>E.e.c&&(E.e.c=T),T<E.s.c&&(E.s.c=T),S<E.s.r&&(E.s.r=S),me>E.e.r&&(E.e.r=me),x=Hr(m[0],!1),ae=[],R={},v={t:x.||x["value-type"],v:null},r.cellFormula)if(x.formula&&(x.formula=Kn(x.formula)),x["number-matrix-columns-spanned"]&&x["number-matrix-rows-spanned"]&&(I=parseInt(x["number-matrix-rows-spanned"],10)||0,M=parseInt(x["number-matrix-columns-spanned"],10)||0,A={s:{r:S,c:T},e:{r:S+I-1,c:T+M-1}},v.F=ln(A),W.push([A,v.F])),x.formula)v.f=ife(x.formula);else for(J=0;J<W.length;++J)S>=W[J][0].s.r&&S<=W[J][0].e.r&&T>=W[J][0].s.c&&T<=W[J][0].e.c&&(v.F=W[J][1]);switch((x["number-columns-spanned"]||x["number-rows-spanned"])&&(I=parseInt(x["number-rows-spanned"],10)||0,M=parseInt(x["number-columns-spanned"],10)||0,A={s:{r:S,c:T},e:{r:S+I-1,c:T+M-1}},F.push(A)),x["number-columns-repeated"]&&(X=parseInt(x["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=bs(x["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(x.value);break;case"percentage":v.t="n",v.v=parseFloat(x.value);break;case"currency":v.t="n",v.v=parseFloat(x.value);break;case"date":v.t="d",v.v=Ss(x["date-value"]),r.cellDates||(v.t="n",v.v=po(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=POt(x["time-value"])/86400,r.cellDates&&(v.t="d",v.v=w7(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(x.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",x["string-value"]!=null&&(w=Kn(x["string-value"]),_=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(K=!1,v.t==="s"&&(v.v=w||"",_.length&&(v.R=_),K=b==0),B.Target&&(v.l=B),ae.length>0&&(v.c=ae,ae=[]),w&&r.cellText!==!1&&(v.w=w),K&&(v.t="z",delete v.v),(!K||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var ce=0;ce<Y;++ce){if(X=parseInt(x["number-columns-repeated"]||"1",10),r.dense)for(g[S+ce]||(g[S+ce]=[]),g[S+ce][T]=ce==0?v:As(v);--X>0;)g[S+ce][T+X]=As(v);else for(g[Br({r:S+ce,c:T})]=v;--X>0;)g[Br({r:S+ce,c:T+X})]=As(v);E.e.c<=T&&(E.e.c=T)}X=parseInt(x["number-columns-repeated"]||"1",10),T+=X-1,X=0,v={},w="",_=[]}B={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((s=i.pop())[0]!==m[3])throw"Bad state: "+s}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((s=i.pop())[0]!==m[3])throw"Bad state: "+s;R.t=w,_.length&&(R.R=_),R.a=j,ae.push(R)}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!1]);j="",V=0,w="",b=0,_=[];break;case"creator":m[1]==="/"?j=n.slice(V,m.index):V=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((s=i.pop())[0]!==m[3])throw"Bad state: "+s}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!1]);w="",b=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(N[o.name]=l,(s=i.pop())[0]!==m[3])throw"Bad state: "+s}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=Hr(m[0],!1),i.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Hr(m[0],!1),l+=cfe[m[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Hr(m[0],!1),l+=cfe[m[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,m.index);break}else c=m.index+m[0].length;break;case"named-range":a=Hr(m[0],!1),re=$V(a["cell-range-address"]);var he={Name:a.name,Ref:re[0]+"!"+re[1]};ne&&(he.Sheet=f.length),G.Names.push(he);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(m[1]==="/"&&(!x||!x["string-value"])){var _e=r7t(n.slice(b,m.index));w=(w.length>0?w+`
`:"")+_e[0]}else Hr(m[0],!1),b=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{re=$V(Hr(m[0])["target-range-address"]),h[re[0]]["!autofilter"]={ref:re[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(B=Hr(m[0],!1),!B.href)break;B.Target=Kn(B.href),delete B.href,B.Target.charAt(0)=="#"&&B.Target.indexOf(".")>-1?(re=$V(B.Target.slice(1)),B.Target="#"+re[0]+"!"+re[1]):B.Target.match(/^\.\.[\\\/]/)&&(B.Target=B.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(m)}}var ee={Sheets:h,SheetNames:f,Workbook:G};return r.bookSheets&&delete ee.Sheets,ee}function ufe(t,e){e=e||{},zd(t,"META-INF/manifest.xml")&&PRt(Ra(t,"META-INF/manifest.xml"),e);var r=ad(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=hPe(Li(r),e);return zd(t,"meta.xml")&&(n.Props=r5e(Ra(t,"meta.xml"))),n}function dfe(t,e){return hPe(t,e)}var n7t=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+vI({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Ea+e}}(),hfe=function(){var t=function(s){return Ti(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,o){var l=[];l.push('      <table:table table:name="'+Ti(a.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,d=du(s["!ref"]||"A1"),h=s["!merges"]||[],f=0,g=Array.isArray(s);if(s["!cols"])for(u=0;u<=d.e.c;++u)l.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var m="",v=s["!rows"]||[];for(c=0;c<d.s.r;++c)m=v[c]?' table:style-name="ro'+v[c].ods+'"':"",l.push("        <table:table-row"+m+`></table:table-row>
`);for(;c<=d.e.r;++c){for(m=v[c]?' table:style-name="ro'+v[c].ods+'"':"",l.push("        <table:table-row"+m+`>
`),u=0;u<d.s.c;++u)l.push(e);for(;u<=d.e.c;++u){var x=!1,w={},b="";for(f=0;f!=h.length;++f)if(!(h[f].s.c>u)&&!(h[f].s.r>c)&&!(h[f].e.c<u)&&!(h[f].e.r<c)){(h[f].s.c!=u||h[f].s.r!=c)&&(x=!0),w["table:number-columns-spanned"]=h[f].e.c-h[f].s.c+1,w["table:number-rows-spanned"]=h[f].e.r-h[f].s.r+1;break}if(x){l.push(r);continue}var _=Br({r:c,c:u}),S=g?(s[c]||[])[u]:s[_];if(S&&S.f&&(w["table:formula"]=Ti(SLt(S.f)),S.F&&S.F.slice(0,_.length)==_)){var T=du(S.F);w["table:number-matrix-columns-spanned"]=T.e.c-T.s.c+1,w["table:number-matrix-rows-spanned"]=T.e.r-T.s.r+1}if(!S){l.push(e);continue}switch(S.t){case"b":b=S.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=S.v?"true":"false";break;case"n":b=S.w||String(S.v||0),w["office:value-type"]="float",w["office:value"]=S.v||0;break;case"s":case"str":b=S.v==null?"":S.v,w["office:value-type"]="string";break;case"d":b=S.w||Ss(S.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=Ss(S.v).toISOString(),w["table:style-name"]="ce1";break;default:l.push(e);continue}var E=t(b);if(S.l&&S.l.Target){var C=S.l.Target;C=C.charAt(0)=="#"?"#"+ALt(C.slice(1)):C,C.charAt(0)!="#"&&!C.match(/^\w+:/)&&(C="../"+C),E=jt("text:a",E,{"xlink:href":C.replace(/&/g,"&amp;")})}l.push("          "+jt("table:table-cell",jt("text:p",E,{}),w)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var d=c["!cols"][u];if(d.width==null&&d.wpx==null&&d.wch==null)continue;Zy(d),d.ods=o;var h=c["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var d=c["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[Ea],c=vI({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=vI({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(t5e().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var d=0;d!=a.SheetNames.length;++d)l.push(n(a.Sheets[a.SheetNames[d]],a,d));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function fPe(t,e){if(e.bookType=="fods")return hfe(t,e);var r=rJ(),n="",i=[],s=[];return n="mimetype",hn(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",hn(r,n,hfe(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",hn(r,n,n7t(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",hn(r,n,Ea+t5e()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",hn(r,n,ORt(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",hn(r,n,NRt(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function V_(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function gq(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Li(_x(t))}function i7t(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):sd(lm(t))}function s7t(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Jy(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function ffe(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function a7t(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,i=e+13;i>=e;--i)n=n*256+t[i];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function o7t(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function EI(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function bi(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function sa(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function ti(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=EI(t,r),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=EI(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var c={data:o,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function Bo(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(bi(n*8+i.type)),i.type==2&&e.push(bi(i.data.length)),e.push(i.data))})}),Jy(e)}function PJ(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function Vd(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=EI(t,n),s=ti(t.slice(n[0],n[0]+i));n[0]+=i;var a={id:sa(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=ti(o.data),c=sa(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+c)}),n[0]+=c}),(e=s[3])!=null&&e[0]&&(a.merge=sa(s[3][0].data)>>>0>0),r.push(a)}return r}function X2(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:bi(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:bi(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:bi(a.data.length)}],n[2].push({data:Bo(a.meta),type:2})});var s=Bo(n);e.push(bi(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),Jy(e)}function l7t(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=EI(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}i.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(c=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Jy(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=Jy(i);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function Ud(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(l7t(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Jy(e)}function Z2(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=bi(n),a=s.length;e.push(s),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return Jy(e)}function c7t(t,e,r,n){var i=V_(t),s=i.getUint32(4,!0),a=(n>1?12:8)+ffe(s&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=ffe(s&(n>1?12288:4096))*4,s&16&&(l=i.getUint32(a,!0),a+=4),s&32&&(c=i.getFloat64(a,!0),a+=8),s&64&&(u.setTime(u.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var d;switch(t[2]){case 0:break;case 2:d={t:"n",v:c};break;case 3:d={t:"s",v:e[l]};break;case 5:d={t:"d",v:u};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(o>-1)d={t:"s",v:r[o]};else if(l>-1)d={t:"s",v:e[l]};else if(!isNaN(c))d={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return d}function u7t(t,e,r){var n=V_(t),i=n.getUint32(8,!0),s=12,a=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=a7t(t,s),s+=16),i&2&&(c=n.getFloat64(s,!0),s+=8),i&4&&(u.setTime(u.getTime()+n.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=n.getUint32(s,!0),s+=4),i&16&&(a=n.getUint32(s,!0),s+=4);var d;switch(t[1]){case 0:break;case 2:d={t:"n",v:l};break;case 3:d={t:"s",v:e[o]};break;case 5:d={t:"d",v:u};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(a>-1)d={t:"s",v:r[a]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:d={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return d}function UV(t,e){var r=new Uint8Array(32),n=V_(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,o7t(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function zV(t,e){var r=new Uint8Array(32),n=V_(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function d7t(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return c7t(t,e,r,t[0]);case 5:return u7t(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Pl(t){var e=ti(t);return EI(e[1][0].data)}function pfe(t,e){var r=ti(e.data),n=sa(r[1][0].data),i=r[3],s=[];return(i||[]).forEach(function(a){var o=ti(a.data),l=sa(o[1][0].data)>>>0;switch(n){case 1:s[l]=gq(o[3][0].data);break;case 8:{var c=t[Pl(o[9][0].data)][0],u=ti(c.data),d=t[Pl(u[1][0].data)][0],h=sa(d.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var f=ti(d.data);s[l]=f[3].map(function(g){return gq(g.data)}).join("")}break}}),s}function h7t(t,e){var r,n,i,s,a,o,l,c,u,d,h,f,g,m,v=ti(t),x=sa(v[1][0].data)>>>0,w=sa(v[2][0].data)>>>0,b=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&sa(v[8][0].data)>0||!1,_,S;if((s=(i=v[7])==null?void 0:i[0])!=null&&s.data&&e!=0)_=(o=(a=v[7])==null?void 0:a[0])==null?void 0:o.data,S=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((d=(u=v[4])==null?void 0:u[0])!=null&&d.data&&e!=1)_=(f=(h=v[4])==null?void 0:h[0])==null?void 0:f.data,S=(m=(g=v[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var T=b?4:1,E=V_(_),C=[],N=0;N<_.length/2;++N){var F=E.getUint16(N*2,!0);F<65535&&C.push([N,F])}if(C.length!=w)throw"Expected ".concat(w," cells, found ").concat(C.length);var A=[];for(N=0;N<C.length-1;++N)A[C[N][0]]=S.subarray(C[N][1]*T,C[N+1][1]*T);return C.length>=1&&(A[C[C.length-1][0]]=S.subarray(C[C.length-1][1]*T)),{R:x,cells:A}}function f7t(t,e){var r,n=ti(e.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?sa(n[7][0].data)>>>0>0?1:0:-1,s=PJ(n[5],function(a){return h7t(a,i)});return{nrows:sa(n[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,c){if(a[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));a[o.R][c]=l}),a},[])}}function p7t(t,e,r){var n,i=ti(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(sa(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(sa(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=ln(s);var a=ti(i[4][0].data),o=pfe(t,t[Pl(a[4][0].data)][0]),l=(n=a[17])!=null&&n[0]?pfe(t,t[Pl(a[17][0].data)][0]):[],c=ti(a[3][0].data),u=0;c[1].forEach(function(d){var h=ti(d.data),f=t[Pl(h[2][0].data)][0],g=sa(f.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=f7t(t,f);m.data.forEach(function(v,x){v.forEach(function(w,b){var _=Br({r:u+x,c:b}),S=d7t(w,o,l);S&&(r[_]=S)})}),u+=m.nrows})}function m7t(t,e){var r=ti(e.data),n={"!ref":"A1"},i=t[Pl(r[2][0].data)],s=sa(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return p7t(t,i[0],n),n}function g7t(t,e){var r,n=ti(e.data),i={name:(r=n[1])!=null&&r[0]?gq(n[1][0].data):"",sheets:[]},s=PJ(n[2],Pl);return s.forEach(function(a){t[a].forEach(function(o){var l=sa(o.meta[1][0].data);l==6e3&&i.sheets.push(m7t(t,o))})}),i}function v7t(t,e){var r=DJ(),n=ti(e.data),i=PJ(n[1],Pl);if(i.forEach(function(s){t[s].forEach(function(a){var o=sa(a.meta[1][0].data);if(o==2){var l=g7t(t,a);l.sheets.forEach(function(c,u){MJ(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function HV(t){var e,r,n,i,s={},a=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=Ud(l.content)}catch(d){return console.log("?? "+l.content.length+" "+(d.message||d))}var u;try{u=Vd(c)}catch(d){return console.log("## "+(d.message||d))}u.forEach(function(d){s[d.id]=d.messages,a.push(d.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(n=(r=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&sa(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(l){s[l].forEach(function(c){var u=sa(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return v7t(s,o)}function y7t(t,e,r){var n,i,s,a;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&sa(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=V_(t[7][0].data),u=0,d=[],h=V_(t[4][0].data),f=0,g=[],m=0;m<e.length;++m){if(e[m]==null){c.setUint16(m*2,65535,!0),h.setUint16(m*2,65535);continue}c.setUint16(m*2,u,!0),h.setUint16(m*2,f,!0);var v,x;switch(typeof e[m]){case"string":v=UV({t:"s",v:e[m]},r),x=zV({t:"s",v:e[m]},r);break;case"number":v=UV({t:"n",v:e[m]},r),x=zV({t:"n",v:e[m]},r);break;case"boolean":v=UV({t:"b",v:e[m]},r),x=zV({t:"b",v:e[m]},r);break;default:throw new Error("Unsupported value "+e[m])}d.push(v),u+=v.length,g.push(x),f+=x.length,++l}for(t[2][0].data=bi(l);m<t[7][0].data.length/2;++m)c.setUint16(m*2,65535,!0),h.setUint16(m*2,65535,!0);return t[6][0].data=Jy(d),t[3][0].data=Jy(g),l}function x7t(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=du(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(ln(n)));var s=JL(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(j){return j.forEach(function(V){typeof V=="string"&&a.push(V)})});var o={},l=[],c=Nr.read(e.numbers,{type:"base64"});c.FileIndex.map(function(j,V){return[j,c.FullPaths[V]]}).forEach(function(j){var V=j[0],K=j[1];if(V.type==2&&V.name.match(/\.iwa/)){var ne=V.content,J=Ud(ne),me=Vd(J);me.forEach(function(ce){l.push(ce.id),o[ce.id]={deps:[],location:K,type:sa(ce.messages[0].meta[1][0].data)}})}}),l.sort(function(j,V){return j-V});var u=l.filter(function(j){return j>1}).map(function(j){return[j,bi(j)]});c.FileIndex.map(function(j,V){return[j,c.FullPaths[V]]}).forEach(function(j){var V=j[0];if(j[1],!!V.name.match(/\.iwa/)){var K=Vd(Ud(V.content));K.forEach(function(ne){ne.messages.forEach(function(J){u.forEach(function(me){ne.messages.some(function(ce){return sa(ce.meta[1][0].data)!=11006&&s7t(ce.data,me[1])})&&o[me[0]].deps.push(ne.id)})})})}});for(var d=Nr.find(c,o[1].location),h=Vd(Ud(d.content)),f,g=0;g<h.length;++g){var m=h[g];m.id==1&&(f=m)}var v=Pl(ti(f.messages[0].data)[1][0].data);for(d=Nr.find(c,o[v].location),h=Vd(Ud(d.content)),g=0;g<h.length;++g)m=h[g],m.id==v&&(f=m);for(v=Pl(ti(f.messages[0].data)[2][0].data),d=Nr.find(c,o[v].location),h=Vd(Ud(d.content)),g=0;g<h.length;++g)m=h[g],m.id==v&&(f=m);for(v=Pl(ti(f.messages[0].data)[2][0].data),d=Nr.find(c,o[v].location),h=Vd(Ud(d.content)),g=0;g<h.length;++g)m=h[g],m.id==v&&(f=m);var x=ti(f.messages[0].data);{x[6][0].data=bi(n.e.r+1),x[7][0].data=bi(n.e.c+1);var w=Pl(x[46][0].data),b=Nr.find(c,o[w].location),_=Vd(Ud(b.content));{for(var S=0;S<_.length&&_[S].id!=w;++S);if(_[S].id!=w)throw"Bad ColumnRowUIDMapArchive";var T=ti(_[S].messages[0].data);T[1]=[],T[2]=[],T[3]=[];for(var E=0;E<=n.e.c;++E){var C=[];C[1]=C[2]=[{type:0,data:bi(E+420690)}],T[1].push({type:2,data:Bo(C)}),T[2].push({type:0,data:bi(E)}),T[3].push({type:0,data:bi(E)})}T[4]=[],T[5]=[],T[6]=[];for(var N=0;N<=n.e.r;++N)C=[],C[1]=C[2]=[{type:0,data:bi(N+726270)}],T[4].push({type:2,data:Bo(C)}),T[5].push({type:0,data:bi(N)}),T[6].push({type:0,data:bi(N)});_[S].messages[0].data=Bo(T)}b.content=Z2(X2(_)),b.size=b.content.length,delete x[46];var F=ti(x[4][0].data);{F[7][0].data=bi(n.e.r+1);var A=ti(F[1][0].data),I=Pl(A[2][0].data);b=Nr.find(c,o[I].location),_=Vd(Ud(b.content));{if(_[0].id!=I)throw"Bad HeaderStorageBucket";var M=ti(_[0].messages[0].data);for(N=0;N<s.length;++N){var U=ti(M[2][0].data);U[1][0].data=bi(N),U[4][0].data=bi(s[N].length),M[2][N]={type:M[2][0].type,data:Bo(U)}}_[0].messages[0].data=Bo(M)}b.content=Z2(X2(_)),b.size=b.content.length;var Y=Pl(F[2][0].data);b=Nr.find(c,o[Y].location),_=Vd(Ud(b.content));{if(_[0].id!=Y)throw"Bad HeaderStorageBucket";for(M=ti(_[0].messages[0].data),E=0;E<=n.e.c;++E)U=ti(M[2][0].data),U[1][0].data=bi(E),U[4][0].data=bi(n.e.r+1),M[2][E]={type:M[2][0].type,data:Bo(U)};_[0].messages[0].data=Bo(M)}b.content=Z2(X2(_)),b.size=b.content.length;var X=Pl(F[4][0].data);(function(){for(var j=Nr.find(c,o[X].location),V=Vd(Ud(j.content)),K,ne=0;ne<V.length;++ne){var J=V[ne];J.id==X&&(K=J)}var me=ti(K.messages[0].data);{me[3]=[];var ce=[];a.forEach(function(ee,je){ce[1]=[{type:0,data:bi(je)}],ce[2]=[{type:0,data:bi(1)}],ce[3]=[{type:2,data:i7t(ee)}],me[3].push({type:2,data:Bo(ce)})})}K.messages[0].data=Bo(me);var he=X2(V),_e=Z2(he);j.content=_e,j.size=j.content.length})();var W=ti(F[3][0].data);{var G=W[1][0];delete W[2];var B=ti(G.data);{var re=Pl(B[2][0].data);(function(){for(var j=Nr.find(c,o[re].location),V=Vd(Ud(j.content)),K,ne=0;ne<V.length;++ne){var J=V[ne];J.id==re&&(K=J)}var me=ti(K.messages[0].data);{delete me[6],delete W[7];var ce=new Uint8Array(me[5][0].data);me[5]=[];for(var he=0,_e=0;_e<=n.e.r;++_e){var ee=ti(ce);he+=y7t(ee,s[_e],a),ee[1][0].data=bi(_e),me[5].push({data:Bo(ee),type:2})}me[1]=[{type:0,data:bi(n.e.c+1)}],me[2]=[{type:0,data:bi(n.e.r+1)}],me[3]=[{type:0,data:bi(he)}],me[4]=[{type:0,data:bi(n.e.r+1)}]}K.messages[0].data=Bo(me);var je=X2(V),Ue=Z2(je);j.content=Ue,j.size=j.content.length})()}G.data=Bo(B)}F[3][0].data=Bo(W)}x[4][0].data=Bo(F)}f.messages[0].data=Bo(x);var ae=X2(h),R=Z2(ae);return d.content=R,d.size=d.content.length,c}function pPe(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function NJ(t){pPe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function IJ(t){pPe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function b7t(t){return An.WS.indexOf(t)>-1?"sheet":t==An.CS?"chart":t==An.DS?"dialog":t==An.MS?"macro":t&&t.length?t:"sheet"}function w7t(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,b7t(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function _7t(t,e,r,n,i,s,a,o,l,c,u,d){try{s[n]=_P(ad(t,r,!0),e);var h=Ra(t,e),f;switch(o){case"sheet":f=H8t(h,e,i,l,s[n],c,u,d);break;case"chart":if(f=W8t(h,e,i,l,s[n],c,u,d),!f||!f["!drawel"])break;var g=x5(f["!drawel"].Target,e),m=xI(g),v=IFt(ad(t,g,!0),_P(ad(t,m,!0),g)),x=x5(v,g),w=xI(x);f=y8t(ad(t,x,!0),x,l,_P(ad(t,w,!0),x),c,f);break;case"macro":f=q8t(h,e,i,l,s[n],c,u,d);break;case"dialog":f=G8t(h,e,i,l,s[n],c,u,d);break;default:throw new Error("Unrecognized sheet type "+o)}a[n]=f;var b=[];s&&s[n]&&oa(s[n]).forEach(function(_){var S="";if(s[n][_].Type==An.CMNT){S=x5(s[n][_].Target,e);var T=Z8t(Ra(t,S,!0),S,l);if(!T||!T.length)return;Jhe(f,T,!1)}s[n][_].Type==An.TCMNT&&(S=x5(s[n][_].Target,e),b=b.concat(RFt(Ra(t,S,!0),l)))}),b&&b.length&&Jhe(f,b,!0,l.people||[])}catch(_){if(l.WTF)throw _}}function jd(t){return t.charAt(0)=="/"?t.slice(1):t}function S7t(t,e){if(zC(),e=e||{},NJ(e),zd(t,"META-INF/manifest.xml")||zd(t,"objectdata.xml"))return ufe(t,e);if(zd(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof HV<"u"){if(t.FileIndex)return HV(t);var r=Nr.utils.cfb_new();return bhe(t).forEach(function(U){hn(r,U,DOt(t,U))}),HV(r)}throw new Error("Unsupported NUMBERS file")}if(!zd(t,"[Content_Types].xml"))throw zd(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):zd(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=bhe(t),i=CRt(ad(t,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Ra(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Ra(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(SP=[],i.sst)try{SP=X8t(Ra(t,jd(i.sst)),i.sst,e)}catch(U){if(e.WTF)throw U}e.cellStyles&&i.themes.length&&(l=Y8t(ad(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=K8t(Ra(t,jd(i.style)),i.style,l,e))}i.links.map(function(U){try{var Y=_P(ad(t,xI(jd(U))),U);return J8t(Ra(t,jd(U)),Y,U,e)}catch{}});var u=z8t(Ra(t,jd(i.workbooks[0])),i.workbooks[0],e),d={},h="";i.coreprops.length&&(h=Ra(t,jd(i.coreprops[0]),!0),h&&(d=r5e(h)),i.extprops.length!==0&&(h=Ra(t,jd(i.extprops[0]),!0),h&&DRt(h,d,e)));var f={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(h=ad(t,jd(i.custprops[0]),!0),h&&(f=FRt(h,e)));var g={};if((e.bookSheets||e.bookProps)&&(u.Sheets?a=u.Sheets.map(function(Y){return Y.name}):d.Worksheets&&d.SheetNames.length>0&&(a=d.SheetNames),e.bookProps&&(g.Props=d,g.Custprops=f),e.bookSheets&&typeof a<"u"&&(g.SheetNames=a),e.bookSheets?g.SheetNames:e.bookProps))return g;a={};var m={};e.bookDeps&&i.calcchain&&(m=Q8t(Ra(t,jd(i.calcchain)),i.calcchain));var v=0,x={},w,b;{var _=u.Sheets;d.Worksheets=_.length,d.SheetNames=[];for(var S=0;S!=_.length;++S)d.SheetNames[S]=_[S].name}var T=s?"bin":"xml",E=i.workbooks[0].lastIndexOf("/"),C=(i.workbooks[0].slice(0,E+1)+"_rels/"+i.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");zd(t,C)||(C="xl/_rels/workbook."+T+".rels");var N=_P(ad(t,C,!0),C.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=eBt(Ra(t,jd(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=MFt(Ra(t,jd(i.people[0])),e)),N&&(N=w7t(N,u.Sheets));var F=Ra(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=d.Worksheets;++v){var A="sheet";if(N&&N[v]?(w="xl/"+N[v][1].replace(/[\/]?xl\//,""),zd(t,w)||(w=N[v][1]),zd(t,w)||(w=C.replace(/_rels\/.*$/,"")+N[v][1]),A=N[v][2]):(w="xl/worksheets/sheet"+(v+1-F)+"."+T,w=w.replace(/sheet0\./,"sheet.")),b=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(v!=e.sheets)continue e;break;case"string":if(d.SheetNames[v].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var I=!1,M=0;M!=e.sheets.length;++M)typeof e.sheets[M]=="number"&&e.sheets[M]==v&&(I=1),typeof e.sheets[M]=="string"&&e.sheets[M].toLowerCase()==d.SheetNames[v].toLowerCase()&&(I=1);if(!I)continue e}}_7t(t,w,b,d.SheetNames[v],v,x,a,A,e,u,l,c)}return g={Directory:i,Workbook:u,Props:d,Custprops:f,Deps:m,Sheets:a,SheetNames:d.SheetNames,Strings:SP,Styles:c,Themes:l,SSF:As(Fr)},e&&e.bookFiles&&(t.files?(g.keys=n,g.files=t.files):(g.keys=[],g.files={},t.FullPaths.forEach(function(U,Y){U=U.replace(/^Root Entry[\/]/,""),g.keys.push(U),g.files[U]=t.FileIndex[Y]}))),e&&e.bookVBA&&(i.vba.length>0?g.vbaraw=Ra(t,jd(i.vba[0]),!0):i.defaults&&i.defaults.bin===zFt&&(g.vbaraw=Ra(t,"xl/vbaProject.bin",!0))),g}function A7t(t,e){var r=e||{},n="Workbook",i=Nr.find(t,n);try{if(n="/!DataSpaces/Version",i=Nr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(eMt(i.content),n="/!DataSpaces/DataSpaceMap",i=Nr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=rMt(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Nr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=nMt(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Nr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);sMt(i.content)}catch{}if(n="/EncryptionInfo",i=Nr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=aMt(i.content);if(n="/EncryptedPackage",i=Nr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function E7t(t,e){return e.bookType=="ods"?fPe(t,e):e.bookType=="numbers"?x7t(t,e):e.bookType=="xlsb"?T7t(t,e):C7t(t,e)}function T7t(t,e){RS=1024,t&&!t.SSF&&(t.SSF=As(Fr)),t&&t.SSF&&(zC(),y7(t.SSF),e.revssf=b7(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,AP?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=V5e.indexOf(e.bookType)>-1,i=gJ();IJ(e=e||{});var s=rJ(),a="",o=0;if(e.cellXfs=[],Ax(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",hn(s,a,n5e(t.Props,e)),i.coreprops.push(a),_i(e.rels,2,a,An.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,hn(s,a,a5e(t.Props)),i.extprops.push(a),_i(e.rels,3,a,An.EXT_PROPS),t.Custprops!==t.Props&&oa(t.Custprops||{}).length>0&&(a="docProps/custom.xml",hn(s,a,o5e(t.Custprops)),i.custprops.push(a),_i(e.rels,4,a,An.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var u={"!id":{}},d=t.Sheets[t.SheetNames[o-1]],h=(d||{})["!type"]||"sheet";switch(h){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,hn(s,a,rBt(o-1,a,e,t,u)),i.sheets.push(a),_i(e.wbrels,-1,"worksheets/sheet"+o+"."+r,An.WS[0])}if(d){var f=d["!comments"],g=!1,m="";f&&f.length>0&&(m="xl/comments"+o+"."+r,hn(s,m,sBt(f,m)),i.comments.push(m),_i(u,-1,"../comments"+o+"."+r,An.CMNT),g=!0),d["!legacy"]&&g&&hn(s,"xl/drawings/vmlDrawing"+o+".vml",B5e(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}u["!id"].rId1&&hn(s,xI(a),gA(u))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,hn(s,a,iBt(e.Strings,a,e)),i.strs.push(a),_i(e.wbrels,-1,"sharedStrings."+r,An.SST)),a="xl/workbook."+r,hn(s,a,tBt(t,a)),i.workbooks.push(a),_i(e.rels,1,a,An.WB),a="xl/theme/theme1.xml",hn(s,a,_J(t.Themes,e)),i.themes.push(a),_i(e.wbrels,-1,"theme/theme1.xml",An.THEME),a="xl/styles."+r,hn(s,a,nBt(t,a,e)),i.styles.push(a),_i(e.wbrels,-1,"styles."+r,An.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",hn(s,a,t.vbaraw),i.vba.push(a),_i(e.wbrels,-1,"vbaProject.bin",An.VBA)),a="xl/metadata."+r,hn(s,a,aBt(a)),i.metadata.push(a),_i(e.wbrels,-1,"metadata."+r,An.XLMETA),hn(s,"[Content_Types].xml",e5e(i,e)),hn(s,"_rels/.rels",gA(e.rels)),hn(s,"xl/_rels/workbook."+r+".rels",gA(e.wbrels)),delete e.revssf,delete e.ssf,s}function C7t(t,e){RS=1024,t&&!t.SSF&&(t.SSF=As(Fr)),t&&t.SSF&&(zC(),y7(t.SSF),e.revssf=b7(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,AP?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=V5e.indexOf(e.bookType)>-1,i=gJ();IJ(e=e||{});var s=rJ(),a="",o=0;if(e.cellXfs=[],Ax(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",hn(s,a,n5e(t.Props,e)),i.coreprops.push(a),_i(e.rels,2,a,An.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,hn(s,a,a5e(t.Props)),i.extprops.push(a),_i(e.rels,3,a,An.EXT_PROPS),t.Custprops!==t.Props&&oa(t.Custprops||{}).length>0&&(a="docProps/custom.xml",hn(s,a,o5e(t.Custprops)),i.custprops.push(a),_i(e.rels,4,a,An.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var d={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],f=(h||{})["!type"]||"sheet";switch(f){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,hn(s,a,Q5e(o-1,e,t,d)),i.sheets.push(a),_i(e.wbrels,-1,"worksheets/sheet"+o+"."+r,An.WS[0])}if(h){var g=h["!comments"],m=!1,v="";if(g&&g.length>0){var x=!1;g.forEach(function(w){w[1].forEach(function(b){b.T==!0&&(x=!0)})}),x&&(v="xl/threadedComments/threadedComment"+o+"."+r,hn(s,v,DFt(g,u,e)),i.threadedcomments.push(v),_i(d,-1,"../threadedComments/threadedComment"+o+"."+r,An.TCMNT)),v="xl/comments"+o+"."+r,hn(s,v,$5e(g)),i.comments.push(v),_i(d,-1,"../comments"+o+"."+r,An.CMNT),m=!0}h["!legacy"]&&m&&hn(s,"xl/drawings/vmlDrawing"+o+".vml",B5e(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&hn(s,xI(a),gA(d))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,hn(s,a,C5e(e.Strings,e)),i.strs.push(a),_i(e.wbrels,-1,"sharedStrings."+r,An.SST)),a="xl/workbook."+r,hn(s,a,nPe(t)),i.workbooks.push(a),_i(e.rels,1,a,An.WB),a="xl/theme/theme1.xml",hn(s,a,_J(t.Themes,e)),i.themes.push(a),_i(e.wbrels,-1,"theme/theme1.xml",An.THEME),a="xl/styles."+r,hn(s,a,M5e(t,e)),i.styles.push(a),_i(e.wbrels,-1,"styles."+r,An.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",hn(s,a,t.vbaraw),i.vba.push(a),_i(e.wbrels,-1,"vbaProject.bin",An.VBA)),a="xl/metadata."+r,hn(s,a,L5e()),i.metadata.push(a),_i(e.wbrels,-1,"metadata."+r,An.XLMETA),u.length>1&&(a="xl/persons/person.xml",hn(s,a,FFt(u)),i.people.push(a),_i(e.wbrels,-1,"persons/person.xml",An.PEOPLE)),hn(s,"[Content_Types].xml",e5e(i,e)),hn(s,"_rels/.rels",gA(e.rels)),hn(s,"xl/_rels/workbook."+r+".rels",gA(e.wbrels)),delete e.revssf,delete e.ssf,s}function OJ(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=xd(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function k7t(t,e){return Nr.find(t,"EncryptedPackage")?A7t(t,e):oPe(t,e)}function P7t(t,e){var r,n=t,i=e||{};return i.type||(i.type=_n&&Buffer.isBuffer(t)?"buffer":"base64"),r=Pke(n,i),S7t(r,i)}function mPe(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return pq(t.slice(r),e);default:break e}return tC.to_workbook(t,e)}function N7t(t,e){var r="",n=OJ(t,e);switch(e.type){case"base64":r=xd(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=j_(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Li(r)),e.type="binary",mPe(r,e)}function I7t(t,e){var r=t;return e.type=="base64"&&(r=xd(r)),r=Jv.utils.decode(1200,r.slice(2),"str"),e.type="binary",mPe(r,e)}function O7t(t){return t.match(/[^\x00-\x7F]/)?lm(t):t}function WV(t,e,r,n){return n?(r.type="string",tC.to_workbook(t,r)):tC.to_workbook(e,r)}function vq(t,e){ZQ();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return vq(new Uint8Array(t),(r=As(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,i=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),yA={},r.dateNF&&(yA.dateNF=r.dateNF),r.type||(r.type=_n&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=_n?"buffer":"binary",n=TOt(t),typeof Uint8Array<"u"&&!_n&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=O7t(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return r=As(r),r.type="array",vq(QQ(n),r)}switch((i=OJ(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return k7t(Nr.read(n,r),r);break;case 9:if(i[1]<=8)return oPe(n,r);break;case 60:return pq(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return jDt(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return E5e.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?P7t(n,r):WV(t,n,r,s);case 239:return i[3]===60?pq(n,r):WV(t,n,r,s);case 255:if(i[1]===254)return I7t(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return n_.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return n_.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return fq.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return O5e.to_workbook(n,r);break;case 10:case 13:case 32:return N7t(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return FDt.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?fq.to_workbook(n,r):WV(t,n,r,s)}function gPe(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return wR(e.file,Nr.write(t,{type:_n?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Nr.write(t,e)}function R7t(t,e){var r=As(e||{}),n=E7t(t,r);return D7t(n,r)}function D7t(t,e){var r={},n=_n?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Nr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(v7(i))}return e.password&&typeof encrypt_agile<"u"?gPe(encrypt_agile(i,e.password),e):e.type==="file"?wR(e.file,i):e.type=="string"?Li(i):i}function M7t(t,e){var r=e||{},n=OBt(t,r);return gPe(n,r)}function gp(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return pI(lm(n));case"binary":return lm(n);case"string":return t;case"file":return wR(e.file,n,"utf8");case"buffer":return _n?iv(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):gp(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function F7t(t,e){switch(e.type){case"base64":return pI(t);case"binary":return t;case"string":return t;case"file":return wR(e.file,t,"binary");case"buffer":return _n?iv(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function PD(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?pI(r):e.type=="string"?Li(r):r;case"file":return wR(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function vPe(t,e){ZQ(),k8t(t);var r=As(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=vPe(t,r);return r.type="array",v7(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return gp(EBt(t,r),r);case"slk":case"sylk":return gp(A5e.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return gp(cPe(t.Sheets[t.SheetNames[i]],r),r);case"txt":return F7t(xPe(t.Sheets[t.SheetNames[i]],r),r);case"csv":return gp(RJ(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return gp(E5e.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return PD(fq.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return gp(tC.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return gp(O5e.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return gp(T5e.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return gp(fPe(t,r),r);case"wk1":return PD(n_.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return PD(n_.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),PD(lPe(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),M7t(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return R7t(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function j7t(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function yPe(t,e,r){var n={};return n.type="file",n.file=e,j7t(n),vPe(t,n)}function L7t(t,e,r,n,i,s,a,o){var l=Aa(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!a||t[r])for(var f=e.s.c;f<=e.e.c;++f){var g=a?t[r][f]:t[n[f]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;s[f]!=null&&(h[s[f]]=c);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[f]!=null){if(m==null)if(g.t=="e"&&m===null)h[s[f]]=null;else if(c!==void 0)h[s[f]]=c;else if(u&&m===null)h[s[f]]=null;else continue;else h[s[f]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:Gg(g,m,o);m!=null&&(d=!1)}}return{row:h,isempty:d}}function JL(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=Qn(u);break;case"number":l=Qn(t["!ref"]),l.s.r=u;break;default:l=u}n>0&&(i=0);var d=Aa(l.s.r),h=[],f=[],g=0,m=0,v=Array.isArray(t),x=l.s.r,w=0,b={};v&&!t[x]&&(t[x]=[]);var _=c.skipHidden&&t["!cols"]||[],S=c.skipHidden&&t["!rows"]||[];for(w=l.s.c;w<=l.e.c;++w)if(!(_[w]||{}).hidden)switch(h[w]=js(w),r=v?t[x][w]:t[h[w]+d],n){case 1:s[w]=w-l.s.c;break;case 2:s[w]=h[w];break;case 3:s[w]=c.header[w-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=Gg(r,null,c),m=b[a]||0,!m)b[a]=1;else{do o=a+"_"+m++;while(b[o]);b[a]=m,b[o]=1}s[w]=o}for(x=l.s.r+i;x<=l.e.r;++x)if(!(S[x]||{}).hidden){var T=L7t(t,l,x,h,n,s,v,c);(T.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(f[g++]=T.row)}return f.length=g,f}var mfe=/"/g;function B7t(t,e,r,n,i,s,a,o){for(var l=!0,c=[],u="",d=Aa(r),h=e.s.c;h<=e.e.c;++h)if(n[h]){var f=o.dense?(t[r]||[])[h]:t[n[h]+d];if(f==null)u="";else if(f.v!=null){l=!1,u=""+(o.rawNumbers&&f.t=="n"?f.v:Gg(f,null,o));for(var g=0,m=0;g!==u.length;++g)if((m=u.charCodeAt(g))===i||m===s||m===34||o.forceQuotes){u='"'+u.replace(mfe,'""')+'"';break}u=="ID"&&(u='"ID"')}else f.f!=null&&!f.F?(l=!1,u="="+f.f,u.indexOf(",")>=0&&(u='"'+u.replace(mfe,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(a)}function RJ(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=Qn(t["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",d=[];n.dense=Array.isArray(t);for(var h=n.skipHidden&&t["!cols"]||[],f=n.skipHidden&&t["!rows"]||[],g=i.s.c;g<=i.e.c;++g)(h[g]||{}).hidden||(d[g]=js(g));for(var m=0,v=i.s.r;v<=i.e.r;++v)(f[v]||{}).hidden||(u=B7t(t,i,v,d,a,l,s,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function xPe(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=RJ(t,e);return r}function $7t(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=Qn(t["!ref"]),s="",a=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=js(o);for(var u=i.s.r;u<=i.e.r;++u)for(s=Aa(u),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,r=c?(t[u]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function bPe(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Ls(n.origin):n.origin;a=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var d=Qn(s["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),a==-1&&(a=d.e.r+1,u.e.r=a+e.length-1+i)}else a==-1&&(a=0,u.e.r=e.length-1+i);var h=n.header||[],f=0;e.forEach(function(m,v){oa(m).forEach(function(x){(f=h.indexOf(x))==-1&&(h[f=h.length]=x);var w=m[x],b="z",_="",S=Br({c:o+f,r:a+v+i});c=TI(s,S),w&&typeof w=="object"&&!(w instanceof Date)?s[S]=w:(typeof w=="number"?b="n":typeof w=="boolean"?b="b":typeof w=="string"?b="s":w instanceof Date?(b="d",n.cellDates||(b="n",w=po(w)),_=n.dateNF||Fr[14]):w===null&&n.nullError&&(b="e",w=0),c?(c.t=b,c.v=w,delete c.w,delete c.R,_&&(c.z=_)):s[S]=c={t:b,v:w},_&&(c.z=_))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var g=Aa(a);if(i)for(f=0;f<h.length;++f)s[js(f+o)+g]={t:"s",v:h[f]};return s["!ref"]=ln(u),s}function V7t(t,e){return bPe(null,t,e)}function TI(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Ls(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?TI(t,Br(e)):TI(t,Br({r:e,c:r||0}))}function U7t(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function DJ(){return{SheetNames:[],Sheets:{}}}function MJ(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=a+i)!=-1;++i);}if(rPe(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function z7t(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=U7t(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function H7t(t,e){return t.z=e,t}function wPe(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function W7t(t,e,r){return wPe(t,"#"+e,r)}function q7t(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function G7t(t,e,r,n){for(var i=typeof e!="string"?e:Qn(e),s=typeof e=="string"?e:ln(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=TI(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var s_={encode_col:js,encode_row:Aa,encode_cell:Br,encode_range:ln,decode_col:uJ,decode_row:cJ,split_cell:iRt,decode_cell:Ls,decode_range:du,format_cell:Gg,sheet_add_aoa:Gke,sheet_add_json:bPe,sheet_add_dom:uPe,aoa_to_sheet:HC,json_to_sheet:V7t,table_to_sheet:dPe,table_to_book:e7t,sheet_to_csv:RJ,sheet_to_txt:xPe,sheet_to_json:JL,sheet_to_html:cPe,sheet_to_formulae:$7t,sheet_to_row_object_array:JL,sheet_get_cell:TI,book_new:DJ,book_append_sheet:MJ,book_set_sheet_visibility:z7t,cell_set_number_format:H7t,cell_set_hyperlink:wPe,cell_set_internal_link:W7t,cell_add_comment:q7t,sheet_set_array_formula:G7t,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function _Pe(t,e,r,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,l=i.getLineHeightFactor?i.getLineHeightFactor():s,c=o*l,u=/\r\n|\r|\n/g,d="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(d=typeof t=="string"?t.split(u):t,h=d.length||1),r+=o*(2-s),n.valign==="middle"?r-=h/2*c:n.valign==="bottom"&&(r-=h*c),n.halign==="center"||n.halign==="right"){var f=o;if(n.halign==="center"&&(f*=.5),d&&h>=1){for(var g=0;g<d.length;g++)i.text(d[g],e-i.getStringUnitWidth(d[g])*f,r),r+=c;return i}e-=i.getStringUnitWidth(t)*f}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var gfe={},xA=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:gfe=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var u=t.unifyColor(e.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=t.unifyColor(e.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=t.unifyColor(e.lineColor),u&&(s=this.jsPDFDocument).setDrawColor.apply(s,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,s){return this.jsPDFDocument.rect(e,r,n,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return gfe||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),yq=function(t,e){return yq=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},yq(t,e)};function SPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");yq(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var APe=function(t){SPe(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function K7t(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Y7t(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function e6(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function EPe(t,e,r,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var a=TPe(i,!1);a&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,a)}function TPe(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function T7(t,e){var r,n,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function CPe(t,e){var r=T7(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function X7t(t,e,r,n,i){var s={},a=1.3333333333333333,o=qV(e,function(b){return i.getComputedStyle(b).backgroundColor});o!=null&&(s.fillColor=o);var l=qV(e,function(b){return i.getComputedStyle(b).color});l!=null&&(s.textColor=l);var c=Q7t(n,r);c&&(s.cellPadding=c);var u="borderTopColor",d=a*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var f=(parseFloat(h)||0)/d;f&&(s.lineWidth=f)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/d,right:(parseFloat(n.borderRightWidth)||0)/d,bottom:(parseFloat(n.borderBottomWidth)||0)/d,left:(parseFloat(n.borderLeftWidth)||0)/d},s.lineWidth.top||(s.lineWidth.right?u="borderRightColor":s.lineWidth.bottom?u="borderBottomColor":s.lineWidth.left&&(u="borderLeftColor"));var g=qV(e,function(b){return i.getComputedStyle(b)[u]});g!=null&&(s.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(s.fontSize=v/a);var x=Z7t(n);x&&(s.fontStyle=x);var w=(n.fontFamily||"").toLowerCase();return t.indexOf(w)!==-1&&(s.font=w),s}function Z7t(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function qV(t,e){var r=kPe(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function kPe(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:kPe(t.parentElement,e):r}function Q7t(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(o){return parseInt(o||"0")/n}),a=T7(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function PPe(t,e,r,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=r.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),c=t.scaleFactor(),u=[],d=[],h=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:u,body:d,foot:h};for(var f=0;f<o.rows.length;f++){var g=o.rows[f],m=(a=(s=g==null?void 0:g.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),v=J7t(l,c,r,g,n,i);v&&(m==="thead"?u.push(v):m==="tfoot"?h.push(v):d.push(v))}return{head:u,body:d,foot:h}}function J7t(t,e,r,n,i,s){for(var a=new APe(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(i||c.display!=="none"){var u=void 0;s&&(u=X7t(t,l,e,c,r)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:e$t(l)})}}var d=r.getComputedStyle(n);if(a.length>0&&(i||d.display!=="none"))return a}function e$t(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function t$t(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function dg(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function NPe(t,e){var r=new xA(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();t$t(i,n,e);var s=dg({},i,n,e),a;typeof window<"u"&&(a=window);var o=r$t(i,n,e),l=n$t(i,n,e),c=i$t(r,s),u=a$t(r,s,a);return{id:e.tableId,content:u,hooks:l,styles:o,settings:c}}function r$t(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var c=t[l],u=e[l],d=r[l];n.columnStyles=dg({},c,u,d)}else{var h=[t,e,r],f=h.map(function(g){return g[l]||{}});n[l]=dg({},f[0],f[1],f[2])}},s=0,a=Object.keys(n);s<a.length;s++){var o=a[s];i(o)}return n}function n$t(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function i$t(t,e){var r,n,i,s,a,o,l,c,u,d,h,f,g=T7(e.margin,40/t.scaleFactor()),m=(r=s$t(t,e.startY))!==null&&r!==void 0?r:g.top,v;e.showFoot===!0?v="everyPage":e.showFoot===!1?v="never":v=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var x;e.showHead===!0?x="everyPage":e.showHead===!1?x="never":x=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var w=(s=e.useCss)!==null&&s!==void 0?s:!1,b=e.theme||(w?"plain":"striped"),_=!!e.horizontalPageBreak,S=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:w,theme:b,startY:m,margin:g,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:x,showFoot:v,tableLineWidth:(d=e.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(h=e.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:_,horizontalPageBreakRepeat:S,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function s$t(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var a=r.startPageNumber+r.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function a$t(t,e,r){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(r){var o=PPe(t,e.html,r,a,e.useCss)||{};n=o.head||n,i=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||o$t(n,i,s);return{columns:l,head:n,body:i,foot:s}}function o$t(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var l=0;l<a;l++){var c=void 0;Array.isArray(n)?c=i.length:c=s+(l>0?"_".concat(l):"");var u={dataKey:c};i.push(u)}}),i}var xq=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),l$t=function(t){SPe(e,t);function e(r,n,i,s,a,o){var l=t.call(this,r,n,o)||this;return l.cell=i,l.row=s,l.column=a,l.section=s.section,l}return e}(xq),c$t=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,s,a){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new l$t(e,this,n,i,s,a),d=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],d)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new xq(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new xq(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),IPe=function(){function t(e,r,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof APe&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=r.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var o=r.getLineHeight(a.styles.fontSize),l=a.padding("vertical"),c=l+o;return c>i?c:i},0)},t}(),OPe=function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=T7(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),u$t=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(r=Math.max(r,a.styles.cellWidth))}return r},t}();function d$t(t,e){h$t(t,e);var r=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=bq(r,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=bq(r,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),p$t(e),m$t(e,t),f$t(e)}function h$t(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=CPe(t,e);e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],c=s.cells[l.index];if(c){var u=e.hooks.didParseCell;e.callCellHooks(t,u,c,s,l,null);var d=c.padding("horizontal");c.contentWidth=e6(c.text,c.styles,t)+d;var h=e6(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,t);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var f=10/r;c.minWidth=c.styles.minCellWidth||f,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],c=s.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},d=u.cellWidth||u.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function bq(t,e,r){for(var n=e,i=t.reduce(function(f,g){return f+g.wrappedWidth},0),s=0;s<t.length;s++){var a=t[s],o=a.wrappedWidth/i,l=n*o,c=a.width+l,u=r(a),d=c<u?u:c;e-=d-a.width,a.width=d}if(e=Math.round(e*1e10)/1e10,e){var h=t.filter(function(f){return e<0?f.width>r(f):!0});h.length&&(e=bq(h,e,r))}return e}function f$t(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,o=t.columns;a<o.length;a++){var l=o[a],c=e[l.index];if(r>1)r--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,r=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var u=s.cells[l.index];if(!u)continue;if(u.height=s.height,u.rowSpan>1){var d=n.length-i,h=u.rowSpan>d?d:u.rowSpan;e[l.index]={cell:u,left:h,row:s}}}}}function p$t(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,s=0,a=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(a-=1,a>1&&t.columns[o+1])s+=l.width,delete n.cells[l.index];else if(i){var c=i;delete n.cells[l.index],i=null,c.width=l.width+s}else{var c=n.cells[l.index];if(!c)continue;if(a=c.colSpan,s=0,c.colSpan>1){i=c,s+=l.width;continue}c.width=l.width+s}}}function m$t(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var s=i[n],a=0,o=t.columns;a<o.length;a++){var l=o[a],c=s.cells[l.index];if(c){e.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,u+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=vfe(c.text,u,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=vfe(c.text,u,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var d=c.styles.overflow(c.text,u);typeof d=="string"?c.text=[d]:c.text=d}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>s.height&&(s.height=h)}}r.count--}}function vfe(t,e,r,n,i){return t.map(function(s){return g$t(s,e,r,n,i)})}function g$t(t,e,r,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=e6(t,r,n))return t;for(;e<e6(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function RPe(t,e){var r=new xA(t),n=v$t(e,r.scaleFactor()),i=new c$t(e,n);return d$t(r,i),r.applyStyles(r.userStyles),i}function v$t(t,e){var r=t.content,n=x$t(r.columns);if(r.head.length===0){var i=yfe(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=yfe(n,"foot");i&&r.foot.push(i)}var s=t.settings.theme,a=t.styles;return{columns:n,head:GV("head",r.head,n,a,s,e),body:GV("body",r.body,n,a,s,e),foot:GV("foot",r.foot,n,a,s,e)}}function GV(t,e,r,n,i,s){var a={},o=e.map(function(l,c){for(var u=0,d={},h=0,f=0,g=0,m=r;g<m.length;g++){var v=m[g];if(a[v.index]==null||a[v.index].left===0)if(f===0){var x=void 0;Array.isArray(l)?x=l[v.index-h-u]:x=l[v.dataKey];var w={};typeof x=="object"&&!Array.isArray(x)&&(w=(x==null?void 0:x.styles)||{});var b=b$t(t,v,c,i,n,s,w),_=new OPe(x,b,t);d[v.dataKey]=_,d[v.index]=_,f=_.colSpan-1,a[v.index]={left:_.rowSpan-1,times:f}}else f--,h++;else a[v.index].left--,f=a[v.index].times,u++}return new IPe(l,c,t,d)});return o}function yfe(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=y$t(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function y$t(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function x$t(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new u$t(i,e,r)})}function b$t(t,e,r,n,i,s,a){var o=Y7t(n),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var c=dg({},o.table,o[t],i.styles,l),u=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},d=t==="body"?u:{},h=t==="body"&&r%2===0?dg({},o.alternateRow,i.alternateRowStyles):{},f=K7t(s),g=dg({},f,c,h,d);return dg(g,a)}function w$t(t,e,r){var n;r===void 0&&(r={});var i=CPe(t,e),s=new Map,a=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var f=e.columns.find(function(g){return g.dataKey===h||g.index===h});f&&!s.has(f.index)&&(s.set(f.index,!0),a.push(f.index),o.push(e.columns[f.index]),i-=f.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<e.columns.length;){if(s.has(u)){u++;continue}var d=e.columns[u].wrappedWidth;if(c||i>=d)c=!1,a.push(u),o.push(e.columns[u]),i-=d;else break;u++}return{colIndexes:a,columns:o,lastIndex:u-1}}function _$t(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=w$t(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function DPe(t,e){var r=e.settings,n=r.startY,i=r.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+i.bottom+a;if(r.pageBreak==="avoid"){var l=e.body,c=l.reduce(function(h,f){return h+f.height},0);o+=c}var u=new xA(t);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(FPe(u),s.y=i.top),e.callWillDrawPageHooks(u,s);var d=dg({},s);e.startPageNumber=u.pageNumber(),r.horizontalPageBreak?S$t(u,e,d,s):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(h){return Kg(u,e,h,s,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(h,f){var g=f===e.body.length-1;t6(u,e,h,g,d,s,e.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(h){return Kg(u,e,h,s,e.columns)})),EPe(u,e,d,s),e.callEndPageHooks(u,s),e.finalY=s.y,t.lastAutoTable=e,u.applyStyles(u.userStyles)}function S$t(t,e,r,n){var i=_$t(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,u){t.applyStyles(t.userStyles),u>0?CP(t,e,r,n,c.columns,!0):xfe(t,e,n,c.columns),A$t(t,e,r,n,c.columns),KV(t,e,n,c.columns)});else for(var a=-1,o=i[0],l=function(){var c=a;if(o){t.applyStyles(t.userStyles);var u=o.columns;a>=0?CP(t,e,r,n,u,!0):xfe(t,e,n,u),c=bfe(t,e,a+1,n,u),KV(t,e,n,u)}var d=c-a;i.slice(1).forEach(function(h){t.applyStyles(t.userStyles),CP(t,e,r,n,h.columns,!0),bfe(t,e,a+1,n,h.columns,d),KV(t,e,n,h.columns)}),a=c};a<e.body.length-1;)l()}function xfe(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Kg(t,e,s,r,n)})}function A$t(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;t6(t,e,s,o,r,n,i)})}function bfe(t,e,r,n,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var a=Math.min(r+s,e.body.length),o=-1;return e.body.slice(r,a).forEach(function(l,c){var u=r+c===e.body.length-1,d=MPe(t,e,u,n);l.canEntireRowFit(d,i)&&(Kg(t,e,l,n,i),o=r+c)}),o}function KV(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Kg(t,e,s,r,n)})}function E$t(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function T$t(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,a=0,o=r.columns;a<o.length;a++){var l=o[a],c=t.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new OPe(c.raw,c.styles,c.section);u=dg(u,c),u.text=[];var d=E$t(c,e,n);c.text.length>d&&(u.text=c.text.splice(d,c.text.length));var h=n.scaleFactor(),f=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,f),c.contentHeight>=e&&(c.contentHeight=e,u.styles.minCellHeight-=e),c.contentHeight>t.height&&(t.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,f),u.contentHeight>s&&(s=u.contentHeight),i[l.index]=u}}var g=new IPe(t.raw,-1,t.section,i,!0);g.height=s;for(var m=0,v=r.columns;m<v.length;m++){var l=v[m],u=g.cells[l.index];u&&(u.height=g.height);var c=t.cells[l.index];c&&(c.height=t.height)}return g}function C$t(t,e,r,n){var i=t.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,o=i-a;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),c=l<r;if(l>o)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=e.hasRowSpan(n.columns),d=e.getMaxCellHeight(n.columns)>o;return d?(u&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function t6(t,e,r,n,i,s,a){var o=MPe(t,e,n,s);if(r.canEntireRowFit(o,a))Kg(t,e,r,s,a);else if(C$t(t,r,o,e)){var l=T$t(r,o,e,t);Kg(t,e,r,s,a),CP(t,e,i,s,a),t6(t,e,l,n,i,s,a)}else CP(t,e,i,s,a),t6(t,e,r,n,i,s,a)}function Kg(t,e,r,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],l=r.cells[o.index];if(!l){n.x+=o.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=e.callCellHooks(t,e.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}k$t(t,l,n);var u=l.getTextPos();_Pe(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function k$t(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=TPe(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),P$t(t,e,r,n.lineWidth))}function P$t(t,e,r,n){var i,s,a,o;n.top&&(i=r.x,s=r.y,a=r.x+e.width,o=r.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,s,a,o)),n.bottom&&(i=r.x,s=r.y+e.height,a=r.x+e.width,o=r.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,s,a,o)),n.left&&(i=r.x,s=r.y,a=r.x,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,i,s,a,o)),n.right&&(i=r.x+e.width,s=r.y,a=r.x+e.width,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,i,s,a,o));function l(c,u,d,h,f){t.getDocument().setLineWidth(c),t.getDocument().line(u,d,h,f,"S")}}function MPe(t,e,r,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function CP(t,e,r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return Kg(t,e,o,n,i)}),e.callEndPageHooks(t,n);var a=e.settings.margin;EPe(t,e,r,n),FPe(t),e.pageNumber++,n.x=a.left,n.y=a.top,r.y=a.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return Kg(t,e,o,n,i)}),t.applyStyles(t.userStyles))}function FPe(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function N$t(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=NPe(this,n),s=RPe(this,i);return DPe(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){_Pe(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return xA.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){xA.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new xA(this),s=PPe(i,e,window,r,!1),a=s.head,o=s.body,l=((n=a[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var YV;function rb(t,e){var r=NPe(t,e),n=RPe(t,r);DPe(t,n)}try{if(typeof window<"u"&&window){var wfe=window,_fe=wfe.jsPDF||((YV=wfe.jspdf)===null||YV===void 0?void 0:YV.jsPDF);_fe&&N$t(_fe)}}catch(t){console.error("Could not apply autoTable plugin",t)}function I$t(){const[t,e]=O.useState({tipoRelatorio:"geral",agrupamento:"mes"}),[r,n]=O.useState(!1),[i,s]=O.useState(!0),[a,o]=O.useState(null),[l,c]=O.useState([]),[u,d]=O.useState([]),[h,f]=O.useState([]),[g,m]=O.useState([]),[v,x]=O.useState([]);O.useEffect(()=>{let A=!0;const I=new AbortController;return(async()=>{try{await w(A)}catch(U){A&&!I.signal.aborted&&(console.error("Erro ao carregar dados:",U),Be.error("Erro ao carregar dados do relatrio"))}})(),()=>{A=!1,I.abort()}},[]);const w=async(A=!0)=>{try{const[I,M,U,Y,X,W]=await Promise.all([_C(),fx(),SC(),x_(),wC(),Gbe()]).catch(he=>{throw console.error("Erro ao buscar dados:",he),he});if(!A)return;c(I),d(X),f(M),m(U),x(W);const G=[],B=[],re=[],ae=[],R=new Date;for(let he=5;he>=0;he--){const _e=hN(R,he),ee=_a(_e),je=Cm(_e),Ue=I.filter(xt=>{var be,Pe;const Ke=((Pe=(be=xt.createdAt)==null?void 0:be.toDate)==null?void 0:Pe.call(be))||new Date(xt.createdAt);return Ke>=ee&&Ke<=je}),pe=W.filter(xt=>{const Ke=new Date(xt.dataVencimento);return Ke>=ee&&Ke<=je}),Me=Ue.reduce((xt,Ke)=>xt+Ke.valorContrato,0),Ye=pe.reduce((xt,Ke)=>xt+Ke.valor,0);G.push({mes:Pr(_e,"MMM",{locale:Zr}),valor:Me,quantidade:Ue.length}),B.push({mes:Pr(_e,"MMM",{locale:Zr}),valor:Ye,quantidade:pe.length}),re.push({mes:Pr(_e,"MMM",{locale:Zr}),valor:Me}),ae.push({mes:Pr(_e,"MMM",{locale:Zr}),valor:Me-Ye})}const j=new Map;I.forEach(he=>{const _e=U.find(Ye=>Ye.id===he.produtoId),ee=(_e==null?void 0:_e.comissao)||0,je=he.comissao||he.valorContrato*ee/100,Ue=he.comissaoFornecedorPercentual||(_e==null?void 0:_e.comissaoFornecedor)||0,pe=he.comissaoFornecedor||he.valorContrato*Ue/100,Me=j.get(he.funcionarioId)||{vendas:0,comissao:0,comissaoFornecedor:0};j.set(he.funcionarioId,{vendas:Me.vendas+1,comissao:Me.comissao+je,comissaoFornecedor:Me.comissaoFornecedor+pe})});const V=Array.from(j.entries()).map(([he,_e])=>{const ee=M.find(je=>je.id===he);return{nome:(ee==null?void 0:ee.nome)||"Desconhecido",vendas:_e.vendas,comissao:_e.comissao,comissaoFornecedor:_e.comissaoFornecedor}}).sort((he,_e)=>_e.vendas-he.vendas).slice(0,5),K=new Map;I.forEach(he=>{const _e=K.get(he.produtoId)||0;K.set(he.produtoId,_e+he.valorContrato)});const ne=Array.from(K.entries()).map(([he,_e])=>{const ee=U.find(je=>je.id===he);return{nome:(ee==null?void 0:ee.nome)||"Desconhecido",valor:_e}}).sort((he,_e)=>_e.valor-he.valor).slice(0,4),J=Y.slice(0,4).map(he=>({nome:he.razaoSocial,valor:Math.random()*3e5+1e5})),me=new Map;I.forEach(he=>{const _e=me.get(he.clienteId)||{vendas:0,valor:0};me.set(he.clienteId,{vendas:_e.vendas+1,valor:_e.valor+he.valorContrato})});const ce=Array.from(me.entries()).map(([he,_e])=>{const ee=X.find(je=>je.id===he);return{nome:(ee==null?void 0:ee.nome)||"Desconhecido",vendas:_e.vendas,valor:_e.valor}}).sort((he,_e)=>_e.valor-he.valor).slice(0,10);A&&o({vendas:G,funcionarios:V,produtos:ne,fornecedores:J,clientes:ce,despesas:B,receitas:re,lucros:ae})}catch(I){console.error("Erro ao carregar dados do relatrio:",I),A&&Be.error("Erro ao carregar dados do relatrio")}finally{A&&s(!1)}},b=O.useMemo(()=>{var I;if(!t.periodo&&!t.cliente&&!t.funcionario&&!t.produto)return null;let A=l;if((I=t.periodo)!=null&&I.from&&(A=A.filter(M=>{var W,G;const U=((G=(W=M.createdAt)==null?void 0:W.toDate)==null?void 0:G.call(W))||new Date(M.createdAt),Y=t.periodo.from,X=t.periodo.to||Y;return U>=Y&&U<=X})),t.cliente){const M=u.find(U=>U.nome===t.cliente);M&&(A=A.filter(U=>U.clienteId===M.id))}if(t.funcionario){const M=h.find(U=>U.nome===t.funcionario);M&&(A=A.filter(U=>U.funcionarioId===M.id))}if(t.produto){const M=g.find(U=>U.nome===t.produto);M&&(A=A.filter(U=>U.produtoId===M.id))}return A.map(M=>{var ae,R;const U=u.find(j=>j.id===M.clienteId),Y=h.find(j=>j.id===M.funcionarioId),X=g.find(j=>j.id===M.produtoId);let W=M.comissaoPercentual||M.comissaoAgentePercentual||0,G=M.comissao||M.comissaoAgente||0;if(!G&&X){if(X.comissoes&&X.comissoes.length>0){const j=X.comissoes.find(V=>M.valorContrato>=V.valorMin&&M.valorContrato<=V.valorMax);j?W=j.percentual:W=X.comissoes[X.comissoes.length-1].percentual}else W=X.comissaoAgente||X.comissao||0;G=M.valorContrato*(W/100)}const B=M.comissaoFornecedorPercentual||(X==null?void 0:X.comissaoFornecedor)||0,re=M.comissaoFornecedor||M.valorContrato*B/100;return{id:M.id,data:((R=(ae=M.createdAt)==null?void 0:ae.toDate)==null?void 0:R.call(ae))||new Date(M.createdAt),cliente:(U==null?void 0:U.nome)||"N/A",cpf:(U==null?void 0:U.cpf)||"N/A",funcionario:(Y==null?void 0:Y.nome)||"N/A",produto:(X==null?void 0:X.nome)||"N/A",valorContrato:M.valorContrato,prazo:M.prazo,comissao:G,comissaoPercentual:W,comissaoFornecedorPercentual:B,valorAReceber:re,status:M.status}})},[t,l,u,h,g]),_=O.useMemo(()=>{var R;if(!a)return null;if(!t.periodo&&!t.cliente&&!t.funcionario&&!t.produto)return a;let A=l;if((R=t.periodo)!=null&&R.from&&(A=A.filter(j=>{var J,me;const V=((me=(J=j.createdAt)==null?void 0:J.toDate)==null?void 0:me.call(J))||new Date(j.createdAt),K=t.periodo.from,ne=t.periodo.to||K;return V>=K&&V<=ne})),t.cliente){const j=u.find(V=>V.nome===t.cliente);j&&(A=A.filter(V=>V.clienteId===j.id))}if(t.funcionario){const j=h.find(V=>V.nome===t.funcionario);j&&(A=A.filter(V=>V.funcionarioId===j.id))}if(t.produto){const j=g.find(V=>V.nome===t.produto);j&&(A=A.filter(V=>V.produtoId===j.id))}const I=[],M=[],U=[],Y=new Date;for(let j=5;j>=0;j--){const V=hN(Y,j),K=_a(V),ne=Cm(V),J=A.filter(_e=>{var je,Ue;const ee=((Ue=(je=_e.createdAt)==null?void 0:je.toDate)==null?void 0:Ue.call(je))||new Date(_e.createdAt);return ee>=K&&ee<=ne}),me=v.filter(_e=>{const ee=new Date(_e.dataVencimento);return ee>=K&&ee<=ne}),ce=J.reduce((_e,ee)=>_e+ee.valorContrato,0),he=me.reduce((_e,ee)=>_e+ee.valor,0);I.push({mes:Pr(V,"MMM",{locale:Zr}),valor:ce,quantidade:J.length}),M.push({mes:Pr(V,"MMM",{locale:Zr}),valor:ce}),U.push({mes:Pr(V,"MMM",{locale:Zr}),valor:ce-he})}const X=new Map;A.forEach(j=>{const V=g.find(he=>he.id===j.produtoId),K=(V==null?void 0:V.comissao)||0,ne=j.comissao||j.valorContrato*K/100,J=j.comissaoFornecedorPercentual||(V==null?void 0:V.comissaoFornecedor)||0,me=j.comissaoFornecedor||j.valorContrato*J/100,ce=X.get(j.funcionarioId)||{vendas:0,comissao:0,comissaoFornecedor:0};X.set(j.funcionarioId,{vendas:ce.vendas+1,comissao:ce.comissao+ne,comissaoFornecedor:ce.comissaoFornecedor+me})});const W=Array.from(X.entries()).map(([j,V])=>{const K=h.find(ne=>ne.id===j);return{nome:(K==null?void 0:K.nome)||"Desconhecido",vendas:V.vendas,comissao:V.comissao,comissaoFornecedor:V.comissaoFornecedor}}).sort((j,V)=>V.vendas-j.vendas).slice(0,5),G=new Map;A.forEach(j=>{const V=G.get(j.produtoId)||0;G.set(j.produtoId,V+j.valorContrato)});const B=Array.from(G.entries()).map(([j,V])=>{const K=g.find(ne=>ne.id===j);return{nome:(K==null?void 0:K.nome)||"Desconhecido",valor:V,comissao:(K==null?void 0:K.comissao)||0}}).sort((j,V)=>V.valor-j.valor).slice(0,4),re=new Map;A.forEach(j=>{const V=re.get(j.clienteId)||{vendas:0,valor:0};re.set(j.clienteId,{vendas:V.vendas+1,valor:V.valor+j.valorContrato})});const ae=Array.from(re.entries()).map(([j,V])=>{const K=u.find(ne=>ne.id===j);return{nome:(K==null?void 0:K.nome)||"Desconhecido",vendas:V.vendas,valor:V.valor}}).sort((j,V)=>V.valor-j.valor).slice(0,10);return{vendas:I,funcionarios:W,produtos:B,fornecedores:a.fornecedores,clientes:ae,despesas:a.despesas,receitas:M,lucros:U}},[t,a,l,u,h,g,v]),S=()=>{if(!b||b.length===0){Be.error("Nenhum dado filtrado para exportar");return}try{const A=b.map(U=>({Data:Pr(U.data,"dd/MM/yyyy HH:mm",{locale:Zr}),Cliente:U.cliente,CPF:U.cpf,Funcionrio:U.funcionario,Produto:U.produto,"Valor Contrato":U.valorContrato,"Prazo (meses)":U.prazo,Comisso:U.comissao,Status:U.status})),I=s_.book_new(),M=s_.json_to_sheet(A);M["!cols"]=[{wch:18},{wch:25},{wch:15},{wch:25},{wch:30},{wch:15},{wch:15},{wch:15},{wch:12}],s_.book_append_sheet(I,M,"Relatrio"),yPe(I,`relatorio_filtrado_${Pr(new Date,"yyyyMMdd_HHmmss")}.xlsx`),Be.success(`${b.length} registros exportados com sucesso!`)}catch(A){console.error("Erro ao exportar dados:",A),Be.error("Erro ao exportar dados")}},T=O.useMemo(()=>{var ae;const A=_||a;if(!A)return null;const I=A.vendas.reduce((R,j)=>R+j.valor,0),M=A.vendas.slice(0,-1).reduce((R,j)=>R+j.valor,0),U=M>0?(I-M)/M*100:0,Y=A.funcionarios.reduce((R,j)=>R+(j.comissaoFornecedor||0),0),X=A.despesas.reduce((R,j)=>R+j.valor,0),W=A.receitas.reduce((R,j)=>R+j.valor,0),G=Y-X,B=W-X,re=Y>0?G/Y*100:0;return{totalVendas:I,crescimento:U,ticketMedio:I/A.vendas.reduce((R,j)=>R+j.quantidade,0)||0,totalFuncionarios:A.funcionarios.length,produtoMaisVendido:((ae=A.produtos[0])==null?void 0:ae.nome)||"N/A",totalComissoes:Y,totalDespesas:X,totalReceitas:W,receitaLiquida:G,lucroTotal:B,margemLucro:re}},[_,a]),E=()=>T?T.crescimento>10?{tipo:"positivo",mensagem:`Excelente! Crescimento de ${T.crescimento.toFixed(1)}% em relao ao perodo anterior. Continue com o timo trabalho!`}:T.crescimento<0?{tipo:"negativo",mensagem:`Ateno: Queda de ${Math.abs(T.crescimento).toFixed(1)}% nas vendas. Recomenda-se revisar estratgias e motivar a equipe.`}:{tipo:"neutro",mensagem:`Crescimento moderado de ${T.crescimento.toFixed(1)}%. H oportunidades para melhorar o desempenho.`}:{tipo:"neutro",mensagem:"Carregando dados..."},C=()=>{Be.success("Relatrio gerado com sucesso!")},N=async()=>{if(!a||!T){Be.error("Dados ainda no carregados");return}n(!0);try{const A=new wr,I=A.internal.pageSize.getWidth();let M=20;A.setFontSize(22),A.setFont("helvetica","bold"),A.text("Relatrio Gerencial",I/2,M,{align:"center"}),M+=8,A.setFontSize(10),A.setFont("helvetica","normal"),A.text(`Gerado em: ${Pr(new Date,"dd/MM/yyyy 's' HH:mm",{locale:Zr})}`,I/2,M,{align:"center"}),M+=15,A.setFontSize(14),A.setFont("helvetica","bold"),A.text("Resumo Executivo",14,M),M+=10,rb(A,{startY:M,head:[["Mtrica","Valor"]],body:[["Total de Vendas",`R$ ${T.totalVendas.toLocaleString("pt-BR")}`],["Total a Receber",`R$ ${b.reduce((Y,X)=>Y+X.valorAReceber,0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`],["Crescimento",`${T.crescimento>0?"+":""}${T.crescimento.toFixed(1)}%`],["Ticket Mdio",`R$ ${T.ticketMedio.toLocaleString("pt-BR",{minimumFractionDigits:2})}`],["Total de Funcionrios",T.totalFuncionarios.toString()],["Produto Mais Vendido",T.produtoMaisVendido]],theme:"grid",headStyles:{fillColor:[59,130,246]}}),A.addPage(),M=20,A.setFontSize(14),A.setFont("helvetica","bold"),A.text("Desempenho por Funcionrio",14,M),M+=10,rb(A,{startY:M,head:[["Funcionrio","Vendas","Comisso"]],body:a.funcionarios.map(Y=>[Y.nome,Y.vendas.toString(),`R$ ${Y.comissao.toLocaleString("pt-BR")}`]),theme:"striped",headStyles:{fillColor:[59,130,246]}}),A.addPage(),M=20,A.setFontSize(14),A.setFont("helvetica","bold"),A.text("Vendas por Produto",14,M),M+=10,rb(A,{startY:M,head:[["Produto","Valor Total"]],body:a.produtos.map(Y=>[Y.nome,`R$ ${Y.valor.toLocaleString("pt-BR")}`]),theme:"striped",headStyles:{fillColor:[59,130,246]}}),A.addPage(),M=20,A.setFontSize(14),A.setFont("helvetica","bold"),A.text("Top 10 Clientes",14,M),M+=10,rb(A,{startY:M,head:[["Cliente","Qtd. Vendas","Valor Total"]],body:a.clientes.map(Y=>[Y.nome,Y.vendas.toString(),`R$ ${Y.valor.toLocaleString("pt-BR")}`]),theme:"striped",headStyles:{fillColor:[59,130,246]}}),b.length>0&&(A.addPage(),M=20,A.setFontSize(14),A.setFont("helvetica","bold"),A.text("Detalhamento de Vendas",14,M),M+=10,rb(A,{startY:M,head:[["Data","Cliente","Produto","Valor Contrato","Valor a Receber","Comisso"]],body:b.map(Y=>[Pr(Y.data,"dd/MM/yyyy",{locale:Zr}),Y.cliente,Y.produto,`R$ ${Y.valorContrato.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,`R$ ${Y.valorAReceber.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,`R$ ${Y.comissao.toLocaleString("pt-BR",{minimumFractionDigits:2})}`]),theme:"striped",headStyles:{fillColor:[59,130,246]},columnStyles:{0:{cellWidth:25},1:{cellWidth:35},2:{cellWidth:35},3:{cellWidth:30,halign:"right"},4:{cellWidth:30,halign:"right"},5:{cellWidth:30,halign:"right"}}}));const U=A.getNumberOfPages();for(let Y=1;Y<=U;Y++)A.setPage(Y),A.setFontSize(8),A.text(`Pgina ${Y} de ${U}`,I/2,A.internal.pageSize.getHeight()-10,{align:"center"});A.save(`relatorio_${Pr(new Date,"yyyyMMdd_HHmmss")}.pdf`),Be.success("Relatrio exportado com sucesso!")}catch(A){const I=A instanceof Error?A.message:"Erro desconhecido";console.error("Erro ao gerar PDF:",I,A),Be.error("Erro ao gerar o relatrio. Tente novamente.")}finally{n(!1)}};if(i)return p.jsxs("div",{className:"space-y-6",children:[p.jsx(uu,{title:"Relatrios Gerenciais",description:"Anlise completa do desempenho e resultados"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(A=>p.jsx(mc,{className:"h-32 w-full"},A))}),p.jsx(mc,{className:"h-96 w-full"})]});const F=E();return p.jsxs("div",{className:"space-y-6",children:[p.jsx(uu,{title:"Relatrios Gerenciais",description:"Anlises inteligentes e insights para tomada de decises"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[p.jsx(Tr,{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Movimentado"}),p.jsxs("h3",{className:"text-2xl font-bold mt-2 text-blue-700 dark:text-blue-300",children:["R$ ",T.totalVendas.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:"Valor negociado pelos agentes"})]}),p.jsx(Q0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})]})}),p.jsx(Tr,{className:"p-6 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"Receita Bruta"}),p.jsxs("h3",{className:"text-2xl font-bold mt-2 text-green-700 dark:text-green-300",children:["R$ ",T.totalComissoes.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsx("p",{className:"text-xs text-green-700 dark:text-green-300 mt-1",children:"Comisses recebidas dos fornecedores"})]}),p.jsx(Q0,{className:"w-8 h-8 text-green-600 dark:text-green-400"})]})}),p.jsx(Tr,{className:"p-6 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950 dark:to-red-900",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-red-900 dark:text-red-100",children:"Total de Despesas"}),p.jsxs("h3",{className:"text-2xl font-bold mt-2 text-red-700 dark:text-red-300",children:["R$ ",T.totalDespesas.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsx("p",{className:"text-xs text-red-700 dark:text-red-300 mt-1",children:"Despesas lanadas no sistema"})]}),p.jsx(Q0,{className:"w-8 h-8 text-red-600 dark:text-red-400"})]})}),p.jsx(Tr,{className:`p-6 bg-gradient-to-br ${T.receitaLiquida>=0?"from-emerald-50 to-emerald-100 dark:from-emerald-950 dark:to-emerald-900":"from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900"}`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:`text-sm font-medium ${T.receitaLiquida>=0?"text-emerald-900 dark:text-emerald-100":"text-orange-900 dark:text-orange-100"}`,children:"Receita Lquida"}),p.jsxs("h3",{className:`text-2xl font-bold mt-2 ${T.receitaLiquida>=0?"text-emerald-700 dark:text-emerald-300":"text-orange-700 dark:text-orange-300"}`,children:["R$ ",T.receitaLiquida.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsxs("p",{className:`text-xs mt-1 flex items-center gap-1 font-semibold ${T.receitaLiquida>=0?"text-emerald-700 dark:text-emerald-300":"text-orange-700 dark:text-orange-300"}`,children:[T.receitaLiquida>=0?p.jsx(uT,{className:"w-3 h-3"}):p.jsx(n8,{className:"w-3 h-3"}),"Margem: ",T.margemLucro.toFixed(1),"%"]})]}),p.jsx(Q0,{className:`w-8 h-8 ${T.receitaLiquida>=0?"text-emerald-600 dark:text-emerald-400":"text-orange-600 dark:text-orange-400"}`})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Ticket Mdio"}),p.jsxs("h3",{className:"text-2xl font-bold mt-2",children:["R$ ",T.ticketMedio.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),p.jsx(Q0,{className:"w-8 h-8 text-blue-600"})]})}),p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Funcionrios Ativos"}),p.jsx("h3",{className:"text-2xl font-bold mt-2",children:T.totalFuncionarios})]}),p.jsx(IO,{className:"w-8 h-8 text-purple-600"})]})}),p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Produto Destaque"}),p.jsx("h3",{className:"text-lg font-bold mt-2",children:T.produtoMaisVendido})]}),p.jsx(r8,{className:"w-8 h-8 text-orange-600"})]})})]}),p.jsx(a5t,{filtros:t,onFiltrosChange:e,fornecedores:a.fornecedores.map(A=>A.nome),funcionarios:a.funcionarios.map(A=>A.nome),produtos:a.produtos.map(A=>A.nome),clientes:a.clientes.map(A=>A.nome),onGerarRelatorio:C}),b&&b.length>0&&p.jsxs(Tr,{children:[p.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Registros Filtrados"}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.length," ",b.length===1?"registro encontrado":"registros encontrados"]})]}),p.jsxs(mt,{onClick:S,className:"gap-2",children:[p.jsx(lT,{className:"w-4 h-4"}),"Exportar Excel"]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs(Ff,{children:[p.jsx(jf,{children:p.jsxs(di,{children:[p.jsx(Xt,{children:"Data"}),p.jsx(Xt,{children:"Cliente"}),p.jsx(Xt,{children:"CPF"}),p.jsx(Xt,{children:"Funcionrio"}),p.jsx(Xt,{children:"Produto"}),p.jsx(Xt,{className:"text-right",children:"Valor Contrato"}),p.jsx(Xt,{className:"text-right",children:"Prazo"}),p.jsx(Xt,{className:"text-right bg-blue-50",children:"Valor a Receber"}),p.jsx(Xt,{className:"text-right bg-green-50",children:"Comisso (%)"}),p.jsx(Xt,{className:"text-right bg-green-50",children:"Comisso (R$)"}),p.jsx(Xt,{children:"Status"})]})}),p.jsx(Lf,{children:b.map(A=>p.jsxs(di,{children:[p.jsx(Vt,{className:"whitespace-nowrap",children:Pr(A.data,"dd/MM/yyyy HH:mm",{locale:Zr})}),p.jsx(Vt,{className:"font-medium",children:A.cliente}),p.jsx(Vt,{children:A.cpf}),p.jsx(Vt,{children:A.funcionario}),p.jsx(Vt,{children:A.produto}),p.jsxs(Vt,{className:"text-right",children:["R$ ",A.valorContrato.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsxs(Vt,{className:"text-right",children:[A.prazo," meses"]}),p.jsxs(Vt,{className:"text-right bg-blue-50 font-semibold text-blue-700",children:["R$ ",A.valorAReceber.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsxs(Vt,{className:"text-right bg-green-50 font-semibold text-green-700",children:[A.comissaoPercentual.toFixed(2),"%"]}),p.jsxs(Vt,{className:"text-right bg-green-50 font-semibold text-green-700",children:["R$ ",A.comissao.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsx(Vt,{children:p.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${A.status==="aprovada"?"bg-green-100 text-green-800":A.status==="pendente"?"bg-yellow-100 text-yellow-800":A.status==="em_analise"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:A.status.replace("_"," ")})})]},A.id))})]})})]}),p.jsxs("div",{className:"flex gap-3 justify-end",children:[p.jsxs(mt,{variant:"outline",className:"gap-2",onClick:()=>{try{window.print()}catch(A){console.error("Erro ao imprimir:",A),Be.error("Erro ao abrir impresso")}},children:[p.jsx(HDe,{className:"w-4 h-4"}),"Imprimir"]}),p.jsxs(mt,{className:"gap-2",onClick:N,disabled:r,children:[p.jsx(d_,{className:"w-4 h-4"}),r?"Gerando PDF...":"Exportar PDF"]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsx(Dv,{titulo:"Evoluo de Vendas",tipo:"linha",dados:{labels:(_||a).vendas.map(A=>A.mes),valores:(_||a).vendas.map(A=>A.valor)},feedback:F}),p.jsx(Dv,{titulo:"Vendas por Produto",tipo:"pizza",dados:{labels:(_||a).produtos.map(A=>A.nome),valores:(_||a).produtos.map(A=>A.valor)}})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsx(Dv,{titulo:"Receitas x Despesas",tipo:"barra",dados:{labels:(_||a).receitas.map(A=>A.mes),valores:(_||a).receitas.map(A=>A.valor),comparacao:(_||a).despesas.map(A=>A.valor)}}),p.jsx(Dv,{titulo:"Evoluo de Lucros",tipo:"linha",dados:{labels:(_||a).lucros.map(A=>A.mes),valores:(_||a).lucros.map(A=>A.valor)}}),p.jsx(Dv,{titulo:"Despesas por Perodo",tipo:"barra",dados:{labels:(_||a).despesas.map(A=>A.mes),valores:(_||a).despesas.map(A=>A.valor)}})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsx(Dv,{titulo:"Desempenho por Funcionrio",tipo:"barra",dados:{labels:(_||a).funcionarios.map(A=>A.nome.split(" ")[0]),valores:(_||a).funcionarios.map(A=>A.comissao)}}),p.jsx(Dv,{titulo:"Vendas por Fornecedor",tipo:"barra",dados:{labels:(_||a).fornecedores.map(A=>A.nome.replace("Banco ","")),valores:(_||a).fornecedores.map(A=>A.valor)}}),p.jsx(Dv,{titulo:"Top 10 Clientes",tipo:"barra",dados:{labels:(_||a).clientes.map(A=>A.nome.split(" ")[0]),valores:(_||a).clientes.map(A=>A.valor)}})]})]})}function Sfe({onImport:t,tipo:e,apenasButton:r=!1}){const[n,i]=O.useState(!1),s=async o=>{var c;const l=(c=o.target.files)==null?void 0:c[0];if(l){if(!l.name.endsWith(".xlsx")&&!l.name.endsWith(".xls")){Be.error("Por favor, selecione um arquivo Excel (.xlsx ou .xls)");return}i(!0);try{const u=await l.arrayBuffer(),d=vq(u,{type:"array"}),h=d.Sheets[d.SheetNames[0]],g=s_.sheet_to_json(h,{raw:!1,dateNF:"dd/mm/yyyy"}).map(m=>{const x=(w=>{const b={};return Object.keys(w).forEach(_=>{const S=_.toLowerCase().trim();b[S]=w[_]}),b})(m);return{contrato:String(x.contrato||x.numero_contrato||x.numerocontrato||""),cliente:String(x.cliente||x.nome_cliente||x.nomecliente||""),cpfCliente:String(x.cpf_cliente||x.cpfcliente||x.cpf||""),fornecedor:String(x.fornecedor||x.banco||x.financeira||""),funcionario:String(x.funcionario||x.vendedor||x.agente||""),cpfFuncionario:String(x.cpf_funcionario||x.cpffuncionario||""),produto:String(x.produto||x.nome_produto||x.nomeproduto||""),prazo:parseInt(String(x.prazo||x.meses||0))||void 0,valorComissao:parseFloat(String(x.comissao||x.valor_comissao||x.valorcomissao||0).replace(/[^\d.,]/g,"").replace(",","."))||0,valorProduto:parseFloat(String(x.valor||x.valor_produto||x.valorproduto||0).replace(/[^\d.,]/g,"").replace(",","."))||0,dataVenda:x.data_venda||x.datavenda||x.data?new Date(String(x.data_venda||x.datavenda||x.data)):new Date,dataPagamento:x.data_pagamento||x.datapagamento?new Date(String(x.data_pagamento||x.datapagamento)):void 0,status:String(x.status||""),observacoes:String(x.observacoes||x.obs||""),...m}});if(g.length===0){Be.error("Nenhum dado encontrado na planilha");return}Be.success(`${g.length} registros importados com sucesso!`),t(g),o.target.value=""}catch(u){console.error("Erro ao processar arquivo:",u),Be.error("Erro ao processar o arquivo Excel")}finally{i(!1)}}},a=p.jsxs("div",{children:[p.jsx("input",{type:"file",id:`file-upload-${e}`,accept:".xlsx,.xls",onChange:s,className:"hidden"}),p.jsx("label",{htmlFor:`file-upload-${e}`,children:p.jsx(mt,{type:"button",variant:"outline",className:"gap-2 w-full",disabled:n,asChild:!0,children:p.jsxs("span",{children:[n?p.jsx(fg,{className:"w-4 h-4 animate-bounce"}):p.jsx(lT,{className:"w-4 h-4"}),n?"Importando...":"Importar Excel"]})})})]});return r?a:p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:p.jsx(lT,{className:"w-5 h-5 text-primary"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold",children:e==="interno"?"Dados Internos":"Relatrio Fornecedor"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Importe uma planilha Excel"})]})]}),a]})})}var O$t={exports:{}};(function(t){var e=function(r){var n=Object.prototype,i=n.hasOwnProperty,s=Object.defineProperty||function(B,re,ae){B[re]=ae.value},a,o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function d(B,re,ae){return Object.defineProperty(B,re,{value:ae,enumerable:!0,configurable:!0,writable:!0}),B[re]}try{d({},"")}catch{d=function(re,ae,R){return re[ae]=R}}function h(B,re,ae,R){var j=re&&re.prototype instanceof b?re:b,V=Object.create(j.prototype),K=new X(R||[]);return s(V,"_invoke",{value:I(B,ae,K)}),V}r.wrap=h;function f(B,re,ae){try{return{type:"normal",arg:B.call(re,ae)}}catch(R){return{type:"throw",arg:R}}}var g="suspendedStart",m="suspendedYield",v="executing",x="completed",w={};function b(){}function _(){}function S(){}var T={};d(T,l,function(){return this});var E=Object.getPrototypeOf,C=E&&E(E(W([])));C&&C!==n&&i.call(C,l)&&(T=C);var N=S.prototype=b.prototype=Object.create(T);_.prototype=S,s(N,"constructor",{value:S,configurable:!0}),s(S,"constructor",{value:_,configurable:!0}),_.displayName=d(S,u,"GeneratorFunction");function F(B){["next","throw","return"].forEach(function(re){d(B,re,function(ae){return this._invoke(re,ae)})})}r.isGeneratorFunction=function(B){var re=typeof B=="function"&&B.constructor;return re?re===_||(re.displayName||re.name)==="GeneratorFunction":!1},r.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,S):(B.__proto__=S,d(B,u,"GeneratorFunction")),B.prototype=Object.create(N),B},r.awrap=function(B){return{__await:B}};function A(B,re){function ae(V,K,ne,J){var me=f(B[V],B,K);if(me.type==="throw")J(me.arg);else{var ce=me.arg,he=ce.value;return he&&typeof he=="object"&&i.call(he,"__await")?re.resolve(he.__await).then(function(_e){ae("next",_e,ne,J)},function(_e){ae("throw",_e,ne,J)}):re.resolve(he).then(function(_e){ce.value=_e,ne(ce)},function(_e){return ae("throw",_e,ne,J)})}}var R;function j(V,K){function ne(){return new re(function(J,me){ae(V,K,J,me)})}return R=R?R.then(ne,ne):ne()}s(this,"_invoke",{value:j})}F(A.prototype),d(A.prototype,c,function(){return this}),r.AsyncIterator=A,r.async=function(B,re,ae,R,j){j===void 0&&(j=Promise);var V=new A(h(B,re,ae,R),j);return r.isGeneratorFunction(re)?V:V.next().then(function(K){return K.done?K.value:V.next()})};function I(B,re,ae){var R=g;return function(V,K){if(R===v)throw new Error("Generator is already running");if(R===x){if(V==="throw")throw K;return G()}for(ae.method=V,ae.arg=K;;){var ne=ae.delegate;if(ne){var J=M(ne,ae);if(J){if(J===w)continue;return J}}if(ae.method==="next")ae.sent=ae._sent=ae.arg;else if(ae.method==="throw"){if(R===g)throw R=x,ae.arg;ae.dispatchException(ae.arg)}else ae.method==="return"&&ae.abrupt("return",ae.arg);R=v;var me=f(B,re,ae);if(me.type==="normal"){if(R=ae.done?x:m,me.arg===w)continue;return{value:me.arg,done:ae.done}}else me.type==="throw"&&(R=x,ae.method="throw",ae.arg=me.arg)}}}function M(B,re){var ae=re.method,R=B.iterator[ae];if(R===a)return re.delegate=null,ae==="throw"&&B.iterator.return&&(re.method="return",re.arg=a,M(B,re),re.method==="throw")||ae!=="return"&&(re.method="throw",re.arg=new TypeError("The iterator does not provide a '"+ae+"' method")),w;var j=f(R,B.iterator,re.arg);if(j.type==="throw")return re.method="throw",re.arg=j.arg,re.delegate=null,w;var V=j.arg;if(!V)return re.method="throw",re.arg=new TypeError("iterator result is not an object"),re.delegate=null,w;if(V.done)re[B.resultName]=V.value,re.next=B.nextLoc,re.method!=="return"&&(re.method="next",re.arg=a);else return V;return re.delegate=null,w}F(N),d(N,u,"Generator"),d(N,l,function(){return this}),d(N,"toString",function(){return"[object Generator]"});function U(B){var re={tryLoc:B[0]};1 in B&&(re.catchLoc=B[1]),2 in B&&(re.finallyLoc=B[2],re.afterLoc=B[3]),this.tryEntries.push(re)}function Y(B){var re=B.completion||{};re.type="normal",delete re.arg,B.completion=re}function X(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(U,this),this.reset(!0)}r.keys=function(B){var re=Object(B),ae=[];for(var R in re)ae.push(R);return ae.reverse(),function j(){for(;ae.length;){var V=ae.pop();if(V in re)return j.value=V,j.done=!1,j}return j.done=!0,j}};function W(B){if(B){var re=B[l];if(re)return re.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var ae=-1,R=function j(){for(;++ae<B.length;)if(i.call(B,ae))return j.value=B[ae],j.done=!1,j;return j.value=a,j.done=!0,j};return R.next=R}}return{next:G}}r.values=W;function G(){return{value:a,done:!0}}return X.prototype={constructor:X,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(Y),!B)for(var re in this)re.charAt(0)==="t"&&i.call(this,re)&&!isNaN(+re.slice(1))&&(this[re]=a)},stop:function(){this.done=!0;var B=this.tryEntries[0],re=B.completion;if(re.type==="throw")throw re.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var re=this;function ae(J,me){return V.type="throw",V.arg=B,re.next=J,me&&(re.method="next",re.arg=a),!!me}for(var R=this.tryEntries.length-1;R>=0;--R){var j=this.tryEntries[R],V=j.completion;if(j.tryLoc==="root")return ae("end");if(j.tryLoc<=this.prev){var K=i.call(j,"catchLoc"),ne=i.call(j,"finallyLoc");if(K&&ne){if(this.prev<j.catchLoc)return ae(j.catchLoc,!0);if(this.prev<j.finallyLoc)return ae(j.finallyLoc)}else if(K){if(this.prev<j.catchLoc)return ae(j.catchLoc,!0)}else if(ne){if(this.prev<j.finallyLoc)return ae(j.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(B,re){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var R=this.tryEntries[ae];if(R.tryLoc<=this.prev&&i.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var j=R;break}}j&&(B==="break"||B==="continue")&&j.tryLoc<=re&&re<=j.finallyLoc&&(j=null);var V=j?j.completion:{};return V.type=B,V.arg=re,j?(this.method="next",this.next=j.finallyLoc,w):this.complete(V)},complete:function(B,re){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&re&&(this.next=re),w},finish:function(B){for(var re=this.tryEntries.length-1;re>=0;--re){var ae=this.tryEntries[re];if(ae.finallyLoc===B)return this.complete(ae.completion,ae.afterLoc),Y(ae),w}},catch:function(B){for(var re=this.tryEntries.length-1;re>=0;--re){var ae=this.tryEntries[re];if(ae.tryLoc===B){var R=ae.completion;if(R.type==="throw"){var j=R.arg;Y(ae)}return j}}throw new Error("illegal catch attempt")},delegateYield:function(B,re,ae){return this.delegate={iterator:W(B),resultName:re,nextLoc:ae},this.method==="next"&&(this.arg=a),w}},r}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(O$t);var FJ=(t,e)=>`${t}-${e}-${Math.random().toString(16).slice(3,8)}`;const R$t=FJ;let Afe=0;var jPe=({id:t,action:e,payload:r={}})=>{let n=t;return typeof n>"u"&&(n=R$t("Job",Afe),Afe+=1),{id:n,action:e,payload:r}},qC={};let jJ=!1;qC.logging=jJ;qC.setLogging=t=>{jJ=t};qC.log=(...t)=>jJ?console.log.apply(void 0,t):null;const D$t=jPe,{log:ND}=qC,M$t=FJ;let Efe=0;var F$t=()=>{const t=M$t("Scheduler",Efe),e={},r={};let n=[];Efe+=1;const i=()=>n.length,s=()=>Object.keys(e).length,a=()=>{if(n.length!==0){const d=Object.keys(e);for(let h=0;h<d.length;h+=1)if(typeof r[d[h]]>"u"){n[0](e[d[h]]);break}}},o=(d,h)=>new Promise((f,g)=>{const m=D$t({action:d,payload:h});n.push(async v=>{n.shift(),r[v.id]=m;try{f(await v[d].apply(void 0,[...h,m.id]))}catch(x){g(x)}finally{delete r[v.id],a()}}),ND(`[${t}]: Add ${m.id} to JobQueue`),ND(`[${t}]: JobQueue length=${n.length}`),a()});return{addWorker:d=>(e[d.id]=d,ND(`[${t}]: Add ${d.id}`),ND(`[${t}]: Number of workers=${s()}`),a(),d.id),addJob:async(d,...h)=>{if(s()===0)throw Error(`[${t}]: You need to have at least one worker before adding jobs`);return o(d,h)},terminate:async()=>{Object.keys(e).forEach(async d=>{await e[d].terminate()}),n=[]},getQueueLen:i,getNumWorkers:s}};function j$t(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var L$t=t=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof j$t=="function"&&(e.type="node"),typeof t>"u"?e:e[t]};const B$t=L$t("type")==="browser",$$t=B$t?t=>new URL(t,window.location.href).href:t=>t;var V$t=t=>{const e={...t};return["corePath","workerPath","langPath"].forEach(r=>{t[r]&&(e[r]=$$t(e[r]))}),e},LPe={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const U$t="tesseract.js",z$t="7.0.0",H$t="Pure Javascript Multilingual OCR",W$t="src/index.js",q$t="commonjs",G$t="src/index.d.ts",K$t="dist/tesseract.min.js",Y$t="dist/tesseract.min.js",X$t={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser test:node:all","test:browser":"karma start karma.conf.js","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.mjs","test:node:all":"npm run test:node -- ./tests/*.test.mjs",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},Z$t={"./src/worker/node/index.js":"./src/worker/browser/index.js"},Q$t="",J$t=["jeromewu"],e9t="Apache-2.0",t9t={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","npm-run-all":"^4.1.5",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-webpack":"^5.0.0",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},r9t={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^7.0.0","wasm-feature-detect":"^1.8.0",zlibjs:"^0.3.1"},n9t={"@rollup/pluginutils":"^5.0.2"},i9t={type:"git",url:"https://github.com/naptha/tesseract.js.git"},s9t={url:"https://github.com/naptha/tesseract.js/issues"},a9t="https://github.com/naptha/tesseract.js",o9t={type:"opencollective",url:"https://opencollective.com/tesseractjs"},l9t={name:U$t,version:z$t,description:H$t,main:W$t,type:q$t,types:G$t,unpkg:K$t,jsdelivr:Y$t,scripts:X$t,browser:Z$t,author:Q$t,contributors:J$t,license:e9t,devDependencies:t9t,dependencies:r9t,overrides:n9t,repository:i9t,bugs:s9t,homepage:a9t,collective:o9t};var c9t={workerBlobURL:!0,logger:()=>{}};const u9t=l9t.version,d9t=c9t;var h9t={...d9t,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${u9t}/dist/worker.min.js`},f9t=({workerPath:t,workerBlobURL:e})=>{let r;if(Blob&&URL&&e){const n=new Blob([`importScripts("${t}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(t);return r},p9t=t=>{t.terminate()},m9t=(t,e)=>{t.onmessage=({data:r})=>{e(r)}},g9t=async(t,e)=>{t.postMessage(e)};const XV=t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{e(n.result)},n.onerror=({target:{error:{code:i}}})=>{r(Error(`File could not be read! Code=${i}`))},n.readAsArrayBuffer(t)}),wq=async t=>{let e=t;if(typeof t>"u")return"undefined";if(typeof t=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t)?e=atob(t.split(",")[1]).split("").map(r=>r.charCodeAt(0)):e=await(await fetch(t)).arrayBuffer();else if(typeof HTMLElement<"u"&&t instanceof HTMLElement)t.tagName==="IMG"&&(e=await wq(t.src)),t.tagName==="VIDEO"&&(e=await wq(t.poster)),t.tagName==="CANVAS"&&await new Promise(r=>{t.toBlob(async n=>{e=await XV(n),r()})});else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas){const r=await t.convertToBlob();e=await XV(r)}else(t instanceof File||t instanceof Blob)&&(e=await XV(t));return new Uint8Array(e)};var v9t=wq;const y9t=h9t,x9t=f9t,b9t=p9t,w9t=m9t,_9t=g9t,S9t=v9t;var A9t={defaultOptions:y9t,spawnWorker:x9t,terminateWorker:b9t,onMessage:w9t,send:_9t,loadImage:S9t};const E9t=V$t,up=jPe,{log:Tfe}=qC,T9t=FJ,$x=LPe,{defaultOptions:C9t,spawnWorker:k9t,terminateWorker:P9t,onMessage:N9t,loadImage:Cfe,send:I9t}=A9t;let kfe=0;var BPe=async(t="eng",e=$x.LSTM_ONLY,r={},n={})=>{const i=T9t("Worker",kfe),{logger:s,errorHandler:a,...o}=E9t({...C9t,...r}),l={},c=typeof t=="string"?t.split("+"):t;let u=e,d=n;const h=[$x.DEFAULT,$x.LSTM_ONLY].includes(e)&&!o.legacyCore;let f,g;const m=new Promise((W,G)=>{g=W,f=G}),v=W=>{f(W.message)};let x=k9t(o);x.onerror=v,kfe+=1;const w=({id:W,action:G,payload:B})=>new Promise((re,ae)=>{Tfe(`[${i}]: Start ${W}, action=${G}`);const R=`${G}-${W}`;l[R]={resolve:re,reject:ae},I9t(x,{workerId:i,jobId:W,action:G,payload:B})}),b=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),_=W=>w(up({id:W,action:"load",payload:{options:{lstmOnly:h,corePath:o.corePath,logging:o.logging}}})),S=(W,G,B)=>w(up({id:B,action:"FS",payload:{method:"writeFile",args:[W,G]}})),T=(W,G)=>w(up({id:G,action:"FS",payload:{method:"readFile",args:[W,{encoding:"utf8"}]}})),E=(W,G)=>w(up({id:G,action:"FS",payload:{method:"unlink",args:[W]}})),C=(W,G,B)=>w(up({id:B,action:"FS",payload:{method:W,args:G}})),N=(W,G)=>w(up({id:G,action:"loadLanguage",payload:{langs:W,options:{langPath:o.langPath,dataPath:o.dataPath,cachePath:o.cachePath,cacheMethod:o.cacheMethod,gzip:o.gzip,lstmOnly:[$x.DEFAULT,$x.LSTM_ONLY].includes(u)&&!o.legacyLang}}})),F=(W,G,B,re)=>w(up({id:re,action:"initialize",payload:{langs:W,oem:G,config:B}})),A=(W="eng",G,B,re)=>{if(h&&[$x.TESSERACT_ONLY,$x.TESSERACT_LSTM_COMBINED].includes(G))throw Error("Legacy model requested but code missing.");const ae=G||u;u=ae;const R=B||d;d=R;const V=(typeof W=="string"?W.split("+"):W).filter(K=>!c.includes(K));return c.push(...V),V.length>0?N(V,re).then(()=>F(W,ae,R,re)):F(W,ae,R,re)},I=(W={},G)=>w(up({id:G,action:"setParameters",payload:{params:W}})),M=async(W,G={},B={text:!0},re)=>w(up({id:re,action:"recognize",payload:{image:await Cfe(W),options:G,output:B}})),U=async(W,G)=>{if(h)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return w(up({id:G,action:"detect",payload:{image:await Cfe(W)}}))},Y=async()=>(x!==null&&(P9t(x),x=null),Promise.resolve());N9t(x,({workerId:W,jobId:G,status:B,action:re,data:ae})=>{const R=`${re}-${G}`;if(B==="resolve")Tfe(`[${W}]: Complete ${G}`),l[R].resolve({jobId:G,data:ae}),delete l[R];else if(B==="reject")if(l[R].reject(ae),delete l[R],re==="load"&&f(ae),a)a(ae);else throw Error(ae);else B==="progress"&&s({...ae,userJobId:G})});const X={id:i,worker:x,load:b,writeText:S,readText:T,removeFile:E,FS:C,reinitialize:A,setParameters:I,recognize:M,detect:U,terminate:Y};return _().then(()=>N(t)).then(()=>F(t,e,n)).then(()=>g(X)).catch(()=>{}),m};const $Pe=BPe,O9t=async(t,e,r)=>{const n=await $Pe(e,1,r);return n.recognize(t).finally(async()=>{await n.terminate()})},R9t=async(t,e)=>{const r=await $Pe("osd",0,e);return r.detect(t).finally(async()=>{await r.terminate()})};var D9t={recognize:O9t,detect:R9t},M9t={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},F9t={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const j9t=F$t,L9t=BPe,B9t=D9t,$9t=M9t,V9t=LPe,U9t=F9t,{setLogging:z9t}=qC;var H9t={languages:$9t,OEM:V9t,PSM:U9t,createScheduler:j9t,createWorker:L9t,setLogging:z9t,...B9t};const W9t=ki(H9t),oc=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),_q=[.001,0,0,.001,0,0],ZV=1.35,Ku={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},e1={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},CI="pdfjs_internal_editor_",an={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Vn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},q9t={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Sq={TRIANGLES:1,LATTICE:2,PATCH:3},Ja={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},NM={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Pa={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},cS={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},C7={ERRORS:0,WARNINGS:1,INFOS:5},kI={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Wk={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},G9t={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let k7=C7.WARNINGS;function K9t(t){Number.isInteger(t)&&(k7=t)}function Y9t(){return k7}function P7(t){k7>=C7.INFOS&&console.info(`Info: ${t}`)}function Qr(t){k7>=C7.WARNINGS&&console.warn(`Warning: ${t}`)}function Yi(t){throw new Error(t)}function Un(t,e){t||Yi(e)}function X9t(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function VPe(t,e=null,r=null){if(!t)return null;if(r&&typeof t=="string"){if(r.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(r.tryConvertEncoding)try{t=tVt(t)}catch{}}const n=e?URL.parse(t,e):URL.parse(t);return X9t(n)?n:null}function UPe(t,e,r=!1){const n=URL.parse(t);return n?(n.hash=e,n.href):r&&VPe(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function en(t,e,r,n=!1){return Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!0,writable:!1}),r}const b2=function(){function e(r,n){this.message=r,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class Pfe extends b2{constructor(e,r){super(e,"PasswordException"),this.code=r}}class QV extends b2{constructor(e,r){super(e,"UnknownErrorException"),this.details=r}}class Aq extends b2{constructor(e){super(e,"InvalidPDFException")}}class r6 extends b2{constructor(e,r,n){super(e,"ResponseException"),this.status=r,this.missing=n}}class Z9t extends b2{constructor(e){super(e,"FormatError")}}class ex extends b2{constructor(e){super(e,"AbortException")}}function zPe(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Yi("Invalid argument for bytesToString");const e=t.length,r=8192;if(e<r)return String.fromCharCode.apply(null,t);const n=[];for(let i=0;i<e;i+=r){const s=Math.min(i+r,e),a=t.subarray(i,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function PR(t){typeof t!="string"&&Yi("Invalid argument for stringToBytes");const e=t.length,r=new Uint8Array(e);for(let n=0;n<e;++n)r[n]=t.charCodeAt(n)&255;return r}function Q9t(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function J9t(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function eVt(){try{return new Function(""),!0}catch{return!1}}class ho{static get isLittleEndian(){return en(this,"isLittleEndian",J9t())}static get isEvalSupported(){return en(this,"isEvalSupported",eVt())}static get isOffscreenCanvasSupported(){return en(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return en(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return en(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return en(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:r}=navigator;return en(this,"platform",{isAndroid:r.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:r.includes("Firefox")})}static get isCSSRoundSupported(){var e,r;return en(this,"isCSSRoundSupported",(r=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:r.call(e,"width: round(1.5px, 1px)"))}}const JV=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Sg,IM,Eq;class er{static makeHexColor(e,r,n){return`#${JV[e]}${JV[r]}${JV[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,r){let n;e[0]?(e[0]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[0],r[2]*=e[0],e[3]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[3],r[3]*=e[3]):(n=r[0],r[0]=r[1],r[1]=n,n=r[2],r[2]=r[3],r[3]=n,e[1]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[1],r[3]*=e[1],e[2]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[2],r[2]*=e[2]),r[0]+=e[4],r[1]+=e[5],r[2]+=e[4],r[3]+=e[5]}static transform(e,r){return[e[0]*r[0]+e[2]*r[1],e[1]*r[0]+e[3]*r[1],e[0]*r[2]+e[2]*r[3],e[1]*r[2]+e[3]*r[3],e[0]*r[4]+e[2]*r[5]+e[4],e[1]*r[4]+e[3]*r[5]+e[5]]}static multiplyByDOMMatrix(e,r){return[e[0]*r.a+e[2]*r.b,e[1]*r.a+e[3]*r.b,e[0]*r.c+e[2]*r.d,e[1]*r.c+e[3]*r.d,e[0]*r.e+e[2]*r.f+e[4],e[1]*r.e+e[3]*r.f+e[5]]}static applyTransform(e,r,n=0){const i=e[n],s=e[n+1];e[n]=i*r[0]+s*r[2]+r[4],e[n+1]=i*r[1]+s*r[3]+r[5]}static applyTransformToBezier(e,r,n=0){const i=r[0],s=r[1],a=r[2],o=r[3],l=r[4],c=r[5];for(let u=0;u<6;u+=2){const d=e[n+u],h=e[n+u+1];e[n+u]=d*i+h*a+l,e[n+u+1]=d*s+h*o+c}}static applyInverseTransform(e,r){const n=e[0],i=e[1],s=r[0]*r[3]-r[1]*r[2];e[0]=(n*r[3]-i*r[2]+r[2]*r[5]-r[4]*r[3])/s,e[1]=(-n*r[1]+i*r[0]+r[4]*r[1]-r[5]*r[0])/s}static axialAlignedBoundingBox(e,r,n){const i=r[0],s=r[1],a=r[2],o=r[3],l=r[4],c=r[5],u=e[0],d=e[1],h=e[2],f=e[3];let g=i*u+l,m=g,v=i*h+l,x=v,w=o*d+c,b=w,_=o*f+c,S=_;if(s!==0||a!==0){const T=s*u,E=s*h,C=a*d,N=a*f;g+=C,x+=C,v+=N,m+=N,w+=T,S+=T,_+=E,b+=E}n[0]=Math.min(n[0],g,v,m,x),n[1]=Math.min(n[1],w,_,b,S),n[2]=Math.max(n[2],g,v,m,x),n[3]=Math.max(n[3],w,_,b,S)}static inverseTransform(e){const r=e[0]*e[3]-e[1]*e[2];return[e[3]/r,-e[1]/r,-e[2]/r,e[0]/r,(e[2]*e[5]-e[4]*e[3])/r,(e[4]*e[1]-e[5]*e[0])/r]}static singularValueDecompose2dScale(e,r){const n=e[0],i=e[1],s=e[2],a=e[3],o=n**2+i**2,l=n*s+i*a,c=s**2+a**2,u=(o+c)/2,d=Math.sqrt(u**2-(o*c-l**2));r[0]=Math.sqrt(u+d||1),r[1]=Math.sqrt(u-d||1)}static normalizeRect(e){const r=e.slice(0);return e[0]>e[2]&&(r[0]=e[2],r[2]=e[0]),e[1]>e[3]&&(r[1]=e[3],r[3]=e[1]),r}static intersect(e,r){const n=Math.max(Math.min(e[0],e[2]),Math.min(r[0],r[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(r[0],r[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(r[1],r[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(r[1],r[3]));return s>a?null:[n,s,i,a]}static pointBoundingBox(e,r,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],r),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],r)}static rectBoundingBox(e,r,n,i,s){s[0]=Math.min(s[0],e,n),s[1]=Math.min(s[1],r,i),s[2]=Math.max(s[2],e,n),s[3]=Math.max(s[3],r,i)}static bezierBoundingBox(e,r,n,i,s,a,o,l,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],r,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],r,l),ie(this,Sg,Eq).call(this,e,n,s,o,r,i,a,l,3*(-e+3*(n-s)+o),6*(e-2*n+s),3*(n-e),c),ie(this,Sg,Eq).call(this,e,n,s,o,r,i,a,l,3*(-r+3*(i-a)+l),6*(r-2*i+a),3*(i-r),c)}}Sg=new WeakSet,IM=function(e,r,n,i,s,a,o,l,c,u){if(c<=0||c>=1)return;const d=1-c,h=c*c,f=h*c,g=d*(d*(d*e+3*c*r)+3*h*n)+f*i,m=d*(d*(d*s+3*c*a)+3*h*o)+f*l;u[0]=Math.min(u[0],g),u[1]=Math.min(u[1],m),u[2]=Math.max(u[2],g),u[3]=Math.max(u[3],m)},Eq=function(e,r,n,i,s,a,o,l,c,u,d,h){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&ie(this,Sg,IM).call(this,e,r,n,i,s,a,o,l,-d/u,h);return}const f=u**2-4*d*c;if(f<0)return;const g=Math.sqrt(f),m=2*c;ie(this,Sg,IM).call(this,e,r,n,i,s,a,o,l,(-u+g)/m,h),ie(this,Sg,IM).call(this,e,r,n,i,s,a,o,l,(-u-g)/m,h)},Q(er,Sg);function tVt(t){return decodeURIComponent(escape(t))}let eU=null,Nfe=null;function rVt(t){return eU||(eU=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Nfe=new Map([["","t"]])),t.replaceAll(eU,(e,r,n)=>r?r.normalize("NFKC"):Nfe.get(n))}function HPe(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),zPe(t)}const DS="pdfjs_internal_id_";function nVt(t,e,r){if(!Array.isArray(r)||r.length<2)return!1;const[n,i,...s]=r;if(!t(n)&&!Number.isInteger(n)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function lc(t,e,r){return Math.min(Math.max(t,e),r)}function WPe(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(zPe(t))}function iVt(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):PR(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(r=>{r(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,r)=>e+r,0)});class PI{static textContent(e){const r=[],n={items:r,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(PI.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&r.push({str:a}),!!s.children)for(const c of s.children)i(c)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class qPe{static setupStorage(e,r,n,i,s){const a=i.getValue(r,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(r,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(r,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(r,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(r,{value:c})});break}}static setAttributes({html:e,element:r,storage:n=null,intent:i,linkService:s}){const{attributes:a}=r,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&s.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,r,n)}static render(e){var d,h;const r=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:n});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const f=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=f}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const f=document.createTextNode(i.value);a.append(f),o&&PI.shouldBuildText(i.name)&&c.push(f)}return{textDivs:c}}const u=[[i,-1,a]];for(;u.length>0;){const[f,g,m]=u.at(-1);if(g+1===f.children.length){u.pop();continue}const v=f.children[++u.at(-1)[1]];if(v===null)continue;const{name:x}=v;if(x==="#text"){const b=document.createTextNode(v.value);c.push(b),m.append(b);continue}const w=(d=v==null?void 0:v.attributes)!=null&&d.xmlns?document.createElementNS(v.attributes.xmlns,x):document.createElement(x);if(m.append(w),v.attributes&&this.setAttributes({html:w,element:v,storage:r,intent:s,linkService:n}),((h=v.children)==null?void 0:h.length)>0)u.push([v,-1,w]);else if(v.value){const b=document.createTextNode(v.value);o&&PI.shouldBuildText(x)&&c.push(b),w.append(b)}}for(const f of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const r=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=r,e.div.hidden=!1}}const a0="http://www.w3.org/2000/svg",nb=class nb{};Le(nb,"CSS",96),Le(nb,"PDF",72),Le(nb,"PDF_TO_CSS_UNITS",nb.CSS/nb.PDF);let tx=nb;async function NR(t,e="text"){if(b5(t,document.baseURI)){const r=await fetch(t);if(!r.ok)throw new Error(r.statusText);switch(e){case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();case"json":return r.json()}return r.text()}return new Promise((r,n)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":r(i.response);return}r(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class IR{constructor({viewBox:e,userUnit:r,scale:n,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=r,this.scale=n,this.rotation=i,this.offsetX=s,this.offsetY=a,n*=r;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,d,h,f;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,d=0,h=0,f=1;break;case 90:u=0,d=1,h=1,f=0;break;case 270:u=0,d=-1,h=-1,f=0;break;case 0:u=1,d=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,f=-f);let g,m,v,x;u===0?(g=Math.abs(c-e[1])*n+s,m=Math.abs(l-e[0])*n+a,v=(e[3]-e[1])*n,x=(e[2]-e[0])*n):(g=Math.abs(l-e[0])*n+s,m=Math.abs(c-e[1])*n+a,v=(e[2]-e[0])*n,x=(e[3]-e[1])*n),this.transform=[u*n,d*n,h*n,f*n,g-u*n*l-h*n*c,m-d*n*l-f*n*c],this.width=v,this.height=x}get rawDims(){const e=this.viewBox;return en(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:r=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new IR({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,r){const n=[e,r];return er.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const r=[e[0],e[1]];er.applyTransform(r,this.transform);const n=[e[2],e[3]];return er.applyTransform(n,this.transform),[r[0],r[1],n[0],n[1]]}convertToPdfPoint(e,r){const n=[e,r];return er.applyInverseTransform(n,this.transform),n}}class LJ extends b2{constructor(e,r=0){super(e,"RenderingCancelledException"),this.extraDelay=r}}function N7(t){const e=t.length;let r=0;for(;r<e&&t[r].trim()==="";)r++;return t.substring(r,r+5).toLowerCase()==="data:"}function BJ(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function sVt(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function aVt(t,e="document.pdf"){if(typeof t!="string")return e;if(N7(t))return Qr('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(t);if(!n)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=n.pathname.split("/").at(-1);if(s.test(a))return i(a);if(n.searchParams.size>0){const o=Array.from(n.searchParams.values()).reverse();for(const c of o)if(s.test(c))return i(c);const l=Array.from(n.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(n.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(l)return i(l[0])}return e}class Ife{constructor(){Le(this,"started",Object.create(null));Le(this,"times",[])}time(e){e in this.started&&Qr(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Qr(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let r=0;for(const{name:n}of this.times)r=Math.max(n.length,r);for(const{name:n,start:i,end:s}of this.times)e.push(`${n.padEnd(r)} ${s-i}ms
`);return e.join("")}}function b5(t,e){const r=e?URL.parse(t,e):URL.parse(t);return(r==null?void 0:r.protocol)==="http:"||(r==null?void 0:r.protocol)==="https:"}function Ph(t){t.preventDefault()}function ia(t){t.preventDefault(),t.stopPropagation()}function oVt(t){console.log("Deprecated API usage: "+t)}var DI;class n6{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;y(this,DI)||H(this,DI,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const r=y(this,DI).exec(e);if(!r)return null;const n=parseInt(r[1],10);let i=parseInt(r[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(r[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(r[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(r[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(r[6],10);l=l>=0&&l<=59?l:0;const c=r[7]||"Z";let u=parseInt(r[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(r[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(a+=u,o+=d):c==="+"&&(a-=u,o-=d),new Date(Date.UTC(n,i,s,a,o,l))}}DI=new WeakMap,Q(n6,DI);function lVt(t,{scale:e=1,rotation:r=0}){const{width:n,height:i}=t.attributes.style,s=[0,0,parseInt(n),parseInt(i)];return new IR({viewBox:s,userUnit:1,scale:e,rotation:r})}function OR(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Qr(`Not a valid color format: "${t}"`),[0,0,0])}function cVt(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const r of t.keys()){e.style.color=r;const n=window.getComputedStyle(e).color;t.set(r,OR(n))}e.remove()}function Rs(t){const{a:e,b:r,c:n,d:i,e:s,f:a}=t.getTransform();return[e,r,n,i,s,a]}function dp(t){const{a:e,b:r,c:n,d:i,e:s,f:a}=t.getTransform().invertSelf();return[e,r,n,i,s,a]}function U_(t,e,r=!1,n=!0){if(e instanceof IR){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=t,o=ho.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,u=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,d=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!r||e.rotation%180===0?(a.width=u,a.height=d):(a.width=d,a.height=u)}n&&t.setAttribute("data-main-rotation",e.rotation)}class Im{constructor(){const{pixelRatio:e}=Im;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,r,n,i,s=-1){let a=1/0,o=1/0,l=1/0;n=Im.capPixels(n,s),n>0&&(a=Math.sqrt(n/(e*r))),i!==-1&&(o=i/e,l=i/r);const c=Math.min(a,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,r){if(r>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+r/100));return e>0?Math.min(e,n):n}return e}}const Tq=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class uVt{static get isDarkMode(){var e;return en(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class dVt{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:r}=e;r.width=r.height="0",r.display="none",r.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),en(this,"commentForegroundColor",OR(n))}}function hVt(t,e,r,n){n=Math.min(Math.max(n??1,0),1);const i=255*(1-n);return t=Math.round(t*n+i),e=Math.round(e*n+i),r=Math.round(r*n+i),[t,e,r]}function Ofe(t,e){const r=t[0]/255,n=t[1]/255,i=t[2]/255,s=Math.max(r,n,i),a=Math.min(r,n,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case r:e[0]=((n-i)/l+(n<i?6:0))*60;break;case n:e[0]=((i-r)/l+2)*60;break;case i:e[0]=((r-n)/l+4)*60;break}}e[2]=o}function Cq(t,e){const r=t[0],n=t[1],i=t[2],s=(1-Math.abs(2*i-1))*n,a=s*(1-Math.abs(r/60%2-1)),o=i-s/2;switch(Math.floor(r/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function Rfe(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function Dfe(t,e,r){Cq(t,r),r.map(Rfe);const n=.2126*r[0]+.7152*r[1]+.0722*r[2];Cq(e,r),r.map(Rfe);const i=.2126*r[0]+.7152*r[1]+.0722*r[2];return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)}const Mfe=new Map;function fVt(t,e){const r=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=Mfe.get(r);if(n)return n;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);Ofe(t,a);const o=i.subarray(6,9);Ofe(e,o);const l=o[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),Dfe(a,o,s)<c){let u,d;l?(u=a[2],d=1):(u=0,d=a[2]);const h=.005;for(;d-u>h;){const f=a[2]=(u+d)/2;l===Dfe(a,o,s)<c?u=f:d=f}a[2]=l?d:u}return Cq(a,s),n=er.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),Mfe.set(r,n),n}function GPe({html:t,dir:e,className:r},n){const i=document.createDocumentFragment();if(typeof t=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=t.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const c=a[o];s.append(document.createTextNode(c)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else qPe.render({xfaHtml:t,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",r),n.append(i)}function KPe(t){const e=new Path2D;if(!t)return e;for(let r=0,n=t.length;r<n;)switch(t[r++]){case Wk.moveTo:e.moveTo(t[r++],t[r++]);break;case Wk.lineTo:e.lineTo(t[r++],t[r++]);break;case Wk.curveTo:e.bezierCurveTo(t[r++],t[r++],t[r++],t[r++],t[r++],t[r++]);break;case Wk.quadraticCurveTo:e.quadraticCurveTo(t[r++],t[r++],t[r++],t[r++]);break;case Wk.closePath:e.closePath();break;default:Qr(`Unrecognized drawing path operator: ${t[r-1]}`);break}return e}var a1,o1,Wd,qd,MI,l1,PA,NA,FI,g6,YPe,tl,XPe,ZPe,uS,w5;const u0=class u0{constructor(e){Q(this,tl);Q(this,a1,null);Q(this,o1,null);Q(this,Wd);Q(this,qd,null);Q(this,MI,null);Q(this,l1,null);Q(this,PA,null);Q(this,NA,null);H(this,Wd,e),y(u0,FI)||H(u0,FI,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=H(this,a1,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const r=y(this,Wd)._uiManager._signal;r instanceof AbortSignal&&!r.aborted&&(e.addEventListener("contextmenu",Ph,{signal:r}),e.addEventListener("pointerdown",ie(u0,g6,YPe),{signal:r}));const n=H(this,qd,document.createElement("div"));n.className="buttons",e.append(n);const i=y(this,Wd).toolbarPosition;if(i){const{style:s}=e,a=y(this,Wd)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return y(this,a1)}hide(){var e;y(this,a1).classList.add("hidden"),(e=y(this,o1))==null||e.hideDropdown()}show(){var e,r;y(this,a1).classList.remove("hidden"),(e=y(this,MI))==null||e.shown(),(r=y(this,l1))==null||r.shown()}addDeleteButton(){const{editorType:e,_uiManager:r}=y(this,Wd),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",y(u0,FI)[e]),ie(this,tl,uS).call(this,n)&&n.addEventListener("click",i=>{r.delete()},{signal:r._signal}),y(this,qd).append(n)}async addAltText(e){const r=await e.render();ie(this,tl,uS).call(this,r),y(this,qd).append(r,y(this,tl,w5)),H(this,MI,e)}addComment(e,r=null){if(y(this,l1))return;const n=e.renderForToolbar();if(!n)return;ie(this,tl,uS).call(this,n);const i=H(this,PA,y(this,tl,w5));r?(y(this,qd).insertBefore(n,r),y(this,qd).insertBefore(i,r)):y(this,qd).append(n,i),H(this,l1,e),e.toolbar=this}addColorPicker(e){if(y(this,o1))return;H(this,o1,e);const r=e.renderButton();ie(this,tl,uS).call(this,r),y(this,qd).append(r,y(this,tl,w5))}async addEditSignatureButton(e){const r=H(this,NA,await e.renderEditButton(y(this,Wd)));ie(this,tl,uS).call(this,r),y(this,qd).append(r,y(this,tl,w5))}removeButton(e){var r,n;switch(e){case"comment":(r=y(this,l1))==null||r.removeToolbarCommentButton(),H(this,l1,null),(n=y(this,PA))==null||n.remove(),H(this,PA,null);break}}async addButton(e,r){switch(e){case"colorPicker":r&&this.addColorPicker(r);break;case"altText":r&&await this.addAltText(r);break;case"editSignature":r&&await this.addEditSignatureButton(r);break;case"delete":this.addDeleteButton();break;case"comment":r&&this.addComment(r);break}}async addButtonBefore(e,r,n){if(!r&&e==="comment")return;const i=y(this,qd).querySelector(n);i&&e==="comment"&&this.addComment(r,i)}updateEditSignatureButton(e){y(this,NA)&&(y(this,NA).title=e)}remove(){var e;y(this,a1).remove(),(e=y(this,o1))==null||e.destroy(),H(this,o1,null)}};a1=new WeakMap,o1=new WeakMap,Wd=new WeakMap,qd=new WeakMap,MI=new WeakMap,l1=new WeakMap,PA=new WeakMap,NA=new WeakMap,FI=new WeakMap,g6=new WeakSet,YPe=function(e){e.stopPropagation()},tl=new WeakSet,XPe=function(e){y(this,Wd)._focusEventsAllowed=!1,ia(e)},ZPe=function(e){y(this,Wd)._focusEventsAllowed=!0,ia(e)},uS=function(e){const r=y(this,Wd)._uiManager._signal;return!(r instanceof AbortSignal)||r.aborted?!1:(e.addEventListener("focusin",ie(this,tl,XPe).bind(this),{capture:!0,signal:r}),e.addEventListener("focusout",ie(this,tl,ZPe).bind(this),{capture:!0,signal:r}),e.addEventListener("contextmenu",Ph,{signal:r}),!0)},w5=function(){const e=document.createElement("div");return e.className="divider",e},Q(u0,g6),Q(u0,FI,null);let kq=u0;var jI,Nb,y0,Yg,QPe,JPe,Pq;class pVt{constructor(e){Q(this,Yg);Q(this,jI,null);Q(this,Nb,null);Q(this,y0);H(this,y0,e)}show(e,r,n){const[i,s]=ie(this,Yg,JPe).call(this,r,n),{style:a}=y(this,Nb)||H(this,Nb,ie(this,Yg,QPe).call(this));e.append(y(this,Nb)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){y(this,Nb).remove()}}jI=new WeakMap,Nb=new WeakMap,y0=new WeakMap,Yg=new WeakSet,QPe=function(){const e=H(this,Nb,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const r=y(this,y0)._signal;r instanceof AbortSignal&&!r.aborted&&e.addEventListener("contextmenu",Ph,{signal:r});const n=H(this,jI,document.createElement("div"));return n.className="buttons",e.append(n),y(this,y0).hasCommentManager()&&ie(this,Yg,Pq).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{y(this,y0).commentSelection("floating_button")}),ie(this,Yg,Pq).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{y(this,y0).highlightSelection("floating_button")}),e},JPe=function(e,r){let n=0,i=0;for(const s of e){const a=s.y+s.height;if(a<n)continue;const o=s.x+(r?s.width:0);if(a>n){i=o,n=a;continue}r?o>i&&(i=o):o<i&&(i=o)}return[r?1-i:i,n]},Pq=function(e,r,n,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",r);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",n);const o=y(this,y0)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",Ph,{signal:o}),s.addEventListener("click",i,{signal:o})),y(this,jI).append(s)};function eNe(t,e,r){for(const n of r)e.addEventListener(n,t[n].bind(t))}var Ib,Ob,IA,Rb;const Ii=class Ii{static initializeAndAddPointerId(e){(y(Ii,Ob)||H(Ii,Ob,new Set)).add(e)}static setPointer(e,r){y(Ii,Ib)||H(Ii,Ib,r),y(Ii,Rb)??H(Ii,Rb,e)}static setTimeStamp(e){H(Ii,IA,e)}static isSamePointerId(e){return y(Ii,Ib)===e}static isSamePointerIdOrRemove(e){var r;return y(Ii,Ib)===e?!0:((r=y(Ii,Ob))==null||r.delete(e),!1)}static isSamePointerType(e){return y(Ii,Rb)===e}static isInitializedAndDifferentPointerType(e){return y(Ii,Rb)!==null&&!Ii.isSamePointerType(e)}static isSameTimeStamp(e){return y(Ii,IA)===e}static isUsingMultiplePointers(){var e;return((e=y(Ii,Ob))==null?void 0:e.size)>=1}static clearPointerType(){H(Ii,Rb,null)}static clearPointerIds(){H(Ii,Ib,NaN),H(Ii,Ob,null)}static clearTimeStamp(){H(Ii,IA,NaN)}};Ib=new WeakMap,Ob=new WeakMap,IA=new WeakMap,Rb=new WeakMap,Q(Ii,Ib,NaN),Q(Ii,Ob,null),Q(Ii,IA,NaN),Q(Ii,Rb,null);let xl=Ii;var v6;class mVt{constructor(){Q(this,v6,0)}get id(){return`${CI}${qs(this,v6)._++}`}}v6=new WeakMap;var OA,LI,wl,RA,OM;const YJ=class YJ{constructor(){Q(this,RA);Q(this,OA,HPe());Q(this,LI,0);Q(this,wl,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return en(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:r,name:n,size:i,type:s}=e;return ie(this,RA,OM).call(this,`${r}_${n}_${i}_${s}`,e)}async getFromUrl(e){return ie(this,RA,OM).call(this,e,e)}async getFromBlob(e,r){const n=await r;return ie(this,RA,OM).call(this,e,n)}async getFromId(e){y(this,wl)||H(this,wl,new Map);const r=y(this,wl).get(e);if(!r)return null;if(r.bitmap)return r.refCounter+=1,r;if(r.file)return this.getFromFile(r.file);if(r.blobPromise){const{blobPromise:n}=r;return delete r.blobPromise,this.getFromBlob(r.id,n)}return this.getFromUrl(r.url)}getFromCanvas(e,r){y(this,wl)||H(this,wl,new Map);let n=y(this,wl).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(r.width,r.height);return i.getContext("2d").drawImage(r,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${y(this,OA)}_${qs(this,LI)._++}`,refCounter:1,isSvg:!1},y(this,wl).set(e,n),y(this,wl).set(n.id,n),n}getSvgUrl(e){const r=y(this,wl).get(e);return r!=null&&r.isSvg?r.svgUrl:null}deleteId(e){var i;y(this,wl)||H(this,wl,new Map);const r=y(this,wl).get(e);if(!r||(r.refCounter-=1,r.refCounter!==0))return;const{bitmap:n}=r;if(!r.url&&!r.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),r.blobPromise=s.convertToBlob()}(i=n.close)==null||i.call(n),r.bitmap=null}isValidId(e){return e.startsWith(`image_${y(this,OA)}_`)}};OA=new WeakMap,LI=new WeakMap,wl=new WeakMap,RA=new WeakSet,OM=async function(e,r){y(this,wl)||H(this,wl,new Map);let n=y(this,wl).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${y(this,OA)}_${qs(this,LI)._++}`,refCounter:0,isSvg:!1});let i;if(typeof r=="string"?(n.url=r,i=await NR(r,"blob")):r instanceof File?i=n.file=r:r instanceof Blob&&(i=r),i.type==="image/svg+xml"){const s=YJ._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,u)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,c()},a.onload=async()=>{const d=n.svgUrl=a.result;o.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=a.onerror=u});a.readAsDataURL(i),await l}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){Qr(i),n=null}return y(this,wl).set(e,n),n&&y(this,wl).set(n.id,n),n};let Nq=YJ;var fa,c1,BI,Os;class gVt{constructor(e=128){Q(this,fa,[]);Q(this,c1,!1);Q(this,BI);Q(this,Os,-1);H(this,BI,e)}add({cmd:e,undo:r,post:n,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),y(this,c1))return;const l={cmd:e,undo:r,post:n,type:s};if(y(this,Os)===-1){y(this,fa).length>0&&(y(this,fa).length=0),H(this,Os,0),y(this,fa).push(l);return}if(a&&y(this,fa)[y(this,Os)].type===s){o&&(l.undo=y(this,fa)[y(this,Os)].undo),y(this,fa)[y(this,Os)]=l;return}const c=y(this,Os)+1;c===y(this,BI)?y(this,fa).splice(0,1):(H(this,Os,c),c<y(this,fa).length&&y(this,fa).splice(c)),y(this,fa).push(l)}undo(){if(y(this,Os)===-1)return;H(this,c1,!0);const{undo:e,post:r}=y(this,fa)[y(this,Os)];e(),r==null||r(),H(this,c1,!1),H(this,Os,y(this,Os)-1)}redo(){if(y(this,Os)<y(this,fa).length-1){H(this,Os,y(this,Os)+1),H(this,c1,!0);const{cmd:e,post:r}=y(this,fa)[y(this,Os)];e(),r==null||r(),H(this,c1,!1)}}hasSomethingToUndo(){return y(this,Os)!==-1}hasSomethingToRedo(){return y(this,Os)<y(this,fa).length-1}cleanType(e){if(y(this,Os)!==-1){for(let r=y(this,Os);r>=0;r--)if(y(this,fa)[r].type!==e){y(this,fa).splice(r+1,y(this,Os)-r),H(this,Os,r);return}y(this,fa).length=0,H(this,Os,-1)}}destroy(){H(this,fa,null)}}fa=new WeakMap,c1=new WeakMap,BI=new WeakMap,Os=new WeakMap;var y6,tNe;class RR{constructor(e){Q(this,y6);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:r}=ho.platform;for(const[n,i,s={}]of e)for(const a of n){const o=a.startsWith("mac+");r&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!r&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,r){if(!this.allKeys.has(r.key))return;const n=this.callbacks.get(ie(this,y6,tNe).call(this,r));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=n;o&&!o(e,r)||(i.bind(e,...a,r)(),s||ia(r))}}y6=new WeakSet,tNe=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const r=this.buffer.join("+");return this.buffer.length=0,r};const x6=class x6{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return cVt(e),en(this,"_colors",e)}convert(e){const r=OR(e);if(!window.matchMedia("(forced-colors: active)").matches)return r;for(const[n,i]of this._colors)if(i.every((s,a)=>s===r[a]))return x6._colorsMapping.get(n);return r}getHexCode(e){const r=this._colors.get(e);return r?er.makeHexColor(...r):e}};Le(x6,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Iq=x6;var DA,Pu,MA,Ks,to,FA,Gd,jA,Kd,_l,u1,d1,LA,h1,kp,Yd,Db,$I,VI,BA,UI,Pp,f1,$A,p1,Np,b6,m1,VA,zI,g1,Mb,UA,v1,HI,Ia,yi,x0,y1,x1,WI,zA,qI,b1,Ip,b0,GI,KI,Xd,Kt,RM,Oq,rNe,nNe,_5,iNe,sNe,aNe,Rq,oNe,lNe,cNe,uNe,tc,o0,dNe,hNe,Dq,fNe,S5,Mq;const FS=class FS{constructor(e,r,n,i,s,a,o,l,c,u,d,h,f,g,m,v){Q(this,Kt);Q(this,DA,new AbortController);Q(this,Pu,null);Q(this,MA,null);Q(this,Ks,new Map);Q(this,to,new Map);Q(this,FA,null);Q(this,Gd,null);Q(this,jA,null);Q(this,Kd,new gVt);Q(this,_l,null);Q(this,u1,null);Q(this,d1,null);Q(this,LA,0);Q(this,h1,new Set);Q(this,kp,null);Q(this,Yd,null);Q(this,Db,new Set);Le(this,"_editorUndoBar",null);Q(this,$I,!1);Q(this,VI,!1);Q(this,BA,!1);Q(this,UI,null);Q(this,Pp,null);Q(this,f1,null);Q(this,$A,null);Q(this,p1,!1);Q(this,Np,null);Q(this,b6,new mVt);Q(this,m1,!1);Q(this,VA,!1);Q(this,zI,!1);Q(this,g1,null);Q(this,Mb,null);Q(this,UA,null);Q(this,v1,null);Q(this,HI,null);Q(this,Ia,an.NONE);Q(this,yi,new Set);Q(this,x0,null);Q(this,y1,null);Q(this,x1,null);Q(this,WI,null);Q(this,zA,null);Q(this,qI,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Q(this,b1,[0,0]);Q(this,Ip,null);Q(this,b0,null);Q(this,GI,null);Q(this,KI,null);Q(this,Xd,null);const x=this._signal=y(this,DA).signal;H(this,b0,e),H(this,GI,r),H(this,KI,n),H(this,FA,i),H(this,_l,s),H(this,y1,a),H(this,zA,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:x}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),o._on("setpreference",this.onSetPreference.bind(this),{signal:x}),o._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:x}),window.addEventListener("pointerdown",()=>{H(this,VA,!0)},{capture:!0,signal:x}),window.addEventListener("pointerup",()=>{H(this,VA,!1)},{capture:!0,signal:x}),ie(this,Kt,iNe).call(this),ie(this,Kt,uNe).call(this),ie(this,Kt,Rq).call(this),H(this,Gd,l.annotationStorage),H(this,UI,l.filterFactory),H(this,x1,c),H(this,$A,u||null),H(this,$I,d),H(this,VI,h),H(this,BA,f),H(this,HI,g||null),this.viewParameters={realScale:tx.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=m||null,this._supportsPinchToZoom=v!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=FS.prototype,r=a=>y(a,b0).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return en(this,"_keyboardManager",new RR([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&y(a,b0).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&y(a,b0).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:r}]]))}destroy(){var e,r,n,i,s,a,o,l,c;(e=y(this,Xd))==null||e.resolve(),H(this,Xd,null),(r=y(this,DA))==null||r.abort(),H(this,DA,null),this._signal=null;for(const u of y(this,to).values())u.destroy();y(this,to).clear(),y(this,Ks).clear(),y(this,Db).clear(),(n=y(this,v1))==null||n.clear(),H(this,Pu,null),y(this,yi).clear(),y(this,Kd).destroy(),(i=y(this,FA))==null||i.destroy(),(s=y(this,_l))==null||s.destroy(),(a=y(this,y1))==null||a.destroy(),(o=y(this,Np))==null||o.hide(),H(this,Np,null),(l=y(this,UA))==null||l.destroy(),H(this,UA,null),H(this,MA,null),y(this,Pp)&&(clearTimeout(y(this,Pp)),H(this,Pp,null)),y(this,Ip)&&(clearTimeout(y(this,Ip)),H(this,Ip,null)),(c=this._editorUndoBar)==null||c.destroy(),H(this,zA,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return y(this,HI)}get useNewAltTextFlow(){return y(this,VI)}get useNewAltTextWhenAddingImage(){return y(this,BA)}get hcmFilter(){return en(this,"hcmFilter",y(this,x1)?y(this,UI).addHCMFilter(y(this,x1).foreground,y(this,x1).background):"none")}get direction(){return en(this,"direction",getComputedStyle(y(this,b0)).direction)}get _highlightColors(){return en(this,"_highlightColors",y(this,$A)?new Map(y(this,$A).split(",").map(e=>(e=e.split("=").map(r=>r.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return en(this,"highlightColors",null);const r=new Map,n=!!y(this,x1);for(const[i,s]of e){const a=i.endsWith("_HCM");if(n&&a){r.set(i.replace("_HCM",""),s);continue}!n&&!a&&r.set(i,s)}return en(this,"highlightColors",r)}get highlightColorNames(){return en(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const r=this.highlightColorNames.get(e);return this._highlightColors.get(r)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),H(this,d1,e)}setMainHighlightColorPicker(e){H(this,UA,e)}editAltText(e,r=!1){var n;(n=y(this,FA))==null||n.editAltText(this,e,r)}hasCommentManager(){return!!y(this,_l)}editComment(e,r,n,i){var s;(s=y(this,_l))==null||s.showDialog(this,e,r,n,i)}selectComment(e,r){const n=y(this,to).get(e),i=n==null?void 0:n.getEditorByUID(r);i==null||i.toggleComment(!0,!0)}updateComment(e){var r;(r=y(this,_l))==null||r.updateComment(e.getData())}updatePopupColor(e){var r;(r=y(this,_l))==null||r.updatePopupColor(e)}removeComment(e){var r;(r=y(this,_l))==null||r.removeComments([e.uid])}toggleComment(e,r,n=void 0){var i;(i=y(this,_l))==null||i.toggleCommentPopup(e,r,n)}makeCommentColor(e,r){var n;return e&&((n=y(this,_l))==null?void 0:n.makeCommentColor(e,r))||null}getCommentDialogElement(){var e;return((e=y(this,_l))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(y(this,to).has(e-1))return;const{resolve:r,promise:n}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),r())};this._eventBus.on("editorsrendered",i),await n}getSignature(e){var r;(r=y(this,y1))==null||r.getSignature({uiManager:this,editor:e})}get signatureManager(){return y(this,y1)}switchToMode(e,r){this._eventBus.on("annotationeditormodechanged",r,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,r){this._eventBus.dispatch("setpreference",{source:this,name:e,value:r})}onSetPreference({name:e,value:r}){switch(e){case"enableNewAltTextWhenAddingImage":H(this,BA,r);break}}onPageChanging({pageNumber:e}){H(this,LA,e-1)}focusMainContainer(){y(this,b0).focus()}findParent(e,r){for(const n of y(this,to).values()){const{x:i,y:s,width:a,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&r>=s&&r<=s+o)return n}return null}disableUserSelect(e=!1){y(this,GI).classList.toggle("noUserSelect",e)}addShouldRescale(e){y(this,Db).add(e)}removeShouldRescale(e){y(this,Db).delete(e)}onScaleChanging({scale:e}){var r;this.commitOrRemove(),this.viewParameters.realScale=e*tx.PDF_TO_CSS_UNITS;for(const n of y(this,Db))n.onScaleChanging();(r=y(this,d1))==null||r.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",r=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=n,l=n.toString(),u=ie(this,Kt,RM).call(this,n).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;n.empty();const h=ie(this,Kt,Oq).call(this,u),f=y(this,Ia)===an.NONE,g=()=>{const m=h==null?void 0:h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});f&&this.showAllEditors("highlight",!0,!0),r&&(m==null||m.editComment())};if(f){this.switchToMode(an.HIGHLIGHT,g);return}g()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!y(this,Gd))return null;const r=`${CI}${e}`,n=y(this,Gd).getRawValue(r);return n&&y(this,Gd).remove(r),n}addToAnnotationStorage(e){!e.isEmpty()&&y(this,Gd)&&!y(this,Gd).has(e.id)&&y(this,Gd).setValue(e.id,e)}a11yAlert(e,r=null){const n=y(this,KI);n&&(n.setAttribute("data-l10n-id",e),r?n.setAttribute("data-l10n-args",JSON.stringify(r)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,y(this,p1)&&(H(this,p1,!1),ie(this,Kt,_5).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const r of y(this,yi))if(r.div.contains(e)){H(this,Mb,[r,e]),r._focusEventsAllowed=!1;break}}focus(){if(!y(this,Mb))return;const[e,r]=y(this,Mb);H(this,Mb,null),r.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),r.focus()}addEditListeners(){ie(this,Kt,Rq).call(this),this.setEditingState(!0)}removeEditListeners(){ie(this,Kt,oNe).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:r}of e.dataTransfer.items)for(const n of y(this,Yd))if(n.isHandlingMimeForPasting(r)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const r of e.dataTransfer.items)for(const n of y(this,Yd))if(n.isHandlingMimeForPasting(r.type)){n.paste(r,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=y(this,Pu))==null||n.commitOrRemove(),!this.hasSelection)return;const r=[];for(const i of y(this,yi)){const s=i.serialize(!0);s&&r.push(s)}r.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(r))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:r}=e;for(const s of r.items)for(const a of y(this,Yd))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let n=r.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){Qr(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of n){const c=await i.deserialize(l);if(!c)return;s.push(c)}const a=()=>{for(const l of s)ie(this,Kt,Dq).call(this,l);ie(this,Kt,Mq).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Qr(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),y(this,Ia)!==an.NONE&&!this.isEditorHandlingKeyboard&&FS._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,y(this,p1)&&(H(this,p1,!1),ie(this,Kt,_5).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(ie(this,Kt,sNe).call(this),ie(this,Kt,lNe).call(this),ie(this,Kt,tc).call(this,{isEditing:y(this,Ia)!==an.NONE,isEmpty:ie(this,Kt,S5).call(this),hasSomethingToUndo:y(this,Kd).hasSomethingToUndo(),hasSomethingToRedo:y(this,Kd).hasSomethingToRedo(),hasSelectedEditor:!1})):(ie(this,Kt,aNe).call(this),ie(this,Kt,cNe).call(this),ie(this,Kt,tc).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!y(this,Yd)){H(this,Yd,e);for(const r of y(this,Yd))ie(this,Kt,o0).call(this,r.defaultPropertiesToUpdate)}}getId(){return y(this,b6).id}get currentLayer(){return y(this,to).get(y(this,LA))}getLayer(e){return y(this,to).get(e)}get currentPageIndex(){return y(this,LA)}addLayer(e){y(this,to).set(e.pageIndex,e),y(this,m1)?e.enable():e.disable()}removeLayer(e){y(this,to).delete(e.pageIndex)}async updateMode(e,r=null,n=!1,i=!1,s=!1,a=!1){var o,l,c,u,d,h;if(y(this,Ia)!==e&&!(y(this,Xd)&&(await y(this,Xd).promise,!y(this,Xd)))){if(H(this,Xd,Promise.withResolvers()),(o=y(this,d1))==null||o.commitOrRemove(),y(this,Ia)===an.POPUP&&((l=y(this,_l))==null||l.hideSidebar()),(c=y(this,_l))==null||c.destroyPopup(),H(this,Ia,e),e===an.NONE){this.setEditingState(!1),ie(this,Kt,hNe).call(this);for(const f of y(this,Ks).values())f.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),y(this,Xd).resolve();return}for(const f of y(this,Ks).values())f.addStandaloneCommentButton();e===an.SIGNATURE&&await((d=y(this,y1))==null?void 0:d.loadSignatures()),n&&xl.clearPointerType(),this.setEditingState(!0),await ie(this,Kt,dNe).call(this),this.unselectAll();for(const f of y(this,to).values())f.updateMode(e);if(e===an.POPUP){y(this,MA)||H(this,MA,await y(this,zA).getAnnotationsByType(new Set(y(this,Yd).map(m=>m._editorType))));const f=new Set,g=[];for(const m of y(this,Ks).values()){const{annotationElementId:v,hasComment:x,deleted:w}=m;v&&f.add(v),x&&!w&&g.push(m.getData())}for(const m of y(this,MA)){const{id:v,popupRef:x,contentsObj:w}=m;x&&(w!=null&&w.str)&&!f.has(v)&&!y(this,h1).has(v)&&g.push(m)}(h=y(this,_l))==null||h.showSidebar(g)}if(!r){i&&this.addNewEditorFromKeyboard(),y(this,Xd).resolve();return}for(const f of y(this,Ks).values())f.uid===r?(this.setSelected(f),a?f.editComment():s?f.enterInEditMode():f.focus()):f.unselect();y(this,Xd).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==y(this,Ia)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,r){if(y(this,Yd)){switch(e){case Vn.CREATE:this.currentLayer.addNewEditor(r);return;case Vn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(y(this,WI)||H(this,WI,new Map)).set(e,r),this.showAllEditors("highlight",r);break}if(this.hasSelection)for(const n of y(this,yi))n.updateParams(e,r);else for(const n of y(this,Yd))n.updateDefaultParams(e,r)}}showAllEditors(e,r,n=!1){var s;for(const a of y(this,Ks).values())a.editorType===e&&a.show(r);(((s=y(this,WI))==null?void 0:s.get(Vn.HIGHLIGHT_SHOW_ALL))??!0)!==r&&ie(this,Kt,o0).call(this,[[Vn.HIGHLIGHT_SHOW_ALL,r]])}enableWaiting(e=!1){if(y(this,zI)!==e){H(this,zI,e);for(const r of y(this,to).values())e?r.disableClick():r.enableClick(),r.div.classList.toggle("waiting",e)}}*getEditors(e){for(const r of y(this,Ks).values())r.pageIndex===e&&(yield r)}getEditor(e){return y(this,Ks).get(e)}addEditor(e){y(this,Ks).set(e.id,e)}removeEditor(e){var r,n;e.div.contains(document.activeElement)&&(y(this,Pp)&&clearTimeout(y(this,Pp)),H(this,Pp,setTimeout(()=>{this.focusMainContainer(),H(this,Pp,null)},0))),y(this,Ks).delete(e.id),e.annotationElementId&&((r=y(this,v1))==null||r.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!y(this,h1).has(e.annotationElementId))&&((n=y(this,Gd))==null||n.remove(e.id))}addDeletedAnnotationElement(e){y(this,h1).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return y(this,h1).has(e)}removeDeletedAnnotationElement(e){y(this,h1).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){y(this,Pu)!==e&&(H(this,Pu,e),e&&ie(this,Kt,o0).call(this,e.propertiesToUpdate))}updateUI(e){y(this,Kt,fNe)===e&&ie(this,Kt,o0).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){ie(this,Kt,o0).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(y(this,yi).has(e)){y(this,yi).delete(e),e.unselect(),ie(this,Kt,tc).call(this,{hasSelectedEditor:this.hasSelection});return}y(this,yi).add(e),e.select(),ie(this,Kt,o0).call(this,e.propertiesToUpdate),ie(this,Kt,tc).call(this,{hasSelectedEditor:!0})}setSelected(e){var r;this.updateToolbar({mode:e.mode,editId:e.uid}),(r=y(this,d1))==null||r.commitOrRemove();for(const n of y(this,yi))n!==e&&n.unselect();y(this,yi).clear(),y(this,yi).add(e),e.select(),ie(this,Kt,o0).call(this,e.propertiesToUpdate),ie(this,Kt,tc).call(this,{hasSelectedEditor:!0})}isSelected(e){return y(this,yi).has(e)}get firstSelectedEditor(){return y(this,yi).values().next().value}unselect(e){e.unselect(),y(this,yi).delete(e),ie(this,Kt,tc).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return y(this,yi).size!==0}get isEnterHandled(){return y(this,yi).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;y(this,Kd).undo(),ie(this,Kt,tc).call(this,{hasSomethingToUndo:y(this,Kd).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ie(this,Kt,S5).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){y(this,Kd).redo(),ie(this,Kt,tc).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:y(this,Kd).hasSomethingToRedo(),isEmpty:ie(this,Kt,S5).call(this)})}addCommands(e){y(this,Kd).add(e),ie(this,Kt,tc).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ie(this,Kt,S5).call(this)})}cleanUndoStack(e){y(this,Kd).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const r=e?[e]:[...y(this,yi)],n=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,r.length===1?r[0].editorType:r.length);for(const o of r)o.remove()},i=()=>{for(const a of r)ie(this,Kt,Dq).call(this,a)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=y(this,Pu))==null||e.commitOrRemove()}hasSomethingToControl(){return y(this,Pu)||this.hasSelection}selectAll(){for(const e of y(this,yi))e.commit();ie(this,Kt,Mq).call(this,y(this,Ks).values())}unselectAll(){var e;if(!(y(this,Pu)&&(y(this,Pu).commitOrRemove(),y(this,Ia)!==an.NONE))&&!((e=y(this,d1))!=null&&e.commitOrRemove())&&this.hasSelection){for(const r of y(this,yi))r.unselect();y(this,yi).clear(),ie(this,Kt,tc).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,r,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;y(this,b1)[0]+=e,y(this,b1)[1]+=r;const[i,s]=y(this,b1),a=[...y(this,yi)],o=1e3;y(this,Ip)&&clearTimeout(y(this,Ip)),H(this,Ip,setTimeout(()=>{H(this,Ip,null),y(this,b1)[0]=y(this,b1)[1]=0,this.addCommands({cmd:()=>{for(const l of a)y(this,Ks).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)y(this,Ks).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,r),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),H(this,kp,new Map);for(const e of y(this,yi))y(this,kp).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!y(this,kp))return!1;this.disableUserSelect(!1);const e=y(this,kp);H(this,kp,null);let r=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,r||(r=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!r)return!1;const n=(i,s,a,o)=>{if(y(this,Ks).has(i.id)){const l=y(this,to).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)n(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)n(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,r){if(y(this,kp))for(const n of y(this,kp).keys())n.drag(e,r)}rebuild(e){if(e.parent===null){const r=this.getLayer(e.pageIndex);r?(r.changeParent(e),r.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||y(this,yi).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return y(this,Pu)===e}getActive(){return y(this,Pu)}getMode(){return y(this,Ia)}isEditingMode(){return y(this,Ia)!==an.NONE}get imageManager(){return en(this,"imageManager",new Nq)}getSelectionBoxes(e){if(!e)return null;const r=document.getSelection();for(let c=0,u=r.rangeCount;c<u;c++)if(!e.contains(r.getRangeAt(c).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,u,d,h)=>({x:(u-i)/a,y:1-(c+d-n)/s,width:h/a,height:d/s});break;case"180":o=(c,u,d,h)=>({x:1-(c+d-n)/s,y:1-(u+h-i)/a,width:d/s,height:h/a});break;case"270":o=(c,u,d,h)=>({x:1-(u+h-i)/a,y:(c-n)/s,width:h/a,height:d/s});break;default:o=(c,u,d,h)=>({x:(c-n)/s,y:(u-i)/a,width:d/s,height:h/a});break}const l=[];for(let c=0,u=r.rangeCount;c<u;c++){const d=r.getRangeAt(c);if(!d.collapsed)for(const{x:h,y:f,width:g,height:m}of d.getClientRects())g===0||m===0||l.push(o(h,f,g,m))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:r}){(y(this,jA)||H(this,jA,new Map)).set(e,r)}removeChangedExistingAnnotation({annotationElementId:e}){var r;(r=y(this,jA))==null||r.delete(e)}renderAnnotationElement(e){var i;const r=(i=y(this,jA))==null?void 0:i.get(e.data.id);if(!r)return;const n=y(this,Gd).getRawValue(r);n&&(y(this,Ia)===an.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,r,n){var s;const i=(s=y(this,v1))==null?void 0:s.get(e);i&&(i.setCanvas(r,n),y(this,v1).delete(e))}addMissingCanvas(e,r){(y(this,v1)||H(this,v1,new Map)).set(e,r)}};DA=new WeakMap,Pu=new WeakMap,MA=new WeakMap,Ks=new WeakMap,to=new WeakMap,FA=new WeakMap,Gd=new WeakMap,jA=new WeakMap,Kd=new WeakMap,_l=new WeakMap,u1=new WeakMap,d1=new WeakMap,LA=new WeakMap,h1=new WeakMap,kp=new WeakMap,Yd=new WeakMap,Db=new WeakMap,$I=new WeakMap,VI=new WeakMap,BA=new WeakMap,UI=new WeakMap,Pp=new WeakMap,f1=new WeakMap,$A=new WeakMap,p1=new WeakMap,Np=new WeakMap,b6=new WeakMap,m1=new WeakMap,VA=new WeakMap,zI=new WeakMap,g1=new WeakMap,Mb=new WeakMap,UA=new WeakMap,v1=new WeakMap,HI=new WeakMap,Ia=new WeakMap,yi=new WeakMap,x0=new WeakMap,y1=new WeakMap,x1=new WeakMap,WI=new WeakMap,zA=new WeakMap,qI=new WeakMap,b1=new WeakMap,Ip=new WeakMap,b0=new WeakMap,GI=new WeakMap,KI=new WeakMap,Xd=new WeakMap,Kt=new WeakSet,RM=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Oq=function(e){const{currentLayer:r}=this;if(r.hasTextLayer(e))return r;for(const n of y(this,to).values())if(n.hasTextLayer(e))return n;return null},rNe=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=ie(this,Kt,RM).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(y(this,Np)||H(this,Np,new pVt(this)),y(this,Np).show(n,i,this.direction==="ltr"))},nNe=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){y(this,x0)&&((s=y(this,Np))==null||s.hide(),H(this,x0,null),ie(this,Kt,tc).call(this,{hasSelectedText:!1}));return}const{anchorNode:r}=e;if(r===y(this,x0))return;const i=ie(this,Kt,RM).call(this,e).closest(".textLayer");if(!i){y(this,x0)&&((a=y(this,Np))==null||a.hide(),H(this,x0,null),ie(this,Kt,tc).call(this,{hasSelectedText:!1}));return}if((o=y(this,Np))==null||o.hide(),H(this,x0,r),ie(this,Kt,tc).call(this,{hasSelectedText:!0}),!(y(this,Ia)!==an.HIGHLIGHT&&y(this,Ia)!==an.NONE)&&(y(this,Ia)===an.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),H(this,p1,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=y(this,Ia)===an.HIGHLIGHT?ie(this,Kt,Oq).call(this,i):null;if(l==null||l.toggleDrawing(),y(this,VA)){const c=new AbortController,u=this.combinedSignal(c),d=h=>{h.type==="pointerup"&&h.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),h.type==="pointerup"&&ie(this,Kt,_5).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}else l==null||l.toggleDrawing(!0),ie(this,Kt,_5).call(this,"main_toolbar")}},_5=function(e=""){y(this,Ia)===an.HIGHLIGHT?this.highlightSelection(e):y(this,$I)&&ie(this,Kt,rNe).call(this)},iNe=function(){document.addEventListener("selectionchange",ie(this,Kt,nNe).bind(this),{signal:this._signal})},sNe=function(){if(y(this,f1))return;H(this,f1,new AbortController);const e=this.combinedSignal(y(this,f1));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},aNe=function(){var e;(e=y(this,f1))==null||e.abort(),H(this,f1,null)},Rq=function(){if(y(this,g1))return;H(this,g1,new AbortController);const e=this.combinedSignal(y(this,g1));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},oNe=function(){var e;(e=y(this,g1))==null||e.abort(),H(this,g1,null)},lNe=function(){if(y(this,u1))return;H(this,u1,new AbortController);const e=this.combinedSignal(y(this,u1));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},cNe=function(){var e;(e=y(this,u1))==null||e.abort(),H(this,u1,null)},uNe=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},tc=function(e){Object.entries(e).some(([n,i])=>y(this,qI)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(y(this,qI),e)}),y(this,Ia)===an.HIGHLIGHT&&e.hasSelectedEditor===!1&&ie(this,Kt,o0).call(this,[[Vn.HIGHLIGHT_FREE,!0]]))},o0=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},dNe=async function(){if(!y(this,m1)){H(this,m1,!0);const e=[];for(const r of y(this,to).values())e.push(r.enable());await Promise.all(e);for(const r of y(this,Ks).values())r.enable()}},hNe=function(){if(this.unselectAll(),y(this,m1)){H(this,m1,!1);for(const e of y(this,to).values())e.disable();for(const e of y(this,Ks).values())e.disable()}},Dq=function(e){const r=y(this,to).get(e.pageIndex);r?r.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},fNe=function(){let e=null;for(e of y(this,yi));return e},S5=function(){if(y(this,Ks).size===0)return!0;if(y(this,Ks).size===1)for(const e of y(this,Ks).values())return e.isEmpty();return!1},Mq=function(e){for(const r of y(this,yi))r.unselect();y(this,yi).clear();for(const r of e)r.isEmpty()||(y(this,yi).add(r),r.select());ie(this,Kt,tc).call(this,{hasSelectedEditor:this.hasSelection})},Le(FS,"TRANSLATE_SMALL",1),Le(FS,"TRANSLATE_BIG",10);let z_=FS;var xo,Op,ef,HA,Rp,Nu,WA,Dp,Uc,w0,Fb,Mp,w1,Sf,A5,DM;const rc=class rc{constructor(e){Q(this,Sf);Q(this,xo,null);Q(this,Op,!1);Q(this,ef,null);Q(this,HA,null);Q(this,Rp,null);Q(this,Nu,null);Q(this,WA,!1);Q(this,Dp,null);Q(this,Uc,null);Q(this,w0,null);Q(this,Fb,null);Q(this,Mp,!1);H(this,Uc,e),H(this,Mp,e._uiManager.useNewAltTextFlow),y(rc,w1)||H(rc,w1,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){rc._l10n??(rc._l10n=e)}async render(){const e=H(this,ef,document.createElement("button"));e.className="altText",e.tabIndex="0";const r=H(this,HA,document.createElement("span"));e.append(r),y(this,Mp)?(e.classList.add("new"),e.setAttribute("data-l10n-id",y(rc,w1).missing),r.setAttribute("data-l10n-id",y(rc,w1)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=y(this,Uc)._uiManager._signal;e.addEventListener("contextmenu",Ph,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),y(this,Uc)._uiManager.editAltText(y(this,Uc)),y(this,Mp)&&y(this,Uc)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:y(this,Sf,A5)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(H(this,WA,!0),i(s))},{signal:n}),await ie(this,Sf,DM).call(this),e}finish(){y(this,ef)&&(y(this,ef).focus({focusVisible:y(this,WA)}),H(this,WA,!1))}isEmpty(){return y(this,Mp)?y(this,xo)===null:!y(this,xo)&&!y(this,Op)}hasData(){return y(this,Mp)?y(this,xo)!==null||!!y(this,w0):this.isEmpty()}get guessedText(){return y(this,w0)}async setGuessedText(e){y(this,xo)===null&&(H(this,w0,e),H(this,Fb,await rc._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),ie(this,Sf,DM).call(this))}toggleAltTextBadge(e=!1){var r;if(!y(this,Mp)||y(this,xo)){(r=y(this,Dp))==null||r.remove(),H(this,Dp,null);return}if(!y(this,Dp)){const n=H(this,Dp,document.createElement("div"));n.className="noAltTextBadge",y(this,Uc).div.append(n)}y(this,Dp).classList.toggle("hidden",!e)}serialize(e){let r=y(this,xo);return!e&&y(this,w0)===r&&(r=y(this,Fb)),{altText:r,decorative:y(this,Op),guessedText:y(this,w0),textWithDisclaimer:y(this,Fb)}}get data(){return{altText:y(this,xo),decorative:y(this,Op)}}set data({altText:e,decorative:r,guessedText:n,textWithDisclaimer:i,cancel:s=!1}){n&&(H(this,w0,n),H(this,Fb,i)),!(y(this,xo)===e&&y(this,Op)===r)&&(s||(H(this,xo,e),H(this,Op,r)),ie(this,Sf,DM).call(this))}toggle(e=!1){y(this,ef)&&(!e&&y(this,Nu)&&(clearTimeout(y(this,Nu)),H(this,Nu,null)),y(this,ef).disabled=!e)}shown(){y(this,Uc)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:y(this,Sf,A5)}})}destroy(){var e,r;(e=y(this,ef))==null||e.remove(),H(this,ef,null),H(this,HA,null),H(this,Rp,null),(r=y(this,Dp))==null||r.remove(),H(this,Dp,null)}};xo=new WeakMap,Op=new WeakMap,ef=new WeakMap,HA=new WeakMap,Rp=new WeakMap,Nu=new WeakMap,WA=new WeakMap,Dp=new WeakMap,Uc=new WeakMap,w0=new WeakMap,Fb=new WeakMap,Mp=new WeakMap,w1=new WeakMap,Sf=new WeakSet,A5=function(){return y(this,xo)&&"added"||y(this,xo)===null&&this.guessedText&&"review"||"missing"},DM=async function(){var i,s,a;const e=y(this,ef);if(!e)return;if(y(this,Mp)){if(e.classList.toggle("done",!!y(this,xo)),e.setAttribute("data-l10n-id",y(rc,w1)[y(this,Sf,A5)]),(i=y(this,HA))==null||i.setAttribute("data-l10n-id",y(rc,w1)[`${y(this,Sf,A5)}-label`]),!y(this,xo)){(s=y(this,Rp))==null||s.remove();return}}else{if(!y(this,xo)&&!y(this,Op)){e.classList.remove("done"),(a=y(this,Rp))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let r=y(this,Rp);if(!r){H(this,Rp,r=document.createElement("span")),r.className="tooltip",r.setAttribute("role","tooltip"),r.id=`alt-text-tooltip-${y(this,Uc).id}`;const o=100,l=y(this,Uc)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(y(this,Nu)),H(this,Nu,null)},{once:!0}),e.addEventListener("mouseenter",()=>{H(this,Nu,setTimeout(()=>{H(this,Nu,null),y(this,Rp).classList.add("show"),y(this,Uc)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;y(this,Nu)&&(clearTimeout(y(this,Nu)),H(this,Nu,null)),(c=y(this,Rp))==null||c.classList.remove("show")},{signal:l})}y(this,Op)?r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(r.removeAttribute("data-l10n-id"),r.textContent=y(this,xo)),r.parentNode||e.append(r);const n=y(this,Uc).getElementForAltText();n==null||n.setAttribute("aria-describedby",r.id)},Q(rc,w1,null),Le(rc,"_l10n",null);let i6=rc;var Vo,Zd,jb,is,YI,Lb,tf,Bb,$b,Vb,XI,Fq;class ID{constructor(e){Q(this,XI);Q(this,Vo,null);Q(this,Zd,null);Q(this,jb,!1);Q(this,is,null);Q(this,YI,null);Q(this,Lb,null);Q(this,tf,null);Q(this,Bb,null);Q(this,$b,!1);Q(this,Vb,null);H(this,is,e)}renderForToolbar(){const e=H(this,Zd,document.createElement("button"));return e.className="comment",ie(this,XI,Fq).call(this,e,!1)}renderForStandalone(){const e=H(this,Vo,document.createElement("button"));e.className="annotationCommentButton";const r=y(this,is).commentButtonPosition;if(r){const{style:n}=e;n.insetInlineEnd=`calc(${100*(y(this,is)._uiManager.direction==="ltr"?1-r[0]:r[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*r[1]}% - var(--comment-button-dim))`;const i=y(this,is).commentButtonColor;i&&(n.backgroundColor=i)}return ie(this,XI,Fq).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=y(this,Vo)??y(this,Zd))==null||e.focus()},0)}onUpdatedColor(){if(!y(this,Vo))return;const e=y(this,is).commentButtonColor;e&&(y(this,Vo).style.backgroundColor=e),y(this,is)._uiManager.updatePopupColor(y(this,is))}get commentButtonWidth(){var e;return(((e=y(this,Vo))==null?void 0:e.getBoundingClientRect().width)??0)/y(this,is).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(y(this,Vb))return y(this,Vb);if(!y(this,Vo))return null;const{x:e,y:r,height:n}=y(this,Vo).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=y(this,is).parent.boundingClientRect;return[(e-i)/a,(r+n-s)/o]}set commentPopupPositionInLayer(e){H(this,Vb,e)}hasDefaultPopupPosition(){return y(this,Vb)===null}removeStandaloneCommentButton(){var e;(e=y(this,Vo))==null||e.remove(),H(this,Vo,null)}removeToolbarCommentButton(){var e;(e=y(this,Zd))==null||e.remove(),H(this,Zd,null)}setCommentButtonStates({selected:e,hasPopup:r}){y(this,Vo)&&(y(this,Vo).classList.toggle("selected",e),y(this,Vo).ariaExpanded=r)}edit(e){const r=this.commentPopupPositionInLayer;let n,i;if(r)[n,i]=r;else{[n,i]=y(this,is).commentButtonPosition;const{width:u,height:d,x:h,y:f}=y(this,is);n=h+n*u,i=f+i*d}const s=y(this,is).parent.boundingClientRect,{x:a,y:o,width:l,height:c}=s;y(this,is)._uiManager.editComment(y(this,is),a+n*l,o+i*c,{...e,parentDimensions:s})}finish(){y(this,Zd)&&(y(this,Zd).focus({focusVisible:y(this,jb)}),H(this,jb,!1))}isDeleted(){return y(this,$b)||y(this,tf)===""}isEmpty(){return y(this,tf)===null}hasBeenEdited(){return this.isDeleted()||y(this,tf)!==y(this,YI)}serialize(){return this.data}get data(){return{text:y(this,tf),richText:y(this,Lb),date:y(this,Bb),deleted:this.isDeleted()}}set data(e){if(e!==y(this,tf)&&H(this,Lb,null),e===null){H(this,tf,""),H(this,$b,!0);return}H(this,tf,e),H(this,Bb,new Date),H(this,$b,!1)}setInitialText(e,r=null){H(this,YI,e),this.data=e,H(this,Bb,null),H(this,Lb,r)}shown(){}destroy(){var e,r;(e=y(this,Zd))==null||e.remove(),H(this,Zd,null),(r=y(this,Vo))==null||r.remove(),H(this,Vo,null),H(this,tf,""),H(this,Lb,null),H(this,Bb,null),H(this,is,null),H(this,jb,!1),H(this,$b,!1)}}Vo=new WeakMap,Zd=new WeakMap,jb=new WeakMap,is=new WeakMap,YI=new WeakMap,Lb=new WeakMap,tf=new WeakMap,Bb=new WeakMap,$b=new WeakMap,Vb=new WeakMap,XI=new WeakSet,Fq=function(e,r){if(!y(this,is)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",r?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[y(this,is)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const n=y(this,is)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",Ph,{signal:n}),r&&(e.addEventListener("focusin",s=>{y(this,is)._focusEventsAllowed=!1,ia(s)},{capture:!0,signal:n}),e.addEventListener("focusout",s=>{y(this,is)._focusEventsAllowed=!0,ia(s)},{capture:!0,signal:n})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),e===y(this,Zd)?this.edit():y(this,is).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(H(this,jb,!0),i(s))},{signal:n}),e.addEventListener("pointerenter",()=>{y(this,is).toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{y(this,is).toggleComment(!1,!1)},{signal:n}),e};var qA,Ub,ZI,QI,JI,e4,t4,_0,zb,S0,Hb,A0,rx,pNe,mNe,gNe;const XJ=class XJ{constructor({container:e,isPinchingDisabled:r=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){Q(this,rx);Q(this,qA);Q(this,Ub,!1);Q(this,ZI,null);Q(this,QI);Q(this,JI);Q(this,e4);Q(this,t4);Q(this,_0,null);Q(this,zb);Q(this,S0,null);Q(this,Hb);Q(this,A0,null);H(this,qA,e),H(this,ZI,n),H(this,QI,r),H(this,JI,i),H(this,e4,s),H(this,t4,a),H(this,Hb,new AbortController),H(this,zb,AbortSignal.any([o,y(this,Hb).signal])),e.addEventListener("touchstart",ie(this,rx,pNe).bind(this),{passive:!1,signal:y(this,zb)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Im.pixelRatio}destroy(){var e,r;(e=y(this,Hb))==null||e.abort(),H(this,Hb,null),(r=y(this,_0))==null||r.abort(),H(this,_0,null)}};qA=new WeakMap,Ub=new WeakMap,ZI=new WeakMap,QI=new WeakMap,JI=new WeakMap,e4=new WeakMap,t4=new WeakMap,_0=new WeakMap,zb=new WeakMap,S0=new WeakMap,Hb=new WeakMap,A0=new WeakMap,rx=new WeakSet,pNe=function(e){var i,s,a;if((i=y(this,QI))!=null&&i.call(this))return;if(e.touches.length===1){if(y(this,_0))return;const o=H(this,_0,new AbortController),l=AbortSignal.any([y(this,zb),o.signal]),c=y(this,qA),u={capture:!0,signal:l,passive:!1},d=h=>{var f;h.pointerType==="touch"&&((f=y(this,_0))==null||f.abort(),H(this,_0,null))};c.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(ia(h),d(h))},u),c.addEventListener("pointerup",d,u),c.addEventListener("pointercancel",d,u);return}if(!y(this,A0)){H(this,A0,new AbortController);const o=AbortSignal.any([y(this,zb),y(this,A0).signal]),l=y(this,qA),c={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",ie(this,rx,mNe).bind(this),c);const u=ie(this,rx,gNe).bind(this);l.addEventListener("touchend",u,c),l.addEventListener("touchcancel",u,c),c.capture=!0,l.addEventListener("pointerdown",ia,c),l.addEventListener("pointermove",ia,c),l.addEventListener("pointercancel",ia,c),l.addEventListener("pointerup",ia,c),(s=y(this,JI))==null||s.call(this)}if(ia(e),e.touches.length!==2||(a=y(this,ZI))!=null&&a.call(this)){H(this,S0,null);return}let[r,n]=e.touches;r.identifier>n.identifier&&([r,n]=[n,r]),H(this,S0,{touch0X:r.screenX,touch0Y:r.screenY,touch1X:n.screenX,touch1Y:n.screenY})},mNe=function(e){var _;if(!y(this,S0)||e.touches.length!==2)return;ia(e);let[r,n]=e.touches;r.identifier>n.identifier&&([r,n]=[n,r]);const{screenX:i,screenY:s}=r,{screenX:a,screenY:o}=n,l=y(this,S0),{touch0X:c,touch0Y:u,touch1X:d,touch1Y:h}=l,f=d-c,g=h-u,m=a-i,v=o-s,x=Math.hypot(m,v)||1,w=Math.hypot(f,g)||1;if(!y(this,Ub)&&Math.abs(w-x)<=XJ.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!y(this,Ub)){H(this,Ub,!0);return}const b=[(i+a)/2,(s+o)/2];(_=y(this,e4))==null||_.call(this,b,w,x)},gNe=function(e){var r;e.touches.length>=2||(y(this,A0)&&(y(this,A0).abort(),H(this,A0,null),(r=y(this,t4))==null||r.call(this)),y(this,S0)&&(ia(e),H(this,S0,null),H(this,Ub,!1)))};let s6=XJ;var Wb,rf,Cs,Ui,E0,GA,_1,r4,Uo,qb,T0,Qd,S1,n4,Gb,Iu,i4,Kb,C0,Fp,KA,YA,Jd,Yb,s4,w6,Rr,jq,a4,Lq,MM,vNe,yNe,Bq,FM,$q,xNe,bNe,wNe,Vq,_Ne,Uq,SNe,ANe,ENe,zq,E5;const sn=class sn{constructor(e){Q(this,Rr);Q(this,Wb,null);Q(this,rf,null);Q(this,Cs,null);Q(this,Ui,null);Q(this,E0,null);Q(this,GA,!1);Q(this,_1,null);Q(this,r4,"");Q(this,Uo,null);Q(this,qb,null);Q(this,T0,null);Q(this,Qd,null);Q(this,S1,null);Q(this,n4,"");Q(this,Gb,!1);Q(this,Iu,null);Q(this,i4,!1);Q(this,Kb,!1);Q(this,C0,!1);Q(this,Fp,null);Q(this,KA,0);Q(this,YA,0);Q(this,Jd,null);Q(this,Yb,null);Le(this,"isSelected",!1);Le(this,"_isCopy",!1);Le(this,"_editToolbar",null);Le(this,"_initialOptions",Object.create(null));Le(this,"_initialData",null);Le(this,"_isVisible",!0);Le(this,"_uiManager",null);Le(this,"_focusEventsAllowed",!0);Q(this,s4,!1);Q(this,w6,sn._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:r,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=r,this.pageRotation=(360+r-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=sn.prototype._resizeWithKeyboard,r=z_.TRANSLATE_SMALL,n=z_.TRANSLATE_BIG;return en(this,"_resizerKeyboardManager",new RR([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-r,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[r,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-r]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,r]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],sn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return en(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const r=new vVt({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});r.annotationElementId=e.annotationElementId,r.deleted=!0,r._uiManager.addToAnnotationStorage(r)}static initialize(e,r){if(sn._l10n??(sn._l10n=e),sn._l10nResizer||(sn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),sn._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);sn._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,r){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,r){Yi("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return y(this,s4)}set _isDraggable(e){var r;H(this,s4,e),(r=this.div)==null||r.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,r]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*r/(e*2),this.y+=this.width*e/(r*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*r/(e*2),this.y-=this.width*e/(r*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=y(this,w6)}setParent(e){var r;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(ie(this,Rr,E5).call(this),(r=y(this,Qd))==null||r.remove(),H(this,Qd,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(y(this,Gb)?H(this,Gb,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const r=e.relatedTarget;r!=null&&r.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,r,n,i){const[s,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(r+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,r){const[n,i]=this.parentDimensions;this.setAt(e*n,r*i,this.width*n,this.height*i),this._onTranslated()}translate(e,r){ie(this,Rr,jq).call(this,this.parentDimensions,e,r)}translateInPage(e,r){y(this,Iu)||H(this,Iu,[this.x,this.y,this.width,this.height]),ie(this,Rr,jq).call(this,this.pageDimensions,e,r),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,r){y(this,Iu)||H(this,Iu,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=r/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,c]=this.getBaseTranslation();a+=l,o+=c;const{style:u}=n;u.left=`${(100*a).toFixed(2)}%`,u.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),n.scrollIntoView({block:"nearest"})}_onTranslating(e,r){}_onTranslated(e,r){}get _hasBeenMoved(){return!!y(this,Iu)&&(y(this,Iu)[0]!==this.x||y(this,Iu)[1]!==this.y)}get _hasBeenResized(){return!!y(this,Iu)&&(y(this,Iu)[2]!==this.width||y(this,Iu)[3]!==this.height)}getBaseTranslation(){const[e,r]=this.parentDimensions,{_borderLineWidth:n}=sn,i=n/e,s=n/r;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:r},pageDimensions:[n,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=n,l*=i,s*=n,a*=i,this._mustFixPosition)switch(e){case 0:s=lc(s,0,n-o),a=lc(a,0,i-l);break;case 90:s=lc(s,0,n-l),a=lc(a,o,i);break;case 180:s=lc(s,o,n),a=lc(a,l,i);break;case 270:s=lc(s,l,n),a=lc(a,0,i-o);break}this.x=s/=n,this.y=a/=i;const[c,u]=this.getBaseTranslation();s+=c,a+=u,r.left=`${(100*s).toFixed(2)}%`,r.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,r){var n;return ie(n=sn,a4,Lq).call(n,e,r,this.parentRotation)}pageTranslationToScreen(e,r){var n;return ie(n=sn,a4,Lq).call(n,e,r,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[r,n]}=this;return[r*e,n*e]}setDims(){const{div:{style:e},width:r,height:n}=this;e.width=`${(100*r).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=y(this,Cs))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||y(this,Kb))return this._editToolbar;this._editToolbar=new kq(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[r,n]of e)await this._editToolbar.addButton(r,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,r;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(r=y(this,Cs))==null||r.destroy()}addContainer(e){var n;const r=(n=this._editToolbar)==null?void 0:n.div;r?r.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return y(this,Cs)||(i6.initialize(sn._l10n),H(this,Cs,new i6(this)),y(this,Wb)&&(y(this,Cs).data=y(this,Wb),H(this,Wb,null))),y(this,Cs)}get altTextData(){var e;return(e=y(this,Cs))==null?void 0:e.data}set altTextData(e){y(this,Cs)&&(y(this,Cs).data=e)}get guessedAltText(){var e;return(e=y(this,Cs))==null?void 0:e.guessedText}async setGuessedAltText(e){var r;await((r=y(this,Cs))==null?void 0:r.setGuessedText(e))}serializeAltText(e){var r;return(r=y(this,Cs))==null?void 0:r.serialize(e)}hasAltText(){return!!y(this,Cs)&&!y(this,Cs).isEmpty()}hasAltTextData(){var e;return((e=y(this,Cs))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=y(this,Ui))==null||e.focusButton()}addCommentButton(){return this.canAddComment?y(this,Ui)||H(this,Ui,new ID(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(y(this,E0)){this._uiManager.isEditingMode()&&y(this,E0).classList.remove("hidden");return}this.hasComment&&(H(this,E0,y(this,Ui).renderForStandalone()),this.div.append(y(this,E0)))}}removeStandaloneCommentButton(){y(this,Ui).removeStandaloneCommentButton(),H(this,E0,null)}hideStandaloneCommentButton(){var e;(e=y(this,E0))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:r,date:n,deleted:i}}=y(this,Ui);return{text:r,richText:e,date:n,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){y(this,Ui)||H(this,Ui,new ID(this)),y(this,Ui).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:r,richText:n}){if(!r||(y(this,Ui)||H(this,Ui,new ID(this)),y(this,Ui).setInitialText(e,n),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=y(this,Ui))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=y(this,Ui))==null?void 0:e.isDeleted()}get hasComment(){return!!y(this,Ui)&&!y(this,Ui).isEmpty()&&!y(this,Ui).isDeleted()}async editComment(e){y(this,Ui)||H(this,Ui,new ID(this)),y(this,Ui).edit(e)}toggleComment(e,r=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,r)}setSelectedCommentButton(e){y(this,Ui).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,c=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:r}}){y(this,Ui).data=r?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=y(this,GA)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),ie(this,Rr,Uq).call(this);const[r,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/r).toFixed(2)}%`,e.style.maxHeight=`${(100*r/n).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),eNe(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(y(this,Yb)||H(this,Yb,new s6({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:ie(this,Rr,xNe).bind(this),onPinching:ie(this,Rr,bNe).bind(this),onPinchEnd:ie(this,Rr,wNe).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:r}=ho.platform;if(e.button!==0||e.ctrlKey&&r){e.preventDefault();return}if(H(this,Gb,!0),this._isDraggable){ie(this,Rr,_Ne).call(this,e);return}ie(this,Rr,Vq).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){y(this,Fp)&&clearTimeout(y(this,Fp)),H(this,Fp,setTimeout(()=>{var e;H(this,Fp,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,r,n){e.changeParent(this),this.x=r,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,r,n=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,u=r/i,d=this.x*s,h=this.y*a,f=this.width*s,g=this.height*a;switch(n){case 0:return[d+c+o,a-h-u-g+l,d+c+f+o,a-h-u+l];case 90:return[d+u+o,a-h+c+l,d+u+g+o,a-h+c+f+l];case 180:return[d-c-f+o,a-h+u+l,d-c+o,a-h+u+g+l];case 270:return[d-u-g+o,a-h-c-f+l,d-u+o,a-h-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,r){const[n,i,s,a]=e,o=s-n,l=a-i;switch(this.rotation){case 0:return[n,r-a,o,l];case 90:return[n,r-i,l,o];case 180:return[s,r-i,o,l];case 270:return[s,r-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&sn._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=y(this,Ui))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:r,date:n,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:c,modificationDate:u}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:c,modificationDate:n||u,popupRef:!s,color:r,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),H(this,Kb,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),H(this,Kb,!1),!0):!1}isInEditMode(){return y(this,Kb)}shouldGetKeyboardEvents(){return y(this,C0)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:r,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return r<a&&i>0&&e<s&&n>0}rebuild(){ie(this,Rr,Uq).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,r=null){var n;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((n=this._initialData)==null?void 0:n.popupRef)||""}}static async deserialize(e,r,n){const i=new this.prototype.constructor({parent:r,id:r.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,H(i,Wb,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,c,u]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=c/s,i.height=u/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,r,n;if((e=y(this,S1))==null||e.abort(),H(this,S1,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),y(this,Fp)&&(clearTimeout(y(this,Fp)),H(this,Fp,null)),ie(this,Rr,E5).call(this),this.removeEditToolbar(),y(this,Jd)){for(const i of y(this,Jd).values())clearTimeout(i);H(this,Jd,null)}this.parent=null,(r=y(this,Yb))==null||r.destroy(),H(this,Yb,null),(n=y(this,Qd))==null||n.remove(),H(this,Qd,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ie(this,Rr,vNe).call(this),y(this,Uo).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,r]}=this,[n,i,s,a]=this.getPDFRect();return[sn._round(n+(s-n)*e),sn._round(i+(a-i)*(1-r))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return y(this,Ui).commentPopupPositionInLayer}set commentPopupPosition(e){y(this,Ui).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return y(this,Ui).hasDefaultPopupPosition()}get commentButtonWidth(){return y(this,Ui).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var r;(r=y(this,Ui))==null||r.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),H(this,T0,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const r=y(this,Uo).children;if(!y(this,rf)){H(this,rf,Array.from(r));const a=ie(this,Rr,SNe).bind(this),o=ie(this,Rr,ANe).bind(this),l=this._uiManager._signal;for(const c of y(this,rf)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",ie(this,Rr,ENe).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",sn._l10nResizer[u])}}const n=y(this,rf)[0];let i=0;for(const a of r){if(a===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(y(this,rf).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)y(this,Uo).append(y(this,Uo).firstElementChild);else if(s>i)for(let o=0;o<s-i;o++)y(this,Uo).firstElementChild.before(y(this,Uo).lastElementChild);let a=0;for(const o of r){const c=y(this,rf)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",sn._l10nResizer[c])}}ie(this,Rr,zq).call(this,0),H(this,C0,!0),y(this,Uo).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,r){y(this,C0)&&ie(this,Rr,$q).call(this,y(this,n4),{deltaX:e,deltaY:r,fromKeyboard:!0})}_stopResizingWithKeyboard(){ie(this,Rr,E5).call(this),this.div.focus()}select(){var e,r,n;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(r=this._editToolbar)==null||r.show(),(n=y(this,Cs))==null||n.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,r,n,i,s;this.isSelected&&(this.isSelected=!1,(e=y(this,Uo))==null||e.classList.add("hidden"),(r=this.div)==null||r.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=y(this,Cs))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,r){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return y(this,i4)}set isEditing(e){H(this,i4,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,r=!1){if(r){y(this,Jd)||H(this,Jd,new Map);const{action:n}=e;let i=y(this,Jd).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),y(this,Jd).delete(n),y(this,Jd).size===0&&H(this,Jd,null)},sn._telemetryTimeout),y(this,Jd).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),H(this,GA,!1)}disable(){this.div&&(this.div.tabIndex=-1),H(this,GA,!0)}updateFakeAnnotationElement(e){if(!y(this,Qd)&&!this.deleted){H(this,Qd,e.addFakeAnnotation(this));return}if(this.deleted){y(this,Qd).remove(),H(this,Qd,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&y(this,Qd).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let r=e.container.querySelector(".annotationContent");if(!r)r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),e.container.prepend(r);else if(r.nodeName==="CANVAS"){const n=r;r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),n.before(r)}return r}resetAnnotationElement(e){const{firstElementChild:r}=e.container;(r==null?void 0:r.nodeName)==="DIV"&&r.classList.contains("annotationContent")&&r.remove()}};Wb=new WeakMap,rf=new WeakMap,Cs=new WeakMap,Ui=new WeakMap,E0=new WeakMap,GA=new WeakMap,_1=new WeakMap,r4=new WeakMap,Uo=new WeakMap,qb=new WeakMap,T0=new WeakMap,Qd=new WeakMap,S1=new WeakMap,n4=new WeakMap,Gb=new WeakMap,Iu=new WeakMap,i4=new WeakMap,Kb=new WeakMap,C0=new WeakMap,Fp=new WeakMap,KA=new WeakMap,YA=new WeakMap,Jd=new WeakMap,Yb=new WeakMap,s4=new WeakMap,w6=new WeakMap,Rr=new WeakSet,jq=function([e,r],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/r,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},a4=new WeakSet,Lq=function(e,r,n){switch(n){case 90:return[r,-e];case 180:return[-e,-r];case 270:return[-r,e];default:return[e,r]}},MM=function(e){switch(e){case 90:{const[r,n]=this.pageDimensions;return[0,-r/n,n/r,0]}case 180:return[-1,0,0,-1];case 270:{const[r,n]=this.pageDimensions;return[0,r/n,-n/r,0]}default:return[1,0,0,1]}},vNe=function(){if(y(this,Uo))return;H(this,Uo,document.createElement("div")),y(this,Uo).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],r=this._uiManager._signal;for(const n of e){const i=document.createElement("div");y(this,Uo).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",ie(this,Rr,yNe).bind(this,n),{signal:r}),i.addEventListener("contextmenu",Ph,{signal:r}),i.tabIndex=-1}this.div.prepend(y(this,Uo))},yNe=function(e,r){var u;r.preventDefault();const{isMac:n}=ho.platform;if(r.button!==0||r.ctrlKey&&n)return;(u=y(this,Cs))==null||u.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,H(this,qb,[r.screenX,r.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",ie(this,Rr,$q).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",ia,{passive:!1,signal:a}),window.addEventListener("contextmenu",Ph,{signal:a}),H(this,T0,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(r.target).cursor;const c=()=>{var d;s.abort(),this.parent.togglePointerEvents(!0),(d=y(this,Cs))==null||d.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,ie(this,Rr,FM).call(this)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})},Bq=function(e,r,n,i){this.width=n,this.height=i,this.x=e,this.y=r,this.setDims(),this.fixAndSetPosition(),this._onResized()},FM=function(){if(!y(this,T0))return;const{savedX:e,savedY:r,savedWidth:n,savedHeight:i}=y(this,T0);H(this,T0,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===r&&o===n&&l===i||this.addCommands({cmd:ie(this,Rr,Bq).bind(this,s,a,o,l),undo:ie(this,Rr,Bq).bind(this,e,r,n,i),mustExec:!0})},$q=function(e,r){const[n,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,c=sn.MIN_SIZE/n,u=sn.MIN_SIZE/i,d=ie(this,Rr,MM).call(this,this.rotation),h=(X,W)=>[d[0]*X+d[2]*W,d[1]*X+d[3]*W],f=ie(this,Rr,MM).call(this,360-this.rotation),g=(X,W)=>[f[0]*X+f[2]*W,f[1]*X+f[3]*W];let m,v,x=!1,w=!1;switch(e){case"topLeft":x=!0,m=(X,W)=>[0,0],v=(X,W)=>[X,W];break;case"topMiddle":m=(X,W)=>[X/2,0],v=(X,W)=>[X/2,W];break;case"topRight":x=!0,m=(X,W)=>[X,0],v=(X,W)=>[0,W];break;case"middleRight":w=!0,m=(X,W)=>[X,W/2],v=(X,W)=>[0,W/2];break;case"bottomRight":x=!0,m=(X,W)=>[X,W],v=(X,W)=>[0,0];break;case"bottomMiddle":m=(X,W)=>[X/2,W],v=(X,W)=>[X/2,0];break;case"bottomLeft":x=!0,m=(X,W)=>[0,W],v=(X,W)=>[X,0];break;case"middleLeft":w=!0,m=(X,W)=>[0,W/2],v=(X,W)=>[X,W/2];break}const b=m(o,l),_=v(o,l);let S=h(..._);const T=sn._round(s+S[0]),E=sn._round(a+S[1]);let C=1,N=1,F,A;if(r.fromKeyboard)({deltaX:F,deltaY:A}=r);else{const{screenX:X,screenY:W}=r,[G,B]=y(this,qb);[F,A]=this.screenToPageTranslation(X-G,W-B),y(this,qb)[0]=X,y(this,qb)[1]=W}if([F,A]=g(F/n,A/i),x){const X=Math.hypot(o,l);C=N=Math.max(Math.min(Math.hypot(_[0]-b[0]-F,_[1]-b[1]-A)/X,1/o,1/l),c/o,u/l)}else w?C=lc(Math.abs(_[0]-b[0]-F),c,1)/o:N=lc(Math.abs(_[1]-b[1]-A),u,1)/l;const I=sn._round(o*C),M=sn._round(l*N);S=h(...v(I,M));const U=T-S[0],Y=E-S[1];y(this,Iu)||H(this,Iu,[this.x,this.y,this.width,this.height]),this.width=I,this.height=M,this.x=U,this.y=Y,this.setDims(),this.fixAndSetPosition(),this._onResizing()},xNe=function(){var e;H(this,T0,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=y(this,Cs))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},bNe=function(e,r,n){let s=.7*(n/r)+1-.7;if(s===1)return;const a=ie(this,Rr,MM).call(this,this.rotation),o=(T,E)=>[a[0]*T+a[2]*E,a[1]*T+a[3]*E],[l,c]=this.parentDimensions,u=this.x,d=this.y,h=this.width,f=this.height,g=sn.MIN_SIZE/l,m=sn.MIN_SIZE/c;s=Math.max(Math.min(s,1/h,1/f),g/h,m/f);const v=sn._round(h*s),x=sn._round(f*s);if(v===h&&x===f)return;y(this,Iu)||H(this,Iu,[u,d,h,f]);const w=o(h/2,f/2),b=sn._round(u+w[0]),_=sn._round(d+w[1]),S=o(v/2,x/2);this.x=b-S[0],this.y=_-S[1],this.width=v,this.height=x,this.setDims(),this.fixAndSetPosition(),this._onResizing()},wNe=function(){var e;(e=y(this,Cs))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),ie(this,Rr,FM).call(this)},Vq=function(e){const{isMac:r}=ho.platform;e.ctrlKey&&!r||e.shiftKey||e.metaKey&&r?this.parent.toggleSelected(this):this.parent.setSelected(this)},_Ne=function(e){const{isSelected:r}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=c=>{i.abort(),H(this,_1,null),H(this,Gb,!1),this._uiManager.endDragSession()||ie(this,Rr,Vq).call(this,c),n&&this._onStopDragging()};r&&(H(this,KA,e.clientX),H(this,YA,e.clientY),H(this,_1,e.pointerId),H(this,r4,e.pointerType),window.addEventListener("pointermove",c=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:u,clientY:d,pointerId:h}=c;if(h!==y(this,_1)){ia(c);return}const[f,g]=this.screenToPageTranslation(u-y(this,KA),d-y(this,YA));H(this,KA,u),H(this,YA,d),this._uiManager.dragSelectedEditors(f,g)},a),window.addEventListener("touchmove",ia,a),window.addEventListener("pointerdown",c=>{c.pointerType===y(this,r4)&&(y(this,Yb)||c.isPrimary)&&o(c),ia(c)},a));const l=c=>{if(!y(this,_1)||y(this,_1)===c.pointerId){o(c);return}ia(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},Uq=function(){if(y(this,S1)||!this.div)return;H(this,S1,new AbortController);const e=this._uiManager.combinedSignal(y(this,S1));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},SNe=function(e){sn._resizerKeyboardManager.exec(this,e)},ANe=function(e){var r;y(this,C0)&&((r=e.relatedTarget)==null?void 0:r.parentNode)!==y(this,Uo)&&ie(this,Rr,E5).call(this)},ENe=function(e){H(this,n4,y(this,C0)?e:"")},zq=function(e){if(y(this,rf))for(const r of y(this,rf))r.tabIndex=e},E5=function(){H(this,C0,!1),ie(this,Rr,zq).call(this,-1),ie(this,Rr,FM).call(this)},Q(sn,a4),Le(sn,"_l10n",null),Le(sn,"_l10nResizer",null),Le(sn,"_borderLineWidth",-1),Le(sn,"_colorManager",new Iq),Le(sn,"_zIndex",1),Le(sn,"_telemetryTimeout",1e3);let ls=sn;class vVt extends ls{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Ffe=3285377520,Ld=4294901760,hp=65535;class TNe{constructor(e){this.h1=e?e&4294967295:Ffe,this.h2=e?e&4294967295:Ffe}update(e){let r,n;if(typeof e=="string"){r=new Uint8Array(e.length*2),n=0;for(let m=0,v=e.length;m<v;m++){const x=e.charCodeAt(m);x<=255?r[n++]=x:(r[n++]=x>>>8,r[n++]=x&255)}}else if(ArrayBuffer.isView(e))r=e.slice(),n=r.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,s=n-i*4,a=new Uint32Array(r.buffer,0,i);let o=0,l=0,c=this.h1,u=this.h2;const d=3432918353,h=461845907,f=d&hp,g=h&hp;for(let m=0;m<i;m++)m&1?(o=a[m],o=o*d&Ld|o*f&hp,o=o<<15|o>>>17,o=o*h&Ld|o*g&hp,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[m],l=l*d&Ld|l*f&hp,l=l<<15|l>>>17,l=l*h&Ld|l*g&hp,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,s){case 3:o^=r[i*4+2]<<16;case 2:o^=r[i*4+1]<<8;case 1:o^=r[i*4],o=o*d&Ld|o*f&hp,o=o<<15|o>>>17,o=o*h&Ld|o*g&hp,i&1?c^=o:u^=o}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,r=this.h2;return e^=r>>>1,e=e*3981806797&Ld|e*36045&hp,r=r*4283543511&Ld|((r<<16|e>>>16)*2950163797&Ld)>>>16,e^=r>>>1,e=e*444984403&Ld|e*60499&hp,r=r*3301882366&Ld|((r<<16|e>>>16)*3120437893&Ld)>>>16,e^=r>>>1,(e>>>0).toString(16).padStart(8,"0")+(r>>>0).toString(16).padStart(8,"0")}}const Hq=Object.freeze({map:null,hash:"",transfer:void 0});var Xb,Zb,k0,zo,_6,CNe;class $J{constructor(){Q(this,_6);Q(this,Xb,!1);Q(this,Zb,null);Q(this,k0,null);Q(this,zo,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,r){const n=y(this,zo).get(e);return n===void 0?r:Object.assign(r,n)}getRawValue(e){return y(this,zo).get(e)}remove(e){const r=y(this,zo).get(e);if(r!==void 0&&(r instanceof ls&&y(this,k0).delete(r.annotationElementId),y(this,zo).delete(e),y(this,zo).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of y(this,zo).values())if(n instanceof ls)return;this.onAnnotationEditor(null)}}setValue(e,r){const n=y(this,zo).get(e);let i=!1;if(n!==void 0)for(const[s,a]of Object.entries(r))n[s]!==a&&(i=!0,n[s]=a);else i=!0,y(this,zo).set(e,r);i&&ie(this,_6,CNe).call(this),r instanceof ls&&((y(this,k0)||H(this,k0,new Map)).set(r.annotationElementId,r),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(r.constructor._type))}has(e){return y(this,zo).has(e)}get size(){return y(this,zo).size}resetModified(){y(this,Xb)&&(H(this,Xb,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new kNe(this)}get serializable(){if(y(this,zo).size===0)return Hq;const e=new Map,r=new TNe,n=[],i=Object.create(null);let s=!1;for(const[a,o]of y(this,zo)){const l=o instanceof ls?o.serialize(!1,i):o;l&&(e.set(a,l),r.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:r.hexdigest(),transfer:n}:Hq}get editorStats(){let e=null;const r=new Map;let n=0,i=0;for(const s of y(this,zo).values()){if(!(s instanceof ls)){s.popup&&(s.popup.deleted?i+=1:n+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(n+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;r.has(o)||r.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[c,u]of Object.entries(a)){if(c==="type")continue;let d=l.get(c);d||(d=new Map,l.set(c,d));const h=d.get(u)??0;d.set(u,h+1)}}if((i>0||n>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:n}),!e)return null;for(const[s,a]of r)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){H(this,Zb,null)}updateEditor(e,r){var i;const n=(i=y(this,k0))==null?void 0:i.get(e);return n?(n.updateFromAnnotationLayer(r),!0):!1}getEditor(e){var r;return((r=y(this,k0))==null?void 0:r.get(e))||null}get modifiedIds(){if(y(this,Zb))return y(this,Zb);const e=[];if(y(this,k0))for(const r of y(this,k0).values())r.serialize()&&e.push(r.annotationElementId);return H(this,Zb,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return y(this,zo).entries()}}Xb=new WeakMap,Zb=new WeakMap,k0=new WeakMap,zo=new WeakMap,_6=new WeakSet,CNe=function(){y(this,Xb)||(H(this,Xb,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var o4;class kNe extends $J{constructor(r){super();Q(this,o4);const{map:n,hash:i,transfer:s}=r.serializable,a=structuredClone(n,s?{transfer:s}:null);H(this,o4,{map:a,hash:i,transfer:s})}get print(){Yi("Should not call PrintAnnotationStorage.print")}get serializable(){return y(this,o4)}get modifiedIds(){return en(this,"modifiedIds",{ids:new Set,hash:""})}}o4=new WeakMap;var XA;class yVt{constructor({ownerDocument:e=globalThis.document,styleElement:r=null}){Q(this,XA,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const r=this.styleElement.sheet;r.insertRule(e,r.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),y(this,XA).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:r,_inspectFont:n}){if(!(!e||y(this,XA).has(e.loadedName))){if(Un(!r,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),y(this,XA).add(i),n==null||n(e)}catch{Qr(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Yi("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw Qr(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const r=e.createFontFaceRule();if(r){if(this.insertRule(r),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var r;const e=!!((r=this._document)!=null&&r.fonts);return en(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return en(this,"isSyncFontLoadingSupported",oc||ho.platform.isFirefox)}_queueLoadingCallback(e){function r(){for(Un(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:r,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return en(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,r){function n(_,S){return _.charCodeAt(S)<<24|_.charCodeAt(S+1)<<16|_.charCodeAt(S+2)<<8|_.charCodeAt(S+3)&255}function i(_,S,T,E){const C=_.substring(0,S),N=_.substring(S+T);return C+E+N}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function u(_,S){if(++c>30){Qr("Load test font never loaded."),S();return}if(l.font="30px "+_,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){S();return}setTimeout(u.bind(null,_,S))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,d.length,d);const g=16,m=1482184792;let v=n(h,g);for(s=0,a=d.length-3;s<a;s+=4)v=v-m+n(d,s)|0;s<d.length&&(v=v-m+n(d+"XXX",s)|0),h=i(h,g,4,Q9t(v));const x=`url(data:font/opentype;base64,${btoa(h)});`,w=`@font-face {font-family:"${d}";src:${x}}`;this.insertRule(w);const b=this._document.createElement("div");b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px";for(const _ of[e.loadedName,d]){const S=this._document.createElement("span");S.textContent="Hi",S.style.fontFamily=_,b.append(S)}this._document.body.append(b),u(d,()=>{b.remove(),r.complete()})}}XA=new WeakMap;var Oi;class xVt{constructor(e,r=null,n,i){Q(this,Oi);this.compiledGlyphs=Object.create(null),H(this,Oi,e),this._inspectFont=r,n&&Object.assign(this,n),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var r;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(r=this._inspectFont)==null||r.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${WPe(this.data)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),r}getPathGenerator(e,r){if(this.compiledGlyphs[r]!==void 0)return this.compiledGlyphs[r];const n=this.loadedName+"_path_"+r;let i;try{i=e.get(n)}catch(a){Qr(`getPathGenerator - ignoring character: "${a}".`)}const s=KPe(i==null?void 0:i.path);return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[r]=s}get black(){return y(this,Oi).black}get bold(){return y(this,Oi).bold}get disableFontFace(){return y(this,Oi).disableFontFace??!1}set disableFontFace(e){en(this,"disableFontFace",!!e)}get fontExtraProperties(){return y(this,Oi).fontExtraProperties??!1}get isInvalidPDFjsFont(){return y(this,Oi).isInvalidPDFjsFont}get isType3Font(){return y(this,Oi).isType3Font}get italic(){return y(this,Oi).italic}get missingFile(){return y(this,Oi).missingFile}get remeasure(){return y(this,Oi).remeasure}get vertical(){return y(this,Oi).vertical}get ascent(){return y(this,Oi).ascent}get defaultWidth(){return y(this,Oi).defaultWidth}get descent(){return y(this,Oi).descent}get bbox(){return y(this,Oi).bbox}set bbox(e){en(this,"bbox",e)}get fontMatrix(){return y(this,Oi).fontMatrix}get fallbackName(){return y(this,Oi).fallbackName}get loadedName(){return y(this,Oi).loadedName}get mimetype(){return y(this,Oi).mimetype}get name(){return y(this,Oi).name}get data(){return y(this,Oi).data}clearData(){y(this,Oi).clearData()}get cssFontInfo(){return y(this,Oi).cssFontInfo}get systemFontInfo(){return y(this,Oi).systemFontInfo}get defaultVMetrics(){return y(this,Oi).defaultVMetrics}}Oi=new WeakMap;var ZA,QA,l4,JA,jM;const jS=class jS{constructor(e){Q(this,JA);Q(this,ZA);Q(this,QA);Q(this,l4);H(this,ZA,e),H(this,QA,new DataView(y(this,ZA))),H(this,l4,new TextDecoder)}static write(e){const r=new TextEncoder,n={};let i=0;for(const c of jS.strings){const u=r.encode(e[c]);n[c]=u,i+=4+u.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const c of jS.strings){const u=n[c],d=u.length;o.setUint32(l,d),a.set(u,l+4),l+=4+d}return Un(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return ie(this,JA,jM).call(this,0)}get fontWeight(){return ie(this,JA,jM).call(this,1)}get italicAngle(){return ie(this,JA,jM).call(this,2)}};ZA=new WeakMap,QA=new WeakMap,l4=new WeakMap,JA=new WeakSet,jM=function(e){Un(e<jS.strings.length,"Invalid string index");let r=0;for(let i=0;i<e;i++)r+=y(this,QA).getUint32(r)+4;const n=y(this,QA).getUint32(r);return y(this,l4).decode(new Uint8Array(y(this,ZA),r+4,n))},Le(jS,"strings",["fontFamily","fontWeight","italicAngle"]);let a6=jS;var A1,jp,Qb,Jb,T5;const LS=class LS{constructor(e){Q(this,Jb);Q(this,A1);Q(this,jp);Q(this,Qb);H(this,A1,e),H(this,jp,new DataView(y(this,A1))),H(this,Qb,new TextDecoder)}static write(e){const r=new TextEncoder,n={};let i=0;for(const h of LS.strings){const f=r.encode(e[h]);n[h]=f,i+=4+f.length}i+=4;let s,a,o=1+i;e.style&&(s=r.encode(e.style.style),a=r.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),c=new Uint8Array(l),u=new DataView(l);let d=0;u.setUint8(d++,e.guessFallback?1:0),u.setUint32(d,0),d+=4,i=0;for(const h of LS.strings){const f=n[h],g=f.length;i+=4+g,u.setUint32(d,g),c.set(f,d+4),d+=4+g}return u.setUint32(d-i-4,i),e.style&&(u.setUint32(d,s.length),c.set(s,d+4),d+=4+s.length,u.setUint32(d,a.length),c.set(a,d+4),d+=4+a.length),Un(d<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(d)}get guessFallback(){return y(this,jp).getUint8(0)!==0}get css(){return ie(this,Jb,T5).call(this,0)}get loadedName(){return ie(this,Jb,T5).call(this,1)}get baseFontName(){return ie(this,Jb,T5).call(this,2)}get src(){return ie(this,Jb,T5).call(this,3)}get style(){let e=1;e+=4+y(this,jp).getUint32(e);const r=y(this,jp).getUint32(e),n=y(this,Qb).decode(new Uint8Array(y(this,A1),e+4,r));e+=4+r;const i=y(this,jp).getUint32(e),s=y(this,Qb).decode(new Uint8Array(y(this,A1),e+4,i));return{style:n,weight:s}}};A1=new WeakMap,jp=new WeakMap,Qb=new WeakMap,Jb=new WeakSet,T5=function(e){Un(e<LS.strings.length,"Invalid string index");let r=5;for(let i=0;i<e;i++)r+=y(this,jp).getUint32(r)+4;const n=y(this,jp).getUint32(r);return y(this,Qb).decode(new Uint8Array(y(this,A1),r+4,n))},Le(LS,"strings",["css","loadedName","baseFontName","src"]);let o6=LS;var eE,tE,rE,nE,Ou,Lp,c4,Ri,ea,Gh,LM,C5;const on=class on{constructor({data:e,extra:r}){Q(this,ea);Q(this,Lp);Q(this,c4);Q(this,Ri);H(this,Lp,e),H(this,c4,new TextDecoder),H(this,Ri,new DataView(y(this,Lp))),r&&Object.assign(this,r)}get black(){return ie(this,ea,Gh).call(this,0)}get bold(){return ie(this,ea,Gh).call(this,1)}get disableFontFace(){return ie(this,ea,Gh).call(this,2)}get fontExtraProperties(){return ie(this,ea,Gh).call(this,3)}get isInvalidPDFjsFont(){return ie(this,ea,Gh).call(this,4)}get isType3Font(){return ie(this,ea,Gh).call(this,5)}get italic(){return ie(this,ea,Gh).call(this,6)}get missingFile(){return ie(this,ea,Gh).call(this,7)}get remeasure(){return ie(this,ea,Gh).call(this,8)}get vertical(){return ie(this,ea,Gh).call(this,9)}get ascent(){return ie(this,ea,LM).call(this,0)}get defaultWidth(){return ie(this,ea,LM).call(this,1)}get descent(){return ie(this,ea,LM).call(this,2)}get bbox(){let e=y(on,tE);if(y(this,Ri).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<4;i++)n.push(y(this,Ri).getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=y(on,rE);if(y(this,Ri).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<6;i++)n.push(y(this,Ri).getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=y(on,nE);if(y(this,Ri).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<3;i++)n.push(y(this,Ri).getInt16(e,!0)),e+=2;return n}get fallbackName(){return ie(this,ea,C5).call(this,0)}get loadedName(){return ie(this,ea,C5).call(this,1)}get mimetype(){return ie(this,ea,C5).call(this,2)}get name(){return ie(this,ea,C5).call(this,3)}get data(){let e=y(on,Ou);const r=y(this,Ri).getUint32(e);e+=4+r;const n=y(this,Ri).getUint32(e);e+=4+n;const i=y(this,Ri).getUint32(e);e+=4+i;const s=y(this,Ri).getUint32(e);if(s!==0)return new Uint8Array(y(this,Lp),e+4,s)}clearData(){let e=y(on,Ou);const r=y(this,Ri).getUint32(e);e+=4+r;const n=y(this,Ri).getUint32(e);e+=4+n;const i=y(this,Ri).getUint32(e);e+=4+i;const s=y(this,Ri).getUint32(e);new Uint8Array(y(this,Lp),e+4,s).fill(0),y(this,Ri).setUint32(e,0)}get cssFontInfo(){let e=y(on,Ou);const r=y(this,Ri).getUint32(e);e+=4+r;const n=y(this,Ri).getUint32(e);e+=4+n;const i=y(this,Ri).getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(y(this,Lp),e+4,i)),new a6(s.buffer)}get systemFontInfo(){let e=y(on,Ou);const r=y(this,Ri).getUint32(e);e+=4+r;const n=y(this,Ri).getUint32(e);if(n===0)return null;const i=new Uint8Array(n);return i.set(new Uint8Array(y(this,Lp),e+4,n)),new o6(i.buffer)}static write(e){const r=e.systemFontInfo?o6.write(e.systemFontInfo):null,n=e.cssFontInfo?a6.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const m of on.strings)s[m]=i.encode(e[m]),a+=4+s[m].length;const o=y(on,Ou)+4+a+4+(r?r.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),c=new Uint8Array(l),u=new DataView(l);let d=0;const h=on.bools.length;let f=0,g=0;for(let m=0;m<h;m++){const v=e[on.bools[m]];f|=(v===void 0?0:v?2:1)<<g,g+=2,(g===8||m===h-1)&&(u.setUint8(d++,f),f=0,g=0)}Un(d===y(on,eE),"FontInfo.write: Boolean properties offset mismatch");for(const m of on.numbers)u.setFloat64(d,e[m]),d+=8;if(Un(d===y(on,tE),"FontInfo.write: Number properties offset mismatch"),e.bbox){u.setUint8(d++,4);for(const m of e.bbox)u.setInt16(d,m,!0),d+=2}else u.setUint8(d++,0),d+=2*4;if(Un(d===y(on,rE),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){u.setUint8(d++,6);for(const m of e.fontMatrix)u.setFloat64(d,m,!0),d+=8}else u.setUint8(d++,0),d+=8*6;if(Un(d===y(on,nE),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){u.setUint8(d++,1);for(const m of e.defaultVMetrics)u.setInt16(d,m,!0),d+=2}else u.setUint8(d++,0),d+=3*2;Un(d===y(on,Ou),"FontInfo.write: DefaultVMetrics properties offset mismatch"),u.setUint32(y(on,Ou),0),d+=4;for(const m of on.strings){const v=s[m],x=v.length;u.setUint32(d,x),c.set(v,d+4),d+=4+x}if(u.setUint32(y(on,Ou),d-y(on,Ou)-4),!r)u.setUint32(d,0),d+=4;else{const m=r.byteLength;u.setUint32(d,m),Un(d+4+m<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(r),d+4),d+=4+m}if(!n)u.setUint32(d,0),d+=4;else{const m=n.byteLength;u.setUint32(d,m),Un(d+4+m<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(n),d+4),d+=4+m}return e.data===void 0?(u.setUint32(d,0),d+=4):(u.setUint32(d,e.data.length),c.set(e.data,d+4),d+=4+e.data.length),Un(d<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(d)}};eE=new WeakMap,tE=new WeakMap,rE=new WeakMap,nE=new WeakMap,Ou=new WeakMap,Lp=new WeakMap,c4=new WeakMap,Ri=new WeakMap,ea=new WeakSet,Gh=function(e){Un(e<on.bools.length,"Invalid boolean index");const r=Math.floor(e/4),n=e*2%8,i=y(this,Ri).getUint8(r)>>n&3;return i===0?void 0:i===2},LM=function(e){return Un(e<on.numbers.length,"Invalid number index"),y(this,Ri).getFloat64(y(on,eE)+e*8)},C5=function(e){Un(e<on.strings.length,"Invalid string index");let r=y(on,Ou)+4;for(let s=0;s<e;s++)r+=y(this,Ri).getUint32(r)+4;const n=y(this,Ri).getUint32(r),i=new Uint8Array(n);return i.set(new Uint8Array(y(this,Lp),r+4,n)),y(this,c4).decode(i)},Le(on,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),Le(on,"numbers",["ascent","defaultWidth","descent"]),Le(on,"strings",["fallbackName","loadedName","mimetype","name"]),Q(on,eE,Math.ceil(on.bools.length*2/8)),Q(on,tE,y(on,eE)+on.numbers.length*8),Q(on,rE,y(on,tE)+1+2*4),Q(on,nE,y(on,rE)+1+8*6),Q(on,Ou,y(on,nE)+1+2*3);let Wq=on;var u4,d4,h4,f4,p4,m4,g4,v4;const ns=class ns{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let r,n=null,i=[],s=[],a=[],o=[],l=null,c=null;switch(e[0]){case"RadialAxial":r=e[1]==="axial"?1:2,n=e[2],a=e[3],r===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":r=3,l=e[1],i=e[2],s=e[3],o=e[4]||[],n=e[6],c=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const u=Math.floor(i.length/2),d=Math.floor(s.length/3),h=a.length,f=o.length;let g=0;for(const S of o)g+=1,g=Math.ceil(g/4)*4,g+=4+S.coords.length*4,g+=4+S.colors.length*4,S.verticesPerRow!==void 0&&(g+=4);const m=20+u*8+d*3+h*8+(n?16:0)+(c?3:0)+g,v=new ArrayBuffer(m),x=new DataView(v),w=new Uint8Array(v);x.setUint8(y(ns,u4),r),x.setUint8(y(ns,d4),n?1:0),x.setUint8(y(ns,h4),c?1:0),x.setUint8(y(ns,f4),l),x.setUint32(y(ns,p4),u,!0),x.setUint32(y(ns,m4),d,!0),x.setUint32(y(ns,g4),h,!0),x.setUint32(y(ns,v4),f,!0);let b=20;new Float32Array(v,b,u*2).set(i),b+=u*8,w.set(s,b),b+=d*3;for(const[S,T]of a)x.setFloat32(b,S,!0),b+=4,x.setUint32(b,parseInt(T.slice(1),16),!0),b+=4;if(n)for(const S of n)x.setFloat32(b,S,!0),b+=4;c&&(w.set(c,b),b+=3);for(let S=0;S<o.length;S++){const T=o[S];x.setUint8(b,T.type),b+=1,b=Math.ceil(b/4)*4,x.setUint32(b,T.coords.length,!0),b+=4,new Int32Array(v,b,T.coords.length).set(T.coords),b+=T.coords.length*4,x.setUint32(b,T.colors.length,!0),b+=4,new Int32Array(v,b,T.colors.length).set(T.colors),b+=T.colors.length*4,T.verticesPerRow!==void 0&&(x.setUint32(b,T.verticesPerRow,!0),b+=4)}return v}getIR(){const e=this.view,r=this.data[y(ns,u4)],n=!!this.data[y(ns,d4)],i=!!this.data[y(ns,h4)],s=e.getUint32(y(ns,p4),!0),a=e.getUint32(y(ns,m4),!0),o=e.getUint32(y(ns,g4),!0),l=e.getUint32(y(ns,v4),!0);let c=20;const u=new Float32Array(this.buffer,c,s*2);c+=s*8;const d=new Uint8Array(this.buffer,c,a*3);c+=a*3;const h=[];for(let v=0;v<o;++v){const x=e.getFloat32(c,!0);c+=4;const w=e.getUint32(c,!0);c+=4,h.push([x,`#${w.toString(16).padStart(6,"0")}`])}let f=null;if(n){f=[];for(let v=0;v<4;++v)f.push(e.getFloat32(c,!0)),c+=4}let g=null;i&&(g=new Uint8Array(this.buffer,c,3),c+=3);const m=[];for(let v=0;v<l;++v){const x=e.getUint8(c);c+=1,c=Math.ceil(c/4)*4;const w=e.getUint32(c,!0);c+=4;const b=new Int32Array(this.buffer,c,w);c+=w*4;const _=e.getUint32(c,!0);c+=4;const S=new Int32Array(this.buffer,c,_);c+=_*4;const T={type:x,coords:b,colors:S};x===Sq.LATTICE&&(T.verticesPerRow=e.getUint32(c,!0),c+=4),m.push(T)}if(r===1)return["RadialAxial","axial",f,h,Array.from(u.slice(0,2)),Array.from(u.slice(2,4)),null,null];if(r===2)return["RadialAxial","radial",f,h,[u[0],u[1]],[u[3],u[4]],u[2],u[5]];if(r===3){const v=this.data[y(ns,f4)];let x=null;if(u.length>0){let w=u[0],b=u[0],_=u[1],S=u[1];for(let T=0;T<u.length;T+=2){const E=u[T],C=u[T+1];w=w>E?E:w,_=_>C?C:_,b=b<E?E:b,S=S<C?C:S}x=[w,_,b,S]}return["Mesh",v,u,d,m,x,f,g]}throw new Error(`Unsupported pattern kind: ${r}`)}};u4=new WeakMap,d4=new WeakMap,h4=new WeakMap,f4=new WeakMap,p4=new WeakMap,m4=new WeakMap,g4=new WeakMap,v4=new WeakMap,Q(ns,u4,0),Q(ns,d4,1),Q(ns,h4,2),Q(ns,f4,3),Q(ns,p4,4),Q(ns,m4,8),Q(ns,g4,12),Q(ns,v4,16);let qq=ns;var iE;class bVt{constructor(e){Q(this,iE);H(this,iE,e)}static write(e){let r,n;return ho.isFloat16ArraySupported?(n=new ArrayBuffer(e.length*2),r=new Float16Array(n)):(n=new ArrayBuffer(e.length*4),r=new Float32Array(n)),r.set(e),n}get path(){return ho.isFloat16ArraySupported?new Float16Array(y(this,iE)):new Float32Array(y(this,iE))}}iE=new WeakMap;function wVt(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(oc)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function _Vt(t){if(oc&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return PR(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function OD(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const Gq=t=>typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0,SVt=t=>typeof t=="object"&&typeof(t==null?void 0:t.name)=="string",AVt=nVt.bind(null,Gq,SVt);var P0,S6;class EVt{constructor(){Q(this,P0,new Map);Q(this,S6,Promise.resolve())}postMessage(e,r){const n={data:structuredClone(e,r?{transfer:r}:null)};y(this,S6).then(()=>{for(const[i]of y(this,P0))i.call(this,n)})}addEventListener(e,r,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:s}=n;if(s.aborted){Qr("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,r);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}y(this,P0).set(r,i)}removeEventListener(e,r){const n=y(this,P0).get(r);n==null||n(),y(this,P0).delete(r)}terminate(){for(const[,e]of y(this,P0))e==null||e();y(this,P0).clear()}}P0=new WeakMap,S6=new WeakMap;const RD={DATA:1,ERROR:2},Ca={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function jfe(){}function $c(t){if(t instanceof ex||t instanceof Aq||t instanceof Pfe||t instanceof r6||t instanceof QV)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Yi('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new ex(t.message);case"InvalidPDFException":return new Aq(t.message);case"PasswordException":return new Pfe(t.message,t.code);case"ResponseException":return new r6(t.message,t.status,t.missing);case"UnknownErrorException":return new QV(t.message,t.details)}return new QV(t.message,t.toString())}var sE,bh,PNe,NNe,INe,BM;class k5{constructor(e,r,n){Q(this,bh);Q(this,sE,new AbortController);this.sourceName=e,this.targetName=r,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",ie(this,bh,PNe).bind(this),{signal:y(this,sE).signal})}on(e,r){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=r}send(e,r,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:r},n)}sendWithPromise(e,r,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:r},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,r,n,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:r,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:a,targetName:o,stream:Ca.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{Un(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:Ca.CANCEL,streamId:s,reason:$c(c)}),u.promise}},n)}destroy(){var e;(e=y(this,sE))==null||e.abort(),H(this,sE,null)}}sE=new WeakMap,bh=new WeakSet,PNe=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){ie(this,bh,INe).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===RD.DATA)i.resolve(e.data);else if(e.callback===RD.ERROR)i.reject($c(e.reason));else throw new Error("Unexpected callback case");return}const r=this.actionHandler[e.action];if(!r)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(r,e.data).then(function(a){s.postMessage({sourceName:n,targetName:i,callback:RD.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:n,targetName:i,callback:RD.ERROR,callbackId:e.callbackId,reason:$c(a)})});return}if(e.streamId){ie(this,bh,NNe).call(this,e);return}r(e.data)},NNe=function(e){const r=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=u,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:Ca.ENQUEUE,streamId:r,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Ca.CLOSE,streamId:r}),delete a.streamSinks[r])},error(c){Un(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Ca.ERROR,streamId:r,reason:$c(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[r]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Ca.START_COMPLETE,streamId:r,success:!0})},function(c){s.postMessage({sourceName:n,targetName:i,stream:Ca.START_COMPLETE,streamId:r,reason:$c(c)})})},INe=function(e){const r=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[r],o=this.streamSinks[r];switch(e.stream){case Ca.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject($c(e.reason));break;case Ca.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject($c(e.reason));break;case Ca.PULL:if(!o){s.postMessage({sourceName:n,targetName:i,stream:Ca.PULL_COMPLETE,streamId:r,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||jfe).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Ca.PULL_COMPLETE,streamId:r,success:!0})},function(c){s.postMessage({sourceName:n,targetName:i,stream:Ca.PULL_COMPLETE,streamId:r,reason:$c(c)})});break;case Ca.ENQUEUE:if(Un(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Ca.CLOSE:if(Un(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),ie(this,bh,BM).call(this,a,r);break;case Ca.ERROR:Un(a,"error should have stream controller"),a.controller.error($c(e.reason)),ie(this,bh,BM).call(this,a,r);break;case Ca.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject($c(e.reason)),ie(this,bh,BM).call(this,a,r);break;case Ca.CANCEL:if(!o)break;const l=$c(e.reason);Promise.try(o.onCancel||jfe,l).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Ca.CANCEL_COMPLETE,streamId:r,success:!0})},function(c){s.postMessage({sourceName:n,targetName:i,stream:Ca.CANCEL_COMPLETE,streamId:r,reason:$c(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}},BM=async function(e,r){var n,i,s;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[r]};var y4;class ONe{constructor({enableHWA:e=!1}){Q(this,y4,!1);H(this,y4,e)}create(e,r){if(e<=0||r<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,r);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!y(this,y4)})}}reset(e,r,n){if(!e.canvas)throw new Error("Canvas is not specified");if(r<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=r,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,r){Yi("Abstract method `_createCanvas` called.")}}y4=new WeakMap;class TVt extends ONe{constructor({ownerDocument:e=globalThis.document,enableHWA:r=!1}){super({enableHWA:r}),this._document=e}_createCanvas(e,r){const n=this._document.createElement("canvas");return n.width=e,n.height=r,n}}class RNe{constructor({baseUrl:e=null,isCompressed:r=!0}){this.baseUrl=e,this.isCompressed=r}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const r=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(r).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${r}`)})}async _fetch(e){Yi("Abstract method `_fetch` called.")}}class Lfe extends RNe{async _fetch(e){const r=await NR(e,this.isCompressed?"arraybuffer":"text");return r instanceof ArrayBuffer?new Uint8Array(r):PR(r)}}class DNe{addFilter(e){return"none"}addHCMFilter(e,r){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,r,n,i,s){return"none"}destroy(e=!1){}}var ew,aE,N0,I0,Sl,tw,rw,ir,yl,P5,dS,$M,hS,MNe,Kq,fS,N5,I5,Yq,O5;class CVt extends DNe{constructor({docId:r,ownerDocument:n=globalThis.document}){super();Q(this,ir);Q(this,ew);Q(this,aE);Q(this,N0);Q(this,I0);Q(this,Sl);Q(this,tw);Q(this,rw,0);H(this,I0,r),H(this,Sl,n)}addFilter(r){if(!r)return"none";let n=y(this,ir,yl).get(r);if(n)return n;const[i,s,a]=ie(this,ir,$M).call(this,r),o=r.length===1?i:`${i}${s}${a}`;if(n=y(this,ir,yl).get(o),n)return y(this,ir,yl).set(r,n),n;const l=`g_${y(this,I0)}_transfer_map_${qs(this,rw)._++}`,c=ie(this,ir,hS).call(this,l);y(this,ir,yl).set(r,c),y(this,ir,yl).set(o,c);const u=ie(this,ir,fS).call(this,l);return ie(this,ir,I5).call(this,i,s,a,u),c}addHCMFilter(r,n){var g;const i=`${r}-${n}`,s="base";let a=y(this,ir,P5).get(s);if((a==null?void 0:a.key)===i||(a?((g=a.filter)==null||g.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},y(this,ir,P5).set(s,a)),!r||!n))return a.url;const o=ie(this,ir,O5).call(this,r);r=er.makeHexColor(...o);const l=ie(this,ir,O5).call(this,n);if(n=er.makeHexColor(...l),y(this,ir,dS).style.color="",r==="#000000"&&n==="#ffffff"||r===n)return a.url;const c=new Array(256);for(let m=0;m<=255;m++){const v=m/255;c[m]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const u=c.join(","),d=`g_${y(this,I0)}_hcm_filter`,h=a.filter=ie(this,ir,fS).call(this,d);ie(this,ir,I5).call(this,u,u,u,h),ie(this,ir,Kq).call(this,h);const f=(m,v)=>{const x=o[m]/255,w=l[m]/255,b=new Array(v+1);for(let _=0;_<=v;_++)b[_]=x+_/v*(w-x);return b.join(",")};return ie(this,ir,I5).call(this,f(0,5),f(1,5),f(2,5),h),a.url=ie(this,ir,hS).call(this,d),a.url}addAlphaFilter(r){let n=y(this,ir,yl).get(r);if(n)return n;const[i]=ie(this,ir,$M).call(this,[r]),s=`alpha_${i}`;if(n=y(this,ir,yl).get(s),n)return y(this,ir,yl).set(r,n),n;const a=`g_${y(this,I0)}_alpha_map_${qs(this,rw)._++}`,o=ie(this,ir,hS).call(this,a);y(this,ir,yl).set(r,o),y(this,ir,yl).set(s,o);const l=ie(this,ir,fS).call(this,a);return ie(this,ir,Yq).call(this,i,l),o}addLuminosityFilter(r){let n=y(this,ir,yl).get(r||"luminosity");if(n)return n;let i,s;if(r?([i]=ie(this,ir,$M).call(this,[r]),s=`luminosity_${i}`):s="luminosity",n=y(this,ir,yl).get(s),n)return y(this,ir,yl).set(r,n),n;const a=`g_${y(this,I0)}_luminosity_map_${qs(this,rw)._++}`,o=ie(this,ir,hS).call(this,a);y(this,ir,yl).set(r,o),y(this,ir,yl).set(s,o);const l=ie(this,ir,fS).call(this,a);return ie(this,ir,MNe).call(this,l),r&&ie(this,ir,Yq).call(this,i,l),o}addHighlightHCMFilter(r,n,i,s,a){var w;const o=`${n}-${i}-${s}-${a}`;let l=y(this,ir,P5).get(r);if((l==null?void 0:l.key)===o||(l?((w=l.filter)==null||w.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},y(this,ir,P5).set(r,l)),!n||!i))return l.url;const[c,u]=[n,i].map(ie(this,ir,O5).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[f,g]=[s,a].map(ie(this,ir,O5).bind(this));h<d&&([d,h,f,g]=[h,d,g,f]),y(this,ir,dS).style.color="";const m=(b,_,S)=>{const T=new Array(256),E=(h-d)/S,C=b/255,N=(_-b)/(255*S);let F=0;for(let A=0;A<=S;A++){const I=Math.round(d+A*E),M=C+A*N;for(let U=F;U<=I;U++)T[U]=M;F=I+1}for(let A=F;A<256;A++)T[A]=T[F-1];return T.join(",")},v=`g_${y(this,I0)}_hcm_${r}_filter`,x=l.filter=ie(this,ir,fS).call(this,v);return ie(this,ir,Kq).call(this,x),ie(this,ir,I5).call(this,m(f[0],g[0],5),m(f[1],g[1],5),m(f[2],g[2],5),x),l.url=ie(this,ir,hS).call(this,v),l.url}destroy(r=!1){var n,i,s,a;r&&((n=y(this,tw))!=null&&n.size)||((i=y(this,N0))==null||i.parentNode.parentNode.remove(),H(this,N0,null),(s=y(this,aE))==null||s.clear(),H(this,aE,null),(a=y(this,tw))==null||a.clear(),H(this,tw,null),H(this,rw,0))}}ew=new WeakMap,aE=new WeakMap,N0=new WeakMap,I0=new WeakMap,Sl=new WeakMap,tw=new WeakMap,rw=new WeakMap,ir=new WeakSet,yl=function(){return y(this,aE)||H(this,aE,new Map)},P5=function(){return y(this,tw)||H(this,tw,new Map)},dS=function(){if(!y(this,N0)){const r=y(this,Sl).createElement("div"),{style:n}=r;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=y(this,Sl).createElementNS(a0,"svg");i.setAttribute("width",0),i.setAttribute("height",0),H(this,N0,y(this,Sl).createElementNS(a0,"defs")),r.append(i),i.append(y(this,N0)),y(this,Sl).body.append(r)}return y(this,N0)},$M=function(r){if(r.length===1){const c=r[0],u=new Array(256);for(let h=0;h<256;h++)u[h]=c[h]/255;const d=u.join(",");return[d,d,d]}const[n,i,s]=r,a=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=n[c]/255,o[c]=i[c]/255,l[c]=s[c]/255;return[a.join(","),o.join(","),l.join(",")]},hS=function(r){if(y(this,ew)===void 0){H(this,ew,"");const n=y(this,Sl).URL;n!==y(this,Sl).baseURI&&(N7(n)?Qr('#createUrl: ignore "data:"-URL for performance reasons.'):H(this,ew,UPe(n,"")))}return`url(${y(this,ew)}#${r})`},MNe=function(r){const n=y(this,Sl).createElementNS(a0,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),r.append(n)},Kq=function(r){const n=y(this,Sl).createElementNS(a0,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),r.append(n)},fS=function(r){const n=y(this,Sl).createElementNS(a0,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",r),y(this,ir,dS).append(n),n},N5=function(r,n,i){const s=y(this,Sl).createElementNS(a0,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),r.append(s)},I5=function(r,n,i,s){const a=y(this,Sl).createElementNS(a0,"feComponentTransfer");s.append(a),ie(this,ir,N5).call(this,a,"feFuncR",r),ie(this,ir,N5).call(this,a,"feFuncG",n),ie(this,ir,N5).call(this,a,"feFuncB",i)},Yq=function(r,n){const i=y(this,Sl).createElementNS(a0,"feComponentTransfer");n.append(i),ie(this,ir,N5).call(this,i,"feFuncA",r)},O5=function(r){return y(this,ir,dS).style.color=r,OR(getComputedStyle(y(this,ir,dS)).getPropertyValue("color"))};class FNe{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const r=`${this.baseUrl}${e}`;return this._fetch(r).catch(n=>{throw new Error(`Unable to load font data at: ${r}`)})}async _fetch(e){Yi("Abstract method `_fetch` called.")}}class Bfe extends FNe{async _fetch(e){const r=await NR(e,"arraybuffer");return new Uint8Array(r)}}class jNe{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const r=`${this.baseUrl}${e}`;return this._fetch(r).catch(n=>{throw new Error(`Unable to load wasm data at: ${r}`)})}async _fetch(e){Yi("Abstract method `_fetch` called.")}}class $fe extends jNe{async _fetch(e){const r=await NR(e,"arraybuffer");return new Uint8Array(r)}}oc&&Qr("Please use the `legacy` build in Node.js environments.");async function VJ(t){const r=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(r)}class kVt extends DNe{}class PVt extends ONe{_createCanvas(e,r){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,r)}}class NVt extends RNe{async _fetch(e){return VJ(e)}}class IVt extends FNe{async _fetch(e){return VJ(e)}}class OVt extends jNe{async _fetch(e){return VJ(e)}}const Q2="__forcedDependency",{floor:Vfe,ceil:Ufe}=Math;function DD(t,e,r,n,i,s){t[e*4+0]=Math.min(t[e*4+0],r),t[e*4+1]=Math.min(t[e*4+1],n),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],s)}const Xq=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var oE,E1;class RVt{constructor(e,r){Q(this,oE);Q(this,E1);H(this,oE,e),H(this,E1,r)}get length(){return y(this,oE).length}isEmpty(e){return y(this,oE)[e]===Xq}minX(e){return y(this,E1)[e*4+0]/256}minY(e){return y(this,E1)[e*4+1]/256}maxX(e){return(y(this,E1)[e*4+2]+1)/256}maxY(e){return(y(this,E1)[e*4+3]+1)/256}}oE=new WeakMap,E1=new WeakMap;const MD=(t,e)=>{if(!t)return;let r=t.get(e);return r||(r={dependencies:new Set,isRenderingOperation:!1},t.set(e,r)),r};var zc,Hc,nw,nf,iw,O0,xi,Di,R0,Wc,x4,lE,sw,aw,D0,Al,Bp,b4,Zq;class DVt{constructor(e,r,n=!1){Q(this,b4);Q(this,zc,{__proto__:null});Q(this,Hc,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Q2]:[]});Q(this,nw,new Map);Q(this,nf,[]);Q(this,iw,[]);Q(this,O0,[[1,0,0,1,0,0]]);Q(this,xi,[-1/0,-1/0,1/0,1/0]);Q(this,Di,new Float64Array([1/0,1/0,-1/0,-1/0]));Q(this,R0,-1);Q(this,Wc,new Set);Q(this,x4,new Map);Q(this,lE,new Map);Q(this,sw);Q(this,aw);Q(this,D0);Q(this,Al);Q(this,Bp);H(this,sw,e.width),H(this,aw,e.height),ie(this,b4,Zq).call(this,r),n&&H(this,Bp,new Map)}growOperationsCount(e){e>=y(this,Al).length&&ie(this,b4,Zq).call(this,e,y(this,Al))}save(e){return H(this,zc,{__proto__:y(this,zc)}),H(this,Hc,{__proto__:y(this,Hc),transform:{__proto__:y(this,Hc).transform},moveText:{__proto__:y(this,Hc).moveText},sameLineText:{__proto__:y(this,Hc).sameLineText},[Q2]:{__proto__:y(this,Hc)[Q2]}}),H(this,xi,{__proto__:y(this,xi)}),y(this,nf).push(e),this}restore(e){var i;const r=Object.getPrototypeOf(y(this,zc));if(r===null)return this;H(this,zc,r),H(this,Hc,Object.getPrototypeOf(y(this,Hc))),H(this,xi,Object.getPrototypeOf(y(this,xi)));const n=y(this,nf).pop();return n!==void 0&&((i=MD(y(this,Bp),e))==null||i.dependencies.add(n),y(this,Al)[e]=y(this,Al)[n]),this}recordOpenMarker(e){return y(this,nf).push(e),this}getOpenMarker(){return y(this,nf).length===0?null:y(this,nf).at(-1)}recordCloseMarker(e){var n;const r=y(this,nf).pop();return r!==void 0&&((n=MD(y(this,Bp),e))==null||n.dependencies.add(r),y(this,Al)[e]=y(this,Al)[r]),this}beginMarkedContent(e){return y(this,iw).push(e),this}endMarkedContent(e){var n;const r=y(this,iw).pop();return r!==void 0&&((n=MD(y(this,Bp),e))==null||n.dependencies.add(r),y(this,Al)[e]=y(this,Al)[r]),this}pushBaseTransform(e){return y(this,O0).push(er.multiplyByDOMMatrix(y(this,O0).at(-1),e.getTransform())),this}popBaseTransform(){return y(this,O0).length>1&&y(this,O0).pop(),this}recordSimpleData(e,r){return y(this,zc)[e]=r,this}recordIncrementalData(e,r){return y(this,Hc)[e].push(r),this}resetIncrementalData(e,r){return y(this,Hc)[e].length=0,this}recordNamedData(e,r){return y(this,nw).set(e,r),this}recordSimpleDataFromNamed(e,r,n){y(this,zc)[e]=y(this,nw).get(r)??n}recordFutureForcedDependency(e,r){return this.recordIncrementalData(Q2,r),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const r of e)r in y(this,zc)&&this.recordFutureForcedDependency(r,y(this,zc)[r]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of y(this,Wc))this.recordFutureForcedDependency(Q2,e);return this}resetBBox(e){return y(this,R0)!==e&&(H(this,R0,e),y(this,Di)[0]=1/0,y(this,Di)[1]=1/0,y(this,Di)[2]=-1/0,y(this,Di)[3]=-1/0),this}recordClipBox(e,r,n,i,s,a){const o=er.multiplyByDOMMatrix(y(this,O0).at(-1),r.getTransform()),l=[1/0,1/0,-1/0,-1/0];er.axialAlignedBoundingBox([n,s,i,a],o,l);const c=er.intersect(y(this,xi),l);return c?(y(this,xi)[0]=c[0],y(this,xi)[1]=c[1],y(this,xi)[2]=c[2],y(this,xi)[3]=c[3]):(y(this,xi)[0]=y(this,xi)[1]=1/0,y(this,xi)[2]=y(this,xi)[3]=-1/0),this}recordBBox(e,r,n,i,s,a){const o=y(this,xi);if(o[0]===1/0)return this;const l=er.multiplyByDOMMatrix(y(this,O0).at(-1),r.getTransform());if(o[0]===-1/0)return er.axialAlignedBoundingBox([n,s,i,a],l,y(this,Di)),this;const c=[1/0,1/0,-1/0,-1/0];return er.axialAlignedBoundingBox([n,s,i,a],l,c),y(this,Di)[0]=Math.min(y(this,Di)[0],Math.max(c[0],o[0])),y(this,Di)[1]=Math.min(y(this,Di)[1],Math.max(c[1],o[1])),y(this,Di)[2]=Math.max(y(this,Di)[2],Math.min(c[2],o[2])),y(this,Di)[3]=Math.max(y(this,Di)[3],Math.min(c[3],o[3])),this}recordCharacterBBox(e,r,n,i=1,s=0,a=0,o){const l=n.bbox;let c,u;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&y(this,lE).get(n),c!==!1&&(u=[0,0,0,0],er.axialAlignedBoundingBox(l,n.fontMatrix,u),(i!==1||s!==0||a!==0)&&er.scaleMinMax([i,0,0,-i,s,a],u),c)))return this.recordBBox(e,r,u[0],u[2],u[1],u[3]);if(!o)return this.recordFullPageBBox(e);const d=o();return l&&u&&c===void 0&&(c=u[0]<=s-d.actualBoundingBoxLeft&&u[2]>=s+d.actualBoundingBoxRight&&u[1]<=a-d.actualBoundingBoxAscent&&u[3]>=a+d.actualBoundingBoxDescent,y(this,lE).set(n,c),c)?this.recordBBox(e,r,u[0],u[2],u[1],u[3]):this.recordBBox(e,r,s-d.actualBoundingBoxLeft,s+d.actualBoundingBoxRight,a-d.actualBoundingBoxAscent,a+d.actualBoundingBoxDescent)}recordFullPageBBox(e){return y(this,Di)[0]=Math.max(0,y(this,xi)[0]),y(this,Di)[1]=Math.max(0,y(this,xi)[1]),y(this,Di)[2]=Math.min(y(this,sw),y(this,xi)[2]),y(this,Di)[3]=Math.min(y(this,aw),y(this,xi)[3]),this}getSimpleIndex(e){return y(this,zc)[e]}recordDependencies(e,r){const n=y(this,Wc),i=y(this,zc),s=y(this,Hc);for(const a of r)a in y(this,zc)?n.add(i[a]):a in s&&s[a].forEach(n.add,n);return this}recordNamedDependency(e,r){return y(this,nw).has(r)&&y(this,Wc).add(y(this,nw).get(r)),this}recordOperation(e,r=!1){if(this.recordDependencies(e,[Q2]),y(this,Bp)){const n=MD(y(this,Bp),e),{dependencies:i}=n;y(this,Wc).forEach(i.add,i),y(this,nf).forEach(i.add,i),y(this,iw).forEach(i.add,i),i.delete(e),n.isRenderingOperation=!0}if(y(this,R0)===e){const n=Vfe(y(this,Di)[0]*256/y(this,sw)),i=Vfe(y(this,Di)[1]*256/y(this,aw)),s=Ufe(y(this,Di)[2]*256/y(this,sw)),a=Ufe(y(this,Di)[3]*256/y(this,aw));DD(y(this,D0),e,n,i,s,a);for(const o of y(this,Wc))o!==e&&DD(y(this,D0),o,n,i,s,a);for(const o of y(this,nf))o!==e&&DD(y(this,D0),o,n,i,s,a);for(const o of y(this,iw))o!==e&&DD(y(this,D0),o,n,i,s,a);r||(y(this,Wc).clear(),H(this,R0,-1))}return this}recordShowTextOperation(e,r=!1){const n=Array.from(y(this,Wc));this.recordOperation(e,r),this.recordIncrementalData("sameLineText",e);for(const i of n)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,r=!1){return y(this,R0)===e&&(H(this,R0,-1),y(this,xi)[0]=Math.max(y(this,xi)[0],y(this,Di)[0]),y(this,xi)[1]=Math.max(y(this,xi)[1],y(this,Di)[1]),y(this,xi)[2]=Math.min(y(this,xi)[2],y(this,Di)[2]),y(this,xi)[3]=Math.min(y(this,xi)[3],y(this,Di)[3]),r||y(this,Wc).clear()),this}_takePendingDependencies(){const e=y(this,Wc);return H(this,Wc,new Set),e}_extractOperation(e){const r=y(this,x4).get(e);return y(this,x4).delete(e),r}_pushPendingDependencies(e){for(const r of e)y(this,Wc).add(r)}take(){return y(this,lE).clear(),new RVt(y(this,Al),y(this,D0))}takeDebugMetadata(){return y(this,Bp)}}zc=new WeakMap,Hc=new WeakMap,nw=new WeakMap,nf=new WeakMap,iw=new WeakMap,O0=new WeakMap,xi=new WeakMap,Di=new WeakMap,R0=new WeakMap,Wc=new WeakMap,x4=new WeakMap,lE=new WeakMap,sw=new WeakMap,aw=new WeakMap,D0=new WeakMap,Al=new WeakMap,Bp=new WeakMap,b4=new WeakSet,Zq=function(e,r){const n=new ArrayBuffer(e*4);H(this,D0,new Uint8ClampedArray(n)),H(this,Al,new Uint32Array(n)),r&&r.length>0?(y(this,Al).set(r),y(this,Al).fill(Xq,r.length)):y(this,Al).fill(Xq)};var zi,Ys,sf,cE,uE;const ZJ=class ZJ{constructor(e,r,n){Q(this,zi);Q(this,Ys);Q(this,sf);Q(this,cE,0);Q(this,uE,0);if(e instanceof ZJ&&y(e,sf)===!!n)return e;H(this,zi,e),H(this,Ys,r),H(this,sf,!!n)}growOperationsCount(){throw new Error("Unreachable")}save(e){return qs(this,uE)._++,y(this,zi).save(y(this,Ys)),this}restore(e){return y(this,uE)>0&&(y(this,zi).restore(y(this,Ys)),qs(this,uE)._--),this}recordOpenMarker(e){return qs(this,cE)._++,this}getOpenMarker(){return y(this,cE)>0?y(this,Ys):y(this,zi).getOpenMarker()}recordCloseMarker(e){return qs(this,cE)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return y(this,zi).pushBaseTransform(e),this}popBaseTransform(){return y(this,zi).popBaseTransform(),this}recordSimpleData(e,r){return y(this,zi).recordSimpleData(e,y(this,Ys)),this}recordIncrementalData(e,r){return y(this,zi).recordIncrementalData(e,y(this,Ys)),this}resetIncrementalData(e,r){return y(this,zi).resetIncrementalData(e,y(this,Ys)),this}recordNamedData(e,r){return this}recordSimpleDataFromNamed(e,r,n){return y(this,zi).recordSimpleDataFromNamed(e,r,y(this,Ys)),this}recordFutureForcedDependency(e,r){return y(this,zi).recordFutureForcedDependency(e,y(this,Ys)),this}inheritSimpleDataAsFutureForcedDependencies(e){return y(this,zi).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return y(this,zi).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return y(this,sf)||y(this,zi).resetBBox(y(this,Ys)),this}recordClipBox(e,r,n,i,s,a){return y(this,sf)||y(this,zi).recordClipBox(y(this,Ys),r,n,i,s,a),this}recordBBox(e,r,n,i,s,a){return y(this,sf)||y(this,zi).recordBBox(y(this,Ys),r,n,i,s,a),this}recordCharacterBBox(e,r,n,i,s,a,o){return y(this,sf)||y(this,zi).recordCharacterBBox(y(this,Ys),r,n,i,s,a,o),this}recordFullPageBBox(e){return y(this,sf)||y(this,zi).recordFullPageBBox(y(this,Ys)),this}getSimpleIndex(e){return y(this,zi).getSimpleIndex(e)}recordDependencies(e,r){return y(this,zi).recordDependencies(y(this,Ys),r),this}recordNamedDependency(e,r){return y(this,zi).recordNamedDependency(y(this,Ys),r),this}recordOperation(e){return y(this,zi).recordOperation(y(this,Ys),!0),this}recordShowTextOperation(e){return y(this,zi).recordShowTextOperation(y(this,Ys),!0),this}bboxToClipBoxDropOperation(e){return y(this,sf)||y(this,zi).bboxToClipBoxDropOperation(y(this,Ys),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};zi=new WeakMap,Ys=new WeakMap,sf=new WeakMap,cE=new WeakMap,uE=new WeakMap;let l6=ZJ;const Bd={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Xo={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Qq(t,e){if(!e)return;const r=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],r,n),t.clip(i)}class UJ{isModifyingCurrentTransform(){return!1}getPattern(){Yi("Abstract method `getPattern` called.")}}class MVt extends UJ{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(e,r=null){let n,i=this._p0,s=this._p1;if(r&&(i=i.slice(),s=s.slice(),er.applyTransform(i,r),er.applyTransform(s,r)),this._type==="axial")n=e.createLinearGradient(i[0],i[1],s[0],s[1]);else if(this._type==="radial"){let a=this._r0,o=this._r1;if(r){const l=new Float32Array(2);er.singularValueDecompose2dScale(r,l),a*=l[0],o*=l[0]}n=e.createRadialGradient(i[0],i[1],a,s[0],s[1],o)}for(const a of this._colorStops)n.addColorStop(a[0],a[1]);return n}getPattern(e,r,n,i){let s;if(i===Xo.STROKE||i===Xo.FILL){if(this.isOriginBased()){let h=er.transform(n,r.baseTransform);this.matrix&&(h=er.transform(h,this.matrix));const f=.001,g=Math.hypot(h[0],h[1]),m=Math.hypot(h[2],h[3]),v=(h[0]*h[2]+h[1]*h[3])/(g*m);if(Math.abs(v)<f)if(this.isRadial()){if(Math.abs(g-m)<f)return this._createGradient(e,h)}else return this._createGradient(e,h)}const a=r.current.getClippedPathBoundingBox(i,Rs(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=r.cachedCanvases.getCanvas("pattern",o,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),n=er.transform(n,[1,0,0,1,a[0],a[1]]),u.transform(...r.baseTransform),this.matrix&&u.transform(...this.matrix),Qq(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(n);s.setTransform(d)}else Qq(e,this._bbox),s=this._createGradient(e);return s}}function tU(t,e,r,n,i,s,a,o){const l=e.coords,c=e.colors,u=t.data,d=t.width*4;let h;l[r+1]>l[n+1]&&(h=r,r=n,n=h,h=s,s=a,a=h),l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=a,a=o,o=h),l[r+1]>l[n+1]&&(h=r,r=n,n=h,h=s,s=a,a=h);const f=(l[r]+e.offsetX)*e.scaleX,g=(l[r+1]+e.offsetY)*e.scaleY,m=(l[n]+e.offsetX)*e.scaleX,v=(l[n+1]+e.offsetY)*e.scaleY,x=(l[i]+e.offsetX)*e.scaleX,w=(l[i+1]+e.offsetY)*e.scaleY;if(g>=w)return;const b=c[s],_=c[s+1],S=c[s+2],T=c[a],E=c[a+1],C=c[a+2],N=c[o],F=c[o+1],A=c[o+2],I=Math.round(g),M=Math.round(w);let U,Y,X,W,G,B,re,ae;for(let R=I;R<=M;R++){if(R<v){const J=R<g?0:(g-R)/(g-v);U=f-(f-m)*J,Y=b-(b-T)*J,X=_-(_-E)*J,W=S-(S-C)*J}else{let J;R>w?J=1:v===w?J=0:J=(v-R)/(v-w),U=m-(m-x)*J,Y=T-(T-N)*J,X=E-(E-F)*J,W=C-(C-A)*J}let j;R<g?j=0:R>w?j=1:j=(g-R)/(g-w),G=f-(f-x)*j,B=b-(b-N)*j,re=_-(_-F)*j,ae=S-(S-A)*j;const V=Math.round(Math.min(U,G)),K=Math.round(Math.max(U,G));let ne=d*R+V*4;for(let J=V;J<=K;J++)j=(U-J)/(U-G),j<0?j=0:j>1&&(j=1),u[ne++]=Y-(Y-B)*j|0,u[ne++]=X-(X-re)*j|0,u[ne++]=W-(W-ae)*j|0,u[ne++]=255}}function FVt(t,e,r){const n=e.coords,i=e.colors;let s,a;switch(e.type){case Sq.LATTICE:const o=e.verticesPerRow,l=Math.floor(n.length/o)-1,c=o-1;for(s=0;s<l;s++){let u=s*o;for(let d=0;d<c;d++,u++)tU(t,r,n[u],n[u+1],n[u+o],i[u],i[u+1],i[u+o]),tU(t,r,n[u+o+1],n[u+1],n[u+o],i[u+o+1],i[u+1],i[u+o])}break;case Sq.TRIANGLES:for(s=0,a=n.length;s<a;s+=3)tU(t,r,n[s],n[s+1],n[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class jVt extends UJ{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,r,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),f=c/d,g=u/h,m={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/f,scaleY:1/g},v=d+2*2,x=h+2*2,w=n.getCanvas("mesh",v,x),b=w.context,_=b.createImageData(d,h);if(r){const T=_.data;for(let E=0,C=T.length;E<C;E+=4)T[E]=r[0],T[E+1]=r[1],T[E+2]=r[2],T[E+3]=255}for(const T of this._figures)FVt(_,T,m);return b.putImageData(_,2,2),{canvas:w.canvas,offsetX:o-2*f,offsetY:l-2*g,scaleX:f,scaleY:g}}isModifyingCurrentTransform(){return!0}getPattern(e,r,n,i){Qq(e,this._bbox);const s=new Float32Array(2);if(i===Xo.SHADING)er.singularValueDecompose2dScale(Rs(e),s);else if(this.matrix){er.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;er.singularValueDecompose2dScale(r.baseTransform,s),s[0]*=o,s[1]*=l}else er.singularValueDecompose2dScale(r.baseTransform,s);const a=this._createMeshCanvas(s,i===Xo.SHADING?null:this._background,r.cachedCanvases);return i!==Xo.SHADING&&(e.setTransform(...r.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class LVt extends UJ{getPattern(){return"hotpink"}}function BVt(t){switch(t[0]){case"RadialAxial":return new MVt(t);case"Mesh":return new jVt(t);case"Dummy":return new LVt}throw new Error(`Unknown IR type: ${t[0]}`)}const zfe={COLORED:1,UNCOLORED:2},A6=class A6{constructor(e,r,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=r,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e,r){var B,re;const{bbox:n,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),P7("TilingType: "+a);const d=n[0],h=n[1],f=n[2],g=n[3],m=f-d,v=g-h,x=new Float32Array(2);er.singularValueDecompose2dScale(this.matrix,x);const[w,b]=x;er.singularValueDecompose2dScale(this.baseTransform,x);const _=w*x[0],S=b*x[1];let T=m,E=v,C=!1,N=!1;const F=Math.ceil(c*_),A=Math.ceil(u*S),I=Math.ceil(m*_),M=Math.ceil(v*S);F>=I?T=c:C=!0,A>=M?E=u:N=!0;const U=this.getSizeAndScale(T,this.ctx.canvas.width,_),Y=this.getSizeAndScale(E,this.ctx.canvas.height,S),X=e.cachedCanvases.getCanvas("pattern",U.size,Y.size),W=X.context,G=l.createCanvasGraphics(W,r);if(G.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(G,s,o),W.translate(-U.scale*d,-Y.scale*h),G.transform(0,U.scale,0,0,Y.scale,0,0),W.save(),(B=G.dependencyTracker)==null||B.save(),this.clipBbox(G,d,h,f,g),G.baseTransform=Rs(G.ctx),G.executeOperatorList(i),G.endDrawing(),(re=G.dependencyTracker)==null||re.restore(),W.restore(),C||N){const ae=X.canvas;C&&(T=c),N&&(E=u);const R=this.getSizeAndScale(T,this.ctx.canvas.width,_),j=this.getSizeAndScale(E,this.ctx.canvas.height,S),V=R.size,K=j.size,ne=e.cachedCanvases.getCanvas("pattern-workaround",V,K),J=ne.context,me=C?Math.floor(m/c):0,ce=N?Math.floor(v/u):0;for(let he=0;he<=me;he++)for(let _e=0;_e<=ce;_e++)J.drawImage(ae,V*he,K*_e,V,K,0,0,V,K);return{canvas:ne.canvas,scaleX:R.scale,scaleY:j.scale,offsetX:d,offsetY:h}}return{canvas:X.canvas,scaleX:U.scale,scaleY:Y.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,r,n){const i=Math.max(A6.MAX_PATTERN_SIZE,r);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,r,n,i,s){const a=i-r,o=s-n;e.ctx.rect(r,n,a,o),er.axialAlignedBoundingBox([r,n,i,s],Rs(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,r,n){const i=e.ctx,s=e.current;switch(r){case zfe.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case zfe.UNCOLORED:i.fillStyle=i.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new Z9t(`Unsupported paint type: ${r}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,r,n,i,s){let a=n;i!==Xo.SHADING&&(a=er.transform(a,r.baseTransform),this.matrix&&(a=er.transform(a,this.matrix)));const o=this.createPatternCanvas(r,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}};Le(A6,"MAX_PATTERN_SIZE",3e3);let Jq=A6;function $Vt({src:t,srcPos:e=0,dest:r,width:n,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=ho.isLittleEndian?4278190080:255,[l,c]=a?[s,o]:[o,s],u=n>>3,d=n&7,h=t.length;r=new Uint32Array(r.buffer);let f=0;for(let g=0;g<i;g++){for(const v=e+u;e<v;e++){const x=e<h?t[e]:255;r[f++]=x&128?c:l,r[f++]=x&64?c:l,r[f++]=x&32?c:l,r[f++]=x&16?c:l,r[f++]=x&8?c:l,r[f++]=x&4?c:l,r[f++]=x&2?c:l,r[f++]=x&1?c:l}if(d===0)continue;const m=e<h?t[e++]:255;for(let v=0;v<d;v++)r[f++]=m&1<<7-v?c:l}return{srcPos:e,destPos:f}}const Hfe=16,Wfe=100,VVt=15,qfe=10,Zc=16,rU=new DOMMatrix,Qu=new Float32Array(2),MS=new Float32Array([1/0,1/0,-1/0,-1/0]);function UVt(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(r,n){e.translate(r,n),this.__originalTranslate(r,n)},t.scale=function(r,n){e.scale(r,n),this.__originalScale(r,n)},t.transform=function(r,n,i,s,a,o){e.transform(r,n,i,s,a,o),this.__originalTransform(r,n,i,s,a,o)},t.setTransform=function(r,n,i,s,a,o){e.setTransform(r,n,i,s,a,o),this.__originalSetTransform(r,n,i,s,a,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(r){e.rotate(r),this.__originalRotate(r)},t.clip=function(r){e.clip(r),this.__originalClip(r)},t.moveTo=function(r,n){e.moveTo(r,n),this.__originalMoveTo(r,n)},t.lineTo=function(r,n){e.lineTo(r,n),this.__originalLineTo(r,n)},t.bezierCurveTo=function(r,n,i,s,a,o){e.bezierCurveTo(r,n,i,s,a,o),this.__originalBezierCurveTo(r,n,i,s,a,o)},t.rect=function(r,n,i,s){e.rect(r,n,i,s),this.__originalRect(r,n,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class zVt{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,r,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,r,n)):(i=this.canvasFactory.create(r,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const r=this.cache[e];this.canvasFactory.destroy(r),delete this.cache[e]}}}function FD(t,e,r,n,i,s,a,o,l,c){const[u,d,h,f,g,m]=Rs(t);if(d===0&&h===0){const w=a*u+g,b=Math.round(w),_=o*f+m,S=Math.round(_),T=(a+l)*u+g,E=Math.abs(Math.round(T)-b)||1,C=(o+c)*f+m,N=Math.abs(Math.round(C)-S)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(f),b,S),t.drawImage(e,r,n,i,s,0,0,E,N),t.setTransform(u,d,h,f,g,m),[E,N]}if(u===0&&f===0){const w=o*h+g,b=Math.round(w),_=a*d+m,S=Math.round(_),T=(o+c)*h+g,E=Math.abs(Math.round(T)-b)||1,C=(a+l)*d+m,N=Math.abs(Math.round(C)-S)||1;return t.setTransform(0,Math.sign(d),Math.sign(h),0,b,S),t.drawImage(e,r,n,i,s,0,0,N,E),t.setTransform(u,d,h,f,g,m),[N,E]}t.drawImage(e,r,n,i,s,a,o,l,c);const v=Math.hypot(u,d),x=Math.hypot(h,f);return[v*l,x*c]}class Gfe{constructor(e,r,n){Le(this,"alphaIsShape",!1);Le(this,"fontSize",0);Le(this,"fontSizeScale",1);Le(this,"textMatrix",null);Le(this,"textMatrixScale",1);Le(this,"fontMatrix",_q);Le(this,"leading",0);Le(this,"x",0);Le(this,"y",0);Le(this,"lineX",0);Le(this,"lineY",0);Le(this,"charSpacing",0);Le(this,"wordSpacing",0);Le(this,"textHScale",1);Le(this,"textRenderingMode",Ja.FILL);Le(this,"textRise",0);Le(this,"fillColor","#000000");Le(this,"strokeColor","#000000");Le(this,"patternFill",!1);Le(this,"patternStroke",!1);Le(this,"fillAlpha",1);Le(this,"strokeAlpha",1);Le(this,"lineWidth",1);Le(this,"activeSMask",null);Le(this,"transferMaps","none");n==null||n(this),this.clipBox=new Float32Array([0,0,e,r]),this.minMax=MS.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Xo.FILL,r=null){const n=this.minMax.slice();if(e===Xo.STROKE){r||Yi("Stroke bounding box must include transform."),er.singularValueDecompose2dScale(r,Qu);const i=Qu[0]*this.lineWidth/2,s=Qu[1]*this.lineWidth/2;n[0]-=i,n[1]-=s,n[2]+=i,n[3]+=s}return n}updateClipFromPath(){const e=er.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(MS,0)}getClippedPathBoundingBox(e=Xo.FILL,r=null){return er.intersect(this.clipBox,this.getPathBoundingBox(e,r))}}function Kfe(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const r=e.height,n=e.width,i=r%Zc,s=(r-i)/Zc,a=i===0?s:s+1,o=t.createImageData(n,Zc);let l=0,c;const u=e.data,d=o.data;let h,f,g,m;if(e.kind===NM.GRAYSCALE_1BPP){const v=u.byteLength,x=new Uint32Array(d.buffer,0,d.byteLength>>2),w=x.length,b=n+7>>3,_=4294967295,S=ho.isLittleEndian?4278190080:255;for(h=0;h<a;h++){for(g=h<s?Zc:i,c=0,f=0;f<g;f++){const T=v-l;let E=0;const C=T>b?n:T*8-7,N=C&-8;let F=0,A=0;for(;E<N;E+=8)A=u[l++],x[c++]=A&128?_:S,x[c++]=A&64?_:S,x[c++]=A&32?_:S,x[c++]=A&16?_:S,x[c++]=A&8?_:S,x[c++]=A&4?_:S,x[c++]=A&2?_:S,x[c++]=A&1?_:S;for(;E<C;E++)F===0&&(A=u[l++],F=128),x[c++]=A&F?_:S,F>>=1}for(;c<w;)x[c++]=0;t.putImageData(o,0,h*Zc)}}else if(e.kind===NM.RGBA_32BPP){for(f=0,m=n*Zc*4,h=0;h<s;h++)d.set(u.subarray(l,l+m)),l+=m,t.putImageData(o,0,f),f+=Zc;h<a&&(m=n*i*4,d.set(u.subarray(l,l+m)),t.putImageData(o,0,f))}else if(e.kind===NM.RGB_24BPP)for(g=Zc,m=n*g,h=0;h<a;h++){for(h>=s&&(g=i,m=n*g),c=0,f=m;f--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;t.putImageData(o,0,h*Zc)}else throw new Error(`bad image kind: ${e.kind}`)}function Yfe(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const r=e.height,n=e.width,i=r%Zc,s=(r-i)/Zc,a=i===0?s:s+1,o=t.createImageData(n,Zc);let l=0;const c=e.data,u=o.data;for(let d=0;d<a;d++){const h=d<s?Zc:i;({srcPos:l}=$Vt({src:c,srcPos:l,dest:u,width:n,height:h,nonBlackColor:0})),t.putImageData(o,0,d*Zc)}}function qk(t,e){const r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of r)t[n]!==void 0&&(e[n]=t[n]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function jD(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function Xfe(t,e){if(e)return!0;er.singularValueDecompose2dScale(t,Qu);const r=Math.fround(Im.pixelRatio*tx.PDF_TO_CSS_UNITS);return Qu[0]<=r&&Qu[1]<=r}const HVt=["butt","round","square"],WVt=["miter","round","bevel"],qVt={},Zfe={};var Vf,eG,tG,rG;const QJ=class QJ{constructor(e,r,n,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,c,u){Q(this,Vf);this.ctx=e,this.current=new Gfe(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=r,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new zVt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=u??null}getObject(e,r,n=null){var i;return typeof r=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,r),r.startsWith("g_")?this.commonObjs.get(r):this.objs.get(r)):n}beginDrawing({transform:e,viewport:r,transparency:n=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Rs(this.compositeCtx))}this.ctx.save(),jD(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...r.transform),this.viewportScale=r.scale,this.baseTransform=Rs(this.ctx)}executeOperatorList(e,r,n,i,s){var x;const a=e.argsArray,o=e.fnArray;let l=r||0;const c=a.length;if(c===l)return l;const u=c-l>qfe&&typeof n=="function",d=u?Date.now()+VVt:0;let h=0;const f=this.commonObjs,g=this.objs;let m,v;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,n),l;if(!s||s(l))if(m=o[l],v=a[l]??null,m!==kI.dependency)v===null?this[m](l):this[m](l,...v);else for(const w of v){(x=this.dependencyTracker)==null||x.recordNamedData(w,l);const b=w.startsWith("g_")?f:g;if(!b.has(w))return b.get(w,n),l}if(l++,l===c)return l;if(u&&++h>qfe){if(Date.now()>d)return n(),l;h=0}}}endDrawing(){ie(this,Vf,eG).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const r of e.values())typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&(r.width=r.height=0);e.clear()}this._cachedBitmapsMap.clear(),ie(this,Vf,tG).call(this)}_scaleImage(e,r){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(r[0],r[1]),1),a=Math.max(Math.hypot(r[2],r[3]),1),o=n,l=i,c="prescale1",u,d;for(;s>2&&o>1||a>2&&l>1;){let h=o,f=l;s>2&&o>1&&(h=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/h),a>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/f),u=this.cachedCanvases.getCanvas(c,h,f),d=u.context,d.clearRect(0,0,h,f),d.drawImage(e,0,0,o,l,0,0,h,f),e=u.canvas,o=h,l=f,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,r){var F,A;const n=this.ctx,{width:i,height:s}=r,a=this.current.fillColor,o=this.current.patternFill,l=Rs(n);let c,u,d,h;if((r.bitmap||r.data)&&r.count>1){const I=r.bitmap||r.data.buffer;u=JSON.stringify(o?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(I),c||(c=new Map,this._cachedBitmapsMap.set(I,c));const M=c.get(u);if(M&&!o){const U=Math.round(Math.min(l[0],l[2])+l[4]),Y=Math.round(Math.min(l[1],l[3])+l[5]);return(F=this.dependencyTracker)==null||F.recordDependencies(e,Bd.transformAndFill),{canvas:M,offsetX:U,offsetY:Y}}d=M}d||(h=this.cachedCanvases.getCanvas("maskCanvas",i,s),Yfe(h.context,r));let f=er.transform(l,[1/i,0,0,-1/s,0,0]);f=er.transform(f,[1,0,0,1,0,-s]);const g=MS.slice();er.axialAlignedBoundingBox([0,0,i,s],f,g);const[m,v,x,w]=g,b=Math.round(x-m)||1,_=Math.round(w-v)||1,S=this.cachedCanvases.getCanvas("fillCanvas",b,_),T=S.context,E=m,C=v;T.translate(-E,-C),T.transform(...f),d||(d=this._scaleImage(h.canvas,dp(T)),d=d.img,c&&o&&c.set(u,d)),T.imageSmoothingEnabled=Xfe(Rs(T),r.interpolate),FD(T,d,0,0,d.width,d.height,0,0,i,s),T.globalCompositeOperation="source-in";const N=er.transform(dp(T),[1,0,0,1,-E,-C]);return T.fillStyle=o?a.getPattern(n,this,N,Xo.FILL,e):a,T.fillRect(0,0,i,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,S.canvas)),(A=this.dependencyTracker)==null||A.recordDependencies(e,Bd.transformAndFill),{canvas:S.canvas,offsetX:Math.round(E),offsetY:Math.round(C)}}setLineWidth(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineWidth",e),r!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=r,this.ctx.lineWidth=r}setLineCap(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineCap",e),this.ctx.lineCap=HVt[r]}setLineJoin(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineJoin",e),this.ctx.lineJoin=WVt[r]}setMiterLimit(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("miterLimit",e),this.ctx.miterLimit=r}setDash(e,r,n){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(r),i.lineDashOffset=n)}setRenderingIntent(e,r){}setFlatness(e,r){}setGState(e,r){var n,i,s,a,o;for(const[l,c]of r)switch(l){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":(n=this.dependencyTracker)==null||n.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const r=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,r,n);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),qk(this.suspendedCtx,a),UVt(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),qk(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const r=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,r,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,r,n,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(r.context,n,o,l,r.subtype,r.backdrop,r.transferMap,s,a,r.offsetX,r.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,r,n,i,s,a,o,l,c,u,d){let h=e.canvas,f=l-u,g=c-d;if(a)if(f<0||g<0||f+n>h.width||g+i>h.height){const v=this.cachedCanvases.getCanvas("maskExtension",n,i),x=v.context;x.drawImage(h,-f,-g),x.globalCompositeOperation="destination-atop",x.fillStyle=a,x.fillRect(0,0,n,i),x.globalCompositeOperation="source-over",h=v.canvas,f=g=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const v=new Path2D;v.rect(f,g,n,i),e.clip(v),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(f,g,n,i),e.restore()}r.save(),r.globalAlpha=1,r.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?r.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(r.filter=this.filterFactory.addLuminosityFilter(o));const m=new Path2D;m.rect(l,c,n,i),r.clip(m),r.globalCompositeOperation="destination-in",r.drawImage(h,f,g,n,i,l,c,n,i),r.restore()}save(e){var n;this.inSMaskMode&&qk(this.ctx,this.suspendedCtx),this.ctx.save();const r=this.current;this.stateStack.push(r),this.current=r.clone(),(n=this.dependencyTracker)==null||n.save(e)}restore(e){var r;if((r=this.dependencyTracker)==null||r.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&qk(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,r,n,i,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(r,n,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,r,n,i){let[s]=n;if(!i){s||(s=n[0]=new Path2D),this[r](e,s);return}if(this.dependencyTracker!==null){const a=r===kI.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=n[0]=KPe(s)),er.axialAlignedBoundingBox(i,Rs(this.ctx),this.current.minMax),this[r](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,r,n=!0){var a;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,dp(i),Xo.STROKE,e),o){const l=new Path2D;l.addPath(r,i.getTransform().invertSelf().multiplySelf(o)),r=l}this.rescaleAndStroke(r,!1),i.restore()}else this.rescaleAndStroke(r,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,Bd.stroke),n&&this.consumePath(e,r,this.current.getClippedPathBoundingBox(Xo.STROKE,Rs(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,r){this.stroke(e,r)}fill(e,r,n=!0){var c,u,d;const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const h=s.isModifyingCurrentTransform()?i.getTransform():null;if((c=this.dependencyTracker)==null||c.save(e),i.save(),i.fillStyle=s.getPattern(i,this,dp(i),Xo.FILL,e),h){const f=new Path2D;f.addPath(r,i.getTransform().invertSelf().multiplySelf(h)),r=f}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(r,"evenodd"),this.pendingEOFill=!1):i.fill(r)),(u=this.dependencyTracker)==null||u.recordDependencies(e,Bd.fill),o&&(i.restore(),(d=this.dependencyTracker)==null||d.restore(e)),n&&this.consumePath(e,r,l)}eoFill(e,r){this.pendingEOFill=!0,this.fill(e,r)}fillStroke(e,r){this.fill(e,r,!1),this.stroke(e,r,!1),this.consumePath(e,r)}eoFillStroke(e,r){this.pendingEOFill=!0,this.fillStroke(e,r)}closeFillStroke(e,r){this.fillStroke(e,r)}closeEOFillStroke(e,r){this.pendingEOFill=!0,this.fillStroke(e,r)}endPath(e,r){this.consumePath(e,r)}rawFillPath(e,r){var n;this.ctx.fill(r),(n=this.dependencyTracker)==null||n.recordDependencies(e,Bd.rawFillPath).recordOperation(e)}clip(e){var r;(r=this.dependencyTracker)==null||r.recordFutureForcedDependency("clipMode",e),this.pendingClip=qVt}eoClip(e){var r;(r=this.dependencyTracker)==null||r.recordFutureForcedDependency("clipMode",e),this.pendingClip=Zfe}beginText(e){var r;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(r=this.dependencyTracker)==null||r.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const r=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;r!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(r!==void 0){const i=new Path2D,s=n.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:c,path:u}of r)u&&i.addPath(u,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(c,-c));n.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("charSpacing",e),this.current.charSpacing=r}setWordSpacing(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("wordSpacing",e),this.current.wordSpacing=r}setHScale(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("hScale",e),this.current.textHScale=r/100}setLeading(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("leading",e),this.current.leading=-r}setFont(e,r,n){var d,h;(d=this.dependencyTracker)==null||d.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",r,e);const i=this.commonObjs.get(r),s=this.current;if(!i)throw new Error(`Can't find font for ${r}`);if(s.fontMatrix=i.fontMatrix||_q,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Qr("Invalid font matrix for font "+r),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=((h=i.systemFontInfo)==null?void 0:h.css)||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let u=n;n<Hfe?u=Hfe:n>Wfe&&(u=Wfe),this.current.fontSizeScale=n/u,this.ctx.font=`${c} ${l} ${u}px ${o}`}setTextRenderingMode(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=r}setTextRise(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRise",e),this.current.textRise=r}moveText(e,r,n){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=r,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,r,n){this.setLeading(e,-n),this.moveText(e,r,n)}setTextMatrix(e,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=r,n.textMatrixScale=Math.hypot(r[0],r[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){var r;this.moveText(e,0,this.current.leading),(r=this.dependencyTracker)==null||r.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,r,n,i,s,a){var x,w,b,_;const o=this.ctx,l=this.current,c=l.font,u=l.textRenderingMode,d=l.fontSize/l.fontSizeScale,h=u&Ja.FILL_STROKE_MASK,f=!!(u&Ja.ADD_TO_PATH_FLAG),g=l.patternFill&&!c.missingFile,m=l.patternStroke&&!c.missingFile;let v;if((c.disableFontFace||f||g||m)&&!c.missingFile&&(v=c.getPathGenerator(this.commonObjs,r)),v&&(c.disableFontFace||g||m)){o.save(),o.translate(n,i),o.scale(d,-d),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,o,c);let S;if(h===Ja.FILL||h===Ja.FILL_STROKE)if(s){S=o.getTransform(),o.setTransform(...s);const T=ie(this,Vf,rG).call(this,v,S,s);o.fill(T)}else o.fill(v);if(h===Ja.STROKE||h===Ja.FILL_STROKE)if(a){S||(S=o.getTransform()),o.setTransform(...a);const{a:T,b:E,c:C,d:N}=S,F=er.inverseTransform(a),A=er.transform([T,E,C,N,0,0],F);er.singularValueDecompose2dScale(A,Qu),o.lineWidth*=Math.max(Qu[0],Qu[1])/d,o.stroke(ie(this,Vf,rG).call(this,v,S,a))}else o.lineWidth/=d,o.stroke(v);o.restore()}else(h===Ja.FILL||h===Ja.FILL_STROKE)&&(o.fillText(r,n,i),(w=this.dependencyTracker)==null||w.recordCharacterBBox(e,o,c,d,n,i,()=>o.measureText(r))),(h===Ja.STROKE||h===Ja.FILL_STROKE)&&(this.dependencyTracker&&((b=this.dependencyTracker)==null||b.recordCharacterBBox(e,o,c,d,n,i,()=>o.measureText(r)).recordDependencies(e,Bd.stroke)),o.strokeText(r,n,i));f&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Rs(o),x:n,y:i,fontSize:d,path:v}),(_=this.dependencyTracker)==null||_.recordCharacterBBox(e,o,c,d,n,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const r=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<r.length;i+=4)if(r[i]>0&&r[i]<255){n=!0;break}return en(this,"isFontSubpixelAAEnabled",n)}showText(e,r){var A,I,M,U;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Bd.showText).resetBBox(e),this.current.textRenderingMode&Ja.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,i=n.font;if(i.isType3Font){this.showType3Text(e,r),(A=this.dependencyTracker)==null||A.recordShowTextOperation(e);return}const s=n.fontSize;if(s===0){(I=this.dependencyTracker)==null||I.recordOperation(e);return}const a=this.ctx,o=n.fontSizeScale,l=n.charSpacing,c=n.wordSpacing,u=n.fontDirection,d=n.textHScale*u,h=r.length,f=i.vertical,g=f?1:-1,m=i.defaultVMetrics,v=s*n.fontMatrix[0],x=n.textRenderingMode===Ja.FILL&&!i.disableFontFace&&!n.patternFill;a.save(),n.textMatrix&&a.transform(...n.textMatrix),a.translate(n.x,n.y+n.textRise),u>0?a.scale(d,-1):a.scale(d,1);let w,b;const _=n.textRenderingMode&Ja.FILL_STROKE_MASK,S=_===Ja.FILL||_===Ja.FILL_STROKE,T=_===Ja.STROKE||_===Ja.FILL_STROKE;if(S&&n.patternFill){a.save();const Y=n.fillColor.getPattern(a,this,dp(a),Xo.FILL,e);w=Rs(a),a.restore(),a.fillStyle=Y}if(T&&n.patternStroke){a.save();const Y=n.strokeColor.getPattern(a,this,dp(a),Xo.STROKE,e);b=Rs(a),a.restore(),a.strokeStyle=Y}let E=n.lineWidth;const C=n.textMatrixScale;if(C===0||E===0?T&&(E=this.getSinglePixelWidth()):E/=C,o!==1&&(a.scale(o,o),E/=o),a.lineWidth=E,i.isInvalidPDFjsFont){const Y=[];let X=0;for(const G of r)Y.push(G.unicode),X+=G.width;const W=Y.join("");if(a.fillText(W,0,0),this.dependencyTracker!==null){const G=a.measureText(W);this.dependencyTracker.recordBBox(e,this.ctx,-G.actualBoundingBoxLeft,G.actualBoundingBoxRight,-G.actualBoundingBoxAscent,G.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=X*v*d,a.restore(),this.compose();return}let N=0,F;for(F=0;F<h;++F){const Y=r[F];if(typeof Y=="number"){N+=g*Y*s/1e3;continue}let X=!1;const W=(Y.isSpace?c:0)+l,G=Y.fontChar,B=Y.accent;let re,ae,R=Y.width;if(f){const K=Y.vmetric||m,ne=-(Y.vmetric?K[1]:R*.5)*v,J=K[2]*v;R=K?-K[0]:R,re=ne/o,ae=(N+J)/o}else re=N/o,ae=0;let j;if(i.remeasure&&R>0){j=a.measureText(G);const K=j.width*1e3/s*o;if(R<K&&this.isFontSubpixelAAEnabled){const ne=R/K;X=!0,a.save(),a.scale(ne,1),re/=ne}else R!==K&&(re+=(R-K)/2e3*s/o)}if(this.contentVisible&&(Y.isInFont||i.missingFile)){if(x&&!B)a.fillText(G,re,ae),(M=this.dependencyTracker)==null||M.recordCharacterBBox(e,a,j?{bbox:null}:i,s/o,re,ae,()=>j??a.measureText(G));else if(this.paintChar(e,G,re,ae,w,b),B){const K=re+s*B.offset.x/o,ne=ae-s*B.offset.y/o;this.paintChar(e,B.fontChar,K,ne,w,b)}}const V=f?R*v-W*u:R*v+W*u;N+=V,X&&a.restore()}f?n.y-=N:n.x+=N*d,a.restore(),this.compose(),(U=this.dependencyTracker)==null||U.recordShowTextOperation(e)}showType3Text(e,r){const n=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,c=i.charSpacing,u=i.wordSpacing,d=i.textHScale*o,h=i.fontMatrix||_q,f=r.length,g=i.textRenderingMode===Ja.INVISIBLE;let m,v,x,w;if(g||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(d,o);const b=this.dependencyTracker;for(this.dependencyTracker=b?new l6(b,e):null,m=0;m<f;++m){if(v=r[m],typeof v=="number"){w=l*v*a/1e3,this.ctx.translate(w,0),i.x+=w*d;continue}const _=(v.isSpace?u:0)+c,S=s.charProcOperatorList[v.operatorListId];S?this.contentVisible&&(this.save(),n.scale(a,a),n.transform(...h),this.executeOperatorList(S),this.restore()):Qr(`Type3 character "${v.operatorListId}" is not available.`);const T=[v.width,0];er.applyTransform(T,h),x=T[0]*a+_,n.translate(x,0),i.x+=x*d}n.restore(),b&&(this.dependencyTracker=b)}setCharWidth(e,r,n){}setCharWidthAndBounds(e,r,n,i,s,a,o){var c;const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),(c=this.dependencyTracker)==null||c.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,r){let n;if(r[0]==="TilingPattern"){const i=this.baseTransform||Rs(this.ctx),s={createCanvasGraphics:(a,o)=>new QJ(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new l6(this.dependencyTracker,o,!0):null)};n=new Jq(r,this.ctx,s,i)}else n=this._getPattern(e,r[1],r[2]);return n}setStrokeColorN(e,...r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,r),this.current.patternStroke=!0}setFillColorN(e,...r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,r),this.current.patternFill=!0}setStrokeRGBColor(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=r,this.current.patternStroke=!1}setStrokeTransparent(e){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=r,this.current.patternFill=!1}setFillTransparent(e){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,r,n=null){let i;return this.cachedPatterns.has(r)?i=this.cachedPatterns.get(r):(i=BVt(this.getObject(e,r)),this.cachedPatterns.set(r,i)),n&&(i.matrix=n),i}shadingFill(e,r){var a;if(!this.contentVisible)return;const n=this.ctx;this.save(e);const i=this._getPattern(e,r);n.fillStyle=i.getPattern(n,this,dp(n),Xo.SHADING,e);const s=dp(n);if(s){const{width:o,height:l}=n.canvas,c=MS.slice();er.axialAlignedBoundingBox([0,0,o,l],s,c);const[u,d,h,f]=c;this.ctx.fillRect(u,d,h-u,f-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Bd.transform).recordDependencies(e,Bd.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Yi("Should not call beginInlineImage")}beginImageData(){Yi("Should not call beginImageData")}paintFormXObjectBegin(e,r,n){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),r&&this.transform(e,...r),this.baseTransform=Rs(this.ctx),n)){er.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[s,a,o,l]=n,c=new Path2D;c.rect(s,a,o-s,l-a),this.ctx.clip(c),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,r){var b;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;r.isolated||P7("TODO: Support non-isolated groups."),r.knockout&&Qr("Knockout groups not supported.");const i=Rs(n);if(r.matrix&&n.transform(...r.matrix),!r.bbox)throw new Error("Bounding box is required.");let s=MS.slice();er.axialAlignedBoundingBox(r.bbox,Rs(n),s);const a=[0,0,n.canvas.width,n.canvas.height];s=er.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),u=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,u]);let d="groupAt"+this.groupLevel;r.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,c,u),f=h.context;f.translate(-o,-l),f.transform(...i);let g=new Path2D;const[m,v,x,w]=r.bbox;if(g.rect(m,v,x-m,w-v),r.matrix){const _=new Path2D;_.addPath(g,new DOMMatrix(r.matrix)),g=_}f.clip(g),r.smask&&this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:l,subtype:r.smask.subtype,backdrop:r.smask.backdrop,transferMap:r.smask.transferMap||null,startTransformInverse:null}),(!r.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(o,l),n.save()),qk(n,f),this.ctx=f,(b=this.dependencyTracker)==null||b.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,r){var s;if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),r.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Rs(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=MS.slice();er.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],a,o),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,r,n,i,s,a){if(ie(this,Vf,eG).call(this),jD(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const o=n[2]-n[0],l=n[3]-n[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=o,n[3]=l,er.singularValueDecompose2dScale(Rs(this.ctx),Qu);const{viewportScale:c}=this,u=Math.ceil(o*this.outputScaleX*c),d=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,d);const{canvas:h,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(r,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(Qu[0],0,0,-Qu[1],0,l*Qu[1]),jD(this.ctx)}else{jD(this.ctx),this.endPath(e);const c=new Path2D;c.rect(n[0],n[1],o,l),this.ctx.clip(c)}}this.current=new Gfe(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),ie(this,Vf,tG).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,r){var o;if(!this.contentVisible)return;const n=r.count;r=this.getObject(e,r.data,r),r.count=n;const i=this.ctx,s=this._createMaskCanvas(e,r),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,r,n,i=0,s=0,a,o){var d,h,f;if(!this.contentVisible)return;r=this.getObject(e,r.data,r);const l=this.ctx;l.save();const c=Rs(l);l.transform(n,i,s,a,0,0);const u=this._createMaskCanvas(e,r);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]),(d=this.dependencyTracker)==null||d.resetBBox(e);for(let g=0,m=o.length;g<m;g+=2){const v=er.transform(c,[n,i,s,a,o[g],o[g+1]]);l.drawImage(u.canvas,v[4],v[5]),(h=this.dependencyTracker)==null||h.recordBBox(e,this.ctx,v[4],v[4]+u.canvas.width,v[5],v[5]+u.canvas.height)}l.restore(),this.compose(),(f=this.dependencyTracker)==null||f.recordOperation(e)}paintImageMaskXObjectGroup(e,r){var a,o,l;if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,Bd.transformAndFill);for(const c of r){const{data:u,width:d,height:h,transform:f}=c,g=this.cachedCanvases.getCanvas("maskCanvas",d,h),m=g.context;m.save();const v=this.getObject(e,u,c);Yfe(m,v),m.globalCompositeOperation="source-in",m.fillStyle=s?i.getPattern(m,this,dp(n),Xo.FILL,e):i,m.fillRect(0,0,d,h),m.restore(),n.save(),n.transform(...f),n.scale(1,-1),FD(n,g.canvas,0,0,d,h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,n,0,d,0,h),n.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,r){if(!this.contentVisible)return;const n=this.getObject(e,r);if(!n){Qr("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,r,n,i,s){if(!this.contentVisible)return;const a=this.getObject(e,r);if(!a){Qr("Dependent image isn't ready yet");return}const o=a.width,l=a.height,c=[];for(let u=0,d=s.length;u<d;u+=2)c.push({transform:[n,0,0,i,s[u],s[u+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:r,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(r,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,r){var c;if(!this.contentVisible)return;const n=r.width,i=r.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/n,-1/i);let o;if(r.bitmap)o=this.applyTransferMapsToBitmap(r);else if(typeof HTMLElement=="function"&&r instanceof HTMLElement||!r.data)o=r;else{const d=this.cachedCanvases.getCanvas("inlineImage",n,i).context;Kfe(d,r),o=this.applyTransferMapsToCanvas(d)}const l=this._scaleImage(o,dp(s));s.imageSmoothingEnabled=Xfe(Rs(s),r.interpolate),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,s,0,n,-i,0).recordDependencies(e,Bd.imageXObject).recordOperation(e),FD(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,n,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,r,n){var a,o,l;if(!this.contentVisible)return;const i=this.ctx;let s;if(r.bitmap)s=r.bitmap;else{const c=r.width,u=r.height,h=this.cachedCanvases.getCanvas("inlineImage",c,u).context;Kfe(h,r),s=this.applyTransferMapsToCanvas(h)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const c of n)i.save(),i.transform(...c.transform),i.scale(1,-1),FD(i,s,c.x,c.y,c.w,c.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var r;this.contentVisible&&((r=this.dependencyTracker)==null||r.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Bd.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,r){}markPointProps(e,r,n){}beginMarkedContent(e,r){var n;(n=this.dependencyTracker)==null||n.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,r,n){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),r==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var r;(r=this.dependencyTracker)==null||r.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,r,n){var a,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===Zfe?s.clip(r,"evenodd"):s.clip(r)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Rs(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const r=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/r}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:r,b:n,c:i,d:s}=this.ctx.getTransform();let a,o;if(n===0&&i===0){const l=Math.abs(r),c=Math.abs(s);if(l===c)if(e===0)a=o=1/l;else{const u=l*e;a=o=u<1?1/u:1}else if(e===0)a=1/l,o=1/c;else{const u=l*e,d=c*e;a=u<1?1/u:1,o=d<1?1/d:1}}else{const l=Math.abs(r*s-n*i),c=Math.hypot(r,n),u=Math.hypot(i,s);if(e===0)a=u/l,o=c/l;else{const d=e*l;a=u>d?u/d:1,o=c>d?c/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,r){const{ctx:n,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){n.lineWidth=(i||1)*s,n.stroke(e);return}const o=n.getLineDash();r&&n.save(),n.scale(s,a),rU.a=1/s,rU.d=1/a;const l=new Path2D;if(l.addPath(e,rU),o.length>0){const c=Math.max(s,a);n.setLineDash(o.map(u=>u/c)),n.lineDashOffset/=c}n.lineWidth=i||1,n.stroke(l),r&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Vf=new WeakSet,eG=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},tG=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const r=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=r}}},rG=function(e,r,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(r)),i};let bA=QJ;for(const t in kI)bA.prototype[t]!==void 0&&(bA.prototype[kI[t]]=bA.prototype[t]);var w4,_4;class tm{static get workerPort(){return y(this,w4)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");H(this,w4,e)}static get workerSrc(){return y(this,_4)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");H(this,_4,e)}}w4=new WeakMap,_4=new WeakMap,Q(tm,w4,null),Q(tm,_4,"");var dE,S4;class GVt{constructor({parsedData:e,rawData:r}){Q(this,dE);Q(this,S4);H(this,dE,e),H(this,S4,r)}getRaw(){return y(this,S4)}get(e){return y(this,dE).get(e)??null}[Symbol.iterator](){return y(this,dE).entries()}}dE=new WeakMap,S4=new WeakMap;const pS=Symbol("INTERNAL");var A4,E4,T4,hE;class KVt{constructor(e,{name:r,intent:n,usage:i,rbGroups:s}){Q(this,A4,!1);Q(this,E4,!1);Q(this,T4,!1);Q(this,hE,!0);H(this,A4,!!(e&Ku.DISPLAY)),H(this,E4,!!(e&Ku.PRINT)),this.name=r,this.intent=n,this.usage=i,this.rbGroups=s}get visible(){if(y(this,T4))return y(this,hE);if(!y(this,hE))return!1;const{print:e,view:r}=this.usage;return y(this,A4)?(r==null?void 0:r.viewState)!=="OFF":y(this,E4)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,r,n=!1){e!==pS&&Yi("Internal method `_setVisible` called."),H(this,T4,n),H(this,hE,r)}}A4=new WeakMap,E4=new WeakMap,T4=new WeakMap,hE=new WeakMap;var T1,Mi,fE,pE,C4,nG;class YVt{constructor(e,r=Ku.DISPLAY){Q(this,C4);Q(this,T1,null);Q(this,Mi,new Map);Q(this,fE,null);Q(this,pE,null);if(this.renderingIntent=r,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,H(this,pE,e.order);for(const n of e.groups)y(this,Mi).set(n.id,new KVt(r,n));if(e.baseState==="OFF")for(const n of y(this,Mi).values())n._setVisible(pS,!1);for(const n of e.on)y(this,Mi).get(n)._setVisible(pS,!0);for(const n of e.off)y(this,Mi).get(n)._setVisible(pS,!1);H(this,fE,this.getHash())}}isVisible(e){if(y(this,Mi).size===0)return!0;if(!e)return P7("Optional content group not defined."),!0;if(e.type==="OCG")return y(this,Mi).has(e.id)?y(this,Mi).get(e.id).visible:(Qr(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return ie(this,C4,nG).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const r of e.ids){if(!y(this,Mi).has(r))return Qr(`Optional content group not found: ${r}`),!0;if(y(this,Mi).get(r).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const r of e.ids){if(!y(this,Mi).has(r))return Qr(`Optional content group not found: ${r}`),!0;if(!y(this,Mi).get(r).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const r of e.ids){if(!y(this,Mi).has(r))return Qr(`Optional content group not found: ${r}`),!0;if(!y(this,Mi).get(r).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const r of e.ids){if(!y(this,Mi).has(r))return Qr(`Optional content group not found: ${r}`),!0;if(y(this,Mi).get(r).visible)return!1}return!0}return Qr(`Unknown optional content policy ${e.policy}.`),!0}return Qr(`Unknown group type ${e.type}.`),!0}setVisibility(e,r=!0,n=!0){var s;const i=y(this,Mi).get(e);if(!i){Qr(`Optional content group not found: ${e}`);return}if(n&&r&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=y(this,Mi).get(o))==null||s._setVisible(pS,!1,!0));i._setVisible(pS,!!r,!0),H(this,T1,null)}setOCGState({state:e,preserveRB:r}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const s=y(this,Mi).get(i);if(s)switch(n){case"ON":this.setVisibility(i,!0,r);break;case"OFF":this.setVisibility(i,!1,r);break;case"Toggle":this.setVisibility(i,!s.visible,r);break}}H(this,T1,null)}get hasInitialVisibility(){return y(this,fE)===null||this.getHash()===y(this,fE)}getOrder(){return y(this,Mi).size?y(this,pE)?y(this,pE).slice():[...y(this,Mi).keys()]:null}getGroup(e){return y(this,Mi).get(e)||null}getHash(){if(y(this,T1)!==null)return y(this,T1);const e=new TNe;for(const[r,n]of y(this,Mi))e.update(`${r}:${n.visible}`);return H(this,T1,e.hexdigest())}[Symbol.iterator](){return y(this,Mi).entries()}}T1=new WeakMap,Mi=new WeakMap,fE=new WeakMap,pE=new WeakMap,C4=new WeakSet,nG=function(e){const r=e.length;if(r<2)return!0;const n=e[0];for(let i=1;i<r;i++){const s=e[i];let a;if(Array.isArray(s))a=ie(this,C4,nG).call(this,s);else if(y(this,Mi).has(s))a=y(this,Mi).get(s).visible;else return Qr(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class XVt{constructor(e,{disableRange:r=!1,disableStream:n=!1}){Un(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!r,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:r}){const n=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});Un(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var r,n,i,s;e.total===void 0?(n=(r=this._rangeReaders[0])==null?void 0:r.onProgress)==null||n.call(r,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const r=this._rangeReaders.indexOf(e);r>=0&&this._rangeReaders.splice(r,1)}getFullReader(){Un(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new ZVt(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new QVt(this,e,r);return this._pdfDataRangeTransport.requestDataRange(e,r),this._rangeReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class ZVt{constructor(e,r,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=BJ(i)?i:null,this._queuedChunks=r||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class QVt{constructor(e,r,n){this._stream=e,this._begin=r,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function JVt(t){let e=!0,r=n("filename\\*","i").exec(t);if(r){r=r[1];let u=o(r);return u=unescape(u),u=l(u),u=c(u),s(u)}if(r=a(t),r){const u=c(r);return s(u)}if(r=n("filename","i").exec(t),r){r=r[1];let u=o(r);return u=c(u),s(u)}function n(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const h=new TextDecoder(u,{fatal:!0}),f=PR(d);d=h.decode(f),e=!1}catch{}}return d}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function a(u){const d=[];let h;const f=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=f.exec(u))!==null;){let[,m,v,x]=h;if(m=parseInt(m,10),m in d){if(m===0)break;continue}d[m]=[v,x]}const g=[];for(let m=0;m<d.length&&m in d;++m){let[v,x]=d[m];x=o(x),v&&(x=unescape(x),m===0&&(x=l(x))),g.push(x)}return g.join("")}function o(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let h=0;h<d.length;++h){const f=d[h].indexOf('"');f!==-1&&(d[h]=d[h].slice(0,f),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){const d=u.indexOf("'");if(d===-1)return u;const h=u.slice(0,d),g=u.slice(d+1).replace(/^[^']*'/,"");return i(h,g)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,f,g){if(f==="q"||f==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,v){return String.fromCharCode(parseInt(v,16))}),i(h,g);try{g=atob(g)}catch{}return i(h,g)})}return""}function LNe(t,e){const r=new Headers;if(!t||!e||typeof e!="object")return r;for(const n in e){const i=e[n];i!==void 0&&r.append(n,i)}return r}function I7(t){var e;return((e=URL.parse(t))==null?void 0:e.origin)??null}function BNe({responseHeaders:t,isHttp:e,rangeChunkSize:r,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*r)||n||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function $Ne(t){const e=t.get("Content-Disposition");if(e){let r=JVt(e);if(r.includes("%"))try{r=decodeURIComponent(r)}catch{}if(BJ(r))return r}return null}function DR(t,e){return new r6(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function VNe(t){return t===200||t===206}function UNe(t,e,r){return{method:"GET",headers:t,signal:r.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function zNe(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Qr(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class eUt{constructor(e){Le(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=LNe(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Un(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new tUt(this),this._fullRequestReader}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new rUt(this,e,r);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class tUt{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const r=e.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange;const n=new Headers(e.headers),i=r.url;fetch(i,UNe(n,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=I7(s.url),!VNe(s.status))throw DR(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=BNe({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=$Ne(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ex("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:r}=await this._reader.read();return r?{value:e,done:r}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:zNe(e),done:!1})}cancel(e){var r;(r=this._reader)==null||r.cancel(e),this._abortController.abort()}}class rUt{constructor(e,r,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${r}-${n-1}`);const a=i.url;fetch(a,UNe(s,this._withCredentials,this._abortController)).then(o=>{const l=I7(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!VNe(o.status))throw DR(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:r}=await this._reader.read();return r?{value:e,done:r}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:zNe(e),done:!1})}cancel(e){var r;(r=this._reader)==null||r.cancel(e),this._abortController.abort()}}const nU=200,iU=206;function nUt(t){const e=t.response;return typeof e!="string"?e:PR(e).buffer}class iUt{constructor({url:e,httpHeaders:r,withCredentials:n}){Le(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=LNe(this.isHttp,r),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const r=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:r};r.open("GET",this.url),r.withCredentials=this.withCredentials;for(const[s,a]of this.headers)r.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(r.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=iU):i.expectedStatus=nU,r.responseType="arraybuffer",Un(e.onError,"Expected `onError` callback to be provided."),r.onerror=()=>{e.onError(r.status)},r.onreadystatechange=this.onStateChange.bind(this,n),r.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,r.send(null),n}onProgress(e,r){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,r))}onStateChange(e,r){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){n.onError(i.status);return}const s=i.status||nU;if(!(s===nU&&n.expectedStatus===iU)&&s!==n.expectedStatus){n.onError(i.status);return}const o=nUt(i);if(s===iU){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?n.onDone({begin:parseInt(c[1],10),chunk:o}):(Qr('Missing or invalid "Content-Range" header.'),n.onError(0))}else o?n.onDone({begin:0,chunk:o}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const r=this.pendingRequests[e].xhr;delete this.pendingRequests[e],r.abort()}}class sUt{constructor(e){this._source=e,this._manager=new iUt(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const r=this._rangeRequestReaders.indexOf(e);r>=0&&this._rangeRequestReaders.splice(r,1)}getFullReader(){return Un(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new aUt(this._manager,this._source),this._fullRequestReader}getRangeReader(e,r){const n=new oUt(this._manager,e,r);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class aUt{constructor(e,r){this._manager=e,this._url=r.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._contentLength=r.length,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,r=this._manager.getRequestXhr(e);this._manager._responseOrigin=I7(r.responseURL);const n=r.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=BNe({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=$Ne(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=DR(e,this._url),this._headersCapability.reject(this._storedError);for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var r;(r=this.onProgress)==null||r.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class oUt{constructor(e,r,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:r,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var r;const e=I7((r=this._manager.getRequestXhr(this._requestId))==null?void 0:r.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const r=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunk=r,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=DR(e,this._url));for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var r;this.isStreamingSupported||(r=this.onProgress)==null||r.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const lUt=/^[a-z][a-z0-9\-+.]+:/i;function cUt(t){if(lUt.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class uUt{constructor(e){this.source=e,this.url=cUt(e.url),Un(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Un(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new dUt(this),this._fullRequestReader}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new hUt(this,e,r);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class dUt{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const r=e.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=DR(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",r=>{this._error(r)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ex("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class hUt{constructor(e,r,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:r,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",r=>{this._error(r)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Gk=Symbol("INITIAL_DATA");var Ru,k4,iG;class HNe{constructor(){Q(this,k4);Q(this,Ru,Object.create(null))}get(e,r=null){if(r){const i=ie(this,k4,iG).call(this,e);return i.promise.then(()=>r(i.data)),null}const n=y(this,Ru)[e];if(!n||n.data===Gk)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const r=y(this,Ru)[e];return!!r&&r.data!==Gk}delete(e){const r=y(this,Ru)[e];return!r||r.data===Gk?!1:(delete y(this,Ru)[e],!0)}resolve(e,r=null){const n=ie(this,k4,iG).call(this,e);n.data=r,n.resolve()}clear(){var e;for(const r in y(this,Ru)){const{data:n}=y(this,Ru)[r];(e=n==null?void 0:n.bitmap)==null||e.close()}H(this,Ru,Object.create(null))}*[Symbol.iterator](){for(const e in y(this,Ru)){const{data:r}=y(this,Ru)[e];r!==Gk&&(yield[e,r])}}}Ru=new WeakMap,k4=new WeakSet,iG=function(e){var r;return(r=y(this,Ru))[e]||(r[e]={...Promise.withResolvers(),data:Gk})};const fUt=1e5,Qfe=30;var ppe,C1,Du,P4,N4,ow,M0,I4,O4,lw,R4,mE,k1,gE,D4,vE,cw,M4,F4,yE,uw,j4,xE,bE,Xg,WNe,qNe,sG,pd,VM,aG,GNe,KNe;const $o=class $o{constructor({textContentSource:e,container:r,viewport:n}){Q(this,Xg);Q(this,C1,Promise.withResolvers());Q(this,Du,null);Q(this,P4,!1);Q(this,N4,!!((ppe=globalThis.FontInspector)!=null&&ppe.enabled));Q(this,ow,null);Q(this,M0,null);Q(this,I4,0);Q(this,O4,0);Q(this,lw,null);Q(this,R4,null);Q(this,mE,0);Q(this,k1,0);Q(this,gE,Object.create(null));Q(this,D4,[]);Q(this,vE,null);Q(this,cw,[]);Q(this,M4,new WeakMap);Q(this,F4,null);var l;if(e instanceof ReadableStream)H(this,vE,e);else if(typeof e=="object")H(this,vE,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');H(this,Du,H(this,R4,r)),H(this,k1,n.scale*Im.pixelRatio),H(this,mE,n.rotation),H(this,M0,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=n.rawDims;H(this,F4,[1,0,0,-1,-a,o+s]),H(this,O4,i),H(this,I4,s),ie(l=$o,pd,GNe).call(l),r.style.setProperty("--min-font-size",y($o,xE)),U_(r,n),y(this,C1).promise.finally(()=>{y($o,bE).delete(this),H(this,M0,null),H(this,gE,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:r}=ho.platform;return en(this,"fontFamilyMap",new Map([["sans-serif",`${e&&r?"Calibri, ":""}sans-serif`],["monospace",`${e&&r?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{y(this,lw).read().then(({value:r,done:n})=>{if(n){y(this,C1).resolve();return}y(this,ow)??H(this,ow,r.lang),Object.assign(y(this,gE),r.styles),ie(this,Xg,WNe).call(this,r.items),e()},y(this,C1).reject)};return H(this,lw,y(this,vE).getReader()),y($o,bE).add(this),e(),y(this,C1).promise}update({viewport:e,onBefore:r=null}){var s;const n=e.scale*Im.pixelRatio,i=e.rotation;if(i!==y(this,mE)&&(r==null||r(),H(this,mE,i),U_(y(this,R4),{rotation:i})),n!==y(this,k1)){r==null||r(),H(this,k1,n);const a={div:null,properties:null,ctx:ie(s=$o,pd,VM).call(s,y(this,ow))};for(const o of y(this,cw))a.properties=y(this,M4).get(o),a.div=o,ie(this,Xg,sG).call(this,a)}}cancel(){var r;const e=new ex("TextLayer task cancelled.");(r=y(this,lw))==null||r.cancel(e).catch(()=>{}),H(this,lw,null),y(this,C1).reject(e)}get textDivs(){return y(this,cw)}get textContentItemsStr(){return y(this,D4)}static cleanup(){if(!(y(this,bE).size>0)){y(this,yE).clear();for(const{canvas:e}of y(this,uw).values())e.remove();y(this,uw).clear()}}};C1=new WeakMap,Du=new WeakMap,P4=new WeakMap,N4=new WeakMap,ow=new WeakMap,M0=new WeakMap,I4=new WeakMap,O4=new WeakMap,lw=new WeakMap,R4=new WeakMap,mE=new WeakMap,k1=new WeakMap,gE=new WeakMap,D4=new WeakMap,vE=new WeakMap,cw=new WeakMap,M4=new WeakMap,F4=new WeakMap,yE=new WeakMap,uw=new WeakMap,j4=new WeakMap,xE=new WeakMap,bE=new WeakMap,Xg=new WeakSet,WNe=function(e){var i,s;if(y(this,P4))return;(s=y(this,M0)).ctx??(s.ctx=ie(i=$o,pd,VM).call(i,y(this,ow)));const r=y(this,cw),n=y(this,D4);for(const a of e){if(r.length>fUt){Qr("Ignoring additional textDivs for performance reasons."),H(this,P4,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=y(this,Du);H(this,Du,document.createElement("span")),y(this,Du).classList.add("markedContent"),a.id&&y(this,Du).setAttribute("id",`${a.id}`),o.append(y(this,Du))}else a.type==="endMarkedContent"&&H(this,Du,y(this,Du).parentNode);continue}n.push(a.str),ie(this,Xg,qNe).call(this,a)}},qNe=function(e){var g;const r=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};y(this,cw).push(r);const i=er.transform(y(this,F4),e.transform);let s=Math.atan2(i[1],i[0]);const a=y(this,gE)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=y(this,N4)&&a.fontSubstitution||a.fontFamily;o=$o.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*ie(g=$o,pd,KNe).call(g,o,a,y(this,ow));let u,d;s===0?(u=i[4],d=i[5]-c):(u=i[4]+c*Math.sin(s),d=i[5]-c*Math.cos(s));const h=r.style;h.left=`${(100*u/y(this,O4)).toFixed(2)}%`,h.top=`${(100*d/y(this,I4)).toFixed(2)}%`,h.setProperty("--font-height",`${l.toFixed(2)}px`),h.fontFamily=o,n.fontSize=l,r.setAttribute("role","presentation"),r.textContent=e.str,r.dir=e.dir,y(this,N4)&&(r.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let f=!1;if(e.str.length>1)f=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const m=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);m!==v&&Math.max(m,v)/Math.min(m,v)>1.5&&(f=!0)}if(f&&(n.canvasWidth=a.vertical?e.height:e.width),y(this,M4).set(r,n),y(this,M0).div=r,y(this,M0).properties=n,ie(this,Xg,sG).call(this,y(this,M0)),n.hasText&&y(this,Du).append(r),n.hasEOL){const m=document.createElement("br");m.setAttribute("role","presentation"),y(this,Du).append(m)}},sG=function(e){var a;const{div:r,properties:n,ctx:i}=e,{style:s}=r;if(n.canvasWidth!==0&&n.hasText){const{fontFamily:o}=s,{canvasWidth:l,fontSize:c}=n;ie(a=$o,pd,aG).call(a,i,c*y(this,k1),o);const{width:u}=i.measureText(r.textContent);u>0&&s.setProperty("--scale-x",l*y(this,k1)/u)}n.angle!==0&&s.setProperty("--rotate",`${n.angle}deg`)},pd=new WeakSet,VM=function(e=null){let r=y(this,uw).get(e||(e=""));if(!r){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),r=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),y(this,uw).set(e,r),y(this,j4).set(r,{size:0,family:""})}return r},aG=function(e,r,n){const i=y(this,j4).get(e);r===i.size&&n===i.family||(e.font=`${r}px ${n}`,i.size=r,i.family=n)},GNe=function(){if(y(this,xE)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),H(this,xE,e.getBoundingClientRect().height),e.remove()},KNe=function(e,r,n){const i=y(this,yE).get(e);if(i)return i;const s=ie(this,pd,VM).call(this,n);s.canvas.width=s.canvas.height=Qfe,ie(this,pd,aG).call(this,s,Qfe,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return o?c=o/(o+l):(ho.platform.isFirefox&&Qr("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),r.ascent?c=r.ascent:r.descent&&(c=1+r.descent)),y(this,yE).set(e,c),c},Q($o,pd),Q($o,yE,new Map),Q($o,uw,new Map),Q($o,j4,new WeakMap),Q($o,xE,null),Q($o,bE,new Set);let NI=$o;const pUt=100;function YNe(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new oG,{docId:r}=e,n=t.url?wVt(t.url):null,i=t.data?_Vt(t.data):null,s=t.httpHeaders||null,a=t.withCredentials===!0,o=t.password??null,l=t.range instanceof XNe?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let u=t.worker instanceof II?t.worker:null;const d=t.verbosity,h=typeof t.docBaseUrl=="string"&&!N7(t.docBaseUrl)?t.docBaseUrl:null,f=OD(t.cMapUrl),g=t.cMapPacked!==!1,m=t.CMapReaderFactory||(oc?NVt:Lfe),v=OD(t.iccUrl),x=OD(t.standardFontDataUrl),w=t.StandardFontDataFactory||(oc?IVt:Bfe),b=OD(t.wasmUrl),_=t.WasmFactory||(oc?OVt:$fe),S=t.stopAtErrors!==!0,T=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,E=t.isEvalSupported!==!1,C=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!oc,N=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!oc&&(ho.platform.isFirefox||!globalThis.chrome),F=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,A=typeof t.disableFontFace=="boolean"?t.disableFontFace:oc,I=t.fontExtraProperties===!0,M=t.enableXfa===!0,U=t.ownerDocument||globalThis.document,Y=t.disableRange===!0,X=t.disableStream===!0,W=t.disableAutoFetch===!0,G=t.pdfBug===!0,B=t.CanvasFactory||(oc?PVt:TVt),re=t.FilterFactory||(oc?kVt:CVt),ae=t.enableHWA===!0,R=t.useWasm!==!1,j=l?l.length:t.length??NaN,V=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!oc&&!A,K=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(m===Lfe&&w===Bfe&&_===$fe&&f&&x&&b&&b5(f,document.baseURI)&&b5(x,document.baseURI)&&b5(b,document.baseURI)),ne=null;K9t(d);const J={canvasFactory:new B({ownerDocument:U,enableHWA:ae}),filterFactory:new re({docId:r,ownerDocument:U}),cMapReaderFactory:K?null:new m({baseUrl:f,isCompressed:g}),standardFontDataFactory:K?null:new w({baseUrl:x}),wasmFactory:K?null:new _({baseUrl:b})};u||(u=II.create({verbosity:d,port:tm.workerPort}),e._worker=u);const me={docId:r,apiVersion:"5.4.530",data:i,password:o,disableAutoFetch:W,rangeChunkSize:c,length:j,docBaseUrl:h,enableXfa:M,evaluatorOptions:{maxImageSize:T,disableFontFace:A,ignoreErrors:S,isEvalSupported:E,isOffscreenCanvasSupported:C,isImageDecoderSupported:N,canvasMaxAreaInBytes:F,fontExtraProperties:I,useSystemFonts:V,useWasm:R,useWorkerFetch:K,cMapUrl:f,iccUrl:v,standardFontDataUrl:x,wasmUrl:b}},ce={ownerDocument:U,pdfBug:G,styleElement:ne,loadingParams:{disableAutoFetch:W,enableXfa:M}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const he=u.messageHandler.sendWithPromise("GetDocRequest",me,i?[i.buffer]:null);let _e;if(l)_e=new XVt(l,{disableRange:Y,disableStream:X});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");const ee=b5(n)?eUt:oc?uUt:sUt;_e=new ee({url:n,length:j,httpHeaders:s,withCredentials:a,rangeChunkSize:c,disableRange:Y,disableStream:X})}return he.then(ee=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const je=new k5(r,ee,u.port),Ue=new vUt(je,e,_e,ce,J,ae);e._transport=Ue,je.send("Ready",null)})}).catch(e._capability.reject),e}var E6;const T6=class T6{constructor(){Le(this,"_capability",Promise.withResolvers());Le(this,"_transport",null);Le(this,"_worker",null);Le(this,"docId",`d${qs(T6,E6)._++}`);Le(this,"destroyed",!1);Le(this,"onPassword",null);Le(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,r,n,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((r=this._transport)==null?void 0:r.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};E6=new WeakMap,Q(T6,E6,0);let oG=T6;var dw,L4,B4,$4,V4;class XNe{constructor(e,r,n=!1,i=null){Q(this,dw,Promise.withResolvers());Q(this,L4,[]);Q(this,B4,[]);Q(this,$4,[]);Q(this,V4,[]);this.length=e,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){y(this,V4).push(e)}addProgressListener(e){y(this,$4).push(e)}addProgressiveReadListener(e){y(this,B4).push(e)}addProgressiveDoneListener(e){y(this,L4).push(e)}onDataRange(e,r){for(const n of y(this,V4))n(e,r)}onDataProgress(e,r){y(this,dw).promise.then(()=>{for(const n of y(this,$4))n(e,r)})}onDataProgressiveRead(e){y(this,dw).promise.then(()=>{for(const r of y(this,B4))r(e)})}onDataProgressiveDone(){y(this,dw).promise.then(()=>{for(const e of y(this,L4))e()})}transportReady(){y(this,dw).resolve()}requestDataRange(e,r){Yi("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}dw=new WeakMap,L4=new WeakMap,B4=new WeakMap,$4=new WeakMap,V4=new WeakMap;class mUt{constructor(e,r){this._pdfInfo=e,this._transport=r}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return en(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,r){return this._transport.getAnnotationsByType(e,r)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(r)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var F0,hw,R5;class gUt{constructor(e,r,n,i=!1){Q(this,hw);Q(this,F0,!1);this._pageIndex=e,this._pageInfo=r,this._transport=n,this._stats=i?new Ife:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new HNe,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:r=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new IR({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,r)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return en(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:r=e.canvas,viewport:n,intent:i="display",annotationMode:s=e1.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:h=!1,recordOperations:f=!1,operationsFilter:g=null}){var N,F,A;(N=this._stats)==null||N.time("Overall");const m=this._transport.getRenderingIntent(i,s,d,h),{renderingIntent:v,cacheKey:x}=m;H(this,F0,!1),l||(l=this._transport.getOptionalContentConfig(v));let w=this._intentStates.get(x);w||(w=Object.create(null),this._intentStates.set(x,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const b=!!(v&Ku.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(m));const _=!!(this._pdfBug&&((A=globalThis.StepperManager)!=null&&A.enabled)),S=!this.recordedBBoxes&&(f||_),T=I=>{var M,U;if(w.renderTasks.delete(E),S){const Y=(M=E.gfx)==null?void 0:M.dependencyTracker.take();Y&&(E.stepper&&E.stepper.setOperatorBBoxes(Y,E.gfx.dependencyTracker.takeDebugMetadata()),f&&(this.recordedBBoxes=Y))}b&&H(this,F0,!0),ie(this,hw,R5).call(this),I?(E.capability.reject(I),this._abortOperatorList({intentState:w,reason:I instanceof Error?I:new Error(I)})):E.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(U=globalThis.Stats)!=null&&U.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},E=new lG({callback:T,params:{canvas:r,canvasContext:e,dependencyTracker:S?new DVt(r,w.operatorList.length,_):null,viewport:n,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA,operationsFilter:g});(w.renderTasks||(w.renderTasks=new Set)).add(E);const C=E.task;return Promise.all([w.displayReadyCapability.promise,l]).then(([I,M])=>{var U;if(this.destroyed){T();return}if((U=this._stats)==null||U.time("Rendering"),!(M.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");E.initializeGraphics({transparency:I,optionalContentConfig:M}),E.operatorListChanged()}).catch(T),C}getOperatorList({intent:e="display",annotationMode:r=e1.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var c;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,r,n,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:r===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>PI.textContent(n));const r=this.streamTextContent(e);return new Promise(function(n,i){function s(){a.read().then(function({value:l,done:c}){if(c){n(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=r.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const n of r.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),H(this,F0,!1),Promise.all(e)}cleanup(e=!1){H(this,F0,!0);const r=ie(this,hw,R5).call(this);return e&&r&&this._stats&&(this._stats=new Ife),r}_startRenderPage(e,r){var i,s;const n=this._intentStates.get(r);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,r){for(let n=0,i=e.length;n<i;n++)r.operatorList.fnArray.push(e.fnArray[n]),r.operatorList.argsArray.push(e.argsArray[n]);r.operatorList.lastChunk=e.lastChunk,r.operatorList.separateAnnots=e.separateAnnots;for(const n of r.renderTasks)n.operatorListChanged();e.lastChunk&&ie(this,hw,R5).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:r,annotationStorageSerializable:n,modifiedIds:i}){const{map:s,transfer:a}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:r,annotationStorage:s,modifiedIds:i},a).getReader(),c=this._intentStates.get(r);c.streamReader=l;const u=()=>{l.read().then(({value:d,done:h})=>{if(h){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),u())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const h of c.renderTasks)h.operatorListChanged();ie(this,hw,R5).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:e,reason:r,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(r instanceof LJ){let i=pUt;r.extraDelay>0&&r.extraDelay<1e3&&(i+=r.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:r,force:!0})},i);return}}if(e.streamReader.cancel(new ex(r.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}F0=new WeakMap,hw=new WeakSet,R5=function(){if(!y(this,F0)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:r}of this._intentStates.values())if(e.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),H(this,F0,!1),!0};var P1,af,j0,fw,C6,pw,mw,yc,UM,ZNe,QNe,D5,wE,zM;const Ts=class Ts{constructor({name:e=null,port:r=null,verbosity:n=Y9t()}={}){Q(this,yc);Q(this,P1,Promise.withResolvers());Q(this,af,null);Q(this,j0,null);Q(this,fw,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,r){if(y(Ts,mw).has(r))throw new Error("Cannot use more than one PDFWorker per port.");y(Ts,mw).set(r,this),ie(this,yc,ZNe).call(this,r)}else ie(this,yc,QNe).call(this)}get promise(){return y(this,P1).promise}get port(){return y(this,j0)}get messageHandler(){return y(this,af)}destroy(){var e,r;this.destroyed=!0,(e=y(this,fw))==null||e.terminate(),H(this,fw,null),y(Ts,mw).delete(y(this,j0)),H(this,j0,null),(r=y(this,af))==null||r.destroy(),H(this,af,null)}static create(e){const r=y(this,mw).get(e==null?void 0:e.port);if(r){if(r._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return r}return new Ts(e)}static get workerSrc(){if(tm.workerSrc)return tm.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return en(this,"_setupFakeWorkerGlobal",(async()=>y(this,wE,zM)?y(this,wE,zM):(await import(this.workerSrc)).WorkerMessageHandler)())}};P1=new WeakMap,af=new WeakMap,j0=new WeakMap,fw=new WeakMap,C6=new WeakMap,pw=new WeakMap,mw=new WeakMap,yc=new WeakSet,UM=function(){y(this,P1).resolve(),y(this,af).send("configure",{verbosity:this.verbosity})},ZNe=function(e){H(this,j0,e),H(this,af,new k5("main","worker",e)),y(this,af).on("ready",()=>{}),ie(this,yc,UM).call(this)},QNe=function(){if(y(Ts,pw)||y(Ts,wE,zM)){ie(this,yc,D5).call(this);return}let{workerSrc:e}=Ts;try{Ts._isSameOrigin(window.location,e)||(e=Ts._createCDNWrapper(new URL(e,window.location).href));const r=new Worker(e,{type:"module"}),n=new k5("main","worker",r),i=()=>{s.abort(),n.destroy(),r.terminate(),this.destroyed?y(this,P1).reject(new Error("Worker was destroyed")):ie(this,yc,D5).call(this)},s=new AbortController;r.addEventListener("error",()=>{y(this,fw)||i()},{signal:s.signal}),n.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}H(this,af,n),H(this,j0,r),H(this,fw,r),ie(this,yc,UM).call(this)}),n.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{ie(this,yc,D5).call(this)}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{P7("The worker has been disabled.")}ie(this,yc,D5).call(this)},D5=function(){y(Ts,pw)||(Qr("Setting up fake worker."),H(Ts,pw,!0)),Ts._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){y(this,P1).reject(new Error("Worker was destroyed"));return}const r=new EVt;H(this,j0,r);const n=`fake${qs(Ts,C6)._++}`,i=new k5(n+"_worker",n,r);e.setup(i,r),H(this,af,new k5(n,n+"_worker",r)),ie(this,yc,UM).call(this)}).catch(e=>{y(this,P1).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},wE=new WeakSet,zM=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},Q(Ts,wE),Q(Ts,C6,0),Q(Ts,pw,!1),Q(Ts,mw,new WeakMap),oc&&(H(Ts,pw,!0),tm.workerSrc||(tm.workerSrc="./pdf.worker.mjs")),Ts._isSameOrigin=(e,r)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const i=new URL(r,n);return n.origin===i.origin},Ts._createCDNWrapper=e=>{const r=`await import("${e}");`;return URL.createObjectURL(new Blob([r],{type:"text/javascript"}))},Ts.fromPort=e=>{if(oVt("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Ts.create(e)};let II=Ts;var L0,$p,_E,SE,B0,gw,M5;class vUt{constructor(e,r,n,i,s,a){Q(this,gw);Q(this,L0,new Map);Q(this,$p,new Map);Q(this,_E,new Map);Q(this,SE,new Map);Q(this,B0,null);this.messageHandler=e,this.loadingTask=r,this.commonObjs=new HNe,this.fontLoader=new yVt({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return en(this,"annotationStorage",new $J)}getRenderingIntent(e,r=e1.ENABLE,n=null,i=!1,s=!1){let a=Ku.DISPLAY,o=Hq;switch(e){case"any":a=Ku.ANY;break;case"display":break;case"print":a=Ku.PRINT;break;default:Qr(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Ku.PRINT&&n instanceof kNe?n:this.annotationStorage;switch(r){case e1.DISABLE:a+=Ku.ANNOTATIONS_DISABLE;break;case e1.ENABLE:break;case e1.ENABLE_FORMS:a+=Ku.ANNOTATIONS_FORMS;break;case e1.ENABLE_STORAGE:a+=Ku.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Qr(`getRenderingIntent - invalid annotationMode: ${r}`)}i&&(a+=Ku.IS_EDITING),s&&(a+=Ku.OPLIST);const{ids:c,hash:u}=l.modifiedIds,d=[a,o.hash,u];return{renderingIntent:a,cacheKey:d.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=y(this,B0))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of y(this,$p).values())e.push(i._destroy());y(this,$p).clear(),y(this,_E).clear(),y(this,SE).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return e.push(r),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),y(this,L0).clear(),this.filterFactory.destroy(),NI.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new ex("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:r}=this;e.on("GetReader",(n,i)=>{Un(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Un(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async n=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=r.onProgress)==null||o.call(r,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=r.onProgress)==null||c.call(r,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(n,i)=>{Un(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}Un(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new mUt(n,this))}),e.on("DocException",n=>{r._capability.reject($c(n))}),e.on("PasswordRequest",n=>{H(this,B0,Promise.withResolvers());try{if(!r.onPassword)throw $c(n);const i=s=>{s instanceof Error?y(this,B0).reject(s):y(this,B0).resolve({password:s})};r.onPassword(i,n.code)}catch(i){y(this,B0).reject(i)}return y(this,B0).promise}),e.on("DataLoaded",n=>{var i;(i=r.onProgress)==null||i.call(r,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;y(this,$p).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in s){const h=s.error;Qr(`Error during font loading: ${h}`),this.commonObjs.resolve(n,h);break}const o=new Wq(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,c=new xVt(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(n,c)});break;case"CopyLocalImage":const{imageRef:u}=s;Un(u,"The imageRef must be defined.");for(const h of y(this,$p).values())for(const[,f]of h.objs)if((f==null?void 0:f.ref)===u)return f.dataLen?(this.commonObjs.resolve(n,structuredClone(f)),f.dataLen):null;break;case"FontPath":this.commonObjs.resolve(n,new bVt(s));break;case"Image":this.commonObjs.resolve(n,s);break;case"Pattern":const d=new qq(s);this.commonObjs.resolve(n,d.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,s,a])=>{var l;if(this.destroyed)return;const o=y(this,$p).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=r.onProgress)==null||i.call(r,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Qr("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},r).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const r=e-1,n=y(this,_E).get(r);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&y(this,SE).set(s.refStr,e);const a=new gUt(r,s,this,this._params.pdfBug);return y(this,$p).set(r,a),a});return y(this,_E).set(r,i),i}getPageIndex(e){return Gq(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:r})}getFieldObjects(){return ie(this,gw,M5).call(this,"GetFieldObjects")}hasJSActions(){return ie(this,gw,M5).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,r){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:r})}getDocJSActions(){return ie(this,gw,M5).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return ie(this,gw,M5).call(this,"GetOptionalContentConfig").then(r=>new YVt(r,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",r=y(this,L0).get(e);if(r)return r;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new GVt(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null,hasStructTree:i[2]}});return y(this,L0).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const r of y(this,$p).values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),y(this,L0).clear(),this.filterFactory.destroy(!0),NI.cleanup()}}cachedPageNumber(e){if(!Gq(e))return null;const r=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return y(this,SE).get(r)??null}}L0=new WeakMap,$p=new WeakMap,_E=new WeakMap,SE=new WeakMap,B0=new WeakMap,gw=new WeakSet,M5=function(e,r=null){const n=y(this,L0).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,r);return y(this,L0).set(e,i),i};var N1;class yUt{constructor(e){Q(this,N1,null);Le(this,"onContinue",null);Le(this,"onError",null);H(this,N1,e)}get promise(){return y(this,N1).capability.promise}cancel(e=0){y(this,N1).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=y(this,N1).operatorList;if(!e)return!1;const{annotationCanvasMap:r}=y(this,N1);return e.form||e.canvas&&(r==null?void 0:r.size)>0}}N1=new WeakMap;var I1,vw;const ib=class ib{constructor({callback:e,params:r,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null,enableHWA:f=!1,operationsFilter:g=null}){Q(this,I1,null);this.callback=e,this.params=r,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new yUt(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvas,this._canvasContext=r.canvas?null:r.canvasContext,this._enableHWA=f,this._dependencyTracker=r.dependencyTracker,this._operationsFilter=g}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:r}){var l,c;if(this.cancelled)return;if(this._canvas){if(y(ib,vw).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");y(ib,vw).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new bA(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:n,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,r=0){var n,i,s;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),y(this,I1)&&(window.cancelAnimationFrame(y(this,I1)),H(this,I1,null)),y(ib,vw).delete(this._canvas),e||(e=new LJ(`Rendering cancelled, page ${this._pageIndex+1}`,r)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e,r;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(r=this.stepper)==null||r.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?H(this,I1,window.requestAnimationFrame(()=>{H(this,I1,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),y(ib,vw).delete(this._canvas),this.callback())))}};I1=new WeakMap,vw=new WeakMap,Q(ib,vw,new WeakSet);let lG=ib;const xUt="5.4.530",bUt="50cc4adac";var Mu,yw,AE,ro,U4,EE,$0,z4,O1,of,H4,ji,cG,uG,dG,Zx,JNe,$v;const Vc=class Vc{constructor({editor:e=null,uiManager:r=null}){Q(this,ji);Q(this,Mu,null);Q(this,yw,null);Q(this,AE);Q(this,ro,null);Q(this,U4,!1);Q(this,EE,!1);Q(this,$0,null);Q(this,z4);Q(this,O1,null);Q(this,of,null);var n,i;e?(H(this,EE,!1),H(this,$0,e)):H(this,EE,!0),H(this,of,(e==null?void 0:e._uiManager)||r),H(this,z4,y(this,of)._eventBus),H(this,AE,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((i=y(this,of))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),y(Vc,H4)||H(Vc,H4,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return en(this,"_keyboardManager",new RR([[["Escape","mac+Escape"],Vc.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Vc.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Vc.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Vc.prototype._moveToPrevious],[["Home","mac+Home"],Vc.prototype._moveToBeginning],[["End","mac+End"],Vc.prototype._moveToEnd]]))}renderButton(){const e=H(this,Mu,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",y(this,$0)&&(e.ariaControls=`${y(this,$0).id}_colorpicker_dropdown`);const r=y(this,of)._signal;e.addEventListener("click",ie(this,ji,Zx).bind(this),{signal:r}),e.addEventListener("keydown",ie(this,ji,dG).bind(this),{signal:r});const n=H(this,yw,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=y(this,AE),e.append(n),e}renderMainDropdown(){const e=H(this,ro,ie(this,ji,cG).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===y(this,Mu)){ie(this,ji,Zx).call(this,e);return}const r=e.target.getAttribute("data-color");r&&ie(this,ji,uG).call(this,r,e)}_moveToNext(e){var r,n;if(!y(this,ji,$v)){ie(this,ji,Zx).call(this,e);return}if(e.target===y(this,Mu)){(r=y(this,ro).firstElementChild)==null||r.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var r,n;if(e.target===((r=y(this,ro))==null?void 0:r.firstElementChild)||e.target===y(this,Mu)){y(this,ji,$v)&&this._hideDropdownFromKeyboard();return}y(this,ji,$v)||ie(this,ji,Zx).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var r;if(!y(this,ji,$v)){ie(this,ji,Zx).call(this,e);return}(r=y(this,ro).firstElementChild)==null||r.focus()}_moveToEnd(e){var r;if(!y(this,ji,$v)){ie(this,ji,Zx).call(this,e);return}(r=y(this,ro).lastElementChild)==null||r.focus()}hideDropdown(){var e,r;(e=y(this,ro))==null||e.classList.add("hidden"),y(this,Mu).ariaExpanded="false",(r=y(this,O1))==null||r.abort(),H(this,O1,null)}_hideDropdownFromKeyboard(){var e;if(!y(this,EE)){if(!y(this,ji,$v)){(e=y(this,$0))==null||e.unselect();return}this.hideDropdown(),y(this,Mu).focus({preventScroll:!0,focusVisible:y(this,U4)})}}updateColor(e){if(y(this,yw)&&(y(this,yw).style.backgroundColor=e),!y(this,ro))return;const r=y(this,of).highlightColors.values();for(const n of y(this,ro).children)n.ariaSelected=r.next().value===e.toUpperCase()}destroy(){var e,r;(e=y(this,Mu))==null||e.remove(),H(this,Mu,null),H(this,yw,null),(r=y(this,ro))==null||r.remove(),H(this,ro,null)}};Mu=new WeakMap,yw=new WeakMap,AE=new WeakMap,ro=new WeakMap,U4=new WeakMap,EE=new WeakMap,$0=new WeakMap,z4=new WeakMap,O1=new WeakMap,of=new WeakMap,H4=new WeakMap,ji=new WeakSet,cG=function(){const e=document.createElement("div"),r=y(this,of)._signal;e.addEventListener("contextmenu",Ph,{signal:r}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),y(this,$0)&&(e.id=`${y(this,$0).id}_colorpicker_dropdown`);for(const[n,i]of y(this,of).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",y(Vc,H4)[n]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===y(this,AE),s.addEventListener("click",ie(this,ji,uG).bind(this,i),{signal:r}),e.append(s)}return e.addEventListener("keydown",ie(this,ji,dG).bind(this),{signal:r}),e},uG=function(e,r){r.stopPropagation(),y(this,z4).dispatch("switchannotationeditorparams",{source:this,type:Vn.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},dG=function(e){Vc._keyboardManager.exec(this,e)},Zx=function(e){if(y(this,ji,$v)){this.hideDropdown();return}if(H(this,U4,e.detail===0),y(this,O1)||(H(this,O1,new AbortController),window.addEventListener("pointerdown",ie(this,ji,JNe).bind(this),{signal:y(this,of).combinedSignal(y(this,O1))})),y(this,Mu).ariaExpanded="true",y(this,ro)){y(this,ro).classList.remove("hidden");return}const r=H(this,ro,ie(this,ji,cG).call(this));y(this,Mu).append(r)},JNe=function(e){var r;(r=y(this,ro))!=null&&r.contains(e.target)||this.hideDropdown()},$v=function(){return y(this,ro)&&!y(this,ro).classList.contains("hidden")},Q(Vc,H4,null);let c6=Vc;var Vp,W4,TE,q4;const sb=class sb{constructor(e){Q(this,Vp,null);Q(this,W4,null);Q(this,TE,null);H(this,W4,e),H(this,TE,e._uiManager),y(sb,q4)||H(sb,q4,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(y(this,Vp))return y(this,Vp);const{editorType:e,colorType:r,color:n}=y(this,W4),i=H(this,Vp,document.createElement("input"));return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",y(sb,q4)[e]),i.addEventListener("input",()=>{y(this,TE).updateParams(r,i.value)},{signal:y(this,TE)._signal}),i}update(e){y(this,Vp)&&(y(this,Vp).value=e)}destroy(){var e;(e=y(this,Vp))==null||e.remove(),H(this,Vp,null)}hideDropdown(){}};Vp=new WeakMap,W4=new WeakMap,TE=new WeakMap,q4=new WeakMap,Q(sb,q4,null);let u6=sb;function Jfe(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Kk(t){return Math.max(0,Math.min(255,255*t))}class epe{static CMYK_G([e,r,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*r+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Kk(e),[e,e,e]}static G_HTML([e]){const r=Jfe(e);return`#${r}${r}${r}`}static RGB_G([e,r,n]){return["G",.3*e+.59*r+.11*n]}static RGB_rgb(e){return e.map(Kk)}static RGB_HTML(e){return`#${e.map(Jfe).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,r,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,r+i)]}static CMYK_rgb([e,r,n,i]){return[Kk(1-Math.min(1,e+i)),Kk(1-Math.min(1,n+i)),Kk(1-Math.min(1,r+i))]}static CMYK_HTML(e){const r=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(r)}static RGB_CMYK([e,r,n]){const i=1-e,s=1-r,a=1-n,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class wUt{create(e,r,n=!1){if(e<=0||r<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${r}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${r}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Yi("Abstract method `_createSVG` called.")}}class d6 extends wUt{_createSVG(e){return document.createElementNS(a0,e)}}const _Ut=9,H_=new WeakSet,SUt=new Date().getTimezoneOffset()*60*1e3;class sU{static create(e){switch(e.data.annotationType){case Pa.LINK:return new zJ(e);case Pa.TEXT:return new EUt(e);case Pa.WIDGET:switch(e.data.fieldType){case"Tx":return new TUt(e);case"Btn":return e.data.radioButton?new rIe(e):e.data.checkBox?new kUt(e):new PUt(e);case"Ch":return new NUt(e);case"Sig":return new CUt(e)}return new w2(e);case Pa.POPUP:return new fG(e);case Pa.FREETEXT:return new oIe(e);case Pa.LINE:return new OUt(e);case Pa.SQUARE:return new RUt(e);case Pa.CIRCLE:return new DUt(e);case Pa.POLYLINE:return new lIe(e);case Pa.CARET:return new FUt(e);case Pa.INK:return new HJ(e);case Pa.POLYGON:return new MUt(e);case Pa.HIGHLIGHT:return new cIe(e);case Pa.UNDERLINE:return new jUt(e);case Pa.SQUIGGLY:return new LUt(e);case Pa.STRIKEOUT:return new BUt(e);case Pa.STAMP:return new uIe(e);case Pa.FILEATTACHMENT:return new $Ut(e);default:return new $s(e)}}}var xw,CE,eh,G4,hG;const JJ=class JJ{constructor(e,{isRenderable:r=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){Q(this,G4);Q(this,xw,null);Q(this,CE,!1);Q(this,eh,null);this.isRenderable=r,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,r&&(this.contentElement=this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:r}){return!!(e!=null&&e.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return JJ._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var n;const{data:e}=this,r=(n=this.annotationStorage)==null?void 0:n.getEditor(e.id);return r?r.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:r,inkLists:n,rect:i}=this.data;let s=-1/0,a=-1/0;if((r==null?void 0:r.length)>=8){for(let l=0;l<r.length;l+=8)r[l+1]>a?(a=r[l+1],s=r[l+2]):r[l+1]===a&&(s=Math.max(s,r[l+2]));return[s,a]}if((n==null?void 0:n.length)>=1){for(const l of n)for(let c=0,u=l.length;c<u;c+=2)l[c+1]>a?(a=l[c+1],s=l[c]):l[c+1]===a&&(s=Math.max(s,l[c]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:r},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=r[3]-e[1]+r[1],e[0]=100*(e[0]-s)/n,e[1]=100*(e[1]-a)/i,e}get commentText(){var r,n,i;const{data:e}=this;return((n=(r=this.annotationStorage.getRawValue(`${CI}${e.id}`))==null?void 0:r.popup)==null?void 0:n.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:r}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(r.id,{popup:n})||this.annotationStorage.setValue(`${CI}${r.id}`,{id:r.id,annotationType:r.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:r.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,r;(r=((e=y(this,eh))==null?void 0:e.popup)||this.popup)==null||r.remove(),H(this,eh,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(y(this,xw)||H(this,xw,{rect:this.data.rect.slice(0)}));const{rect:r,popup:n}=e;r&&ie(this,G4,hG).call(this,r);let i=((s=y(this,eh))==null?void 0:s.popup)||this.popup;!i&&(n!=null&&n.text)&&(this._createPopup(n),i=y(this,eh).popup),i&&(i.updateEdited(e),n!=null&&n.deleted&&(i.remove(),H(this,eh,null),this.popup=null))}resetEdited(){var e;y(this,xw)&&(ie(this,G4,hG).call(this,y(this,xw).rect),(e=y(this,eh))==null||e.popup.resetEdited(),H(this,xw,null))}_createContainer(e){const{data:r,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",r.id),!(this instanceof w2)&&!(this instanceof zJ)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,r.alternativeText&&(s.title=r.alternativeText),r.noRotate&&s.classList.add("norotate"),!r.rect||this instanceof fG){const{rotation:m}=r;return!r.hasOwnCanvas&&m!==0&&this.setRotation(m,s),s}const{width:o,height:l}=this;if(!e&&r.borderStyle.width>0){a.borderWidth=`${r.borderStyle.width}px`;const m=r.borderStyle.horizontalCornerRadius,v=r.borderStyle.verticalCornerRadius;if(m>0||v>0){const w=`calc(${m}px * var(--total-scale-factor)) / calc(${v}px * var(--total-scale-factor))`;a.borderRadius=w}else if(this instanceof rIe){const w=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=w}switch(r.borderStyle.style){case cS.SOLID:a.borderStyle="solid";break;case cS.DASHED:a.borderStyle="dashed";break;case cS.BEVELED:Qr("Unimplemented border style: beveled");break;case cS.INSET:Qr("Unimplemented border style: inset");break;case cS.UNDERLINE:a.borderBottomStyle="solid";break}const x=r.borderColor||null;x?(H(this,CE,!0),a.borderColor=er.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):a.borderWidth=0}const c=er.normalizeRect([r.rect[0],n.view[3]-r.rect[1]+n.view[1],r.rect[2],n.view[3]-r.rect[3]+n.view[1]]),{pageWidth:u,pageHeight:d,pageX:h,pageY:f}=i.rawDims;a.left=`${100*(c[0]-h)/u}%`,a.top=`${100*(c[1]-f)/d}%`;const{rotation:g}=r;return r.hasOwnCanvas||g===0?(a.width=`${100*o/u}%`,a.height=`${100*l/d}%`):this.setRotation(g,s),s}setRotation(e,r=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),r.style.width=`${100*s/n}%`,r.style.height=`${100*a/i}%`,r.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(r,n,i)=>{const s=i.detail[r],a=s[0],o=s.slice(1);i.target.style[n]=epe[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:epe[`${a}_rgb`](o)})};return en(this,"_commonActions",{display:r=>{const{display:n}=r.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:r=>{this.annotationStorage.setValue(this.data.id,{noPrint:!r.detail.print})},hidden:r=>{const{hidden:n}=r.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:r=>{setTimeout(()=>r.target.focus({preventScroll:!1}),0)},userName:r=>{r.target.title=r.detail.userName},readonly:r=>{r.target.disabled=r.detail.readonly},required:r=>{this._setRequired(r.target,r.detail.required)},bgColor:r=>{e("bgColor","backgroundColor",r)},fillColor:r=>{e("fillColor","backgroundColor",r)},fgColor:r=>{e("fgColor","color",r)},textColor:r=>{e("textColor","color",r)},borderColor:r=>{e("borderColor","borderColor",r)},strokeColor:r=>{e("strokeColor","borderColor",r)},rotation:r=>{const n=r.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,r){const n=this._commonActions;for(const i of Object.keys(r.detail)){const s=e[i]||n[i];s==null||s(r)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const r=this.annotationStorage.getRawValue(this.data.id);if(!r)return;const n=this._commonActions;for(const[i,s]of Object.entries(r)){const a=n[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete r[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[r,n,i,s]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){const[m,v,x,w]=e.subarray(2,6);if(i===m&&s===v&&r===x&&n===w)return}const{style:a}=this.container;let o;if(y(this,CE)){const{borderColor:m,borderWidth:v}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const l=i-r,c=s-n,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const h=u.createElement("defs");d.append(h);const f=u.createElement("clipPath"),g=`clippath_${this.data.id}`;f.setAttribute("id",g),f.setAttribute("clipPathUnits","objectBoundingBox"),h.append(f);for(let m=2,v=e.length;m<v;m+=8){const x=e[m],w=e[m+1],b=e[m+2],_=e[m+3],S=u.createElement("rect"),T=(b-r)/l,E=(s-w)/c,C=(x-b)/l,N=(w-_)/c;S.setAttribute("x",T),S.setAttribute("y",E),S.setAttribute("width",C),S.setAttribute("height",N),f.append(S),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${E}" width="${C}" height="${N}"/>`)}y(this,CE)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(e=null){const{data:r}=this;let n,i;e?(n={str:e.text},i=e.date):(n=r.contentsObj,i=r.modificationDate),H(this,eh,new fG({data:{color:r.color,titleObj:r.titleObj,modificationDate:i,contentsObj:n,richText:r.richText,parentRect:r.rect,borderStyle:0,id:`popup_${r.id}`,rotation:r.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(y(this,eh)||this.popup||this.data.popupRef)}get extraPopupElement(){return y(this,eh)}render(){Yi("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,r=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===r)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!H_.has(c)){Qr(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:l,domElement:c})}return n}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==r&&H_.has(i)&&n.push({id:a,exportValue:s,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const r of e)r.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:r}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:r,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};xw=new WeakMap,CE=new WeakMap,eh=new WeakMap,G4=new WeakSet,hG=function(e){const{container:{style:r},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;n==null||n.splice(0,4,...e),r.left=`${100*(e[0]-o)/s}%`,r.top=`${100*(a-e[3]+l)/a}%`,i===0?(r.width=`${100*(e[2]-e[0])/s}%`,r.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let $s=JJ;class AUt extends $s{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var rd,Qx,eIe,tIe;class zJ extends $s{constructor(r,n=null){super(r,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});Q(this,rd);this.isTooltipOnly=r.data.isTooltipOnly}render(){const{data:r,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",r.id);let s=!1;return r.url?(n.addLinkAttributes(i,r.url,r.newWindow),s=!0):r.action?(this._bindNamedAction(i,r.action,r.overlaidText),s=!0):r.attachment?(ie(this,rd,eIe).call(this,i,r.attachment,r.overlaidText,r.attachmentDest),s=!0):r.setOCGState?(ie(this,rd,tIe).call(this,i,r.setOCGState,r.overlaidText),s=!0):r.dest?(this._bindLink(i,r.dest,r.overlaidText),s=!0):(r.actions&&(r.actions.Action||r.actions["Mouse Up"]||r.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,r),s=!0),r.resetForm?(this._bindResetFormAction(i,r.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=i,this.container.append(i)),this.container}_bindLink(r,n,i=""){r.href=this.linkService.getDestinationHash(n),r.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&ie(this,rd,Qx).call(this),i&&(r.title=i)}_bindNamedAction(r,n,i=""){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeNamedAction(n),!1),i&&(r.title=i),ie(this,rd,Qx).call(this)}_bindJSAction(r,n){r.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const a=i.get(s);a&&(r[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}n.overlaidText&&(r.title=n.overlaidText),r.onclick||(r.onclick=()=>!1),ie(this,rd,Qx).call(this)}_bindResetFormAction(r,n){const i=r.onclick;if(i||(r.href=this.linkService.getAnchorUrl("")),ie(this,rd,Qx).call(this),!this._fieldObjects){Qr('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(r.onclick=()=>!1);return}r.onclick=()=>{var d;i==null||i();const{fields:s,refs:a,include:o}=n,l=[];if(s.length!==0||a.length!==0){const h=new Set(a);for(const f of s){const g=this._fieldObjects[f]||[];for(const{id:m}of g)h.add(m)}for(const f of Object.values(this._fieldObjects))for(const g of f)h.has(g.id)===o&&l.push(g)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const c=this.annotationStorage,u=[];for(const h of l){const{id:f}=h;switch(u.push(f),h.type){case"text":{const m=h.defaultValue||"";c.setValue(f,{value:m});break}case"checkbox":case"radiobutton":{const m=h.defaultValue===h.exportValues;c.setValue(f,{value:m});break}case"combobox":case"listbox":{const m=h.defaultValue||"";c.setValue(f,{value:m});break}default:continue}const g=document.querySelector(`[data-element-id="${f}"]`);if(g){if(!H_.has(g)){Qr(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}rd=new WeakSet,Qx=function(){this.container.setAttribute("data-internal-link","")},eIe=function(r,n,i="",s=null){r.href=this.linkService.getAnchorUrl(""),n.description?r.title=n.description:i&&(r.title=i),r.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(n.content,n.filename,s),!1},ie(this,rd,Qx).call(this)},tIe=function(r,n,i=""){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeSetOCGState(n),!1),i&&(r.title=i),ie(this,rd,Qx).call(this)};class EUt extends $s{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class w2 extends $s{render(){return this.container}showElementAndHideCanvas(e){var r;this.data.hasOwnCanvas&&(((r=e.previousSibling)==null?void 0:r.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ho.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,r,n,i,s){n.includes("mouse")?e.addEventListener(n,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(n,a=>{var o;if(n==="blur"){if(!r.focused||!a.relatedTarget)return;r.focused=!1}else if(n==="focus"){if(r.focused)return;r.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,r,n,i){var s,a,o;for(const[l,c]of n)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(r||(r={focused:!1})),this._setEventListener(e,r,l,c,i),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,r,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,r,"focus","Focus",null))}_setBackgroundColor(e){const r=this.data.backgroundColor||null;e.style.backgroundColor=r===null?"transparent":er.makeHexColor(r[0],r[1],r[2])}_setTextStyle(e){const r=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||_Ut,s=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(c/(ZV*i))||1,d=c/u;a=Math.min(i,l(d/ZV))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(c/ZV))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=er.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=r[this.data.textAlignment])}_setRequired(e,r){r?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",r)}}class TUt extends w2{constructor(e){const r=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:r})}setPropertyOnSiblings(e,r,n,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[r]=n),s.setValue(a.id,{[i]:n})}render(){var i,s;const e=this.annotationStorage,r=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(r,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(r,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",c??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),H_.add(n),this.contentElement=n,n.setAttribute("data-element-id",r),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:d,datetimeType:h,timeStep:f}=this.data,g=!!h&&this.enableScripting;d&&(n.title=d),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",v=>{e.setValue(r,{value:v.target.value}),this.setPropertyOnSiblings(n,"value",v.target.value,"value"),u.formattedValue=null}),n.addEventListener("resetform",v=>{const x=this.data.defaultFieldValue??"";n.value=u.userValue=x,u.formattedValue=null});let m=v=>{const{formattedValue:x}=u;x!=null&&(v.target.value=x),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",x=>{var b;if(u.focused)return;const{target:w}=x;if(g&&(w.type=h,f&&(w.step=f)),u.userValue){const _=u.userValue;if(g)if(h==="time"){const S=new Date(_),T=[S.getHours(),S.getMinutes(),S.getSeconds()];w.value=T.map(E=>E.toString().padStart(2,"0")).join(":")}else w.value=new Date(_-SUt).toISOString().split(h==="date"?"T":".",1)[0];else w.value=_}u.lastCommittedValue=w.value,u.commitKey=1,(b=this.data.actions)!=null&&b.Focus||(u.focused=!0)}),n.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const w={value(b){u.userValue=b.detail.value??"",g||e.setValue(r,{value:u.userValue.toString()}),b.target.value=u.userValue},formattedValue(b){const{formattedValue:_}=b.detail;u.formattedValue=_,_!=null&&b.target!==document.activeElement&&(b.target.value=_);const S={formattedValue:_};g&&(S.value=_),e.setValue(r,S)},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{var E;const{charLimit:_}=b.detail,{target:S}=b;if(_===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",_);let T=u.userValue;!T||T.length<=_||(T=T.slice(0,_),S.value=u.userValue=T,e.setValue(r,{value:T}),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(w,x)}),n.addEventListener("keydown",x=>{var _;u.commitKey=1;let w=-1;if(x.key==="Escape"?w=0:x.key==="Enter"&&!this.data.multiLine?w=2:x.key==="Tab"&&(u.commitKey=3),w===-1)return;const{value:b}=x.target;u.lastCommittedValue!==b&&(u.lastCommittedValue=b,u.userValue=b,(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:b,willCommit:!0,commitKey:w,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const v=m;m=null,n.addEventListener("blur",x=>{var _,S;if(!u.focused||!x.relatedTarget)return;(_=this.data.actions)!=null&&_.Blur||(u.focused=!1);const{target:w}=x;let{value:b}=w;if(g){if(b&&h==="time"){const T=b.split(":").map(E=>parseInt(E,10));b=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),w.step=""}else b.includes("T")||(b=`${b}T00:00`),b=new Date(b).valueOf();w.type="text"}u.userValue=b,u.lastCommittedValue!==b&&((S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:b,willCommit:!0,commitKey:u.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}})),v(x)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",x=>{var N;u.lastCommittedValue=null;const{data:w,target:b}=x,{value:_,selectionStart:S,selectionEnd:T}=b;let E=S,C=T;switch(x.inputType){case"deleteWordBackward":{const F=_.substring(0,S).match(/\w*[^\w]*$/);F&&(E-=F[0].length);break}case"deleteWordForward":{const F=_.substring(S).match(/^[^\w]*\w*/);F&&(C+=F[0].length);break}case"deleteContentBackward":S===T&&(E-=1);break;case"deleteContentForward":S===T&&(C+=1);break}x.preventDefault(),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:_,change:w||"",willCommit:!1,selStart:E,selEnd:C}})}),this._setEventListeners(n,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(m&&n.addEventListener("blur",m),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${x}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class CUt extends w2{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class kUt extends w2{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,r=this.data,n=r.id;let i=e.getValue(n,{value:r.exportValue===r.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return H_.add(s),s.setAttribute("data-element-id",n),s.disabled=r.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=r.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",r.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,n)){const u=l&&c.exportValue===r.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=r.defaultFieldValue||"Off";a.target.checked=o===r.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class rIe extends w2{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,r=this.data,n=r.id;let i=e.getValue(n,{value:r.fieldValue===r.buttonValue}).value;if(typeof i=="string"&&(i=i!==r.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(r.fieldName,n))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(H_.add(s),s.setAttribute("data-element-id",n),s.disabled=r.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=r.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,n))e.setValue(c.id,{value:!1});e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=r.defaultFieldValue;a.target.checked=o!=null&&o===r.buttonValue}),this.enableScripting&&this.hasJSActions){const a=r.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const u=a===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const h=u&&d.id===n;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class PUt extends zJ{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const r=e.lastChild;return this.enableScripting&&this.hasJSActions&&r&&(this._setDefaultPropertiesFromJS(r),r.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class NUt extends w2{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,r=this.data.id,n=e.getValue(r,{value:this.data.fieldValue}),i=document.createElement("select");H_.add(i),i.setAttribute("data-element-id",r),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,n.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let a=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),a=()=>{u.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=u=>{const d=u?"value":"textContent",{options:h,multiple:f}=i;return f?Array.prototype.filter.call(h,g=>g.selected).map(g=>g[d]):h.selectedIndex===-1?null:h[h.selectedIndex][d]};let l=o(!1);const c=u=>{const d=u.target.options;return Array.prototype.map.call(d,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const d={value(h){a==null||a();const f=h.detail.value,g=new Set(Array.isArray(f)?f:[f]);for(const m of i.options)m.selected=g.has(m.value);e.setValue(r,{value:o(!0)}),l=o(!1)},multipleSelection(h){i.multiple=!0},remove(h){const f=i.options,g=h.detail.remove;f[g].selected=!1,i.remove(g),f.length>0&&Array.prototype.findIndex.call(f,v=>v.selected)===-1&&(f[0].selected=!0),e.setValue(r,{value:o(!0),items:c(h)}),l=o(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(r,{value:null,items:[]}),l=o(!1)},insert(h){const{index:f,displayValue:g,exportValue:m}=h.detail.insert,v=i.children[f],x=document.createElement("option");x.textContent=g,x.value=m,v?v.before(x):i.append(x),e.setValue(r,{value:o(!0),items:c(h)}),l=o(!1)},items(h){const{items:f}=h.detail;for(;i.length!==0;)i.remove(0);for(const g of f){const{displayValue:m,exportValue:v}=g,x=document.createElement("option");x.textContent=m,x.value=v,i.append(x)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(r,{value:o(!0),items:c(h)}),l=o(!1)},indices(h){const f=new Set(h.detail.indices);for(const g of h.target.options)g.selected=f.has(g.index);e.setValue(r,{value:o(!0)}),l=o(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(d,u)}),i.addEventListener("input",u=>{var f;const d=o(!0),h=o(!1);e.setValue(r,{value:d}),u.preventDefault(),(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:l,change:h,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(r,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var K4,pG;class fG extends $s{constructor(r){const{data:n,elements:i,parent:s}=r,a=!!s._commentManager;super(r,{isRenderable:!a&&$s._hasPopupData(n)});Q(this,K4);if(this.elements=i,a&&$s._hasPopupData(n)){const o=this.popup=ie(this,K4,pG).call(this);for(const l of i)l.popup=o}else this.popup=null}render(){const{container:r}=this;r.classList.add("popupAnnotation"),r.role="comment";const n=this.popup=ie(this,K4,pG).call(this),i=[];for(const s of this.elements)s.popup=n,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${DS}${s}`).join(",")),this.container}}K4=new WeakSet,pG=function(){return new IUt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Fu,R1,k6,P6,kE,PE,Xs,Up,D1,bw,NE,IE,zp,ju,V0,U0,Zs,z0,M1,Y4,H0,OE,ww,F1,bo,j1,vn,HM,mG,gG,vG,WM,yG,nIe,iIe,sIe,aIe,qM,GM,xG;class IUt{constructor({container:e,color:r,elements:n,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:u,open:d,commentManager:h=null}){Q(this,vn);Q(this,Fu,null);Q(this,R1,ie(this,vn,sIe).bind(this));Q(this,k6,ie(this,vn,xG).bind(this));Q(this,P6,ie(this,vn,GM).bind(this));Q(this,kE,ie(this,vn,qM).bind(this));Q(this,PE,null);Q(this,Xs,null);Q(this,Up,null);Q(this,D1,null);Q(this,bw,null);Q(this,NE,null);Q(this,IE,null);Q(this,zp,!1);Q(this,ju,null);Q(this,V0,null);Q(this,U0,null);Q(this,Zs,null);Q(this,z0,null);Q(this,M1,null);Q(this,Y4,null);Q(this,H0,null);Q(this,OE,null);Q(this,ww,null);Q(this,F1,!1);Q(this,bo,null);Q(this,j1,null);H(this,Xs,e),H(this,OE,i),H(this,Up,a),H(this,H0,o),H(this,NE,l),H(this,PE,r),H(this,Y4,c),H(this,IE,u),H(this,bw,n),H(this,Fu,h),H(this,bo,n[0]),H(this,D1,n6.toDateObject(s)),this.trigger=n.flatMap(f=>f.getElementsToTriggerPopup()),h||(ie(this,vn,HM).call(this),y(this,Xs).hidden=!0,d&&ie(this,vn,qM).call(this))}renderCommentButton(){if(y(this,Zs)){y(this,Zs).parentNode||y(this,bo).container.after(y(this,Zs));return}if(y(this,z0)||ie(this,vn,mG).call(this),!y(this,z0))return;const{signal:e}=H(this,V0,new AbortController),r=y(this,bo).hasOwnCommentButton,n=()=>{y(this,Fu).toggleCommentPopup(this,!0,void 0,!r)},i=()=>{y(this,Fu).toggleCommentPopup(this,!1,!0,!r)},s=()=>{y(this,Fu).toggleCommentPopup(this,!1,!1)};if(r){H(this,Zs,y(this,bo).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",y(this,R1),{signal:e}),a.addEventListener("click",n,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=H(this,Zs,document.createElement("button"));a.className="annotationCommentButton";const o=y(this,bo).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),ie(this,vn,vG).call(this),ie(this,vn,gG).call(this),a.addEventListener("keydown",y(this,R1),{signal:e}),a.addEventListener("click",n,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:r}=y(this,bo).commentData;return e?y(this,NE)._commentManager.makeCommentColor(e,r):null}focusCommentButton(){setTimeout(()=>{var e;(e=y(this,Zs))==null||e.focus()},0)}getData(){const{richText:e,color:r,opacity:n,creationDate:i,modificationDate:s}=y(this,bo).commentData;return{contentsObj:{str:this.comment},richText:e,color:r,opacity:n,creationDate:i,modificationDate:s}}get elementBeforePopup(){return y(this,Zs)}get comment(){return y(this,j1)||H(this,j1,y(this,bo).commentText),y(this,j1)}set comment(e){e!==this.comment&&(y(this,bo).commentText=H(this,j1,e))}focus(){var e;(e=y(this,bo).container)==null||e.focus()}get parentBoundingClientRect(){return y(this,bo).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:r}){y(this,Zs)&&(y(this,Zs).classList.toggle("selected",e),y(this,Zs).ariaExpanded=r)}setSelectedCommentButton(e){y(this,Zs).classList.toggle("selected",e)}get commentPopupPosition(){if(y(this,M1))return y(this,M1);const{x:e,y:r,height:n}=y(this,Zs).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=y(this,bo).layer.getBoundingClientRect();return[(e-i)/a,(r+n-s)/o]}set commentPopupPosition(e){H(this,M1,e)}hasDefaultPopupPosition(){return y(this,M1)===null}get commentButtonPosition(){return y(this,z0)}get commentButtonWidth(){return y(this,Zs).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[r,n]=y(this,M1)||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;y(this,Fu).showDialog(null,this,s+r*o,a+n*l,{...e,parentDimensions:i})}render(){var n,i;if(y(this,ju))return;const e=H(this,ju,document.createElement("div"));if(e.className="popup",y(this,PE)){const s=e.style.outlineColor=er.makeHexColor(...y(this,PE));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const r=document.createElement("span");if(r.className="header",(n=y(this,OE))!=null&&n.str){const s=document.createElement("span");s.className="title",r.append(s),{dir:s.dir,str:s.textContent}=y(this,OE)}if(e.append(r),y(this,D1)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:y(this,D1).valueOf()})),s.dateTime=y(this,D1).toISOString(),r.append(s)}GPe({html:y(this,vn,WM)||y(this,Up).str,dir:(i=y(this,Up))==null?void 0:i.dir,className:"popupContent"},e),y(this,Xs).append(e)}updateEdited({rect:e,popup:r,deleted:n}){var i;if(y(this,Fu)){n?(this.remove(),H(this,j1,null)):r&&(r.deleted?this.remove():(ie(this,vn,vG).call(this),H(this,j1,r.text))),e&&(H(this,z0,null),ie(this,vn,mG).call(this),ie(this,vn,gG).call(this));return}if(n||r!=null&&r.deleted){this.remove();return}ie(this,vn,HM).call(this),y(this,ww)||H(this,ww,{contentsObj:y(this,Up),richText:y(this,H0)}),e&&H(this,U0,null),r&&r.text&&(H(this,H0,ie(this,vn,iIe).call(this,r.text)),H(this,D1,n6.toDateObject(r.date)),H(this,Up,null)),(i=y(this,ju))==null||i.remove(),H(this,ju,null)}resetEdited(){var e;y(this,ww)&&({contentsObj:qs(this,Up)._,richText:qs(this,H0)._}=y(this,ww),H(this,ww,null),(e=y(this,ju))==null||e.remove(),H(this,ju,null),H(this,U0,null))}remove(){var e,r,n;if((e=y(this,V0))==null||e.abort(),H(this,V0,null),(r=y(this,ju))==null||r.remove(),H(this,ju,null),H(this,F1,!1),H(this,zp,!1),(n=y(this,Zs))==null||n.remove(),H(this,Zs,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){H(this,F1,this.isVisible),y(this,F1)&&(y(this,Xs).hidden=!0)}maybeShow(){y(this,Fu)||(ie(this,vn,HM).call(this),y(this,F1)&&(y(this,ju)||ie(this,vn,GM).call(this),H(this,F1,!1),y(this,Xs).hidden=!1))}get isVisible(){return y(this,Fu)?!1:y(this,Xs).hidden===!1}}Fu=new WeakMap,R1=new WeakMap,k6=new WeakMap,P6=new WeakMap,kE=new WeakMap,PE=new WeakMap,Xs=new WeakMap,Up=new WeakMap,D1=new WeakMap,bw=new WeakMap,NE=new WeakMap,IE=new WeakMap,zp=new WeakMap,ju=new WeakMap,V0=new WeakMap,U0=new WeakMap,Zs=new WeakMap,z0=new WeakMap,M1=new WeakMap,Y4=new WeakMap,H0=new WeakMap,OE=new WeakMap,ww=new WeakMap,F1=new WeakMap,bo=new WeakMap,j1=new WeakMap,vn=new WeakSet,HM=function(){var r;if(y(this,V0))return;H(this,V0,new AbortController);const{signal:e}=y(this,V0);for(const n of this.trigger)n.addEventListener("click",y(this,kE),{signal:e}),n.addEventListener("pointerenter",y(this,P6),{signal:e}),n.addEventListener("pointerleave",y(this,k6),{signal:e}),n.classList.add("popupTriggerArea");for(const n of y(this,bw))(r=n.container)==null||r.addEventListener("keydown",y(this,R1),{signal:e})},mG=function(){const e=y(this,bw).find(r=>r.hasCommentButton);e&&H(this,z0,e._normalizePoint(e.commentButtonPosition))},gG=function(){if(y(this,bo).extraPopupElement&&!y(this,bo).editor)return;y(this,Zs)||this.renderCommentButton();const[e,r]=y(this,z0),{style:n}=y(this,Zs);n.left=`calc(${e}%)`,n.top=`calc(${r}% - var(--comment-button-dim))`},vG=function(){y(this,bo).extraPopupElement||(y(this,Zs)||this.renderCommentButton(),y(this,Zs).style.backgroundColor=this.commentButtonColor||"")},WM=function(){const e=y(this,H0),r=y(this,Up);return e!=null&&e.str&&(!(r!=null&&r.str)||r.str===e.str)&&y(this,H0).html||null},yG=function(){var e,r,n;return((n=(r=(e=y(this,vn,WM))==null?void 0:e.attributes)==null?void 0:r.style)==null?void 0:n.fontSize)||0},nIe=function(){var e,r,n;return((n=(r=(e=y(this,vn,WM))==null?void 0:e.attributes)==null?void 0:r.style)==null?void 0:n.color)||null},iIe=function(e){const r=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:r}]}},i={style:{color:y(this,vn,nIe),fontSize:y(this,vn,yG)?`calc(${y(this,vn,yG)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))r.push({name:"span",value:s,attributes:i});return n},sIe=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&y(this,zp))&&ie(this,vn,qM).call(this)},aIe=function(){if(y(this,U0)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:r,pageHeight:n,pageX:i,pageY:s}}}=y(this,NE);let a=!!y(this,IE),o=a?y(this,IE):y(this,Y4);for(const g of y(this,bw))if(!o||er.intersect(g.data.rect,o)!==null){o=g.data.rect,a=!0;break}const l=er.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),u=a?o[2]-o[0]+5:0,d=l[0]+u,h=l[1];H(this,U0,[100*(d-i)/r,100*(h-s)/n]);const{style:f}=y(this,Xs);f.left=`${y(this,U0)[0]}%`,f.top=`${y(this,U0)[1]}%`},qM=function(){if(y(this,Fu)){y(this,Fu).toggleCommentPopup(this,!1);return}H(this,zp,!y(this,zp)),y(this,zp)?(ie(this,vn,GM).call(this),y(this,Xs).addEventListener("click",y(this,kE)),y(this,Xs).addEventListener("keydown",y(this,R1))):(ie(this,vn,xG).call(this),y(this,Xs).removeEventListener("click",y(this,kE)),y(this,Xs).removeEventListener("keydown",y(this,R1)))},GM=function(){y(this,ju)||this.render(),this.isVisible?y(this,zp)&&y(this,Xs).classList.add("focused"):(ie(this,vn,aIe).call(this),y(this,Xs).hidden=!1,y(this,Xs).style.zIndex=parseInt(y(this,Xs).style.zIndex)+1e3)},xG=function(){y(this,Xs).classList.remove("focused"),!(y(this,zp)||!this.isVisible)&&(y(this,Xs).hidden=!0,y(this,Xs).style.zIndex=parseInt(y(this,Xs).style.zIndex)-1e3)};class oIe extends $s{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=an.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const r of this.textContent){const n=document.createElement("span");n.textContent=r,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var X4;class OUt extends $s{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});Q(this,X4,null)}render(){this.container.classList.add("lineAnnotation");const{data:r,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),a=H(this,X4,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",r.rect[2]-r.lineCoordinates[0]),a.setAttribute("y1",r.rect[3]-r.lineCoordinates[1]),a.setAttribute("x2",r.rect[2]-r.lineCoordinates[2]),a.setAttribute("y2",r.rect[3]-r.lineCoordinates[3]),a.setAttribute("stroke-width",r.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!r.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return y(this,X4)}addHighlightArea(){this.container.classList.add("highlightArea")}}X4=new WeakMap;var Z4;class RUt extends $s{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});Q(this,Z4,null)}render(){this.container.classList.add("squareAnnotation");const{data:r,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),a=r.borderStyle.width,o=H(this,Z4,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!r.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return y(this,Z4)}addHighlightArea(){this.container.classList.add("highlightArea")}}Z4=new WeakMap;var Q4;class DUt extends $s{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});Q(this,Q4,null)}render(){this.container.classList.add("circleAnnotation");const{data:r,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),a=r.borderStyle.width,o=H(this,Q4,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!r.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return y(this,Q4)}addHighlightArea(){this.container.classList.add("highlightArea")}}Q4=new WeakMap;var J4;class lIe extends $s{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});Q(this,J4,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,vertices:n,borderStyle:i,popupRef:s},width:a,height:o}=this;if(!n)return this.container;const l=this.svgFactory.create(a,o,!0);let c=[];for(let d=0,h=n.length;d<h;d+=2){const f=n[d]-r[0],g=r[3]-n[d+1];c.push(`${f},${g}`)}c=c.join(" ");const u=H(this,J4,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return y(this,J4)}addHighlightArea(){this.container.classList.add("highlightArea")}}J4=new WeakMap;class MUt extends lIe{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class FUt extends $s{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var eO,_w,tO,bG;class HJ extends $s{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});Q(this,tO);Q(this,eO,null);Q(this,_w,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?an.HIGHLIGHT:an.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,rotation:n,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:c}=ie(this,tO,bG).call(this,n,r),u=this.svgFactory.create(l,c,!0),d=H(this,eO,this.svgFactory.createElement("svg:g"));u.append(d),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",o);for(let h=0,f=i.length;h<f;h++){const g=this.svgFactory.createElement(this.svgElementName);y(this,_w).push(g),g.setAttribute("points",i[h].join(",")),d.append(g)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(r){super.updateEdited(r);const{thickness:n,points:i,rect:s}=r,a=y(this,eO);if(n>=0&&a.setAttribute("stroke-width",n||1),i)for(let o=0,l=y(this,_w).length;o<l;o++)y(this,_w)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:l,height:c}=ie(this,tO,bG).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return y(this,_w)}addHighlightArea(){this.container.classList.add("highlightArea")}}eO=new WeakMap,_w=new WeakMap,tO=new WeakSet,bG=function(r,n){switch(r){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class cIe extends $s{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=an.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:r}}=this;if(!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class jUt extends $s{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:r}}=this;if(!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class LUt extends $s{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:r}}=this;if(!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class BUt extends $s{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:r}}=this;if(!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class uIe extends $s{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=an.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var rO,nO,wG;class $Ut extends $s{constructor(r){var i;super(r,{isRenderable:!0});Q(this,nO);Q(this,rO,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:r,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",ie(this,nO,wG).bind(this)),H(this,rO,i);const{isMac:s}=ho.platform;return r.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&ie(this,nO,wG).call(this)}),!n.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),r.append(i),r}getElementsToTriggerPopup(){return y(this,rO)}addHighlightArea(){this.container.classList.add("highlightArea")}}rO=new WeakMap,nO=new WeakSet,wG=function(){var r;(r=this.downloadManager)==null||r.openOrDownloadData(this.content,this.filename)};var Sw,Aw,RE,L1,iO,Ew,Lu,sO,Ag,KM,SG;const eee=class eee{constructor({div:e,accessibilityManager:r,annotationCanvasMap:n,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:u}){Q(this,Ag);Q(this,Sw,null);Q(this,Aw,null);Q(this,RE,null);Q(this,L1,new Map);Q(this,iO,null);Q(this,Ew,null);Q(this,Lu,[]);Q(this,sO,!1);this.div=e,H(this,Sw,r),H(this,Aw,n),H(this,iO,o||null),H(this,Ew,c||null),H(this,RE,u||new $J),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return y(this,L1).size>0}async render(e){var o;const{annotations:r}=e,n=this.div;U_(n,this.viewport);const i=new Map,s=[],a={data:null,layer:n,linkService:y(this,Ew),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new d6,annotationStorage:y(this,RE),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of r){if(l.noHTML)continue;const c=l.annotationType===Pa.POPUP;if(c){const h=i.get(l.id);if(!h)continue;if(!this._commentManager){s.push(l);continue}a.elements=h}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const u=sU.create(a);if(!u.isRenderable)continue;if(!c&&(y(this,Lu).push(u),l.popupRef)){const h=i.get(l.popupRef);h?h.push(u):i.set(l.popupRef,[u])}const d=u.render();l.hidden&&(d.style.visibility="hidden"),u._isEditable&&(y(this,L1).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}await ie(this,Ag,KM).call(this);for(const l of s){const c=a.elements=i.get(l.id);a.data=l;const u=sU.create(a);if(!u.isRenderable)continue;const d=u.render();u.contentElement.id=`${DS}${l.id}`,l.hidden&&(d.style.visibility="hidden"),c.at(-1).container.after(d)}ie(this,Ag,SG).call(this)}async addLinkAnnotations(e){const r={data:null,layer:this.div,linkService:y(this,Ew),svgFactory:new d6,parent:this};for(const n of e){n.borderStyle||(n.borderStyle=eee._defaultBorderStyle),r.data=n;const i=sU.create(r);i.isRenderable&&(i.render(),i.contentElement.id=`${DS}${n.id}`,y(this,Lu).push(i))}await ie(this,Ag,KM).call(this)}update({viewport:e}){const r=this.div;this.viewport=e,U_(r,{rotation:e.rotation}),ie(this,Ag,SG).call(this),r.hidden=!1}getEditableAnnotations(){return Array.from(y(this,L1).values())}getEditableAnnotation(e){return y(this,L1).get(e)}addFakeAnnotation(e){const{div:r}=this,{id:n,rotation:i}=e,s=new AUt({data:{id:n,rect:e.getPDFRect(),rotation:i},editor:e,layer:r,parent:this,enableComment:!!this._commentManager,linkService:y(this,Ew),annotationStorage:y(this,RE)});return s.render(),s.contentElement.id=`${DS}${n}`,s.createOrUpdatePopup(),y(this,Lu).push(s),s}removeAnnotation(e){var i;const r=y(this,Lu).findIndex(s=>s.data.id===e);if(r<0)return;const[n]=y(this,Lu).splice(r,1);(i=y(this,Sw))==null||i.removePointerInTextLayer(n.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const r of e)r.updateFakeAnnotationElement(this);ie(this,Ag,KM).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return en(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:cS.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Sw=new WeakMap,Aw=new WeakMap,RE=new WeakMap,L1=new WeakMap,iO=new WeakMap,Ew=new WeakMap,Lu=new WeakMap,sO=new WeakMap,Ag=new WeakSet,KM=async function(){var n,i,s;if(y(this,Lu).length===0)return;this.div.replaceChildren();const e=[];if(!y(this,sO)){H(this,sO,!0);for(const{contentElement:a,data:{id:o}}of y(this,Lu)){const l=a.id=`${DS}${o}`;e.push((n=y(this,iO))==null?void 0:n.getAriaAttributes(l).then(c=>{if(c)for(const[u,d]of c)a.setAttribute(u,d)}))}}y(this,Lu).sort(({data:{rect:[a,o,l,c]}},{data:{rect:[u,d,h,f]}})=>{if(a===l&&o===c)return 1;if(u===h&&d===f)return-1;const g=c,m=o,v=(o+c)/2,x=f,w=d,b=(d+f)/2;if(v>=x&&b<=m)return-1;if(b>=g&&v<=w)return 1;const _=(a+l)/2,S=(u+h)/2;return _-S});const r=document.createDocumentFragment();for(const a of y(this,Lu))r.append(a.container),this._commentManager?(s=((i=a.extraPopupElement)==null?void 0:i.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&r.append(a.extraPopupElement.render());if(this.div.append(r),await Promise.all(e),y(this,Sw))for(const a of y(this,Lu))y(this,Sw).addPointerInTextLayer(a.contentElement,!1)},SG=function(){var r;if(!y(this,Aw))return;const e=this.div;for(const[n,i]of y(this,Aw)){const s=e.querySelector(`[data-annotation-id="${n}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i);const o=y(this,L1).get(n);o&&(o._hasNoCanvas?((r=this._annotationEditorUIManager)==null||r.setMissingCanvas(n,s.id,i),o._hasNoCanvas=!1):o.canvas=i)}y(this,Aw).clear()};let _G=eee;const LD=/\r\n?|\n/g;var Bu,aO,Tw,$u,Wa,dIe,hIe,fIe,YM,Eg,XM,ZM,pIe,EG,mIe;const ms=class ms extends ls{constructor(r){super({...r,name:"freeTextEditor"});Q(this,Wa);Q(this,Bu,"");Q(this,aO,`${this.id}-editor`);Q(this,Tw,null);Q(this,$u);Le(this,"_colorPicker",null);this.color=r.color||ms._defaultColor||ls._defaultLineColor,H(this,$u,r.fontSize||ms._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const r=ms.prototype,n=a=>a.isEmpty(),i=z_.TRANSLATE_SMALL,s=z_.TRANSLATE_BIG;return en(this,"_keyboardManager",new RR([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],r.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],r.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],r._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],r._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],r._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],r._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],r._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],r._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],r._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],r._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(r,n){ls.initialize(r,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(r,n){switch(r){case Vn.FREETEXT_SIZE:ms._defaultFontSize=n;break;case Vn.FREETEXT_COLOR:ms._defaultColor=n;break}}updateParams(r,n){switch(r){case Vn.FREETEXT_SIZE:ie(this,Wa,dIe).call(this,n);break;case Vn.FREETEXT_COLOR:ie(this,Wa,hIe).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Vn.FREETEXT_SIZE,ms._defaultFontSize],[Vn.FREETEXT_COLOR,ms._defaultColor||ls._defaultLineColor]]}get propertiesToUpdate(){return[[Vn.FREETEXT_SIZE,y(this,$u)],[Vn.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new u6(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Vn.FREETEXT_COLOR}onUpdatedColor(){var r;this.editorDiv.style.color=this.color,(r=this._colorPicker)==null||r.update(this.color),super.onUpdatedColor()}_translateEmpty(r,n){this._uiManager.translateSelectedEditors(r,n,!0)}getInitialTranslation(){const r=this.parentScale;return[-ms._internalPadding*r,-(ms._internalPadding+y(this,$u))*r]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),H(this,Tw,new AbortController);const r=this._uiManager.combinedSignal(y(this,Tw));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:r}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:r}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:r}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:r}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:r}),!0}disableEditMode(){var r;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",y(this,aO)),this._isDraggable=!0,(r=y(this,Tw))==null||r.abort(),H(this,Tw,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(r){this._focusEventsAllowed&&(super.focusin(r),r.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(r){var n;this.width||(this.enableEditMode(),r&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const r=y(this,Bu),n=H(this,Bu,ie(this,Wa,fIe).call(this).trimEnd());if(r===n)return;const i=s=>{if(H(this,Bu,s),!s){this.remove();return}ie(this,Wa,ZM).call(this),this._uiManager.rebuild(this),ie(this,Wa,YM).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(r)},mustExec:!1}),ie(this,Wa,YM).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(r){r.target===this.div&&r.key==="Enter"&&(this.enterInEditMode(),r.preventDefault())}editorDivKeydown(r){ms._keyboardManager.exec(this,r)}editorDivFocus(r){this.isEditing=!0}editorDivBlur(r){this.isEditing=!1}editorDivInput(r){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let r,n;(this._isCopy||this.annotationElementId)&&(r=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",y(this,aO)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${y(this,$u)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,d]=this.pageDimensions,[h,f]=this.pageTranslation;let g,m;switch(this.rotation){case 0:g=r+(o[0]-h)/u,m=n+this.height-(o[1]-f)/d;break;case 90:g=r+(o[0]-h)/u,m=n-(o[1]-f)/d,[l,c]=[c,-l];break;case 180:g=r-this.width+(o[0]-h)/u,m=n-(o[1]-f)/d,[l,c]=[-l,-c];break;case 270:g=r+(o[0]-h-this.height*d)/u,m=n+(o[1]-f-this.width*u)/d,[l,c]=[-c,l];break}this.setAt(g*s,m*a,l,c)}else this._moveAfterPaste(r,n);ie(this,Wa,ZM).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(r){var g,m,v;const n=r.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;r.preventDefault();const s=ie(g=ms,Eg,EG).call(g,n.getData("text")||"").replaceAll(LD,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=o,u=[],d=[];if(l.nodeType===Node.TEXT_NODE){const x=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(LD,"")),x!==this.editorDiv){let w=u;for(const b of this.editorDiv.childNodes){if(b===x){w=d;continue}w.push(ie(m=ms,Eg,XM).call(m,b))}}u.push(l.nodeValue.slice(0,c).replaceAll(LD,""))}else if(l===this.editorDiv){let x=u,w=0;for(const b of this.editorDiv.childNodes)w++===c&&(x=d),x.push(ie(v=ms,Eg,XM).call(v,b))}H(this,Bu,`${u.join(`
`)}${s}${d.join(`
`)}`),ie(this,Wa,ZM).call(this);const h=new Range;let f=Math.sumPrecise(u.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const w=x.nodeValue.length;if(f<=w){h.setStart(x,f),h.setEnd(x,f);break}f-=w}a.removeAllRanges(),a.addRange(h)}get contentDiv(){return this.editorDiv}getPDFRect(){const r=ms._internalPadding*this.parentScale;return this.getRect(r,r)}static async deserialize(r,n,i){var o;let s=null;if(r instanceof oIe){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:d,id:h,popupRef:f,richText:g,contentsObj:m,creationDate:v,modificationDate:x},textContent:w,textPosition:b,parent:{page:{pageNumber:_}}}=r;if(!w||w.length===0)return null;s=r={annotationType:an.FREETEXT,color:Array.from(c),fontSize:l,value:w.join(`
`),position:b,pageIndex:_-1,rect:u.slice(0),rotation:d,annotationElementId:h,id:h,deleted:!1,popupRef:f,comment:(m==null?void 0:m.str)||null,richText:g,creationDate:v,modificationDate:x}}const a=await super.deserialize(r,n,i);return H(a,$u,r.fontSize),a.color=er.makeHexColor(...r.color),H(a,Bu,ie(o=ms,Eg,EG).call(o,r.value)),a._initialData=s,r.comment&&a.setCommentData(r),a}serialize(r=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=ls._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(r),{color:n,fontSize:y(this,$u),value:ie(this,Wa,pIe).call(this)});return this.addComment(i),r?(i.isCopy=!0,i):this.annotationElementId&&!ie(this,Wa,mIe).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(r){const n=super.renderAnnotationElement(r);if(!n)return null;const{style:i}=n;i.fontSize=`calc(${y(this,$u)}px * var(--total-scale-factor))`,i.color=this.color,n.replaceChildren();for(const s of y(this,Bu).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),n.append(a)}return r.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:y(this,Bu)}}),n}resetAnnotationElement(r){super.resetAnnotationElement(r),r.resetEdited()}};Bu=new WeakMap,aO=new WeakMap,Tw=new WeakMap,$u=new WeakMap,Wa=new WeakSet,dIe=function(r){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-y(this,$u))*this.parentScale),H(this,$u,s),ie(this,Wa,YM).call(this)},i=y(this,$u);this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},hIe=function(r){const n=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},fIe=function(){var i;const r=[];this.editorDiv.normalize();let n=null;for(const s of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(r.push(ie(i=ms,Eg,XM).call(i,s)),n=s);return r.join(`
`)},YM=function(){const[r,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/r,this.height=i.height/n):(this.width=i.height/r,this.height=i.width/n),this.fixAndSetPosition()},Eg=new WeakSet,XM=function(r){return(r.nodeType===Node.TEXT_NODE?r.nodeValue:r.innerText).replaceAll(LD,"")},ZM=function(){if(this.editorDiv.replaceChildren(),!!y(this,Bu))for(const r of y(this,Bu).split(`
`)){const n=document.createElement("div");n.append(r?document.createTextNode(r):document.createElement("br")),this.editorDiv.append(n)}},pIe=function(){return y(this,Bu).replaceAll(""," ")},EG=function(r){return r.replaceAll(" ","")},mIe=function(r){const{value:n,fontSize:i,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||r.value!==n||r.fontSize!==i||r.color.some((o,l)=>o!==s[l])||r.pageIndex!==a},Q(ms,Eg),Le(ms,"_freeTextDefaultContent",""),Le(ms,"_internalPadding",0),Le(ms,"_defaultColor",null),Le(ms,"_defaultFontSize",10),Le(ms,"_type","freetext"),Le(ms,"_editorType",an.FREETEXT);let AG=ms;class or{toSVGPath(){Yi("Abstract method `toSVGPath` must be implemented.")}get box(){Yi("Abstract getter `box` must be implemented.")}serialize(e,r){Yi("Abstract method `serialize` must be implemented.")}static _rescale(e,r,n,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=r+e[o]*i,a[o+1]=n+e[o+1]*s;return a}static _rescaleAndSwap(e,r,n,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=r+e[o+1]*i,a[o+1]=n+e[o]*s;return a}static _translate(e,r,n,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=r+e[s],i[s+1]=n+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,r,n,i,s){switch(s){case 90:return[1-r/n,e/i];case 180:return[1-e/n,1-r/i];case 270:return[r/n,1-e/i];default:return[e/n,r/i]}}static _normalizePagePoint(e,r,n){switch(n){case 90:return[1-r,e];case 180:return[1-e,1-r];case 270:return[r,1-e];default:return[e,r]}}static createBezierPoints(e,r,n,i,s,a){return[(e+5*n)/6,(r+5*i)/6,(5*n+s)/6,(5*i+a)/6,(n+s)/2,(i+a)/2]}}Le(or,"PRECISION",1e-4);var Vu,lf,DE,ME,Hp,Sn,Cw,kw,oO,lO,FE,jE,B1,cO,N6,I6,co,F5,gIe,vIe,yIe,xIe,bIe,wIe;const d0=class d0{constructor({x:e,y:r},n,i,s,a,o=0){Q(this,co);Q(this,Vu);Q(this,lf,[]);Q(this,DE);Q(this,ME);Q(this,Hp,[]);Q(this,Sn,new Float32Array(18));Q(this,Cw);Q(this,kw);Q(this,oO);Q(this,lO);Q(this,FE);Q(this,jE);Q(this,B1,[]);H(this,Vu,n),H(this,jE,s*i),H(this,ME,a),y(this,Sn).set([NaN,NaN,NaN,NaN,e,r],6),H(this,DE,o),H(this,lO,y(d0,cO)*i),H(this,oO,y(d0,I6)*i),H(this,FE,i),y(this,B1).push(e,r)}isEmpty(){return isNaN(y(this,Sn)[8])}add({x:e,y:r}){var N;H(this,Cw,e),H(this,kw,r);const[n,i,s,a]=y(this,Vu);let[o,l,c,u]=y(this,Sn).subarray(8,12);const d=e-c,h=r-u,f=Math.hypot(d,h);if(f<y(this,oO))return!1;const g=f-y(this,lO),m=g/f,v=m*d,x=m*h;let w=o,b=l;o=c,l=u,c+=v,u+=x,(N=y(this,B1))==null||N.push(e,r);const _=-x/g,S=v/g,T=_*y(this,jE),E=S*y(this,jE);return y(this,Sn).set(y(this,Sn).subarray(2,8),0),y(this,Sn).set([c+T,u+E],4),y(this,Sn).set(y(this,Sn).subarray(14,18),12),y(this,Sn).set([c-T,u-E],16),isNaN(y(this,Sn)[6])?(y(this,Hp).length===0&&(y(this,Sn).set([o+T,l+E],2),y(this,Hp).push(NaN,NaN,NaN,NaN,(o+T-n)/s,(l+E-i)/a),y(this,Sn).set([o-T,l-E],14),y(this,lf).push(NaN,NaN,NaN,NaN,(o-T-n)/s,(l-E-i)/a)),y(this,Sn).set([w,b,o,l,c,u],6),!this.isEmpty()):(y(this,Sn).set([w,b,o,l,c,u],6),Math.abs(Math.atan2(b-l,w-o)-Math.atan2(x,v))<Math.PI/2?([o,l,c,u]=y(this,Sn).subarray(2,6),y(this,Hp).push(NaN,NaN,NaN,NaN,((o+c)/2-n)/s,((l+u)/2-i)/a),[o,l,w,b]=y(this,Sn).subarray(14,18),y(this,lf).push(NaN,NaN,NaN,NaN,((w+o)/2-n)/s,((b+l)/2-i)/a),!0):([w,b,o,l,c,u]=y(this,Sn).subarray(0,6),y(this,Hp).push(((w+5*o)/6-n)/s,((b+5*l)/6-i)/a,((5*o+c)/6-n)/s,((5*l+u)/6-i)/a,((o+c)/2-n)/s,((l+u)/2-i)/a),[c,u,o,l,w,b]=y(this,Sn).subarray(12,18),y(this,lf).push(((w+5*o)/6-n)/s,((b+5*l)/6-i)/a,((5*o+c)/6-n)/s,((5*l+u)/6-i)/a,((o+c)/2-n)/s,((l+u)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=y(this,Hp),r=y(this,lf);if(isNaN(y(this,Sn)[6])&&!this.isEmpty())return ie(this,co,gIe).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);ie(this,co,yIe).call(this,n);for(let i=r.length-6;i>=6;i-=6)isNaN(r[i])?n.push(`L${r[i+4]} ${r[i+5]}`):n.push(`C${r[i]} ${r[i+1]} ${r[i+2]} ${r[i+3]} ${r[i+4]} ${r[i+5]}`);return ie(this,co,vIe).call(this,n),n.join(" ")}newFreeDrawOutline(e,r,n,i,s,a){return new _Ie(e,r,n,i,s,a)}getOutlines(){var d;const e=y(this,Hp),r=y(this,lf),n=y(this,Sn),[i,s,a,o]=y(this,Vu),l=new Float32Array((((d=y(this,B1))==null?void 0:d.length)??0)+2);for(let h=0,f=l.length-2;h<f;h+=2)l[h]=(y(this,B1)[h]-i)/a,l[h+1]=(y(this,B1)[h+1]-s)/o;if(l[l.length-2]=(y(this,Cw)-i)/a,l[l.length-1]=(y(this,kw)-s)/o,isNaN(n[6])&&!this.isEmpty())return ie(this,co,xIe).call(this,l);const c=new Float32Array(y(this,Hp).length+24+y(this,lf).length);let u=e.length;for(let h=0;h<u;h+=2){if(isNaN(e[h])){c[h]=c[h+1]=NaN;continue}c[h]=e[h],c[h+1]=e[h+1]}u=ie(this,co,wIe).call(this,c,u);for(let h=r.length-6;h>=6;h-=6)for(let f=0;f<6;f+=2){if(isNaN(r[h+f])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=r[h+f],c[u+1]=r[h+f+1],u+=2}return ie(this,co,bIe).call(this,c,u),this.newFreeDrawOutline(c,l,y(this,Vu),y(this,FE),y(this,DE),y(this,ME))}};Vu=new WeakMap,lf=new WeakMap,DE=new WeakMap,ME=new WeakMap,Hp=new WeakMap,Sn=new WeakMap,Cw=new WeakMap,kw=new WeakMap,oO=new WeakMap,lO=new WeakMap,FE=new WeakMap,jE=new WeakMap,B1=new WeakMap,cO=new WeakMap,N6=new WeakMap,I6=new WeakMap,co=new WeakSet,F5=function(){const e=y(this,Sn).subarray(4,6),r=y(this,Sn).subarray(16,18),[n,i,s,a]=y(this,Vu);return[(y(this,Cw)+(e[0]-r[0])/2-n)/s,(y(this,kw)+(e[1]-r[1])/2-i)/a,(y(this,Cw)+(r[0]-e[0])/2-n)/s,(y(this,kw)+(r[1]-e[1])/2-i)/a]},gIe=function(){const[e,r,n,i]=y(this,Vu),[s,a,o,l]=ie(this,co,F5).call(this);return`M${(y(this,Sn)[2]-e)/n} ${(y(this,Sn)[3]-r)/i} L${(y(this,Sn)[4]-e)/n} ${(y(this,Sn)[5]-r)/i} L${s} ${a} L${o} ${l} L${(y(this,Sn)[16]-e)/n} ${(y(this,Sn)[17]-r)/i} L${(y(this,Sn)[14]-e)/n} ${(y(this,Sn)[15]-r)/i} Z`},vIe=function(e){const r=y(this,lf);e.push(`L${r[4]} ${r[5]} Z`)},yIe=function(e){const[r,n,i,s]=y(this,Vu),a=y(this,Sn).subarray(4,6),o=y(this,Sn).subarray(16,18),[l,c,u,d]=ie(this,co,F5).call(this);e.push(`L${(a[0]-r)/i} ${(a[1]-n)/s} L${l} ${c} L${u} ${d} L${(o[0]-r)/i} ${(o[1]-n)/s}`)},xIe=function(e){const r=y(this,Sn),[n,i,s,a]=y(this,Vu),[o,l,c,u]=ie(this,co,F5).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(r[2]-n)/s,(r[3]-i)/a,NaN,NaN,NaN,NaN,(r[4]-n)/s,(r[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(r[16]-n)/s,(r[17]-i)/a,NaN,NaN,NaN,NaN,(r[14]-n)/s,(r[15]-i)/a],0),this.newFreeDrawOutline(d,e,y(this,Vu),y(this,FE),y(this,DE),y(this,ME))},bIe=function(e,r){const n=y(this,lf);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],r),r+=6},wIe=function(e,r){const n=y(this,Sn).subarray(4,6),i=y(this,Sn).subarray(16,18),[s,a,o,l]=y(this,Vu),[c,u,d,h]=ie(this,co,F5).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/o,(n[1]-a)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],r),r+=24},Q(d0,cO,8),Q(d0,N6,2),Q(d0,I6,y(d0,cO)+y(d0,N6));let h6=d0;var LE,Pw,W0,uO,Uu,dO,pa,O6,SIe;class _Ie extends or{constructor(r,n,i,s,a,o){super();Q(this,O6);Q(this,LE);Q(this,Pw,new Float32Array(4));Q(this,W0);Q(this,uO);Q(this,Uu);Q(this,dO);Q(this,pa);H(this,pa,r),H(this,Uu,n),H(this,LE,i),H(this,dO,s),H(this,W0,a),H(this,uO,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],ie(this,O6,SIe).call(this,o);const[l,c,u,d]=y(this,Pw);for(let h=0,f=r.length;h<f;h+=2)r[h]=(r[h]-l)/u,r[h+1]=(r[h+1]-c)/d;for(let h=0,f=n.length;h<f;h+=2)n[h]=(n[h]-l)/u,n[h+1]=(n[h+1]-c)/d}toSVGPath(){const r=[`M${y(this,pa)[4]} ${y(this,pa)[5]}`];for(let n=6,i=y(this,pa).length;n<i;n+=6){if(isNaN(y(this,pa)[n])){r.push(`L${y(this,pa)[n+4]} ${y(this,pa)[n+5]}`);continue}r.push(`C${y(this,pa)[n]} ${y(this,pa)[n+1]} ${y(this,pa)[n+2]} ${y(this,pa)[n+3]} ${y(this,pa)[n+4]} ${y(this,pa)[n+5]}`)}return r.push("Z"),r.join(" ")}serialize([r,n,i,s],a){const o=i-r,l=s-n;let c,u;switch(a){case 0:c=or._rescale(y(this,pa),r,s,o,-l),u=or._rescale(y(this,Uu),r,s,o,-l);break;case 90:c=or._rescaleAndSwap(y(this,pa),r,n,o,l),u=or._rescaleAndSwap(y(this,Uu),r,n,o,l);break;case 180:c=or._rescale(y(this,pa),i,n,-o,l),u=or._rescale(y(this,Uu),i,n,-o,l);break;case 270:c=or._rescaleAndSwap(y(this,pa),i,s,-o,-l),u=or._rescaleAndSwap(y(this,Uu),i,s,-o,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return y(this,Pw)}newOutliner(r,n,i,s,a,o=0){return new h6(r,n,i,s,a,o)}getNewOutline(r,n){const[i,s,a,o]=y(this,Pw),[l,c,u,d]=y(this,LE),h=a*u,f=o*d,g=i*u+l,m=s*d+c,v=this.newOutliner({x:y(this,Uu)[0]*h+g,y:y(this,Uu)[1]*f+m},y(this,LE),y(this,dO),r,y(this,uO),n??y(this,W0));for(let x=2;x<y(this,Uu).length;x+=2)v.add({x:y(this,Uu)[x]*h+g,y:y(this,Uu)[x+1]*f+m});return v.getOutlines()}}LE=new WeakMap,Pw=new WeakMap,W0=new WeakMap,uO=new WeakMap,Uu=new WeakMap,dO=new WeakMap,pa=new WeakMap,O6=new WeakSet,SIe=function(r){const n=y(this,pa);let i=n[4],s=n[5];const a=[i,s,i,s];let o=i,l=s,c=i,u=s;const d=r?Math.max:Math.min,h=new Float32Array(4);for(let g=6,m=n.length;g<m;g+=6){const v=n[g+4],x=n[g+5];isNaN(n[g])?(er.pointBoundingBox(v,x,a),l>x?(o=v,l=x):l===x&&(o=d(o,v)),u<x?(c=v,u=x):u===x&&(c=d(c,v))):(h[0]=h[1]=1/0,h[2]=h[3]=-1/0,er.bezierBoundingBox(i,s,...n.slice(g,g+6),h),er.rectBoundingBox(h[0],h[1],h[2],h[3],a),l>h[1]?(o=h[0],l=h[1]):l===h[1]&&(o=d(o,h[0])),u<h[3]?(c=h[2],u=h[3]):u===h[3]&&(c=d(c,h[2]))),i=v,s=x}const f=y(this,Pw);f[0]=a[0]-y(this,W0),f[1]=a[1]-y(this,W0),f[2]=a[2]-a[0]+2*y(this,W0),f[3]=a[3]-a[1]+2*y(this,W0),this.firstPoint=[o,l],this.lastPoint=[c,u]};var hO,fO,pO,$1,cf,_c,AIe,QM,EIe,TIe,CG;class TG{constructor(e,r=0,n=0,i=!0){Q(this,_c);Q(this,hO);Q(this,fO);Q(this,pO);Q(this,$1,[]);Q(this,cf,[]);const s=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:v,y:x,width:w,height:b}of e){const _=Math.floor((v-r)/o)*o,S=Math.ceil((v+w+r)/o)*o,T=Math.floor((x-r)/o)*o,E=Math.ceil((x+b+r)/o)*o,C=[_,T,E,!0],N=[S,T,E,!1];y(this,$1).push(C,N),er.rectBoundingBox(_,T,S,E,s)}const l=s[2]-s[0]+2*n,c=s[3]-s[1]+2*n,u=s[0]-n,d=s[1]-n;let h=i?-1/0:1/0,f=1/0;const g=y(this,$1).at(i?-1:-2),m=[g[0],g[2]];for(const v of y(this,$1)){const[x,w,b,_]=v;!_&&i?w<f?(f=w,h=x):w===f&&(h=Math.max(h,x)):_&&!i&&(w<f?(f=w,h=x):w===f&&(h=Math.min(h,x))),v[0]=(x-u)/l,v[1]=(w-d)/c,v[2]=(b-d)/c}H(this,hO,new Float32Array([u,d,l,c])),H(this,fO,[h,f]),H(this,pO,m)}getOutlines(){y(this,$1).sort((r,n)=>r[0]-n[0]||r[1]-n[1]||r[2]-n[2]);const e=[];for(const r of y(this,$1))r[3]?(e.push(...ie(this,_c,CG).call(this,r)),ie(this,_c,EIe).call(this,r)):(ie(this,_c,TIe).call(this,r),e.push(...ie(this,_c,CG).call(this,r)));return ie(this,_c,AIe).call(this,e)}}hO=new WeakMap,fO=new WeakMap,pO=new WeakMap,$1=new WeakMap,cf=new WeakMap,_c=new WeakSet,AIe=function(e){const r=[],n=new Set;for(const a of e){const[o,l,c]=a;r.push([o,l,a],[o,c,a])}r.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=r.length;a<o;a+=2){const l=r[a][2],c=r[a+1][2];l.push(c),c.push(l),n.add(l),n.add(c)}const i=[];let s;for(;n.size>0;){const a=n.values().next().value;let[o,l,c,u,d]=a;n.delete(a);let h=o,f=l;for(s=[o,c],i.push(s);;){let g;if(n.has(u))g=u;else if(n.has(d))g=d;else break;n.delete(g),[o,l,c,u,d]=g,h!==o&&(s.push(h,f,o,f===l?l:c),h=o),f=f===l?c:l}s.push(h,f)}return new VUt(i,y(this,hO),y(this,fO),y(this,pO))},QM=function(e){const r=y(this,cf);let n=0,i=r.length-1;for(;n<=i;){const s=n+i>>1,a=r[s][0];if(a===e)return s;a<e?n=s+1:i=s-1}return i+1},EIe=function([,e,r]){const n=ie(this,_c,QM).call(this,e);y(this,cf).splice(n,0,[e,r])},TIe=function([,e,r]){const n=ie(this,_c,QM).call(this,e);for(let i=n;i<y(this,cf).length;i++){const[s,a]=y(this,cf)[i];if(s!==e)break;if(s===e&&a===r){y(this,cf).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[s,a]=y(this,cf)[i];if(s!==e)break;if(s===e&&a===r){y(this,cf).splice(i,1);return}}},CG=function(e){const[r,n,i]=e,s=[[r,n,i]],a=ie(this,_c,QM).call(this,i);for(let o=0;o<a;o++){const[l,c]=y(this,cf)[o];for(let u=0,d=s.length;u<d;u++){const[,h,f]=s[u];if(!(c<=h||f<=l)){if(h>=l){if(f>c)s[u][1]=c;else{if(d===1)return[];s.splice(u,1),u--,d--}continue}s[u][2]=l,f>c&&s.push([r,c,f])}}}return s};var mO,BE;class VUt extends or{constructor(r,n,i,s){super();Q(this,mO);Q(this,BE);H(this,BE,r),H(this,mO,n),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const r=[];for(const n of y(this,BE)){let[i,s]=n;r.push(`M${i} ${s}`);for(let a=2;a<n.length;a+=2){const o=n[a],l=n[a+1];o===i?(r.push(`V${l}`),s=l):l===s&&(r.push(`H${o}`),i=o)}r.push("Z")}return r.join(" ")}serialize([r,n,i,s],a){const o=[],l=i-r,c=s-n;for(const u of y(this,BE)){const d=new Array(u.length);for(let h=0;h<u.length;h+=2)d[h]=r+u[h]*l,d[h+1]=s-u[h+1]*c;o.push(d)}return o}get box(){return y(this,mO)}get classNamesForOutlining(){return["highlightOutline"]}}mO=new WeakMap,BE=new WeakMap;class kG extends h6{newFreeDrawOutline(e,r,n,i,s,a){return new UUt(e,r,n,i,s,a)}}class UUt extends _Ie{newOutliner(e,r,n,i,s,a=0){return new kG(e,r,n,i,s,a)}}var $E,gO,q0,Nw,vO,qc,yO,xO,Iw,zu,Hu,Ho,VE,UE,El,zE,th,bO,gn,PG,JM,CIe,kIe,PIe,NG,Jx,uh,mS,NIe,eF,tF,IIe,OIe,RIe,DIe,MIe;const oi=class oi extends ls{constructor(r){super({...r,name:"highlightEditor"});Q(this,gn);Q(this,$E,null);Q(this,gO,0);Q(this,q0);Q(this,Nw,null);Q(this,vO,null);Q(this,qc,null);Q(this,yO,null);Q(this,xO,0);Q(this,Iw,null);Q(this,zu,null);Q(this,Hu,null);Q(this,Ho,!1);Q(this,VE,null);Q(this,UE,null);Q(this,El,null);Q(this,zE,"");Q(this,th);Q(this,bO,"");this.color=r.color||oi._defaultColor,H(this,th,r.thickness||oi._defaultThickness),this.opacity=r.opacity||oi._defaultOpacity,H(this,q0,r.boxes||null),H(this,bO,r.methodOfCreation||""),H(this,zE,r.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",r.highlightId>-1?(H(this,Ho,!0),ie(this,gn,JM).call(this,r),ie(this,gn,Jx).call(this)):y(this,q0)&&(H(this,$E,r.anchorNode),H(this,gO,r.anchorOffset),H(this,yO,r.focusNode),H(this,xO,r.focusOffset),ie(this,gn,PG).call(this),ie(this,gn,Jx).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const r=oi.prototype;return en(this,"_keyboardManager",new RR([[["ArrowLeft","mac+ArrowLeft"],r._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],r._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],r._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],r._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:y(this,Ho)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:y(this,th),methodOfCreation:y(this,bO)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(r){return{numberOfColors:r.get("color").size}}static initialize(r,n){var i;ls.initialize(r,n),oi._defaultColor||(oi._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(r,n){switch(r){case Vn.HIGHLIGHT_COLOR:oi._defaultColor=n;break;case Vn.HIGHLIGHT_THICKNESS:oi._defaultThickness=n;break}}translateInPage(r,n){}get toolbarPosition(){return y(this,UE)}get commentButtonPosition(){return y(this,VE)}updateParams(r,n){switch(r){case Vn.HIGHLIGHT_COLOR:ie(this,gn,CIe).call(this,n);break;case Vn.HIGHLIGHT_THICKNESS:ie(this,gn,kIe).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Vn.HIGHLIGHT_COLOR,oi._defaultColor],[Vn.HIGHLIGHT_THICKNESS,oi._defaultThickness]]}get propertiesToUpdate(){return[[Vn.HIGHLIGHT_COLOR,this.color||oi._defaultColor],[Vn.HIGHLIGHT_THICKNESS,y(this,th)||oi._defaultThickness],[Vn.HIGHLIGHT_FREE,y(this,Ho)]]}onUpdatedColor(){var r,n;(r=this.parent)==null||r.drawLayer.updateProperties(y(this,Hu),{root:{fill:this.color,"fill-opacity":this.opacity}}),(n=y(this,vO))==null||n.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",H(this,vO,new c6({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(ie(this,gn,tF).call(this))}getBaseTranslation(){return[0,0]}getRect(r,n){return super.getRect(r,n,ie(this,gn,tF).call(this))}onceAdded(r){this.annotationElementId||this.parent.addUndoableEditor(this),r&&this.div.focus()}remove(){ie(this,gn,NG).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ie(this,gn,Jx).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(r){var i;let n=!1;this.parent&&!r?ie(this,gn,NG).call(this):r&&(ie(this,gn,Jx).call(this,r),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(r),this.show(this._isVisible),n&&this.select()}rotate(r){var s,a,o;const{drawLayer:n}=this.parent;let i;y(this,Ho)?(r=(r-this.rotation+360)%360,i=ie(s=oi,uh,mS).call(s,y(this,zu).box,r)):i=ie(a=oi,uh,mS).call(a,[this.x,this.y,this.width,this.height],r),n.updateProperties(y(this,Hu),{bbox:i,root:{"data-main-rotation":r}}),n.updateProperties(y(this,El),{bbox:ie(o=oi,uh,mS).call(o,y(this,qc).box,r),root:{"data-main-rotation":r}})}render(){if(this.div)return this.div;const r=super.render();y(this,zE)&&(r.setAttribute("aria-label",y(this,zE)),r.setAttribute("role","mark")),y(this,Ho)?r.classList.add("free"):this.div.addEventListener("keydown",ie(this,gn,NIe).bind(this),{signal:this._uiManager._signal});const n=H(this,Iw,document.createElement("div"));return r.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=y(this,Nw),this.setDims(),eNe(this,y(this,Iw),["pointerover","pointerleave"]),this.enableEditing(),r}pointerover(){var r;this.isSelected||(r=this.parent)==null||r.drawLayer.updateProperties(y(this,El),{rootClass:{hovered:!0}})}pointerleave(){var r;this.isSelected||(r=this.parent)==null||r.drawLayer.updateProperties(y(this,El),{rootClass:{hovered:!1}})}_moveCaret(r){switch(this.parent.unselect(this),r){case 0:case 2:ie(this,gn,eF).call(this,!0);break;case 1:case 3:ie(this,gn,eF).call(this,!1);break}}select(){var r;super.select(),y(this,El)&&((r=this.parent)==null||r.drawLayer.updateProperties(y(this,El),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var r;super.unselect(),y(this,El)&&((r=this.parent)==null||r.drawLayer.updateProperties(y(this,El),{rootClass:{selected:!1}}),y(this,Ho)||ie(this,gn,eF).call(this,!1))}get _mustFixPosition(){return!y(this,Ho)}show(r=this._isVisible){super.show(r),this.parent&&(this.parent.drawLayer.updateProperties(y(this,Hu),{rootClass:{hidden:!r}}),this.parent.drawLayer.updateProperties(y(this,El),{rootClass:{hidden:!r}}))}static startHighlighting(r,n,{target:i,x:s,y:a}){const{x:o,y:l,width:c,height:u}=i.getBoundingClientRect(),d=new AbortController,h=r.combinedSignal(d),f=g=>{d.abort(),ie(this,uh,DIe).call(this,r,g)};window.addEventListener("blur",f,{signal:h}),window.addEventListener("pointerup",f,{signal:h}),window.addEventListener("pointerdown",ia,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Ph,{signal:h}),i.addEventListener("pointermove",ie(this,uh,RIe).bind(this,r),{signal:h}),this._freeHighlight=new kG({x:s,y:a},[o,l,c,u],r.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(r,n,i){var m,v,x,w;let s=null;if(r instanceof cIe){const{data:{quadPoints:b,rect:_,rotation:S,id:T,color:E,opacity:C,popupRef:N,richText:F,contentsObj:A,creationDate:I,modificationDate:M},parent:{page:{pageNumber:U}}}=r;s=r={annotationType:an.HIGHLIGHT,color:Array.from(E),opacity:C,quadPoints:b,boxes:null,pageIndex:U-1,rect:_.slice(0),rotation:S,annotationElementId:T,id:T,deleted:!1,popupRef:N,richText:F,comment:(A==null?void 0:A.str)||null,creationDate:I,modificationDate:M}}else if(r instanceof HJ){const{data:{inkLists:b,rect:_,rotation:S,id:T,color:E,borderStyle:{rawWidth:C},popupRef:N,richText:F,contentsObj:A,creationDate:I,modificationDate:M},parent:{page:{pageNumber:U}}}=r;s=r={annotationType:an.HIGHLIGHT,color:Array.from(E),thickness:C,inkLists:b,boxes:null,pageIndex:U-1,rect:_.slice(0),rotation:S,annotationElementId:T,id:T,deleted:!1,popupRef:N,richText:F,comment:(A==null?void 0:A.str)||null,creationDate:I,modificationDate:M}}const{color:a,quadPoints:o,inkLists:l,opacity:c}=r,u=await super.deserialize(r,n,i);u.color=er.makeHexColor(...a),u.opacity=c||1,l&&H(u,th,r.thickness),u._initialData=s,r.comment&&u.setCommentData(r);const[d,h]=u.pageDimensions,[f,g]=u.pageTranslation;if(o){const b=H(u,q0,[]);for(let _=0;_<o.length;_+=8)b.push({x:(o[_]-f)/d,y:1-(o[_+1]-g)/h,width:(o[_+2]-o[_])/d,height:(o[_+1]-o[_+5])/h});ie(m=u,gn,PG).call(m),ie(v=u,gn,Jx).call(v),u.rotate(u.rotation)}else if(l){H(u,Ho,!0);const b=l[0],_={x:b[0]-f,y:h-(b[1]-g)},S=new kG(_,[0,0,d,h],1,y(u,th)/2,!0,.001);for(let C=0,N=b.length;C<N;C+=2)_.x=b[C]-f,_.y=h-(b[C+1]-g),S.add(_);const{id:T,clipPathId:E}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:S.toSVGPath()}},!0,!0);ie(x=u,gn,JM).call(x,{highlightOutlines:S.getOutlines(),highlightId:T,clipPathId:E}),ie(w=u,gn,Jx).call(w),u.rotate(u.parentRotation)}return u}serialize(r=!1){if(this.isEmpty()||r)return null;if(this.deleted)return this.serializeDeleted();const n=ls._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(r);return Object.assign(i,{color:n,opacity:this.opacity,thickness:y(this,th),quadPoints:ie(this,gn,IIe).call(this),outlines:ie(this,gn,OIe).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!ie(this,gn,MIe).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(r){return this.deleted?(r.hide(),null):(r.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};$E=new WeakMap,gO=new WeakMap,q0=new WeakMap,Nw=new WeakMap,vO=new WeakMap,qc=new WeakMap,yO=new WeakMap,xO=new WeakMap,Iw=new WeakMap,zu=new WeakMap,Hu=new WeakMap,Ho=new WeakMap,VE=new WeakMap,UE=new WeakMap,El=new WeakMap,zE=new WeakMap,th=new WeakMap,bO=new WeakMap,gn=new WeakSet,PG=function(){const r=new TG(y(this,q0),.001);H(this,zu,r.getOutlines()),[this.x,this.y,this.width,this.height]=y(this,zu).box;const n=new TG(y(this,q0),.0025,.001,this._uiManager.direction==="ltr");H(this,qc,n.getOutlines());const{firstPoint:i}=y(this,zu);H(this,VE,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=y(this,qc);H(this,UE,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},JM=function({highlightOutlines:r,highlightId:n,clipPathId:i}){var h,f;if(H(this,zu,r),H(this,qc,r.getNewOutline(y(this,th)/2+1.5,.0025)),n>=0)H(this,Hu,n),H(this,Nw,i),this.parent.drawLayer.finalizeDraw(n,{bbox:r.box,path:{d:r.toSVGPath()}}),H(this,El,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:y(this,qc).box,path:{d:y(this,qc).toSVGPath()}},!0));else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(y(this,Hu),{bbox:ie(h=oi,uh,mS).call(h,y(this,zu).box,(g-this.rotation+360)%360),path:{d:r.toSVGPath()}}),this.parent.drawLayer.updateProperties(y(this,El),{bbox:ie(f=oi,uh,mS).call(f,y(this,qc).box,g),path:{d:y(this,qc).toSVGPath()}})}const[a,o,l,c]=r.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=c;break;case 90:{const[g,m]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*m/g,this.height=c*g/m;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[g,m]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*m/g,this.height=c*g/m;break}}const{firstPoint:u}=r;H(this,VE,[(u[0]-a)/l,(u[1]-o)/c]);const{lastPoint:d}=y(this,qc);H(this,UE,[(d[0]-a)/l,(d[1]-o)/c])},CIe=function(r){const n=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:n.bind(this,r,oi._defaultOpacity),undo:n.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(r)},!0)},kIe=function(r){const n=y(this,th),i=s=>{H(this,th,s),ie(this,gn,PIe).call(this,s)};this.addCommands({cmd:i.bind(this,r),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:r},!0)},PIe=function(r){y(this,Ho)&&(ie(this,gn,JM).call(this,{highlightOutlines:y(this,zu).getNewOutline(r/2)}),this.fixAndSetPosition(),this.setDims())},NG=function(){y(this,Hu)===null||!this.parent||(this.parent.drawLayer.remove(y(this,Hu)),H(this,Hu,null),this.parent.drawLayer.remove(y(this,El)),H(this,El,null))},Jx=function(r=this.parent){y(this,Hu)===null&&({id:qs(this,Hu)._,clipPathId:qs(this,Nw)._}=r.drawLayer.draw({bbox:y(this,zu).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:y(this,Ho)},path:{d:y(this,zu).toSVGPath()}},!1,!0),H(this,El,r.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:y(this,Ho)},bbox:y(this,qc).box,path:{d:y(this,qc).toSVGPath()}},y(this,Ho))),y(this,Iw)&&(y(this,Iw).style.clipPath=y(this,Nw)))},uh=new WeakSet,mS=function([r,n,i,s],a){switch(a){case 90:return[1-n-s,r,s,i];case 180:return[1-r-i,1-n-s,i,s];case 270:return[n,1-r-i,s,i]}return[r,n,i,s]},NIe=function(r){oi._keyboardManager.exec(this,r)},eF=function(r){if(!y(this,$E))return;const n=window.getSelection();r?n.setPosition(y(this,$E),y(this,gO)):n.setPosition(y(this,yO),y(this,xO))},tF=function(){return y(this,Ho)?this.rotation:0},IIe=function(){if(y(this,Ho))return null;const[r,n]=this.pageDimensions,[i,s]=this.pageTranslation,a=y(this,q0),o=new Float32Array(a.length*8);let l=0;for(const{x:c,y:u,width:d,height:h}of a){const f=c*r+i,g=(1-u)*n+s;o[l]=o[l+4]=f,o[l+1]=o[l+3]=g,o[l+2]=o[l+6]=f+d*r,o[l+5]=o[l+7]=g-h*n,l+=8}return o},OIe=function(r){return y(this,zu).serialize(r,ie(this,gn,tF).call(this))},RIe=function(r,n){this._freeHighlight.add(n)&&r.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},DIe=function(r,n){this._freeHighlight.isEmpty()?r.drawLayer.remove(this._freeHighlightId):r.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},MIe=function(r){const{color:n}=this._initialData;return this.hasEditedComment||r.color.some((i,s)=>i!==n[s])},Q(oi,uh),Le(oi,"_defaultColor",null),Le(oi,"_defaultOpacity",1),Le(oi,"_defaultThickness",12),Le(oi,"_type","highlight"),Le(oi,"_editorType",an.HIGHLIGHT),Le(oi,"_freeHighlightId",-1),Le(oi,"_freeHighlight",null),Le(oi,"_freeHighlightClipId","");let f6=oi;var Ow;class FIe{constructor(){Q(this,Ow,Object.create(null))}updateProperty(e,r){this[e]=r,this.updateSVGProperty(e,r)}updateProperties(e){if(e)for(const[r,n]of Object.entries(e))r.startsWith("_")||this.updateProperty(r,n)}updateSVGProperty(e,r){y(this,Ow)[e]=r}toSVGProperties(){const e=y(this,Ow);return H(this,Ow,Object.create(null)),{root:e}}reset(){H(this,Ow,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Yi("Not implemented")}}Ow=new WeakMap;var Wu,HE,wo,Rw,Dw,Yn,IG,OG,RG,j5,jIe,rF,L5,gS;const Rn=class Rn extends ls{constructor(r){super(r);Q(this,Yn);Q(this,Wu,null);Q(this,HE);Le(this,"_colorPicker",null);Le(this,"_drawId",null);H(this,HE,r.mustBeCommitted||!1),this._addOutlines(r)}onUpdatedColor(){var r;(r=this._colorPicker)==null||r.update(this.color),super.onUpdatedColor()}_addOutlines(r){r.drawOutlines&&(ie(this,Yn,IG).call(this,r),ie(this,Yn,j5).call(this))}static _mergeSVGProperties(r,n){const i=new Set(Object.keys(r));for(const[s,a]of Object.entries(n))i.has(s)?Object.assign(r[s],a):r[s]=a;return r}static getDefaultDrawingOptions(r){Yi("Not implemented")}static get typesMap(){Yi("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(r,n){const i=this.typesMap.get(r);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(y(Rn,wo).updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(r,n){const i=this.constructor.typesMap.get(r);i&&this._updateProperty(r,i,n)}static get defaultPropertiesToUpdate(){const r=[],n=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)r.push([i,n[s]]);return r}get propertiesToUpdate(){const r=[],{_drawingOptions:n}=this;for(const[i,s]of this.constructor.typesMap)r.push([i,n[s]]);return r}_updateProperty(r,n,i){const s=this._drawingOptions,a=s[n],o=l=>{var u;s.updateProperty(n,l);const c=y(this,Wu).updateProperty(n,l);c&&ie(this,Yn,L5).call(this,c),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),r===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:r,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,Rn._mergeSVGProperties(y(this,Wu).getPathResizingSVGProperties(ie(this,Yn,rF).call(this)),{bbox:ie(this,Yn,gS).call(this)}))}_onResized(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,Rn._mergeSVGProperties(y(this,Wu).getPathResizedSVGProperties(ie(this,Yn,rF).call(this)),{bbox:ie(this,Yn,gS).call(this)}))}_onTranslating(r,n){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:ie(this,Yn,gS).call(this)})}_onTranslated(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,Rn._mergeSVGProperties(y(this,Wu).getPathTranslatedSVGProperties(ie(this,Yn,rF).call(this),this.parentDimensions),{bbox:ie(this,Yn,gS).call(this)}))}_onStartDragging(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(r){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,y(this,HE)&&(H(this,HE,!1),this.commit(),this.parent.setSelected(this),r&&this.isOnScreen&&this.div.focus())}remove(){ie(this,Yn,RG).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ie(this,Yn,j5).call(this),ie(this,Yn,L5).call(this,y(this,Wu).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(r){var i;let n=!1;this.parent&&!r?(this._uiManager.removeShouldRescale(this),ie(this,Yn,RG).call(this)):r&&(this._uiManager.addShouldRescale(this),ie(this,Yn,j5).call(this,r),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(r),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Rn._mergeSVGProperties({bbox:ie(this,Yn,gS).call(this)},y(this,Wu).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&ie(this,Yn,L5).call(this,y(this,Wu).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let r,n;this._isCopy&&(r=this.x,n=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(r,n),i}static createDrawerInstance(r,n,i,s,a){Yi("Not implemented")}static startDrawing(r,n,i,s){var v;const{target:a,offsetX:o,offsetY:l,pointerId:c,pointerType:u}=s;if(xl.isInitializedAndDifferentPointerType(u))return;const{viewport:{rotation:d}}=r,{width:h,height:f}=a.getBoundingClientRect(),g=H(Rn,Rw,new AbortController),m=r.combinedSignal(g);if(xl.setPointer(u,c),window.addEventListener("pointerup",x=>{xl.isSamePointerIdOrRemove(x.pointerId)&&this._endDraw(x)},{signal:m}),window.addEventListener("pointercancel",x=>{xl.isSamePointerIdOrRemove(x.pointerId)&&this._currentParent.endDrawingSession()},{signal:m}),window.addEventListener("pointerdown",x=>{xl.isSamePointerType(x.pointerType)&&(xl.initializeAndAddPointerId(x.pointerId),y(Rn,wo).isCancellable()&&(y(Rn,wo).removeLastElement(),y(Rn,wo).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Ph,{signal:m}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),a.addEventListener("touchmove",x=>{xl.isSameTimeStamp(x.timeStamp)&&ia(x)},{signal:m}),r.toggleDrawing(),(v=n._editorUndoBar)==null||v.hide(),y(Rn,wo)){r.drawLayer.updateProperties(this._currentDrawId,y(Rn,wo).startNew(o,l,h,f,d));return}n.updateUIForDefaultProperties(this),H(Rn,wo,this.createDrawerInstance(o,l,h,f,d)),H(Rn,Dw,this.getDefaultDrawingOptions()),this._currentParent=r,{id:this._currentDrawId}=r.drawLayer.draw(this._mergeSVGProperties(y(Rn,Dw).toSVGProperties(),y(Rn,wo).defaultSVGProperties),!0,!1)}static _drawMove(r){if(xl.isSameTimeStamp(r.timeStamp),!y(Rn,wo))return;const{offsetX:n,offsetY:i,pointerId:s}=r;if(xl.isSamePointerId(s)){if(xl.isUsingMultiplePointers()){this._endDraw(r);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,y(Rn,wo).add(n,i)),xl.setTimeStamp(r.timeStamp),ia(r)}}static _cleanup(r){r&&(this._currentDrawId=-1,this._currentParent=null,H(Rn,wo,null),H(Rn,Dw,null),xl.clearTimeStamp()),y(Rn,Rw)&&(y(Rn,Rw).abort(),H(Rn,Rw,null),xl.clearPointerIds())}static _endDraw(r){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(r==null?void 0:r.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,y(Rn,wo).end(r.offsetX,r.offsetY)),this.supportMultipleDrawings){const i=y(Rn,wo),s=this._currentDrawId,a=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{n.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:Vn.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(r){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Vn.DRAW_STEP),!y(Rn,wo).isEmpty()){const{pageDimensions:[i,s],scale:a}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:y(Rn,wo).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:y(Rn,Dw),mustBeCommitted:!r});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(r){}static deserializeDraw(r,n,i,s,a,o){Yi("Not implemented")}static async deserialize(r,n,i){var d,h;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=n.viewport,c=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,r),u=await super.deserialize(r,n,i);return u.createDrawingOptions(r),ie(d=u,Yn,IG).call(d,{drawOutlines:c}),ie(h=u,Yn,j5).call(h),u.onScaleChanging(),u.rotate(),u}serializeDraw(r){const[n,i]=this.pageTranslation,[s,a]=this.pageDimensions;return y(this,Wu).serialize([n,i,s,a],r)}renderAnnotationElement(r){return r.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Wu=new WeakMap,HE=new WeakMap,wo=new WeakMap,Rw=new WeakMap,Dw=new WeakMap,Yn=new WeakSet,IG=function({drawOutlines:r,drawId:n,drawingOptions:i}){H(this,Wu,r),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,r.defaultProperties)):this._drawId=ie(this,Yn,OG).call(this,r,this.parent),ie(this,Yn,L5).call(this,r.box)},OG=function(r,n){const{id:i}=n.drawLayer.draw(Rn._mergeSVGProperties(this._drawingOptions.toSVGProperties(),r.defaultSVGProperties),!1,!1);return i},RG=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},j5=function(r=this.parent){if(!(this._drawId!==null&&this.parent===r)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,r.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=ie(this,Yn,OG).call(this,y(this,Wu),r)}},jIe=function([r,n,i,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[n,1-r,i*(o/a),s*(a/o)];case 180:return[1-r,1-n,i,s];case 270:return[1-n,r,i*(o/a),s*(a/o)];default:return[r,n,i,s]}},rF=function(){const{x:r,y:n,width:i,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-n,r,i*(a/o),s*(o/a)];case 180:return[1-r,1-n,i,s];case 270:return[n,1-r,i*(a/o),s*(o/a)];default:return[r,n,i,s]}},L5=function(r){[this.x,this.y,this.width,this.height]=ie(this,Yn,jIe).call(this,r),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},gS=function(){const{x:r,y:n,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[l,c]}=this;switch((a*4+o)/90){case 1:return[1-n-s,r,s,i];case 2:return[1-r-i,1-n-s,i,s];case 3:return[n,1-r-i,s,i];case 4:return[r,n-i*(l/c),s*(c/l),i*(l/c)];case 5:return[1-n,r,i*(l/c),s*(c/l)];case 6:return[1-r-s*(c/l),1-n,s*(c/l),i*(l/c)];case 7:return[n-i*(l/c),1-r-s*(c/l),i*(l/c),s*(c/l)];case 8:return[r-i,n-s,i,s];case 9:return[1-n,r-i,s,i];case 10:return[1-r,1-n,i,s];case 11:return[n-s,1-r,s,i];case 12:return[r-s*(c/l),n,s*(c/l),i*(l/c)];case 13:return[1-n-i*(l/c),r-s*(c/l),i*(l/c),s*(c/l)];case 14:return[1-r,1-n-i*(l/c),s*(c/l),i*(l/c)];case 15:return[n,1-r,i*(l/c),s*(c/l)];default:return[r,n,i,s]}},Le(Rn,"_currentDrawId",-1),Le(Rn,"_currentParent",null),Q(Rn,wo,null),Q(Rn,Rw,null),Q(Rn,Dw,null),Le(Rn,"_INNER_MARGIN",3);let p6=Rn;var Wp,_o,So,Mw,WE,ic,Wo,rh,Fw,jw,Lw,qE,nF;class zUt{constructor(e,r,n,i,s,a){Q(this,qE);Q(this,Wp,new Float64Array(6));Q(this,_o);Q(this,So);Q(this,Mw);Q(this,WE);Q(this,ic);Q(this,Wo,"");Q(this,rh,0);Q(this,Fw,new MR);Q(this,jw);Q(this,Lw);H(this,jw,n),H(this,Lw,i),H(this,Mw,s),H(this,WE,a),[e,r]=ie(this,qE,nF).call(this,e,r);const o=H(this,_o,[NaN,NaN,NaN,NaN,e,r]);H(this,ic,[e,r]),H(this,So,[{line:o,points:y(this,ic)}]),y(this,Wp).set(o,0)}updateProperty(e,r){e==="stroke-width"&&H(this,WE,r)}isEmpty(){return!y(this,So)||y(this,So).length===0}isCancellable(){return y(this,ic).length<=10}add(e,r){[e,r]=ie(this,qE,nF).call(this,e,r);const[n,i,s,a]=y(this,Wp).subarray(2,6),o=e-s,l=r-a;return Math.hypot(y(this,jw)*o,y(this,Lw)*l)<=2?null:(y(this,ic).push(e,r),isNaN(n)?(y(this,Wp).set([s,a,e,r],2),y(this,_o).push(NaN,NaN,NaN,NaN,e,r),{path:{d:this.toSVGPath()}}):(isNaN(y(this,Wp)[0])&&y(this,_o).splice(6,6),y(this,Wp).set([n,i,s,a,e,r],0),y(this,_o).push(...or.createBezierPoints(n,i,s,a,e,r)),{path:{d:this.toSVGPath()}}))}end(e,r){const n=this.add(e,r);return n||(y(this,ic).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,r,n,i,s){H(this,jw,n),H(this,Lw,i),H(this,Mw,s),[e,r]=ie(this,qE,nF).call(this,e,r);const a=H(this,_o,[NaN,NaN,NaN,NaN,e,r]);H(this,ic,[e,r]);const o=y(this,So).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),y(this,So).push({line:a,points:y(this,ic)}),y(this,Wp).set(a,0),H(this,rh,0),this.toSVGPath(),null}getLastElement(){return y(this,So).at(-1)}setLastElement(e){return y(this,So)?(y(this,So).push(e),H(this,_o,e.line),H(this,ic,e.points),H(this,rh,0),{path:{d:this.toSVGPath()}}):y(this,Fw).setLastElement(e)}removeLastElement(){if(!y(this,So))return y(this,Fw).removeLastElement();y(this,So).pop(),H(this,Wo,"");for(let e=0,r=y(this,So).length;e<r;e++){const{line:n,points:i}=y(this,So)[e];H(this,_o,n),H(this,ic,i),H(this,rh,0),this.toSVGPath()}return{path:{d:y(this,Wo)}}}toSVGPath(){const e=or.svgRound(y(this,_o)[4]),r=or.svgRound(y(this,_o)[5]);if(y(this,ic).length===2)return H(this,Wo,`${y(this,Wo)} M ${e} ${r} Z`),y(this,Wo);if(y(this,ic).length<=6){const i=y(this,Wo).lastIndexOf("M");H(this,Wo,`${y(this,Wo).slice(0,i)} M ${e} ${r}`),H(this,rh,6)}if(y(this,ic).length===4){const i=or.svgRound(y(this,_o)[10]),s=or.svgRound(y(this,_o)[11]);return H(this,Wo,`${y(this,Wo)} L ${i} ${s}`),H(this,rh,12),y(this,Wo)}const n=[];y(this,rh)===0&&(n.push(`M ${e} ${r}`),H(this,rh,6));for(let i=y(this,rh),s=y(this,_o).length;i<s;i+=6){const[a,o,l,c,u,d]=y(this,_o).slice(i,i+6).map(or.svgRound);n.push(`C${a} ${o} ${l} ${c} ${u} ${d}`)}return H(this,Wo,y(this,Wo)+n.join(" ")),H(this,rh,y(this,_o).length),y(this,Wo)}getOutlines(e,r,n,i){const s=y(this,So).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),y(this,Fw).build(y(this,So),e,r,n,y(this,Mw),y(this,WE),i),H(this,Wp,null),H(this,_o,null),H(this,So,null),H(this,Wo,null),y(this,Fw)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Wp=new WeakMap,_o=new WeakMap,So=new WeakMap,Mw=new WeakMap,WE=new WeakMap,ic=new WeakMap,Wo=new WeakMap,rh=new WeakMap,Fw=new WeakMap,jw=new WeakMap,Lw=new WeakMap,qE=new WeakSet,nF=function(e,r){return or._normalizePoint(e,r,y(this,jw),y(this,Lw),y(this,Mw))};var sc,wO,_O,qu,qp,Gp,GE,KE,Bw,Zo,l0,LIe,BIe,$Ie;class MR extends or{constructor(){super(...arguments);Q(this,Zo);Q(this,sc);Q(this,wO,0);Q(this,_O);Q(this,qu);Q(this,qp);Q(this,Gp);Q(this,GE);Q(this,KE);Q(this,Bw)}build(r,n,i,s,a,o,l){H(this,qp,n),H(this,Gp,i),H(this,GE,s),H(this,KE,a),H(this,Bw,o),H(this,_O,l??0),H(this,qu,r),ie(this,Zo,BIe).call(this)}get thickness(){return y(this,Bw)}setLastElement(r){return y(this,qu).push(r),{path:{d:this.toSVGPath()}}}removeLastElement(){return y(this,qu).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const r=[];for(const{line:n}of y(this,qu)){if(r.push(`M${or.svgRound(n[4])} ${or.svgRound(n[5])}`),n.length===6){r.push("Z");continue}if(n.length===12&&isNaN(n[6])){r.push(`L${or.svgRound(n[10])} ${or.svgRound(n[11])}`);continue}for(let i=6,s=n.length;i<s;i+=6){const[a,o,l,c,u,d]=n.subarray(i,i+6).map(or.svgRound);r.push(`C${a} ${o} ${l} ${c} ${u} ${d}`)}}return r.join("")}serialize([r,n,i,s],a){const o=[],l=[],[c,u,d,h]=ie(this,Zo,LIe).call(this);let f,g,m,v,x,w,b,_,S;switch(y(this,KE)){case 0:S=or._rescale,f=r,g=n+s,m=i,v=-s,x=r+c*i,w=n+(1-u-h)*s,b=r+(c+d)*i,_=n+(1-u)*s;break;case 90:S=or._rescaleAndSwap,f=r,g=n,m=i,v=s,x=r+u*i,w=n+c*s,b=r+(u+h)*i,_=n+(c+d)*s;break;case 180:S=or._rescale,f=r+i,g=n,m=-i,v=s,x=r+(1-c-d)*i,w=n+u*s,b=r+(1-c)*i,_=n+(u+h)*s;break;case 270:S=or._rescaleAndSwap,f=r+i,g=n+s,m=-i,v=-s,x=r+(1-u-h)*i,w=n+(1-c-d)*s,b=r+(1-u)*i,_=n+(1-c)*s;break}for(const{line:T,points:E}of y(this,qu))o.push(S(T,f,g,m,v,a?new Array(T.length):null)),l.push(S(E,f,g,m,v,a?new Array(E.length):null));return{lines:o,points:l,rect:[x,w,b,_]}}static deserialize(r,n,i,s,a,{paths:{lines:o,points:l},rotation:c,thickness:u}){const d=[];let h,f,g,m,v;switch(c){case 0:v=or._rescale,h=-r/i,f=n/s+1,g=1/i,m=-1/s;break;case 90:v=or._rescaleAndSwap,h=-n/s,f=-r/i,g=1/s,m=1/i;break;case 180:v=or._rescale,h=r/i+1,f=-n/s,g=-1/i,m=1/s;break;case 270:v=or._rescaleAndSwap,h=n/s+1,f=r/i+1,g=-1/s,m=-1/i;break}if(!o){o=[];for(const w of l){const b=w.length;if(b===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(b===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const _=new Float32Array(3*(b-2));o.push(_);let[S,T,E,C]=w.subarray(0,4);_.set([NaN,NaN,NaN,NaN,S,T],0);for(let N=4;N<b;N+=2){const F=w[N],A=w[N+1];_.set(or.createBezierPoints(S,T,E,C,F,A),(N-2)*3),[S,T,E,C]=[E,C,F,A]}}}for(let w=0,b=o.length;w<b;w++)d.push({line:v(o[w].map(_=>_??NaN),h,f,g,m),points:v(l[w].map(_=>_??NaN),h,f,g,m)});const x=new this.prototype.constructor;return x.build(d,i,s,1,c,u,a),x}get box(){return y(this,sc)}updateProperty(r,n){return r==="stroke-width"?ie(this,Zo,$Ie).call(this,n):null}updateParentDimensions([r,n],i){const[s,a]=ie(this,Zo,l0).call(this);H(this,qp,r),H(this,Gp,n),H(this,GE,i);const[o,l]=ie(this,Zo,l0).call(this),c=o-s,u=l-a,d=y(this,sc);return d[0]-=c,d[1]-=u,d[2]+=2*c,d[3]+=2*u,d}updateRotation(r){return H(this,wO,r),{path:{transform:this.rotationTransform}}}get viewBox(){return y(this,sc).map(or.svgRound).join(" ")}get defaultProperties(){const[r,n]=y(this,sc);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${or.svgRound(r)} ${or.svgRound(n)}`}}}get rotationTransform(){const[,,r,n]=y(this,sc);let i=0,s=0,a=0,o=0,l=0,c=0;switch(y(this,wO)){case 90:s=n/r,a=-r/n,l=r;break;case 180:i=-1,o=-1,l=r,c=n;break;case 270:s=-n/r,a=r/n,c=n;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${or.svgRound(l)} ${or.svgRound(c)})`}getPathResizingSVGProperties([r,n,i,s]){const[a,o]=ie(this,Zo,l0).call(this),[l,c,u,d]=y(this,sc);if(Math.abs(u-a)<=or.PRECISION||Math.abs(d-o)<=or.PRECISION){const v=r+i/2-(l+u/2),x=n+s/2-(c+d/2);return{path:{"transform-origin":`${or.svgRound(r)} ${or.svgRound(n)}`,transform:`${this.rotationTransform} translate(${v} ${x})`}}}const h=(i-2*a)/(u-2*a),f=(s-2*o)/(d-2*o),g=u/i,m=d/s;return{path:{"transform-origin":`${or.svgRound(l)} ${or.svgRound(c)}`,transform:`${this.rotationTransform} scale(${g} ${m}) translate(${or.svgRound(a)} ${or.svgRound(o)}) scale(${h} ${f}) translate(${or.svgRound(-a)} ${or.svgRound(-o)})`}}}getPathResizedSVGProperties([r,n,i,s]){const[a,o]=ie(this,Zo,l0).call(this),l=y(this,sc),[c,u,d,h]=l;if(l[0]=r,l[1]=n,l[2]=i,l[3]=s,Math.abs(d-a)<=or.PRECISION||Math.abs(h-o)<=or.PRECISION){const x=r+i/2-(c+d/2),w=n+s/2-(u+h/2);for(const{line:b,points:_}of y(this,qu))or._translate(b,x,w,b),or._translate(_,x,w,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${or.svgRound(r)} ${or.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const f=(i-2*a)/(d-2*a),g=(s-2*o)/(h-2*o),m=-f*(c+a)+r+a,v=-g*(u+o)+n+o;if(f!==1||g!==1||m!==0||v!==0)for(const{line:x,points:w}of y(this,qu))or._rescale(x,m,v,f,g,x),or._rescale(w,m,v,f,g,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${or.svgRound(r)} ${or.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([r,n],i){const[s,a]=i,o=y(this,sc),l=r-o[0],c=n-o[1];if(y(this,qp)===s&&y(this,Gp)===a)for(const{line:u,points:d}of y(this,qu))or._translate(u,l,c,u),or._translate(d,l,c,d);else{const u=y(this,qp)/s,d=y(this,Gp)/a;H(this,qp,s),H(this,Gp,a);for(const{line:h,points:f}of y(this,qu))or._rescale(h,l,c,u,d,h),or._rescale(f,l,c,u,d,f);o[2]*=u,o[3]*=d}return o[0]=r,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${or.svgRound(r)} ${or.svgRound(n)}`}}}get defaultSVGProperties(){const r=y(this,sc);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${or.svgRound(r[0])} ${or.svgRound(r[1])}`,transform:this.rotationTransform||null},bbox:r}}}sc=new WeakMap,wO=new WeakMap,_O=new WeakMap,qu=new WeakMap,qp=new WeakMap,Gp=new WeakMap,GE=new WeakMap,KE=new WeakMap,Bw=new WeakMap,Zo=new WeakSet,l0=function(r=y(this,Bw)){const n=y(this,_O)+r/2*y(this,GE);return y(this,KE)%180===0?[n/y(this,qp),n/y(this,Gp)]:[n/y(this,Gp),n/y(this,qp)]},LIe=function(){const[r,n,i,s]=y(this,sc),[a,o]=ie(this,Zo,l0).call(this,0);return[r+a,n+o,i-2*a,s-2*o]},BIe=function(){const r=H(this,sc,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of y(this,qu)){if(s.length<=12){for(let l=4,c=s.length;l<c;l+=6)er.pointBoundingBox(s[l],s[l+1],r);continue}let a=s[4],o=s[5];for(let l=6,c=s.length;l<c;l+=6){const[u,d,h,f,g,m]=s.subarray(l,l+6);er.bezierBoundingBox(a,o,u,d,h,f,g,m,r),a=g,o=m}}const[n,i]=ie(this,Zo,l0).call(this);r[0]=lc(r[0]-n,0,1),r[1]=lc(r[1]-i,0,1),r[2]=lc(r[2]+n,0,1),r[3]=lc(r[3]+i,0,1),r[2]-=r[0],r[3]-=r[1]},$Ie=function(r){const[n,i]=ie(this,Zo,l0).call(this);H(this,Bw,r);const[s,a]=ie(this,Zo,l0).call(this),[o,l]=[s-n,a-i],c=y(this,sc);return c[0]-=o,c[1]-=l,c[2]+=2*o,c[3]+=2*l,c};class O7 extends FIe{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:ls._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,r){e==="stroke-width"&&(r??(r=this["stroke-width"]),r*=this._viewParameters.realScale),super.updateSVGProperty(e,r)}clone(){const e=new O7(this._viewParameters);return e.updateAll(this),e}}var R6,VIe;const BS=class BS extends p6{constructor(r){super({...r,name:"inkEditor"});Q(this,R6);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(r,n){ls.initialize(r,n),this._defaultDrawingOptions=new O7(n.viewParameters)}static getDefaultDrawingOptions(r){const n=this._defaultDrawingOptions.clone();return n.updateProperties(r),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return en(this,"typesMap",new Map([[Vn.INK_THICKNESS,"stroke-width"],[Vn.INK_COLOR,"stroke"],[Vn.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(r,n,i,s,a){return new zUt(r,n,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(r,n,i,s,a,o){return MR.deserialize(r,n,i,s,a,o)}static async deserialize(r,n,i){let s=null;if(r instanceof HJ){const{data:{inkLists:o,rect:l,rotation:c,id:u,color:d,opacity:h,borderStyle:{rawWidth:f},popupRef:g,richText:m,contentsObj:v,creationDate:x,modificationDate:w},parent:{page:{pageNumber:b}}}=r;s=r={annotationType:an.INK,color:Array.from(d),thickness:f,opacity:h,paths:{points:o},boxes:null,pageIndex:b-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:g,richText:m,comment:(v==null?void 0:v.str)||null,creationDate:x,modificationDate:w}}const a=await super.deserialize(r,n,i);return a._initialData=s,r.comment&&a.setCommentData(r),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new u6(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Vn.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:r,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(r,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const r=this._currentParent;r&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:r,thickness:n,opacity:i}){this._drawingOptions=BS.getDefaultDrawingOptions({stroke:er.makeHexColor(...r),"stroke-width":n,"stroke-opacity":i})}serialize(r=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i}=this.serializeDraw(r),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(r),{color:ls._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:n,points:i}});return this.addComment(l),r?(l.isCopy=!0,l):this.annotationElementId&&!ie(this,R6,VIe).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(r){if(this.deleted)return r.hide(),null;const{points:n,rect:i}=this.serializeDraw(!1);return r.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}};R6=new WeakSet,VIe=function(r){const{color:n,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||r.color.some((o,l)=>o!==n[l])||r.thickness!==i||r.opacity!==s||r.pageIndex!==a},Le(BS,"_type","ink"),Le(BS,"_editorType",an.INK),Le(BS,"_defaultDrawingOptions",null);let DG=BS;class MG extends MR{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const BD=8,Yk=3;var $w,mi,FG,uf,UIe,zIe,jG,iF,HIe,WIe,qIe,LG,BG,GIe;class eg{static extractContoursFromText(e,{fontFamily:r,fontStyle:n,fontWeight:i},s,a,o,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const d=200,h=u.font=`${n} ${i} ${d}px ${r}`,{actualBoundingBoxLeft:f,actualBoundingBoxRight:g,actualBoundingBoxAscent:m,actualBoundingBoxDescent:v,fontBoundingBoxAscent:x,fontBoundingBoxDescent:w,width:b}=u.measureText(e),_=1.5,S=Math.ceil(Math.max(Math.abs(f)+Math.abs(g)||0,b)*_),T=Math.ceil(Math.max(Math.abs(m)+Math.abs(v)||d,Math.abs(x)+Math.abs(w)||d)*_);c=new OffscreenCanvas(S,T),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=h,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,S,T),u.fillStyle="black",u.fillText(e,S*(_-1)/2,T*(3-_)/2);const E=ie(this,mi,LG).call(this,u.getImageData(0,0,S,T).data),C=ie(this,mi,qIe).call(this,E),N=ie(this,mi,BG).call(this,C),F=ie(this,mi,jG).call(this,E,S,T,N);return this.processDrawnLines({lines:{curves:F,width:S,height:T},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,r,n,i,s){const[a,o,l]=ie(this,mi,GIe).call(this,e),[c,u]=ie(this,mi,WIe).call(this,a,o,l,Math.hypot(o,l)*y(this,$w).sigmaSFactor,y(this,$w).sigmaR,y(this,$w).kernelSize),d=ie(this,mi,BG).call(this,u),h=ie(this,mi,jG).call(this,c,o,l,d);return this.processDrawnLines({lines:{curves:h,width:o,height:l},pageWidth:r,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:r,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([r,n]=[n,r]);const{curves:l,width:c,height:u}=e,d=e.thickness??0,h=[],f=Math.min(r/c,n/u),g=f/r,m=f/n,v=[];for(const{points:w}of l){const b=a?ie(this,mi,HIe).call(this,w):w;if(!b)continue;v.push(b);const _=b.length,S=new Float32Array(_),T=new Float32Array(3*(_===2?2:_-2));if(h.push({line:T,points:S}),_===2){S[0]=b[0]*g,S[1]=b[1]*m,T.set([NaN,NaN,NaN,NaN,S[0],S[1]],0);continue}let[E,C,N,F]=b;E*=g,C*=m,N*=g,F*=m,S.set([E,C,N,F],0),T.set([NaN,NaN,NaN,NaN,E,C],0);for(let A=4;A<_;A+=2){const I=S[A]=b[A]*g,M=S[A+1]=b[A+1]*m;T.set(or.createBezierPoints(E,C,N,F,I,M),(A-2)*3),[E,C,N,F]=[N,F,I,M]}}if(h.length===0)return null;const x=o?new MG:new MR;return x.build(h,r,n,1,i,o?0:d,s),{outline:x,newCurves:v,areContours:o,thickness:d,width:c,height:u}}static async compressSignature({outlines:e,areContours:r,thickness:n,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const b of e){l+=b.length;for(let _=2,S=b.length;_<S;_++){const T=b[_]-b[_-2];a=Math.min(a,T),o=Math.max(o,T)}}let c;a>=-128&&o<=127?c=Int8Array:a>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const u=e.length,d=BD+Yk*u,h=new Uint32Array(d);let f=0;h[f++]=d*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,h[f++]=0,h[f++]=i,h[f++]=s,h[f++]=r?0:1,h[f++]=Math.max(0,Math.floor(n??0)),h[f++]=u,h[f++]=c.BYTES_PER_ELEMENT;for(const b of e)h[f++]=b.length-2,h[f++]=b[0],h[f++]=b[1];const g=new CompressionStream("deflate-raw"),m=g.writable.getWriter();await m.ready,m.write(h);const v=c.prototype.constructor;for(const b of e){const _=new v(b.length-2);for(let S=2,T=b.length;S<T;S++)_[S-2]=b[S]-b[S-2];m.write(_)}m.close();const x=await new Response(g.readable).arrayBuffer(),w=new Uint8Array(x);return WPe(w)}static async decompressSignature(e){try{const r=iVt(e),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(r).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const b of n)a||(a=new Uint8Array(new Uint32Array(b.buffer,0,4)[0])),a.set(b,o),o+=b.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],d=l[3],h=l[4]===0,f=l[5],g=l[6],m=l[7],v=[],x=(BD+Yk*g)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(m){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(a.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(a.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(a.buffer,x);break}o=0;for(let b=0;b<g;b++){const _=l[Yk*b+BD],S=new Float32Array(_+2);v.push(S);for(let T=0;T<Yk-1;T++)S[T]=l[Yk*b+BD+T+1];for(let T=0;T<_;T++)S[T+2]=S[T]+w[o++]}return{areContours:h,thickness:f,outlines:v,width:u,height:d}}catch(r){return Qr(`decompressSignature: ${r}`),null}}}$w=new WeakMap,mi=new WeakSet,FG=function(e,r,n,i){return n-=e,i-=r,n===0?i>0?0:4:n===1?i+6:2-i},uf=new WeakMap,UIe=function(e,r,n,i,s,a,o){const l=ie(this,mi,FG).call(this,n,i,s,a);for(let c=0;c<8;c++){const u=(-c+l-o+16)%8,d=y(this,uf)[2*u],h=y(this,uf)[2*u+1];if(e[(n+d)*r+(i+h)]!==0)return u}return-1},zIe=function(e,r,n,i,s,a,o){const l=ie(this,mi,FG).call(this,n,i,s,a);for(let c=0;c<8;c++){const u=(c+l+o+16)%8,d=y(this,uf)[2*u],h=y(this,uf)[2*u+1];if(e[(n+d)*r+(i+h)]!==0)return u}return-1},jG=function(e,r,n,i){const s=e.length,a=new Int32Array(s);for(let u=0;u<s;u++)a[u]=e[u]<=i?1:0;for(let u=1;u<n-1;u++)a[u*r]=a[u*r+r-1]=0;for(let u=0;u<r;u++)a[u]=a[r*n-1-u]=0;let o=1,l;const c=[];for(let u=1;u<n-1;u++){l=1;for(let d=1;d<r-1;d++){const h=u*r+d,f=a[h];if(f===0)continue;let g=u,m=d;if(f===1&&a[h-1]===0)o+=1,m-=1;else if(f>=1&&a[h+1]===0)o+=1,m+=1,f>1&&(l=f);else{f!==1&&(l=Math.abs(f));continue}const v=[d,u],x=m===d+1,w={isHole:x,points:v,id:o,parent:0};c.push(w);let b;for(const A of c)if(A.id===l){b=A;break}b?b.isHole?w.parent=x?b.parent:l:w.parent=x?l:b.parent:w.parent=x?l:0;const _=ie(this,mi,UIe).call(this,a,r,u,d,g,m,0);if(_===-1){a[h]=-o,a[h]!==1&&(l=Math.abs(a[h]));continue}let S=y(this,uf)[2*_],T=y(this,uf)[2*_+1];const E=u+S,C=d+T;g=E,m=C;let N=u,F=d;for(;;){const A=ie(this,mi,zIe).call(this,a,r,N,F,g,m,1);S=y(this,uf)[2*A],T=y(this,uf)[2*A+1];const I=N+S,M=F+T;v.push(M,I);const U=N*r+F;if(a[U+1]===0?a[U]=-o:a[U]===1&&(a[U]=o),I===u&&M===d&&N===E&&F===C){a[h]!==1&&(l=Math.abs(a[h]));break}else g=N,m=F,N=I,F=M}}}return c},iF=function(e,r,n,i){if(n-r<=4){for(let E=r;E<n-2;E+=2)i.push(e[E],e[E+1]);return}const s=e[r],a=e[r+1],o=e[n-4]-s,l=e[n-3]-a,c=Math.hypot(o,l),u=o/c,d=l/c,h=u*a-d*s,f=l/o,g=1/c,m=Math.atan(f),v=Math.cos(m),x=Math.sin(m),w=g*(Math.abs(v)+Math.abs(x)),b=g*(1-w+w**2),_=Math.max(Math.atan(Math.abs(x+v)*b),Math.atan(Math.abs(x-v)*b));let S=0,T=r;for(let E=r+2;E<n-2;E+=2){const C=Math.abs(h-u*e[E+1]+d*e[E]);C>S&&(T=E,S=C)}S>(c*_)**2?(ie(this,mi,iF).call(this,e,r,T+2,i),ie(this,mi,iF).call(this,e,T,n,i)):i.push(s,a)},HIe=function(e){const r=[],n=e.length;return ie(this,mi,iF).call(this,e,0,n,r),r.push(e[n-2],e[n-1]),r.length<=4?null:r},WIe=function(e,r,n,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,c=a>>1;for(let m=0;m<a;m++){const v=(m-c)**2;for(let x=0;x<a;x++)o[m*a+x]=Math.exp((v+(x-c)**2)/l)}const u=new Float32Array(256),d=-2*s**2;for(let m=0;m<256;m++)u[m]=Math.exp(m**2/d);const h=e.length,f=new Uint8Array(h),g=new Uint32Array(256);for(let m=0;m<n;m++)for(let v=0;v<r;v++){const x=m*r+v,w=e[x];let b=0,_=0;for(let T=0;T<a;T++){const E=m+T-c;if(!(E<0||E>=n))for(let C=0;C<a;C++){const N=v+C-c;if(N<0||N>=r)continue;const F=e[E*r+N],A=o[T*a+C]*u[Math.abs(F-w)];b+=F*A,_+=A}}const S=f[x]=Math.round(b/_);g[S]++}return[f,g]},qIe=function(e){const r=new Uint32Array(256);for(const n of e)r[n]++;return r},LG=function(e){const r=e.length,n=new Uint8ClampedArray(r>>2);let i=-1/0,s=1/0;for(let o=0,l=n.length;o<l;o++){const c=n[o]=e[o<<2];i=Math.max(i,c),s=Math.min(s,c)}const a=255/(i-s);for(let o=0,l=n.length;o<l;o++)n[o]=(n[o]-s)*a;return n},BG=function(e){let r,n=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(r=s;r<256;r++){const l=e[r];l>n&&(r-a>i&&(i=r-a,o=r-1),n=l,a=r)}for(r=o-1;r>=0&&!(e[r]>e[r+1]);r--);return r},GIe=function(e){const r=e,{width:n,height:i}=e,{maxDim:s}=y(this,$w);let a=n,o=i;if(n>s||i>s){let h=n,f=i,g=Math.log2(Math.max(n,i)/s);const m=Math.floor(g);g=g===m?m-1:m;for(let x=0;x<g;x++){a=Math.ceil(h/2),o=Math.ceil(f/2);const w=new OffscreenCanvas(a,o);w.getContext("2d").drawImage(e,0,0,h,f,0,0,a,o),h=a,f=o,e!==r&&e.close(),e=w.transferToImageBitmap()}const v=Math.min(s/a,s/o);a=Math.round(a*v),o=Math.round(o*v)}const c=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,a,o),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,a,o);const u=c.getImageData(0,0,a,o).data;return[ie(this,mi,LG).call(this,u),a,o]},Q(eg,mi),Q(eg,$w,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),Q(eg,uf,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class WJ extends FIe{constructor(){super(),super.updateProperties({fill:ls._defaultLineColor,"stroke-width":0})}clone(){const e=new WJ;return e.updateAll(this),e}}class qJ extends O7{constructor(e){super(e),super.updateProperties({stroke:ls._defaultLineColor,"stroke-width":1})}clone(){const e=new qJ(this._viewParameters);return e.updateAll(this),e}}var V1,Kp,U1,Vw;const Tu=class Tu extends p6{constructor(r){super({...r,mustBeCommitted:!0,name:"signatureEditor"});Q(this,V1,!1);Q(this,Kp,null);Q(this,U1,null);Q(this,Vw,null);this._willKeepAspectRatio=!0,H(this,U1,r.signatureData||null),H(this,Kp,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(r,n){ls.initialize(r,n),this._defaultDrawingOptions=new WJ,this._defaultDrawnSignatureOptions=new qJ(n.viewParameters)}static getDefaultDrawingOptions(r){const n=this._defaultDrawingOptions.clone();return n.updateProperties(r),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return en(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!y(this,Kp)}}static computeTelemetryFinalData(r){const n=r.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let r,n;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,r=this.x,n=this.y),super.render(),this._drawId===null)if(y(this,U1)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:c,heightInPage:u}=y(this,U1),{rawDims:{pageWidth:d,pageHeight:h},rotation:f}=this.parent.viewport,g=eg.processDrawnLines({lines:s,pageWidth:d,pageHeight:h,rotation:f,innerMargin:Tu._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(g,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:y(this,Kp)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(r,n)),this.div}setUuid(r){H(this,Vw,r),this.addEditToolbar()}getUuid(){return y(this,Vw)}get description(){return y(this,Kp)}set description(r){H(this,Kp,r),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:r})),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(r)}))}getSignaturePreview(){const{newCurves:r,areContours:n,thickness:i,width:s,height:a}=y(this,U1),o=Math.max(s,a),l=eg.processDrawnLines({lines:{curves:r.map(c=>({points:c})),thickness:i,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(r,n,i,s){const{x:a,y:o}=this,{outline:l}=H(this,U1,r);H(this,V1,l instanceof MG),this.description=i;let c;y(this,V1)?c=Tu.getDefaultDrawingOptions():(c=Tu._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,u]=this.pageDimensions;let d=n/u;d=d>=1?.5:d,this.width*=d/this.height,this.width>=1&&(d*=.9/this.width,this.width=.9),this.height=d,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(r){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return eg.process(r,n,i,s,Tu._INNER_MARGIN)}getFromText(r,n){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return eg.extractContoursFromText(r,n,i,s,a,Tu._INNER_MARGIN)}getDrawnSignature(r){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return eg.processDrawnLines({lines:r,pageWidth:n,pageHeight:i,rotation:s,innerMargin:Tu._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:r,thickness:n}){r?this._drawingOptions=Tu.getDefaultDrawingOptions():(this._drawingOptions=Tu._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(r=!1){if(this.isEmpty())return null;const{lines:n,points:i}=this.serializeDraw(r),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(r),{isSignature:!0,areContours:y(this,V1),color:[0,0,0],thickness:y(this,V1)?0:s});return this.addComment(a),r?(a.paths={lines:n,points:i},a.uuid=y(this,Vw),a.isCopy=!0):a.lines=n,y(this,Kp)&&(a.accessibilityData={type:"Figure",alt:y(this,Kp)}),a}static deserializeDraw(r,n,i,s,a,o){return o.areContours?MG.deserialize(r,n,i,s,a,o):MR.deserialize(r,n,i,s,a,o)}static async deserialize(r,n,i){var a;const s=await super.deserialize(r,n,i);return H(s,V1,r.areContours),s.description=((a=r.accessibilityData)==null?void 0:a.alt)||"",H(s,Vw,r.uuid),s}};V1=new WeakMap,Kp=new WeakMap,U1=new WeakMap,Vw=new WeakMap,Le(Tu,"_type","signature"),Le(Tu,"_editorType",an.SIGNATURE),Le(Tu,"_defaultDrawingOptions",null);let $G=Tu;var ks,Ao,z1,G0,H1,YE,K0,Uw,Yp,Gu,XE,Xn,B5,$5,sF,aF,oF,UG,lF,KIe;class VG extends ls{constructor(r){super({...r,name:"stampEditor"});Q(this,Xn);Q(this,ks,null);Q(this,Ao,null);Q(this,z1,null);Q(this,G0,null);Q(this,H1,null);Q(this,YE,"");Q(this,K0,null);Q(this,Uw,!1);Q(this,Yp,null);Q(this,Gu,!1);Q(this,XE,!1);H(this,G0,r.bitmapUrl),H(this,H1,r.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(r,n){ls.initialize(r,n)}static isHandlingMimeForPasting(r){return Tq.includes(r)}static paste(r,n){n.pasteEditor({mode:an.STAMP},{bitmapFile:r.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var r;return{type:"stamp",hasAltText:!!((r=this.altTextData)!=null&&r.altText)}}static computeTelemetryFinalData(r){const n=r.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(r=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=r||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),n&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var r;y(this,Ao)&&(H(this,ks,null),this._uiManager.imageManager.deleteId(y(this,Ao)),(r=y(this,K0))==null||r.remove(),H(this,K0,null),y(this,Yp)&&(clearTimeout(y(this,Yp)),H(this,Yp,null))),super.remove()}rebuild(){if(!this.parent){y(this,Ao)&&ie(this,Xn,sF).call(this);return}super.rebuild(),this.div!==null&&(y(this,Ao)&&y(this,K0)===null&&ie(this,Xn,sF).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(r){this._isDraggable=!0,r&&this.div.focus()}isEmpty(){return!(y(this,z1)||y(this,ks)||y(this,G0)||y(this,H1)||y(this,Ao)||y(this,Uw))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let r,n;return this._isCopy&&(r=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),y(this,Uw)||(y(this,ks)?ie(this,Xn,aF).call(this):ie(this,Xn,sF).call(this)),this._isCopy&&this._moveAfterPaste(r,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(r,n){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(r,n);n.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(H(this,Ao,i),s&&H(this,ks,s),H(this,Uw,!1),ie(this,Xn,aF).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;y(this,Yp)!==null&&clearTimeout(y(this,Yp)),H(this,Yp,setTimeout(()=>{H(this,Yp,null),ie(this,Xn,UG).call(this)},200))}copyCanvas(r,n,i=!1){r||(r=224);const{width:s,height:a}=y(this,ks),o=new Im;let l=y(this,ks),c=s,u=a,d=null;if(n){if(s>n||a>n){const E=Math.min(n/s,n/a);c=Math.floor(s*E),u=Math.floor(a*E)}d=document.createElement("canvas");const f=d.width=Math.ceil(c*o.sx),g=d.height=Math.ceil(u*o.sy);y(this,Gu)||(l=ie(this,Xn,oF).call(this,f,g));const m=d.getContext("2d");m.filter=this._uiManager.hcmFilter;let v="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":uVt.isDarkMode&&(v="#8f8f9d",x="#42414d");const w=15,b=w*o.sx,_=w*o.sy,S=new OffscreenCanvas(b*2,_*2),T=S.getContext("2d");T.fillStyle=v,T.fillRect(0,0,b*2,_*2),T.fillStyle=x,T.fillRect(0,0,b,_),T.fillRect(b,_,b,_),m.fillStyle=m.createPattern(S,"repeat"),m.fillRect(0,0,f,g),m.drawImage(l,0,0,l.width,l.height,0,0,f,g)}let h=null;if(i){let f,g;if(o.symmetric&&l.width<r&&l.height<r)f=l.width,g=l.height;else if(l=y(this,ks),s>r||a>r){const x=Math.min(r/s,r/a);f=Math.floor(s*x),g=Math.floor(a*x),y(this,Gu)||(l=ie(this,Xn,oF).call(this,f,g))}const v=new OffscreenCanvas(f,g).getContext("2d",{willReadFrequently:!0});v.drawImage(l,0,0,l.width,l.height,0,0,f,g),h={width:f,height:g,data:v.getImageData(0,0,f,g).data}}return{canvas:d,width:c,height:u,imageData:h}}static async deserialize(r,n,i){var v;let s=null,a=!1;if(r instanceof uIe){const{data:{rect:x,rotation:w,id:b,structParent:_,popupRef:S,richText:T,contentsObj:E,creationDate:C,modificationDate:N},container:F,parent:{page:{pageNumber:A}},canvas:I}=r;let M,U;I?(delete r.canvas,{id:M,bitmap:U}=i.imageManager.getFromCanvas(F.id,I),I.remove()):(a=!0,r._hasNoCanvas=!0);const Y=((v=await n._structTree.getAriaAttributes(`${DS}${b}`))==null?void 0:v.get("aria-label"))||"";s=r={annotationType:an.STAMP,bitmapId:M,bitmap:U,pageIndex:A-1,rect:x.slice(0),rotation:w,annotationElementId:b,id:b,deleted:!1,accessibilityData:{decorative:!1,altText:Y},isSvg:!1,structParent:_,popupRef:S,richText:T,comment:(E==null?void 0:E.str)||null,creationDate:C,modificationDate:N}}const o=await super.deserialize(r,n,i),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:d,isSvg:h,accessibilityData:f}=r;a?(i.addMissingCanvas(r.id,o),H(o,Uw,!0)):d&&i.imageManager.isValidId(d)?(H(o,Ao,d),c&&H(o,ks,c)):H(o,G0,u),H(o,Gu,h);const[g,m]=o.pageDimensions;return o.width=(l[2]-l[0])/g,o.height=(l[3]-l[1])/m,f&&(o.altTextData=f),o._initialData=s,r.comment&&o.setCommentData(r),H(o,XE,!!s),o}serialize(r=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(r),{bitmapId:y(this,Ao),isSvg:y(this,Gu)});if(this.addComment(i),r)return i.bitmapUrl=ie(this,Xn,lF).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=ie(this,Xn,KIe).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(n===null)return i;n.stamps||(n.stamps=new Map);const o=y(this,Gu)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(y(this,Ao)))n.stamps.set(y(this,Ao),{area:o,serialized:i}),i.bitmap=ie(this,Xn,lF).call(this,!1);else if(y(this,Gu)){const l=n.stamps.get(y(this,Ao));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=ie(this,Xn,lF).call(this,!1))}return i}renderAnnotationElement(r){return this.deleted?(r.hide(),null):(r.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}ks=new WeakMap,Ao=new WeakMap,z1=new WeakMap,G0=new WeakMap,H1=new WeakMap,YE=new WeakMap,K0=new WeakMap,Uw=new WeakMap,Yp=new WeakMap,Gu=new WeakMap,XE=new WeakMap,Xn=new WeakSet,B5=function(r,n=!1){if(!r){this.remove();return}H(this,ks,r.bitmap),n||(H(this,Ao,r.id),H(this,Gu,r.isSvg)),r.file&&H(this,YE,r.file.name),ie(this,Xn,aF).call(this)},$5=function(){if(H(this,z1,null),this._uiManager.enableWaiting(!1),!!y(this,K0)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&y(this,ks)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&y(this,ks)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},sF=function(){if(y(this,Ao)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(y(this,Ao)).then(i=>ie(this,Xn,B5).call(this,i,!0)).finally(()=>ie(this,Xn,$5).call(this));return}if(y(this,G0)){const i=y(this,G0);H(this,G0,null),this._uiManager.enableWaiting(!0),H(this,z1,this._uiManager.imageManager.getFromUrl(i).then(s=>ie(this,Xn,B5).call(this,s)).finally(()=>ie(this,Xn,$5).call(this)));return}if(y(this,H1)){const i=y(this,H1);H(this,H1,null),this._uiManager.enableWaiting(!0),H(this,z1,this._uiManager.imageManager.getFromFile(i).then(s=>ie(this,Xn,B5).call(this,s)).finally(()=>ie(this,Xn,$5).call(this)));return}const r=document.createElement("input");r.type="file",r.accept=Tq.join(",");const n=this._uiManager._signal;H(this,z1,new Promise(i=>{r.addEventListener("change",async()=>{if(!r.files||r.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(r.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),ie(this,Xn,B5).call(this,s)}i()},{signal:n}),r.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>ie(this,Xn,$5).call(this))),r.click()},aF=function(){var c;const{div:r}=this;let{width:n,height:i}=y(this,ks);const[s,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*s,i=this.height*a;else if(n>o*s||i>o*a){const u=Math.min(o*s/n,o*a/i);n*=u,i*=u}this._uiManager.enableWaiting(!1);const l=H(this,K0,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=n/s,this.height=i/a,this.setDims(),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(r.hidden=!1),ie(this,Xn,UG).call(this),y(this,XE)||(this.parent.addUndoableEditor(this),H(this,XE,!0)),this._reportTelemetry({action:"inserted_image"}),y(this,YE)&&this.div.setAttribute("aria-description",y(this,YE)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},oF=function(r,n){const{width:i,height:s}=y(this,ks);let a=i,o=s,l=y(this,ks);for(;a>2*r||o>2*n;){const c=a,u=o;a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(a,o);d.getContext("2d").drawImage(l,0,0,c,u,0,0,a,o),l=d.transferToImageBitmap()}return l},UG=function(){const[r,n]=this.parentDimensions,{width:i,height:s}=this,a=new Im,o=Math.ceil(i*r*a.sx),l=Math.ceil(s*n*a.sy),c=y(this,K0);if(!c||c.width===o&&c.height===l)return;c.width=o,c.height=l;const u=y(this,Gu)?y(this,ks):ie(this,Xn,oF).call(this,o,l),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(u,0,0,u.width,u.height,0,0,o,l)},lF=function(r){if(r){if(y(this,Gu)){const s=this._uiManager.imageManager.getSvgUrl(y(this,Ao));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=y(this,ks),n.getContext("2d").drawImage(y(this,ks),0,0),n.toDataURL()}if(y(this,Gu)){const[n,i]=this.pageDimensions,s=Math.round(this.width*n*tx.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*tx.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(y(this,ks),0,0,y(this,ks).width,y(this,ks).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(y(this,ks))},KIe=function(r){var o;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,s=r.pageIndex===n,a=(((o=r.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},Le(VG,"_type","stamp"),Le(VG,"_editorType",an.STAMP);var zw,ZE,W1,q1,Y0,Gc,G1,QE,JE,df,X0,Eo,Z0,K1,eT,br,Y1,Gi,HG,YIe,vp,WG,qG,cF;const Yh=class Yh{constructor({uiManager:e,pageIndex:r,div:n,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:u}){Q(this,Gi);Q(this,zw);Q(this,ZE,!1);Q(this,W1,null);Q(this,q1,null);Q(this,Y0,null);Q(this,Gc,new Map);Q(this,G1,!1);Q(this,QE,!1);Q(this,JE,!1);Q(this,df,null);Q(this,X0,null);Q(this,Eo,null);Q(this,Z0,null);Q(this,K1,null);Q(this,eT,-1);Q(this,br);const d=[...y(Yh,Y1).values()];if(!Yh._initialized){Yh._initialized=!0;for(const h of d)h.initialize(u,e)}e.registerEditorTypes(d),H(this,br,e),this.pageIndex=r,this.div=n,H(this,zw,s),H(this,W1,a),this.viewport=c,H(this,Eo,l),this.drawLayer=o,this._structTree=i,y(this,br).addLayer(this)}get isEmpty(){return y(this,Gc).size===0}get isInvisible(){return this.isEmpty&&y(this,br).getMode()===an.NONE}updateToolbar(e){y(this,br).updateToolbar(e)}updateMode(e=y(this,br).getMode()){switch(ie(this,Gi,cF).call(this),e){case an.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case an.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case an.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:r}=this.div;if(r.toggle("nonEditing",!1),e===an.POPUP)r.toggle("commentEditing",!0);else{r.toggle("commentEditing",!1);for(const n of y(Yh,Y1).values())r.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){var r;return e===((r=y(this,Eo))==null?void 0:r.div)}setEditingState(e){y(this,br).setEditingState(e)}addCommands(e){y(this,br).addCommands(e)}cleanUndoStack(e){y(this,br).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var r;(r=y(this,W1))==null||r.togglePointerEvents(e)}async enable(){var n;H(this,JE,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(n=y(this,K1))==null||n.abort(),H(this,K1,null);const e=new Set;for(const i of y(this,Gi,HG))i.enableEditing(),i.show(!0),i.annotationElementId&&(y(this,br).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const r=y(this,W1);if(r)for(const i of r.getEditableAnnotations()){if(i.hide(),y(this,br).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}H(this,JE,!1),y(this,br)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(H(this,QE,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),y(this,Eo)&&!y(this,K1)){H(this,K1,new AbortController);const s=y(this,br).combinedSignal(y(this,K1));y(this,Eo).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:c,timeStamp:u}=a,d=y(this,eT);if(u-d>500){H(this,eT,u);return}H(this,eT,-1);const{classList:h}=this.div;h.toggle("getElements",!0);const f=document.elementsFromPoint(l,c);if(h.toggle("getElements",!1),!this.div.contains(f[0]))return;let g;const m=new RegExp(`^${CI}[0-9]+$`);for(const x of f)if(m.test(x.id)){g=x.id;break}if(!g)return;const v=y(this,Gc).get(g);(v==null?void 0:v.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),v.dblclick(a))},{signal:s,capture:!0})}const e=y(this,W1),r=[];if(e){const s=new Map,a=new Map;for(const l of y(this,Gi,HG)){if(l.disableEditing(),!l.annotationElementId){r.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(i=this.getEditableAnnotation(l.annotationElementId))==null||i.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(y(this,br).isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let u=a.get(c);if(u){u.resetAnnotationElement(l),u.show(!1),l.show();continue}u=s.get(c),u&&(y(this,br).addChangedExistingAnnotation(u),u.renderAnnotationElement(l)&&u.show(!1)),l.show()}}ie(this,Gi,cF).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of y(Yh,Y1).values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(r),H(this,QE,!1)}getEditableAnnotation(e){var r;return((r=y(this,W1))==null?void 0:r.getEditableAnnotation(e))||null}setActiveEditor(e){y(this,br).getActive()!==e&&y(this,br).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=y(this,Eo))!=null&&e.div&&!y(this,Z0)){H(this,Z0,new AbortController);const r=y(this,br).combinedSignal(y(this,Z0));y(this,Eo).div.addEventListener("pointerdown",ie(this,Gi,YIe).bind(this),{signal:r}),y(this,Eo).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=y(this,Eo))!=null&&e.div&&y(this,Z0)&&(y(this,Z0).abort(),H(this,Z0,null),y(this,Eo).div.classList.remove("highlighting"))}enableClick(){if(y(this,q1))return;H(this,q1,new AbortController);const e=y(this,br).combinedSignal(y(this,q1));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const r=this.pointerup.bind(this);this.div.addEventListener("pointerup",r,{signal:e}),this.div.addEventListener("pointercancel",r,{signal:e})}disableClick(){var e;(e=y(this,q1))==null||e.abort(),H(this,q1,null)}attach(e){y(this,Gc).set(e.id,e);const{annotationElementId:r}=e;r&&y(this,br).isDeletedAnnotationElement(r)&&y(this,br).removeDeletedAnnotationElement(e)}detach(e){var r;y(this,Gc).delete(e.id),(r=y(this,zw))==null||r.removePointerInTextLayer(e.contentDiv),!y(this,QE)&&e.annotationElementId&&y(this,br).addDeletedAnnotationElement(e)}remove(e){this.detach(e),y(this,br).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var r;e.parent!==this&&(e.parent&&e.annotationElementId&&(y(this,br).addDeletedAnnotationElement(e),ls.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(r=e.parent)==null||r.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),y(this,br).addEditor(e),this.attach(e),!e.isAttachedToDOM){const r=e.render();this.div.append(r),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!y(this,JE)),y(this,br).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:r}=document;e.div.contains(r)&&!y(this,Y0)&&(e._focusEventsAllowed=!1,H(this,Y0,setTimeout(()=>{H(this,Y0,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:y(this,br)._signal}),r.focus())},0))),e._structTreeParentId=(n=y(this,zw))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const r=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:r,undo:n,mustExec:!1})}getEditorByUID(e){for(const r of y(this,Gc).values())if(r.uid===e)return r;return null}getNextId(){return y(this,br).getId()}combinedSignal(e){return y(this,br).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=y(this,Gi,vp))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,r){this.updateToolbar(e),await y(this,br).updateMode(e.mode);const{offsetX:n,offsetY:i}=ie(this,Gi,qG).call(this),s=this.getNextId(),a=ie(this,Gi,WG).call(this,{parent:this,id:s,x:n,y:i,uiManager:y(this,br),isCentered:!0,...r});a&&this.add(a)}async deserialize(e){var r;return await((r=y(Yh,Y1).get(e.annotationType??e.annotationEditorType))==null?void 0:r.deserialize(e,this,y(this,br)))||null}createAndAddNewEditor(e,r,n={}){const i=this.getNextId(),s=ie(this,Gi,WG).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:y(this,br),isCentered:r,...n});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(ie(this,Gi,qG).call(this),!0,e)}setSelected(e){y(this,br).setSelected(e)}toggleSelected(e){y(this,br).toggleSelected(e)}unselect(e){y(this,br).unselect(e)}pointerup(e){var i;const{isMac:r}=ho.platform;if(e.button!==0||e.ctrlKey&&r||e.target!==this.div||!y(this,G1)||(H(this,G1,!1),(i=y(this,Gi,vp))!=null&&i.isDrawer&&y(this,Gi,vp).supportMultipleDrawings))return;if(!y(this,ZE)){H(this,ZE,!0);return}const n=y(this,br).getMode();if(n===an.STAMP||n===an.SIGNATURE){y(this,br).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(y(this,br).getMode()===an.HIGHLIGHT&&this.enableTextSelection(),y(this,G1)){H(this,G1,!1);return}const{isMac:r}=ho.platform;if(e.button!==0||e.ctrlKey&&r||e.target!==this.div)return;if(H(this,G1,!0),(i=y(this,Gi,vp))!=null&&i.isDrawer){this.startDrawingSession(e);return}const n=y(this,br).getActive();H(this,ZE,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),y(this,df)){y(this,Gi,vp).startDrawing(this,y(this,br),!1,e);return}y(this,br).setCurrentDrawingSession(this),H(this,df,new AbortController);const r=y(this,br).combinedSignal(y(this,df));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(H(this,X0,null),this.commitOrRemove())},{signal:r}),y(this,Gi,vp).startDrawing(this,y(this,br),!1,e)}pause(e){if(e){const{activeElement:r}=document;this.div.contains(r)&&H(this,X0,r);return}y(this,X0)&&setTimeout(()=>{var r;(r=y(this,X0))==null||r.focus(),H(this,X0,null)},0)}endDrawingSession(e=!1){return y(this,df)?(y(this,br).setCurrentDrawingSession(null),y(this,df).abort(),H(this,df,null),H(this,X0,null),y(this,Gi,vp).endDrawing(e)):null}findNewParent(e,r,n){const i=y(this,br).findParent(r,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return y(this,df)?(this.endDrawingSession(),!0):!1}onScaleChanging(){y(this,df)&&y(this,Gi,vp).onScaleChangingWhenDrawing(this)}destroy(){var e,r;this.commitOrRemove(),((e=y(this,br).getActive())==null?void 0:e.parent)===this&&(y(this,br).commitOrRemove(),y(this,br).setActiveEditor(null)),y(this,Y0)&&(clearTimeout(y(this,Y0)),H(this,Y0,null));for(const n of y(this,Gc).values())(r=y(this,zw))==null||r.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,y(this,Gc).clear(),y(this,br).removeLayer(this)}render({viewport:e}){this.viewport=e,U_(this.div,e);for(const r of y(this,br).getEditors(this.pageIndex))this.add(r),r.rebuild();this.updateMode()}update({viewport:e}){y(this,br).commitOrRemove(),ie(this,Gi,cF).call(this);const r=this.viewport.rotation,n=e.rotation;if(this.viewport=e,U_(this.div,{rotation:n}),r!==n)for(const i of y(this,Gc).values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:r}=this.viewport.rawDims;return[e,r]}get scale(){return y(this,br).viewParameters.realScale}};zw=new WeakMap,ZE=new WeakMap,W1=new WeakMap,q1=new WeakMap,Y0=new WeakMap,Gc=new WeakMap,G1=new WeakMap,QE=new WeakMap,JE=new WeakMap,df=new WeakMap,X0=new WeakMap,Eo=new WeakMap,Z0=new WeakMap,K1=new WeakMap,eT=new WeakMap,br=new WeakMap,Y1=new WeakMap,Gi=new WeakSet,HG=function(){return y(this,Gc).size!==0?y(this,Gc).values():y(this,br).getEditors(this.pageIndex)},YIe=function(e){y(this,br).unselectAll();const{target:r}=e;if(r===y(this,Eo).div||(r.getAttribute("role")==="img"||r.classList.contains("endOfContent"))&&y(this,Eo).div.contains(r)){const{isMac:n}=ho.platform;if(e.button!==0||e.ctrlKey&&n)return;y(this,br).showAllEditors("highlight",!0,!0),y(this,Eo).div.classList.add("free"),this.toggleDrawing(),f6.startHighlighting(this,y(this,br).direction==="ltr",{target:y(this,Eo).div,x:e.x,y:e.y}),y(this,Eo).div.addEventListener("pointerup",()=>{y(this,Eo).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:y(this,br)._signal}),e.preventDefault()}},vp=function(){return y(Yh,Y1).get(y(this,br).getMode())},WG=function(e){const r=y(this,Gi,vp);return r?new r.prototype.constructor(e):null},qG=function(){const{x:e,y:r,width:n,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,r),o=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,r+i),c=(s+o)/2-e,u=(a+l)/2-r,[d,h]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:d,offsetY:h}},cF=function(){for(const e of y(this,Gc).values())e.isEmpty()&&e.remove()},Le(Yh,"_initialized",!1),Q(Yh,Y1,new Map([AG,DG,VG,f6,$G].map(e=>[e._editorType,e])));let zG=Yh;var hf,ac,Hw,SO,D6,XIe,Om,KG,ZIe,YG;const eo=class eo{constructor({pageIndex:e}){Q(this,Om);Q(this,hf,null);Q(this,ac,new Map);Q(this,Hw,new Map);this.pageIndex=e}setParent(e){if(!y(this,hf)){H(this,hf,e);return}if(y(this,hf)!==e){if(y(this,ac).size>0)for(const r of y(this,ac).values())r.remove(),e.append(r);H(this,hf,e)}}static get _svgFactory(){return en(this,"_svgFactory",new d6)}draw(e,r=!1,n=!1){const i=qs(eo,SO)._++,s=ie(this,Om,KG).call(this),a=eo._svgFactory.createElement("defs");s.append(a);const o=eo._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),r&&y(this,Hw).set(i,o);const c=n?ie(this,Om,ZIe).call(this,a,l):null,u=eo._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(s,e),y(this,ac).set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,r){const n=qs(eo,SO)._++,i=ie(this,Om,KG).call(this),s=eo._svgFactory.createElement("defs");i.append(s);const a=eo._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${n}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(r){const d=eo._svgFactory.createElement("mask");s.append(d),l=`mask_p${this.pageIndex}_${n}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const h=eo._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=eo._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const c=eo._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(i,e),y(this,ac).set(n,i),n}finalizeDraw(e,r){y(this,Hw).delete(e),this.updateProperties(e,r)}updateProperties(e,r){var l;if(!r)return;const{root:n,bbox:i,rootClass:s,path:a}=r,o=typeof e=="number"?y(this,ac).get(e):e;if(o){if(n&&ie(this,Om,YG).call(this,o,n),i&&ie(l=eo,D6,XIe).call(l,o,i),s){const{classList:c}=o;for(const[u,d]of Object.entries(s))c.toggle(u,d)}if(a){const u=o.firstElementChild.firstElementChild;ie(this,Om,YG).call(this,u,a)}}}updateParent(e,r){if(r===this)return;const n=y(this,ac).get(e);n&&(y(r,hf).append(n),y(this,ac).delete(e),y(r,ac).set(e,n))}remove(e){y(this,Hw).delete(e),y(this,hf)!==null&&(y(this,ac).get(e).remove(),y(this,ac).delete(e))}destroy(){H(this,hf,null);for(const e of y(this,ac).values())e.remove();y(this,ac).clear(),y(this,Hw).clear()}};hf=new WeakMap,ac=new WeakMap,Hw=new WeakMap,SO=new WeakMap,D6=new WeakSet,XIe=function(e,[r,n,i,s]){const{style:a}=e;a.top=`${100*n}%`,a.left=`${100*r}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},Om=new WeakSet,KG=function(){const e=eo._svgFactory.create(1,1,!0);return y(this,hf).append(e),e.setAttribute("aria-hidden",!0),e},ZIe=function(e,r){const n=eo._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${r}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=eo._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${r}`),s.classList.add("clip"),i},YG=function(e,r){for(const[n,i]of Object.entries(r))i===null?e.removeAttribute(n):e.setAttribute(n,i)},Q(eo,D6),Q(eo,SO,0);let GG=eo;globalThis._pdfjsTestingUtils={HighlightOutliner:TG};globalThis.pdfjsLib={AbortException:ex,AnnotationEditorLayer:zG,AnnotationEditorParamsType:Vn,AnnotationEditorType:an,AnnotationEditorUIManager:z_,AnnotationLayer:_G,AnnotationMode:e1,AnnotationType:Pa,applyOpacity:hVt,build:bUt,ColorPicker:c6,createValidAbsoluteUrl:VPe,CSSConstants:dVt,DOMSVGFactory:d6,DrawLayer:GG,FeatureTest:ho,fetchData:NR,findContrastColor:fVt,getDocument:YNe,getFilenameFromUrl:sVt,getPdfFilenameFromUrl:aVt,getRGB:OR,getUuid:HPe,getXfaPageViewport:lVt,GlobalWorkerOptions:tm,ImageKind:NM,InvalidPDFException:Aq,isDataScheme:N7,isPdfFile:BJ,isValidExplicitDest:AVt,MathClamp:lc,noContextMenu:Ph,normalizeUnicode:rVt,OPS:kI,OutputScale:Im,PasswordResponses:G9t,PDFDataRangeTransport:XNe,PDFDateString:n6,PDFWorker:II,PermissionFlag:q9t,PixelsPerInch:tx,RenderingCancelledException:LJ,renderRichText:GPe,ResponseException:r6,setLayerDimensions:U_,shadow:en,SignatureExtractor:eg,stopEvent:ia,SupportedImageMimeTypes:Tq,TextLayer:NI,TouchManager:s6,updateUrlHash:UPe,Util:er,VerbosityLevel:C7,version:xUt,XfaLayer:qPe};const HUt="/creditflow-manager/assets/pdf.worker.min-LyOxJPrg.mjs";tm.workerSrc=HUt;function tpe({onImport:t,tipo:e,apenasButton:r=!1}){const[n,i]=O.useState(!1),[s,a]=O.useState(""),o=async h=>{try{const f=await new Promise(m=>{h.toBlob(v=>m(v),"image/png")});return(await W9t.recognize(f,"por",{logger:m=>{m.status==="recognizing text"&&a(`Reconhecendo texto: ${Math.round(m.progress*100)}%`)}})).data.text}catch(f){throw console.error("Erro no OCR:",f),f}},l=async h=>{const f=await h.arrayBuffer(),g=await YNe({data:f}).promise;let m="";a(`Processando ${g.numPages} pginas...`);for(let v=1;v<=g.numPages;v++){a(`Processando pgina ${v} de ${g.numPages}...`);const x=await g.getPage(v),w=x.getViewport({scale:2}),b=document.createElement("canvas"),_=b.getContext("2d");if(!_)continue;b.height=w.height,b.width=w.width,await x.render({canvasContext:_,viewport:w,canvas:b}).promise;const S=await o(b);m+=S+`

`}return m},c=h=>{const f=[],g=h.split(`
`).filter(S=>S.trim()),m=/contrato[:\s#]*([\d\-/]+)/i,v=/(\d{3}\.?\d{3}\.?\d{3}-?\d{2})/,x=/R\$?\s*(\d+(?:\.\d{3})*(?:,\d{2})?)/,w=/(\d{2}\/\d{2}\/\d{4})/;let b={},_=!1;for(let S=0;S<g.length;S++){const T=g[S].trim(),E=T.match(m);E&&(_&&b.contrato&&f.push(b),b={contrato:E[1]},_=!0);const C=T.match(v);C&&!b.cpfCliente&&(b.cpfCliente=C[1]);const N=T.match(x);if(N){const A=parseFloat(N[1].replace(/\./g,"").replace(",","."));b.valorProduto?b.valorComissao||(b.valorComissao=A):b.valorProduto=A}const F=T.match(w);if(F&&!b.dataVenda){const[A,I,M]=F[1].split("/");b.dataVenda=new Date(parseInt(M),parseInt(I)-1,parseInt(A))}/^[A-Z\s]{10,}$/.test(T)&&(b.cliente?b.funcionario?b.fornecedor||(b.fornecedor=T):b.funcionario=T:b.cliente=T)}return _&&b.contrato&&f.push(b),f.map(S=>({contrato:S.contrato||"SEM-CONTRATO",cliente:S.cliente||"Cliente no identificado",fornecedor:S.fornecedor||"Fornecedor no identificado",funcionario:S.funcionario||"Funcionrio no identificado",produto:S.produto||"Produto no identificado",valorComissao:S.valorComissao||0,valorProduto:S.valorProduto||0,dataVenda:S.dataVenda||new Date,cpfCliente:S.cpfCliente,cpfFuncionario:S.cpfFuncionario,observacoes:"Importado via OCR - Verificar dados"}))},u=async h=>{var g;const f=(g=h.target.files)==null?void 0:g[0];if(f){if(!f.name.endsWith(".pdf")){Be.error("Por favor, selecione um arquivo PDF");return}i(!0),a("Iniciando processamento...");try{const m=await l(f);if(!m.trim()){Be.error("No foi possvel extrair texto do PDF");return}a("Analisando dados extrados...");const v=c(m);if(v.length===0){Be.warning("Nenhum registro vlido encontrado no PDF. Verifique o formato do arquivo.");return}t(v),Be.success(`${v.length} registros extrados do PDF com sucesso!`),h.target.value=""}catch(m){console.error("Erro ao processar PDF:",m),Be.error("Erro ao processar PDF. Verifique o arquivo e tente novamente.")}finally{i(!1),a("")}}},d=p.jsx(mt,{variant:"outline",className:"gap-2 w-full",disabled:n,asChild:!0,children:p.jsxs("label",{className:"cursor-pointer",children:[p.jsx("input",{type:"file",accept:".pdf",onChange:u,className:"hidden",disabled:n}),n?p.jsxs(p.Fragment,{children:[p.jsx(ire,{className:"w-4 h-4 animate-spin"}),s||"Processando..."]}):p.jsxs(p.Fragment,{children:[p.jsx(fg,{className:"w-4 h-4"}),"Importar PDF (OCR)"]})]})});return r?d:p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:p.jsx(iz,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),p.jsxs("div",{className:"flex-1 space-y-4",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-semibold",children:["Importar ",e==="interno"?"Dados Internos":"Dados do Fornecedor"," (PDF)"]}),p.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Faa upload de um PDF contendo os dados de vendas. O sistema ir extrair automaticamente as informaes usando tecnologia OCR (Reconhecimento ptico de Caracteres)."})]}),d,n&&s&&p.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ire,{className:"w-4 h-4 animate-spin text-blue-600"}),p.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:s})]})}),p.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-900 rounded-lg",children:p.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-400",children:[p.jsx("strong",{children:"Dica:"})," Para melhores resultados, certifique-se que o PDF contenha: nmeros de contrato, CPFs, valores (R$), datas (DD/MM/AAAA) e nomes de clientes/funcionrios. Aps a importao, revise os dados extrados."]})})]})]})})}function WUt({filtros:t,onFiltrosChange:e,fornecedores:r,funcionarios:n}){var d,h;const[i,s]=O.useState((d=t.periodo)==null?void 0:d.inicio),[a,o]=O.useState((h=t.periodo)==null?void 0:h.fim),l=(f,g)=>{if(f&&g)e({...t,periodo:{inicio:f,fim:g}});else{const{periodo:m,...v}=t;e(v)}},c=()=>{s(void 0),o(void 0),e({})},u=Object.keys(t).length>0;return p.jsxs(Tr,{className:"p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Filtros de Conciliao"}),u&&p.jsxs(mt,{variant:"ghost",size:"sm",onClick:c,className:"gap-2 text-muted-foreground hover:text-foreground",children:[p.jsx(Y_,{className:"w-4 h-4"}),"Limpar Filtros"]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-1",children:[p.jsx(Xe,{children:"Perodo"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Hg,{children:[p.jsx(Wg,{asChild:!0,children:p.jsxs(mt,{variant:"outline",className:Pt("flex-1 justify-start text-left font-normal",!i&&"text-muted-foreground"),children:[p.jsx(My,{className:"mr-2 h-4 w-4"}),i?Pr(i,"dd/MM/yyyy",{locale:Zr}):"Data inicial"]})}),p.jsx(Nm,{className:"w-auto p-0",children:p.jsx(qg,{mode:"single",selected:i,onSelect:f=>{s(f),f&&a&&l(f,a)},locale:Zr})})]}),p.jsxs(Hg,{children:[p.jsx(Wg,{asChild:!0,children:p.jsxs(mt,{variant:"outline",className:Pt("flex-1 justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[p.jsx(My,{className:"mr-2 h-4 w-4"}),a?Pr(a,"dd/MM/yyyy",{locale:Zr}):"Data final"]})}),p.jsx(Nm,{className:"w-auto p-0",children:p.jsx(qg,{mode:"single",selected:a,onSelect:f=>{o(f),i&&f&&l(i,f)},locale:Zr})})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{children:"Fornecedor"}),p.jsxs(yn,{value:t.fornecedor||"todos",onValueChange:f=>e({...t,fornecedor:f==="todos"?void 0:f}),children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Todos os fornecedores"})}),p.jsxs(mn,{children:[p.jsx($t,{value:"todos",children:"Todos os fornecedores"}),r.map(f=>p.jsx($t,{value:f,children:f},f))]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{children:"Funcionrio/Agente"}),p.jsxs(yn,{value:t.funcionario||"todos",onValueChange:f=>e({...t,funcionario:f==="todos"?void 0:f}),children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Todos os funcionrios"})}),p.jsxs(mn,{children:[p.jsx($t,{value:"todos",children:"Todos os funcionrios"}),n.map(f=>p.jsx($t,{value:f,children:f},f))]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{children:"Status"}),p.jsxs(yn,{value:t.statusDivergencia||"todos",onValueChange:f=>e({...t,statusDivergencia:f}),children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Todos"})}),p.jsxs(mn,{children:[p.jsx($t,{value:"todos",children:"Todos"}),p.jsx($t,{value:"ok",children:" Conciliado"}),p.jsx($t,{value:"divergente",children:" Divergente"}),p.jsx($t,{value:"nao_encontrado",children:" No Encontrado"})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{children:"Valor Mnimo (R$)"}),p.jsx(pt,{type:"number",step:"0.01",placeholder:"0,00",value:t.valorMinimo||"",onChange:f=>e({...t,valorMinimo:f.target.value?parseFloat(f.target.value):void 0})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{children:"Valor Mximo (R$)"}),p.jsx(pt,{type:"number",step:"0.01",placeholder:"0,00",value:t.valorMaximo||"",onChange:f=>e({...t,valorMaximo:f.target.value?parseFloat(f.target.value):void 0})})]})]})]})}function qUt(t,e,r,n){const i=[],s=t>0?e/t*100:0,a=r&&r>0&&n?n/r*100:0,o=.5,l=8,c=.1;let u=!1,d=!0;if(s<o?(i.push(` Taxa muito baixa: ${s.toFixed(2)}% (esperado: ${o}% - ${l}%)`),u=!0):s>l&&(i.push(` Taxa muito alta: ${s.toFixed(2)}% (esperado: ${o}% - ${l}%)`),u=!0),a>0){Math.abs(s-a)>c&&(i.push(` Divergncia de taxa: Interno ${s.toFixed(2)}% vs Fornecedor ${a.toFixed(2)}%`),u=!0);const m=(r||0)*(a/100);Math.abs(m-(n||0))>.5&&(i.push(` Valor pago incorreto: R$ ${(n||0).toFixed(2)} (esperado: R$ ${m.toFixed(2)})`),d=!1)}const h=t*(s/100);return Math.abs(h-e)>.5&&(i.push(` Clculo interno incorreto: R$ ${e.toFixed(2)} (esperado: R$ ${h.toFixed(2)} com taxa de ${s.toFixed(2)}%)`),d=!1),i.length===0&&i.push(` Taxa e valores esto corretos (${s.toFixed(2)}%)`),{taxaAplicadaInterno:s,taxaAplicadaFornecedor:a,taxaDivergente:u,valorPagoCorreto:d,observacoes:i}}function GUt(t,e){const r=[];new Set(e.map(i=>i.contrato.trim().toUpperCase()));const n=new Set(t.map(i=>i.contrato.trim().toUpperCase()));return t.forEach((i,s)=>{const a=i.contrato.trim().toUpperCase(),o=e.find(d=>d.contrato.trim().toUpperCase()===a),l=[];let c="ok";const u=qUt(i.valorProduto,i.valorComissao,o==null?void 0:o.valorProduto,o==null?void 0:o.valorComissao);if((u.taxaDivergente||!u.valorPagoCorreto)&&(l.push(...u.observacoes.filter(d=>d.includes("")||d.includes(""))),c="divergente"),!o)c="nao_encontrado_fornecedor",l.push("Contrato no encontrado no relatrio do fornecedor");else{const d=Math.abs(i.valorComissao-o.valorComissao),h=Math.abs(i.valorProduto-o.valorProduto),f=.01;d>f&&(l.push(`Divergncia na comisso: R$ ${d.toFixed(2)}`),c="divergente"),h>f&&(l.push(`Divergncia no valor do produto: R$ ${h.toFixed(2)}`),c="divergente"),o.cliente&&i.cliente!==o.cliente&&(l.push("Nome do cliente divergente"),c="divergente")}r.push({id:`div-${s}`,contratoInterno:i.contrato,contratoFornecedor:(o==null?void 0:o.contrato)||"",cliente:i.cliente,fornecedor:i.fornecedor,funcionario:i.funcionario,valorComissaoInterno:i.valorComissao,valorComissaoFornecedor:(o==null?void 0:o.valorComissao)||0,valorProdutoInterno:i.valorProduto,valorProdutoFornecedor:(o==null?void 0:o.valorProduto)||0,dataVenda:i.dataVenda,status:c,tiposDivergencia:l,diferencaComissao:o?Math.abs(i.valorComissao-o.valorComissao):i.valorComissao,diferencaProduto:o?Math.abs(i.valorProduto-o.valorProduto):i.valorProduto,validacaoInteligente:u})}),e.forEach((i,s)=>{const a=i.contrato.trim().toUpperCase();n.has(a)||r.push({id:`div-forn-${s}`,contratoInterno:"",contratoFornecedor:i.contrato,cliente:i.cliente,fornecedor:i.fornecedor,funcionario:i.funcionario,valorComissaoInterno:0,valorComissaoFornecedor:i.valorComissao,valorProdutoInterno:0,valorProdutoFornecedor:i.valorProduto,dataVenda:i.dataVenda,status:"nao_encontrado_interno",tiposDivergencia:["Contrato no encontrado nos dados internos"],diferencaComissao:i.valorComissao,diferencaProduto:i.valorProduto})}),r}function KUt(t){const e=t.length,r=t.filter(c=>c.status==="ok").length,n=t.filter(c=>c.status==="divergente").length,i=t.filter(c=>c.status==="nao_encontrado_fornecedor"||c.status==="nao_encontrado_interno").length,s=t.reduce((c,u)=>c+u.diferencaComissao,0),a=t.reduce((c,u)=>c+u.diferencaProduto,0),o=t.reduce((c,u)=>c+u.valorComissaoInterno,0),l=t.reduce((c,u)=>c+u.valorComissaoFornecedor,0);return{total:e,conciliados:r,divergentes:n,naoEncontrados:i,percentualConciliado:e>0?r/e*100:0,totalDiferencaComissao:s,totalDiferencaProduto:a,totalComissaoInterno:o,totalComissaoFornecedor:l,diferencaTotalComissao:o-l,totalDivergencias:n,totalDiferencas:s,totalContratos:e}}async function YUt(t,e,r){const n=new wr,i=n.internal.pageSize.getWidth();let s=20;n.setFontSize(20),n.setFont("helvetica","bold"),n.text("Relatrio de Conciliao",i/2,s,{align:"center"}),s+=10,n.setFontSize(10),n.setFont("helvetica","normal"),n.text(`Gerado em: ${Pr(new Date,"dd/MM/yyyy 's' HH:mm",{locale:Zr})}`,i/2,s,{align:"center"}),s+=15,n.setFontSize(12),n.setFont("helvetica","bold"),n.text("Filtros Aplicados:",14,s),s+=7,n.setFontSize(10),n.setFont("helvetica","normal"),r.periodo&&(n.text(`Perodo: ${Pr(r.periodo.inicio,"dd/MM/yyyy",{locale:Zr})} a ${Pr(r.periodo.fim,"dd/MM/yyyy",{locale:Zr})}`,14,s),s+=5),r.fornecedor&&(n.text(`Fornecedor: ${r.fornecedor}`,14,s),s+=5),r.funcionario&&(n.text(`Funcionrio: ${r.funcionario}`,14,s),s+=5),s+=10,n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Resumo Executivo",14,s),s+=10,rb(n,{startY:s,head:[["Mtrica","Valor"]],body:[["Total de Registros",e.total.toString()],["Conciliados",`${e.conciliados} (${e.percentualConciliado.toFixed(1)}%)`],["Divergentes",e.divergentes.toString()],["No Encontrados",e.naoEncontrados.toString()],["Total Comisso Interno",`R$ ${e.totalComissaoInterno.toFixed(2)}`],["Total Comisso Fornecedor",`R$ ${e.totalComissaoFornecedor.toFixed(2)}`],["Diferena Total",`R$ ${e.diferencaTotalComissao.toFixed(2)}`]],theme:"grid",headStyles:{fillColor:[59,130,246]}}),n.addPage(),s=20,n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Anlise Grfica",14,s),s+=15,n.setFontSize(10),n.setFont("helvetica","normal");const a=e.percentualConciliado.toFixed(1),o=(e.divergentes/e.total*100).toFixed(1),l=(e.naoEncontrados/e.total*100).toFixed(1);if(n.text(` Conciliados: ${a}%`,14,s),s+=7,n.text(` Divergentes: ${o}%`,14,s),s+=7,n.text(` No Encontrados: ${l}%`,14,s),t.length>0){n.addPage(),s=20,n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Detalhamento das Divergncias",14,s),s+=10;const d=t.filter(h=>h.status!=="ok");if(d.length>0){const h=d.slice(0,50).map(f=>[f.contratoInterno||f.contratoFornecedor,f.cliente,f.fornecedor,`R$ ${f.diferencaComissao.toFixed(2)}`,f.status==="divergente"?"Divergente":f.status==="nao_encontrado_fornecedor"?"No Encontrado (Fornec.)":"No Encontrado (Interno)",f.tiposDivergencia.join(", ")]);if(rb(n,{startY:s,head:[["Contrato","Cliente","Fornecedor","Dif. Comisso","Status","Observaes"]],body:h,theme:"striped",headStyles:{fillColor:[239,68,68]},styles:{fontSize:8,cellPadding:2},columnStyles:{5:{cellWidth:50}}}),d.length>50){const f=n.lastAutoTable.finalY+10;n.setFontSize(10),n.setFont("helvetica","italic"),n.text(`* Mostrando 50 de ${d.length} divergncias. Exporte os dados completos para anlise detalhada.`,14,f)}}}const c=n.getNumberOfPages();for(let d=1;d<=c;d++)n.setPage(d),n.setFontSize(8),n.setFont("helvetica","normal"),n.text(`Pgina ${d} de ${c}`,i/2,n.internal.pageSize.getHeight()-10,{align:"center"}),n.text("CrditoGestor - Sistema de Gesto de Consignados",i/2,n.internal.pageSize.getHeight()-5,{align:"center"});const u=`conciliacao_${Pr(new Date,"yyyyMMdd_HHmmss")}.pdf`;n.save(u)}function XUt(){const{hasPermission:t}=Dm(),[e,r]=O.useState([]),[n,i]=O.useState([]),[s,a]=O.useState({}),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[d,h]=O.useState({}),[f,g]=O.useState([]),[m,v]=O.useState("todos");O.useEffect(()=>{(async()=>{try{const M=await x_();g(M)}catch(M){console.error("Erro ao carregar fornecedores:",M)}})()},[]);const x=I=>{r(I),Be.success(`${I.length} registros internos importados`)},w=I=>{i(I),Be.success(`${I.length} registros do fornecedor importados`)},b=async()=>{u(!0);try{const[I,M,U,Y,X]=await Promise.all([fo(kc(pi(_r,"vendas"),zf("createdAt","desc"))),wC(),SC(),fx(),x_()]);let W=I.docs.map(re=>{var ae;return{id:re.id,...re.data(),createdAt:(ae=re.data().createdAt)==null?void 0:ae.toDate()}});d.inicio&&d.fim&&(W=W.filter(re=>{const ae=re.createdAt;return ae?ae>=d.inicio&&ae<=d.fim:!1}));const G=W.map(re=>{const ae=M.find(J=>J.id===re.clienteId),R=U.find(J=>J.id===re.produtoId),j=Y.find(J=>J.id===re.funcionarioId),V=X.find(J=>J.id===(R==null?void 0:R.fornecedorId));let K=re.comissao||0,ne=re.comissaoPercentual||0;if(!re.comissao&&R){if(R.comissoes&&R.comissoes.length>0){const J=R.comissoes.find(me=>re.valorContrato>=me.valorMin&&re.valorContrato<=me.valorMax);J?ne=J.percentual:ne=R.comissoes[R.comissoes.length-1].percentual}else ne=R.comissaoAgente||R.comissao||0;K=re.valorContrato*(ne/100)}return{contrato:re.id||"",cliente:(ae==null?void 0:ae.nome)||"",cpfCliente:(ae==null?void 0:ae.cpf)||"",fornecedor:(V==null?void 0:V.nomeFantasia)||"",funcionario:(j==null?void 0:j.nome)||"",cpfFuncionario:(j==null?void 0:j.cpf)||"",produto:(R==null?void 0:R.nome)||"",prazo:re.prazo||0,valorComissao:K,valorProduto:re.valorContrato||0,dataVenda:re.createdAt||new Date,dataPagamento:void 0,status:re.status||"pendente",observacoes:`Comisso: ${ne.toFixed(2)}% | ${re.observacoes||""}`}});r(G);const B=d.inicio&&d.fim?`${G.length} vendas carregadas (${Pr(d.inicio,"dd/MM/yyyy")} - ${Pr(d.fim,"dd/MM/yyyy")})`:`${G.length} vendas carregadas do sistema`;Be.success(B)}catch(I){console.error("Erro ao carregar dados do sistema:",I),Be.error("Erro ao carregar vendas do sistema")}finally{u(!1)}},_=O.useMemo(()=>e.length===0||n.length===0?[]:GUt(e,n),[e,n]),S=O.useMemo(()=>_.filter(I=>{if(s.periodo){const M=I.dataVenda;if(M<s.periodo.inicio||M>s.periodo.fim)return!1}if(s.fornecedor&&I.fornecedor!==s.fornecedor||s.funcionario&&I.funcionario!==s.funcionario)return!1;if(s.statusDivergencia&&s.statusDivergencia!=="todos"){if(s.statusDivergencia==="nao_encontrado"){if(I.status!=="nao_encontrado_fornecedor"&&I.status!=="nao_encontrado_interno")return!1}else if(I.status!==s.statusDivergencia)return!1}return!(s.valorMinimo!==void 0&&I.valorComissaoInterno<s.valorMinimo||s.valorMaximo!==void 0&&I.valorComissaoInterno>s.valorMaximo)}),[_,s]),T=O.useMemo(()=>KUt(S),[S]),E=O.useMemo(()=>Array.from(new Set(_.map(I=>I.fornecedor))).filter(Boolean).sort(),[_]),C=O.useMemo(()=>Array.from(new Set(_.map(I=>I.funcionario))).filter(Boolean).sort(),[_]);if(!t(["admin","gerente"]))return p.jsxs("div",{className:"space-y-6",children:[p.jsx(uu,{title:"Conciliao",description:"Acesso restrito"}),p.jsxs(ZO,{variant:"destructive",children:[p.jsx(t8,{className:"h-4 w-4"}),p.jsx(Y8,{children:"Acesso Negado"}),p.jsx(QO,{children:"Apenas gerentes e administradores podem acessar a ferramenta de conciliao."})]})]});const N=async()=>{if(S.length===0){Be.error("No h dados para gerar o relatrio");return}l(!0);try{await YUt(S,T,s),Be.success("Relatrio PDF gerado com sucesso!")}catch(I){console.error("Erro ao gerar PDF:",I),Be.error("Erro ao gerar o relatrio PDF")}finally{l(!1)}},F=()=>{if(e.length===0){Be.error("Nenhuma venda disponvel para exportar");return}try{const I=e.map(Y=>({Contrato:Y.contrato,Cliente:Y.cliente,"CPF Cliente":Y.cpfCliente||"-",Produto:Y.produto||"-","Prazo (meses)":Y.prazo||"-",Fornecedor:Y.fornecedor,Funcionrio:Y.funcionario,"CPF Funcionrio":Y.cpfFuncionario||"-","Valor do Produto":Y.valorProduto,Comisso:Y.valorComissao,"Data da Venda":Y.dataVenda?Pr(new Date(Y.dataVenda),"dd/MM/yyyy HH:mm",{locale:Zr}):"-","Data de Pagamento":Y.dataPagamento?Pr(new Date(Y.dataPagamento),"dd/MM/yyyy",{locale:Zr}):"-",Status:Y.status||"-",Observaes:Y.observacoes||"-"})),M=s_.book_new(),U=s_.json_to_sheet(I);U["!cols"]=[{wch:15},{wch:25},{wch:15},{wch:30},{wch:12},{wch:25},{wch:25},{wch:15},{wch:15},{wch:15},{wch:18},{wch:18},{wch:12},{wch:30}],s_.book_append_sheet(M,U,"Vendas"),yPe(M,`vendas_${Pr(new Date,"yyyyMMdd_HHmmss")}.xlsx`),Be.success(`${e.length} vendas exportadas com sucesso!`)}catch(I){console.error("Erro ao exportar Excel:",I),Be.error("Erro ao exportar vendas")}},A=I=>{switch(I){case"ok":return p.jsxs(Ns,{variant:"default",className:"gap-1 bg-green-500",children:[p.jsx(Z5,{className:"w-3 h-3"}),"Conciliado"]});case"divergente":return p.jsxs(Ns,{variant:"destructive",className:"gap-1",children:[p.jsx(sre,{className:"w-3 h-3"}),"Divergente"]});case"nao_encontrado_fornecedor":case"nao_encontrado_interno":return p.jsxs(Ns,{variant:"secondary",className:"gap-1",children:[p.jsx(DF,{className:"w-3 h-3"}),"No Encontrado"]})}};return p.jsxs("div",{className:"space-y-6",children:[p.jsx(uu,{title:"Conciliao de Comisses",description:"Anlise e validao de comisses pagas pelos fornecedores"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:p.jsx(rz,{className:"w-5 h-5 text-primary"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold",children:"Dados Internos"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:e.length>0?`${e.length} registros carregados`:"Carregue ou importe dados internos"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:"Perodo (opcional)"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Hg,{children:[p.jsx(Wg,{asChild:!0,children:p.jsxs(mt,{variant:"outline",size:"sm",className:Pt("flex-1 justify-start text-left font-normal",!d.inicio&&"text-muted-foreground"),children:[p.jsx(My,{className:"mr-2 h-4 w-4"}),d.inicio?Pr(d.inicio,"dd/MM/yyyy",{locale:Zr}):"Data inicial"]})}),p.jsx(Nm,{className:"w-auto p-0",children:p.jsx(qg,{mode:"single",selected:d.inicio,onSelect:I=>h(M=>({...M,inicio:I})),locale:Zr})})]}),p.jsxs(Hg,{children:[p.jsx(Wg,{asChild:!0,children:p.jsxs(mt,{variant:"outline",size:"sm",className:Pt("flex-1 justify-start text-left font-normal",!d.fim&&"text-muted-foreground"),children:[p.jsx(My,{className:"mr-2 h-4 w-4"}),d.fim?Pr(d.fim,"dd/MM/yyyy",{locale:Zr}):"Data final"]})}),p.jsx(Nm,{className:"w-auto p-0",children:p.jsx(qg,{mode:"single",selected:d.fim,onSelect:I=>h(M=>({...M,fim:I})),locale:Zr})})]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(mt,{onClick:b,disabled:c,className:"flex-1 gap-2",variant:"default",children:c?p.jsxs(p.Fragment,{children:[p.jsx(MF,{className:"w-4 h-4 animate-spin"}),"Carregando..."]}):p.jsxs(p.Fragment,{children:[p.jsx(rz,{className:"w-4 h-4"}),"Carregar do Sistema"]})}),p.jsx(Sfe,{tipo:"interno",onImport:x,apenasButton:!0}),p.jsx(tpe,{tipo:"interno",onImport:x,apenasButton:!0})]}),e.length>0&&p.jsxs(mt,{onClick:F,variant:"outline",className:"w-full gap-2",children:[p.jsx(lT,{className:"w-4 h-4"}),"Exportar Excel (",e.length," vendas)"]})]})}),p.jsxs("div",{className:"space-y-4",children:[p.jsx(Sfe,{tipo:"fornecedor",onImport:w}),p.jsx(tpe,{tipo:"fornecedor",onImport:w})]})]}),e.length>0&&_.length===0&&p.jsxs(Tr,{children:[p.jsxs("div",{className:"p-6 border-b space-y-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Dados Internos Carregados"}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.length," ",e.length===1?"venda carregada":"vendas carregadas"]})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"w-64",children:[p.jsx(Xe,{children:"Filtrar por Fornecedor"}),p.jsxs(yn,{value:m,onValueChange:v,children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Todos os fornecedores"})}),p.jsxs(mn,{children:[p.jsx($t,{value:"todos",children:"Todos os fornecedores"}),f.map(I=>p.jsx($t,{value:I.nomeFantasia,children:I.nomeFantasia},I.id))]})]})]}),m!=="todos"&&p.jsxs(mt,{variant:"ghost",size:"sm",onClick:()=>v("todos"),className:"gap-2 mt-6",children:[p.jsx(Y_,{className:"w-4 h-4"}),"Limpar Filtro"]})]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs(Ff,{children:[p.jsx(jf,{children:p.jsxs(di,{children:[p.jsx(Xt,{children:"Contrato"}),p.jsx(Xt,{children:"Cliente"}),p.jsx(Xt,{children:"CPF Cliente"}),p.jsx(Xt,{children:"Produto"}),p.jsx(Xt,{children:"Prazo"}),p.jsx(Xt,{children:"Fornecedor"}),p.jsx(Xt,{children:"Funcionrio"}),p.jsx(Xt,{className:"text-right",children:"Valor Produto"}),p.jsx(Xt,{className:"text-right bg-blue-50",children:"Comisso"}),p.jsx(Xt,{children:"Data Venda"}),p.jsx(Xt,{children:"Status"})]})}),p.jsx(Lf,{children:e.filter(I=>m==="todos"||I.fornecedor===m).slice(0,50).map((I,M)=>p.jsxs(di,{children:[p.jsx(Vt,{className:"font-mono text-xs",children:I.contrato}),p.jsx(Vt,{className:"font-medium",children:I.cliente}),p.jsx(Vt,{className:"text-sm",children:I.cpfCliente||"-"}),p.jsx(Vt,{children:I.produto||"-"}),p.jsx(Vt,{children:I.prazo?`${I.prazo} meses`:"-"}),p.jsx(Vt,{children:I.fornecedor}),p.jsx(Vt,{children:I.funcionario}),p.jsxs(Vt,{className:"text-right",children:["R$ ",I.valorProduto.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsxs(Vt,{className:"text-right bg-blue-50 font-semibold text-blue-700",children:["R$ ",I.valorComissao.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsx(Vt,{className:"whitespace-nowrap",children:I.dataVenda?Pr(new Date(I.dataVenda),"dd/MM/yyyy HH:mm",{locale:Zr}):"-"}),p.jsx(Vt,{children:p.jsx(Ns,{variant:I.status==="aprovada"?"default":"secondary",children:I.status||"pendente"})})]},M))})]})}),(()=>{const I=e.filter(M=>m==="todos"||M.fornecedor===m);return I.length>50?p.jsxs("div",{className:"p-4 border-t text-center text-sm text-muted-foreground",children:["Mostrando 50 de ",I.length," vendas ",m!=="todos"&&`(${m})`,". Exporte para ver todos os dados."]}):I.length>0&&I.length!==e.length?p.jsxs("div",{className:"p-4 border-t text-center text-sm text-muted-foreground",children:["Mostrando ",I.length," ",I.length===1?"venda":"vendas"," de ",m]}):null})()]}),_.length>0&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total"}),p.jsx("h3",{className:"text-2xl font-bold mt-2",children:T.total})]}),p.jsx(nz,{className:"w-8 h-8 text-muted-foreground"})]})}),p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Comisses Internas"}),p.jsxs("h3",{className:"text-xl font-bold mt-2 text-blue-600",children:["R$ ",S.reduce((I,M)=>I+M.valorComissaoInterno,0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Conforme cadastro"})]}),p.jsx(Q0,{className:"w-8 h-8 text-blue-600"})]})}),p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Conciliados"}),p.jsx("h3",{className:"text-2xl font-bold mt-2 text-green-600",children:T.conciliados}),p.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[T.percentualConciliado.toFixed(1),"%"]})]}),p.jsx(Z5,{className:"w-8 h-8 text-green-600"})]})}),p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Divergentes"}),p.jsx("h3",{className:"text-2xl font-bold mt-2 text-orange-600",children:T.divergentes})]}),p.jsx(sre,{className:"w-8 h-8 text-orange-600"})]})}),p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Diferena Total"}),p.jsxs("h3",{className:`text-2xl font-bold mt-2 ${T.diferencaTotalComissao>=0?"text-green-600":"text-red-600"}`,children:["R$ ",Math.abs(T.diferencaTotalComissao).toFixed(2)]})]}),T.diferencaTotalComissao>=0?p.jsx(uT,{className:"w-8 h-8 text-green-600"}):p.jsx(n8,{className:"w-8 h-8 text-red-600"})]})})]}),_.length>0&&p.jsx(WUt,{filtros:s,onFiltrosChange:a,fornecedores:E,funcionarios:C}),_.length>0?p.jsx(Tr,{children:p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("h3",{className:"text-lg font-semibold",children:["Resultados da Conciliao",p.jsxs("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:["(",S.length," registros)"]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(mt,{onClick:F,disabled:e.length===0,variant:"default",className:"gap-2",children:[p.jsx(lT,{className:"w-4 h-4"}),"Exportar Excel"]}),p.jsxs(mt,{onClick:()=>Be.success("Conciliao realizada com sucesso!"),variant:"secondary",className:"gap-2",children:[p.jsx(Z5,{className:"w-4 h-4"}),"Conciliar"]}),p.jsxs(mt,{onClick:N,disabled:o||S.length===0,variant:"outline",className:"gap-2",children:[p.jsx(d_,{className:"w-4 h-4"}),o?"Gerando PDF...":"Gerar Relatrio PDF"]})]})]}),p.jsx("div",{className:"rounded-md border",children:p.jsxs(Ff,{children:[p.jsx(jf,{children:p.jsxs(di,{children:[p.jsx(Xt,{children:"Contrato"}),p.jsx(Xt,{children:"Cliente"}),p.jsx(Xt,{children:"Fornecedor"}),p.jsx(Xt,{children:"Funcionrio"}),p.jsx(Xt,{className:"text-right",children:"Comisso Interna"}),p.jsx(Xt,{className:"text-right",children:"Comisso Fornecedor"}),p.jsx(Xt,{className:"text-right",children:"Taxa"}),p.jsx(Xt,{className:"text-right",children:"Diferena"}),p.jsx(Xt,{children:"Status"})]})}),p.jsx(Lf,{children:S.length===0?p.jsx(di,{children:p.jsx(Vt,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"Nenhum registro encontrado com os filtros aplicados"})}):S.map(I=>{var M,U,Y,X,W,G;return p.jsxs(di,{children:[p.jsx(Vt,{className:"font-medium",children:I.contratoInterno||I.contratoFornecedor}),p.jsx(Vt,{children:I.cliente}),p.jsx(Vt,{children:I.fornecedor}),p.jsx(Vt,{children:I.funcionario}),p.jsxs(Vt,{className:"text-right",children:["R$ ",I.valorComissaoInterno.toFixed(2)]}),p.jsxs(Vt,{className:"text-right",children:["R$ ",I.valorComissaoFornecedor.toFixed(2)]}),p.jsx(Vt,{className:"text-right",children:p.jsxs("div",{children:[p.jsxs("div",{className:Pt("font-medium",((M=I.validacaoInteligente)==null?void 0:M.taxaDivergente)&&"text-orange-600"),children:[(U=I.validacaoInteligente)==null?void 0:U.taxaAplicadaInterno.toFixed(2),"%"]}),((Y=I.validacaoInteligente)==null?void 0:Y.taxaAplicadaFornecedor)>0&&I.validacaoInteligente.taxaAplicadaFornecedor!==I.validacaoInteligente.taxaAplicadaInterno&&p.jsxs("div",{className:"text-xs text-muted-foreground",children:["Forn: ",I.validacaoInteligente.taxaAplicadaFornecedor.toFixed(2),"%"]})]})}),p.jsx(Vt,{className:"text-right",children:p.jsxs("span",{className:I.diferencaComissao>.01?"text-red-600 font-semibold":"text-green-600",children:["R$ ",I.diferencaComissao.toFixed(2)]})}),p.jsxs(Vt,{children:[A(I.status),((X=I.validacaoInteligente)==null?void 0:X.observacoes)&&I.validacaoInteligente.observacoes.length>0&&p.jsx("div",{className:"text-xs mt-1 space-y-0.5",children:I.validacaoInteligente.observacoes.slice(0,2).map((B,re)=>p.jsx("div",{className:Pt(B.includes("")?"text-green-600":B.includes("")?"text-orange-600":"text-red-600"),children:B},re))}),I.tiposDivergencia.length>0&&!((G=(W=I.validacaoInteligente)==null?void 0:W.observacoes)!=null&&G.length)&&p.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:I.tiposDivergencia[0]})]})]},I.id)})})]})})]})}):p.jsx(Tr,{className:"p-12",children:p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx(nz,{className:"w-16 h-16 mx-auto text-muted-foreground"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma conciliao iniciada"}),p.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Importe os dados internos e o relatrio do fornecedor para iniciar a anlise de conciliao."})]})]})})]})}var R7="Switch",[ZUt,lHt]=Cc(R7),[QUt,JUt]=ZUt(R7),QIe=O.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:c,form:u,...d}=t,[h,f]=O.useState(null),g=kn(e,b=>f(b)),m=O.useRef(!1),v=h?u||!!h.closest("form"):!0,[x,w]=Ig({prop:i,defaultProp:s??!1,onChange:c,caller:R7});return p.jsxs(QUt,{scope:r,checked:x,disabled:o,children:[p.jsx(pr.button,{type:"button",role:"switch","aria-checked":x,"aria-required":a,"data-state":r4e(x),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:g,onClick:Ut(t.onClick,b=>{w(_=>!_),v&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),v&&p.jsx(t4e,{control:h,bubbles:!m.current,name:n,value:l,checked:x,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});QIe.displayName=R7;var JIe="SwitchThumb",e4e=O.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=JUt(JIe,r);return p.jsx(pr.span,{"data-state":r4e(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});e4e.displayName=JIe;var ezt="SwitchBubbleInput",t4e=O.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},s)=>{const a=O.useRef(null),o=kn(a,s),l=bAe(r),c=Dge(e);return O.useEffect(()=>{const u=a.current;if(!u)return;const d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&f){const g=new Event("click",{bubbles:n});f.call(u,r),u.dispatchEvent(g)}},[l,r,n]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});t4e.displayName=ezt;function r4e(t){return t?"checked":"unchecked"}var n4e=QIe,tzt=e4e;const ih=O.forwardRef(({className:t,...e},r)=>p.jsx(n4e,{className:Pt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:p.jsx(tzt,{className:Pt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ih.displayName=n4e.displayName;var D7="Tabs",[rzt,cHt]=Cc(D7,[U8]),i4e=U8(),[nzt,GJ]=rzt(D7),s4e=O.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=t,u=$8(o),[d,h]=Ig({prop:n,onChange:i,defaultProp:s??"",caller:D7});return p.jsx(nzt,{scope:r,baseId:il(),value:d,onValueChange:h,orientation:a,dir:u,activationMode:l,children:p.jsx(pr.div,{dir:u,"data-orientation":a,...c,ref:e})})});s4e.displayName=D7;var a4e="TabsList",o4e=O.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=GJ(a4e,r),a=i4e(r);return p.jsx(Axe,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:n,children:p.jsx(pr.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});o4e.displayName=a4e;var l4e="TabsTrigger",c4e=O.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,a=GJ(l4e,r),o=i4e(r),l=h4e(a.baseId,n),c=f4e(a.baseId,n),u=n===a.value;return p.jsx(Exe,{asChild:!0,...o,focusable:!i,active:u,children:p.jsx(pr.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Ut(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?a.onValueChange(n):d.preventDefault()}),onKeyDown:Ut(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&a.onValueChange(n)}),onFocus:Ut(t.onFocus,()=>{const d=a.activationMode!=="manual";!u&&!i&&d&&a.onValueChange(n)})})})});c4e.displayName=l4e;var u4e="TabsContent",d4e=O.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...a}=t,o=GJ(u4e,r),l=h4e(o.baseId,n),c=f4e(o.baseId,n),u=n===o.value,d=O.useRef(u);return O.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),p.jsx(_d,{present:i||u,children:({present:h})=>p.jsx(pr.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:h&&s})})});d4e.displayName=u4e;function h4e(t,e){return`${t}-trigger-${e}`}function f4e(t,e){return`${t}-content-${e}`}var izt=s4e,p4e=o4e,m4e=c4e,g4e=d4e;const rpe=izt,XG=O.forwardRef(({className:t,...e},r)=>p.jsx(p4e,{ref:r,className:Pt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));XG.displayName=p4e.displayName;const yp=O.forwardRef(({className:t,...e},r)=>p.jsx(m4e,{ref:r,className:Pt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));yp.displayName=m4e.displayName;const xp=O.forwardRef(({className:t,...e},r)=>p.jsx(g4e,{ref:r,className:Pt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));xp.displayName=g4e.displayName;function szt({onUserCreated:t}){const{hasPermission:e}=Dm(),[r,n]=O.useState(!1),[i,s]=O.useState(!1),[a,o]=O.useState({uid:"",email:"",displayName:"",role:"atendente"});if(!e(["admin"]))return null;const l=async c=>{c.preventDefault(),s(!0);try{if(!a.uid||!a.email||!a.displayName){Be.error("Preencha todos os campos obrigatrios");return}await f0(ri(_r,"users",a.uid),{email:a.email,displayName:a.displayName,role:a.role,createdAt:new Date}),Be.success("Usurio cadastrado com sucesso!"),o({uid:"",email:"",displayName:"",role:"atendente"}),n(!1),t&&t()}catch(u){console.error("Erro ao cadastrar usurio:",u),Be.error("Erro ao cadastrar usurio")}finally{s(!1)}};return p.jsxs(oo,{open:r,onOpenChange:n,children:[p.jsx(qB,{asChild:!0,children:p.jsxs(mt,{className:"gap-2",children:[p.jsx(sge,{className:"w-4 h-4"}),"Novo Usurio"]})}),p.jsxs($a,{className:"sm:max-w-[500px]",children:[p.jsxs(Va,{children:[p.jsx(Ua,{children:"Cadastrar Novo Usurio"}),p.jsx(Pm,{children:"Preencha os dados do novo usurio. O usurio deve fazer login primeiro com Google para obter o UID."})]}),p.jsxs("form",{onSubmit:l,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Xe,{htmlFor:"uid",children:["UID do Firebase ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx(pt,{id:"uid",placeholder:"Ex: abc123xyz456...",value:a.uid,onChange:c=>o({...a,uid:c.target.value}),required:!0}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"O UID  obtido aps o primeiro login com Google. Voc pode verificar no console do Firebase."})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Xe,{htmlFor:"email",children:["Email ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx(pt,{id:"email",type:"email",placeholder:"usuario@empresa.com",value:a.email,onChange:c=>o({...a,email:c.target.value}),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Xe,{htmlFor:"displayName",children:["Nome Completo ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx(pt,{id:"displayName",placeholder:"Joo da Silva",value:a.displayName,onChange:c=>o({...a,displayName:c.target.value}),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Xe,{htmlFor:"role",children:["Funo ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsxs(yn,{value:a.role,onValueChange:c=>o({...a,role:c}),children:[p.jsx(pn,{id:"role",children:p.jsx(xn,{})}),p.jsxs(mn,{children:[p.jsx($t,{value:"atendente",children:"Atendente"}),p.jsx($t,{value:"agente",children:"Agente"}),p.jsx($t,{value:"gerente",children:"Gerente"}),p.jsx($t,{value:"admin",children:"Administrador"})]})]}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["Atendente ","<"," Agente ","<"," Gerente ","<"," Admin"]})]}),p.jsxs("div",{className:"flex gap-2 pt-4",children:[p.jsx(mt,{type:"button",variant:"outline",onClick:()=>n(!1),className:"flex-1",disabled:i,children:"Cancelar"}),p.jsx(mt,{type:"submit",className:"flex-1",disabled:i,children:i?"Cadastrando...":"Cadastrar Usurio"})]})]})]})]})}function azt({usuario:t,onUpdate:e}){const[r,n]=O.useState(!1),[i,s]=O.useState(!1),[a,o]=O.useState({displayName:t.displayName,role:t.role});O.useEffect(()=>{o({displayName:t.displayName,role:t.role})},[t]);const l=async c=>{c.preventDefault(),s(!0);try{if(!a.displayName){Be.error("O nome  obrigatrio");return}await Ac(ri(_r,"users",t.uid),{displayName:a.displayName,role:a.role}),Be.success("Usurio atualizado com sucesso!"),n(!1),e&&e()}catch(u){console.error("Erro ao atualizar usurio:",u),Be.error("Erro ao atualizar usurio")}finally{s(!1)}};return p.jsxs(oo,{open:r,onOpenChange:n,children:[p.jsx(qB,{asChild:!0,children:p.jsx(mt,{variant:"outline",size:"sm",children:"Editar"})}),p.jsxs($a,{className:"sm:max-w-[500px]",children:[p.jsxs(Va,{children:[p.jsx(Ua,{children:"Editar Usurio"}),p.jsx(Pm,{children:"Atualize as informaes do usurio. O email no pode ser alterado."})]}),p.jsxs("form",{onSubmit:l,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"email",children:"Email"}),p.jsx(pt,{id:"email",type:"email",value:t.email,disabled:!0,className:"bg-muted"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Xe,{htmlFor:"displayName",children:["Nome Completo ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx(pt,{id:"displayName",placeholder:"Joo da Silva",value:a.displayName,onChange:c=>o({...a,displayName:c.target.value}),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Xe,{htmlFor:"role",children:["Funo ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsxs(yn,{value:a.role,onValueChange:c=>o({...a,role:c}),children:[p.jsx(pn,{id:"role",children:p.jsx(xn,{})}),p.jsxs(mn,{children:[p.jsx($t,{value:"atendente",children:"Atendente"}),p.jsx($t,{value:"agente",children:"Agente"}),p.jsx($t,{value:"gerente",children:"Gerente"}),p.jsx($t,{value:"admin",children:"Administrador"})]})]}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["Atendente ","<"," Agente ","<"," Gerente ","<"," Admin"]})]}),p.jsxs("div",{className:"flex gap-2 pt-4",children:[p.jsx(mt,{type:"button",variant:"outline",onClick:()=>n(!1),className:"flex-1",disabled:i,children:"Cancelar"}),p.jsx(mt,{type:"submit",className:"flex-1",disabled:i,children:i?"Salvando...":"Salvar Alteraes"})]})]})]})]})}const KJ={admin:{dashboard:["visualizar","exportar"],clientes:["visualizar","criar","editar","excluir","exportar"],produtos:["visualizar","criar","editar","excluir","exportar"],funcionarios:["visualizar","criar","editar","excluir","exportar"],fornecedores:["visualizar","criar","editar","excluir","exportar"],pdv:["visualizar","criar","editar","excluir"],conciliacao:["visualizar","criar","editar","exportar"],relatorios:["visualizar","exportar"],configuracoes:["visualizar","editar"],usuarios:["visualizar","criar","editar","excluir"]},gerente:{dashboard:["visualizar","exportar"],clientes:["visualizar","criar","editar","exportar"],produtos:["visualizar","criar","editar","exportar"],funcionarios:["visualizar","criar","editar"],fornecedores:["visualizar","criar","editar","exportar"],pdv:["visualizar","criar","editar"],conciliacao:["visualizar","criar","editar","exportar"],relatorios:["visualizar","exportar"],configuracoes:["visualizar"],usuarios:["visualizar"]},agente:{dashboard:["visualizar"],clientes:["visualizar","criar","editar"],produtos:["visualizar"],funcionarios:["visualizar"],fornecedores:["visualizar"],pdv:["visualizar","criar"],conciliacao:["visualizar"],relatorios:["visualizar"],configuracoes:[],usuarios:[]},atendente:{dashboard:["visualizar"],clientes:["visualizar","criar"],produtos:["visualizar"],funcionarios:[],fornecedores:[],pdv:["visualizar","criar"],conciliacao:[],relatorios:[],configuracoes:[],usuarios:[]}},m6={dashboard:"Dashboard",clientes:"Clientes",produtos:"Produtos",funcionarios:"Funcionrios",fornecedores:"Fornecedores",pdv:"PDV (Vendas)",conciliacao:"Conciliao",relatorios:"Relatrios",configuracoes:"Configuraes",usuarios:"Usurios"},v4e={visualizar:"Visualizar",criar:"Criar",editar:"Editar",excluir:"Excluir",exportar:"Exportar"};function ozt({cargo:t,permissoes:e,onChange:r,onSalvar:n,salvando:i}){const s=Object.keys(m6),a=["visualizar","criar","editar","excluir","exportar"],o=(u,d)=>{const h=e[u]||[],f=h.includes(d)?h.filter(g=>g!==d):[...h,d];r({...e,[u]:f})},l=()=>{r(KJ[t])},c={admin:"Administrador",gerente:"Gerente",agente:"Agente",atendente:"Atendente"};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-semibold",children:["Permisses - ",c[t]]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure o que usurios com este cargo podem acessar"})]}),p.jsx(mt,{variant:"outline",size:"sm",onClick:l,children:"Restaurar Padro"})]}),p.jsx("div",{className:"space-y-4",children:s.map(u=>{const d=e[u]||[];return a.every(h=>d.includes(h)),p.jsx(Tr,{className:"p-4",children:p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(cT,{className:"w-5 h-5 text-primary"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:m6[u]}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.length," ",d.length===1?"permisso":"permisses"," ativa(s)"]})]})]}),p.jsxs(Ns,{variant:d.length>0?"default":"secondary",children:[d.length>0?p.jsx(age,{className:"w-3 h-3 mr-1"}):p.jsx(oge,{className:"w-3 h-3 mr-1"}),d.length>0?"Ativo":"Bloqueado"]})]}),p.jsx(qi,{}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:a.map(h=>p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(ih,{checked:d.includes(h),onCheckedChange:()=>o(u,h),id:`${u}-${h}`}),p.jsx(Xe,{htmlFor:`${u}-${h}`,className:"text-sm cursor-pointer",children:v4e[h]})]},h))})]})},u)})}),p.jsx("div",{className:"flex justify-end",children:p.jsx(mt,{onClick:n,disabled:i,children:i?"Salvando...":"Salvar Permisses"})})]})}function lzt({funcionarios:t,onSalvar:e,salvando:r}){const[n,i]=O.useState(""),[s,a]=O.useState(!0),[o,l]=O.useState({}),c=t.find(m=>m.uid===n),u=Object.keys(m6),d=["visualizar","criar","editar","excluir","exportar"];O.useEffect(()=>{c&&s&&l(KJ[c.role||"atendente"])},[c,s]);const h=(m,v)=>{const x=o[m]||[],w=x.includes(v)?x.filter(b=>b!==v):[...x,v];l({...o,[m]:w})},f=()=>{n&&e(n,o,s)},g={admin:"Administrador",gerente:"Gerente",agente:"Agente",atendente:"Atendente"};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Permisses por Funcionrio"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Personalize as permisses de acesso para funcionrios especficos"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Xe,{children:"Selecionar Funcionrio"}),p.jsxs(yn,{value:n,onValueChange:i,children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Escolha um funcionrio"})}),p.jsx(mn,{children:t.map(m=>p.jsx($t,{value:m.uid,children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{children:m.displayName}),p.jsx(Ns,{variant:"outline",className:"text-xs",children:g[m.role||"atendente"]})]})},m.uid))})]})]}),c&&p.jsxs("div",{children:[p.jsx(Xe,{children:"Tipo de Permisses"}),p.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[p.jsx(ih,{checked:s,onCheckedChange:a,id:"usar-cargo"}),p.jsxs(Xe,{htmlFor:"usar-cargo",className:"cursor-pointer",children:["Usar permisses do cargo (",g[c.role||"atendente"],")"]})]})]})]})]}),c&&!s&&p.jsxs(ZO,{children:[p.jsx(t8,{className:"h-4 w-4"}),p.jsxs(QO,{children:["Voc est configurando permisses customizadas para ",c.displayName,". Essas permisses substituiro as permisses padro do cargo."]})]}),c&&p.jsxs(p.Fragment,{children:[p.jsx(qi,{}),p.jsx("div",{className:"space-y-4",children:u.map(m=>{const v=o[m]||[];return p.jsx(Tr,{className:"p-4",children:p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(cT,{className:"w-5 h-5 text-primary"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:m6[m]}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[v.length," ",v.length===1?"permisso":"permisses"," ativa(s)"]})]})]}),p.jsxs(Ns,{variant:v.length>0?"default":"secondary",children:[v.length>0?p.jsx(age,{className:"w-3 h-3 mr-1"}):p.jsx(oge,{className:"w-3 h-3 mr-1"}),v.length>0?"Ativo":"Bloqueado"]})]}),p.jsx(qi,{}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:d.map(x=>p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(ih,{checked:v.includes(x),onCheckedChange:()=>h(m,x),id:`func-${m}-${x}`,disabled:s}),p.jsx(Xe,{htmlFor:`func-${m}-${x}`,className:`text-sm ${s?"opacity-50":"cursor-pointer"}`,children:v4e[x]})]},x))})]})},m)})}),p.jsx("div",{className:"flex justify-end",children:p.jsx(mt,{onClick:f,disabled:r||!n,children:r?"Salvando...":"Salvar Permisses"})})]}),!c&&n===""&&p.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[p.jsx(tY,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),p.jsx("p",{children:"Selecione um funcionrio para configurar suas permisses"})]})]})}const czt=["Emprstimo Pessoal","Emprstimo Consignado","Portabilidade","FGTS","Troca Carto","Venda Digital","Refin da Portabilidade","REFIN","Saque Digital"];async function uzt(){try{console.log("Iniciando populao de categorias...");for(const t of czt){const e=kc(pi(_r,"categoriasProdutos"),oN("nome","==",t));(await fo(e)).empty?(await Hf(pi(_r,"categoriasProdutos"),{nome:t,ativo:!0,criadoEm:new Date}),console.log(` Categoria "${t}" criada`)):console.log(` Categoria "${t}" j existe`)}return console.log("Populao de categorias concluda!"),{success:!0,message:"Categorias criadas com sucesso"}}catch(t){return console.error("Erro ao popular categorias:",t),{success:!1,message:"Erro ao criar categorias",error:t}}}const npe={admin:"Administrador",gerente:"Gerente",agente:"Agente",atendente:"Atendente"};function dzt(){const[t,e]=O.useState([]),[r,n]=O.useState(!0),[i,s]=O.useState({razaoSocial:"CrditoGestor Ltda",cnpj:"12.345.678/0001-90",telefone:"(11) 3456-7890",endereco:"Av. Paulista, 1000 - Bela Vista",cidade:"So Paulo",estado:"SP"}),[a,o]=O.useState({novasVendas:!0,divergencias:!0,relatoriosSemanais:!1,metasAtingidas:!0}),[l,c]=O.useState({auth2FA:!1,timeoutSessao:!0}),[u,d]=O.useState({modoEscuro:!1,sidebarCompacta:!1}),[h,f]=O.useState(""),[g,m]=O.useState(""),[v,x]=O.useState(!1),[w,b]=O.useState(!1),[_,S]=O.useState(!1),[T,E]=O.useState(!1),[C,N]=O.useState(!1),[F,A]=O.useState("agente"),[I,M]=O.useState(KJ),U=async()=>{N(!0);try{const J=await uzt();J.success?Be.success("Categorias padro criadas com sucesso!"):Be.error(J.message||"Erro ao criar categorias")}catch(J){console.error("Erro ao popular categorias:",J),Be.error("Erro ao criar categorias")}finally{N(!1)}},Y=async()=>{try{const J=await Kye(ri(_r,"configuracoes","geral"));if(J.exists()){const me=J.data();me.empresa&&s(me.empresa),me.notificacoes&&o(me.notificacoes),me.permissoesCargo&&M(me.permissoesCargo),me.permissoesCargo&&M(me.permissoesCargo),me.seguranca&&c(me.seguranca),me.aparencia&&d(me.aparencia)}}catch(J){console.error("Erro ao carregar configuraes:",J)}},X=async()=>{x(!0);try{await f0(ri(_r,"configuracoes","geral"),{empresa:i},{merge:!0}),Be.success("Dados da empresa salvos com sucesso!")}catch(J){console.error(J),Be.error("Erro ao salvar dados da empresa")}finally{x(!1)}},W=async()=>{x(!0);try{await f0(ri(_r,"configuracoes","geral"),{notificacoes:a},{merge:!0}),Be.success("Preferncias de notificao salvas!")}catch(J){console.error(J),Be.error("Erro ao salvar notificaes")}finally{x(!1)}},G=async()=>{x(!0);try{await f0(ri(_r,"configuracoes","geral"),{seguranca:l},{merge:!0}),Be.success("Configuraes de segurana atualizadas!")}catch(J){console.error(J),Be.error("Erro ao atualizar segurana")}finally{x(!1)}},B=async()=>{if(!g||g.length<6){Be.error("A nova senha deve ter pelo menos 6 caracteres");return}x(!0);try{Ay.currentUser&&(await a7e(Ay.currentUser,g),Be.success("Senha alterada com sucesso!"),f(""),m(""))}catch(J){console.error(J),J.code==="auth/requires-recent-login"?Be.error("Por segurana, faa login novamente antes de alterar a senha"):Be.error("Erro ao alterar senha")}finally{x(!1)}},re=async()=>{x(!0);try{await f0(ri(_r,"configuracoes","geral"),{aparencia:u},{merge:!0}),Be.success("Preferncias de aparncia salvas!"),u.modoEscuro?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}catch(J){console.error(J),Be.error("Erro ao salvar aparncia")}finally{x(!1)}},ae=async J=>{b(!0);try{await f0(ri(_r,"configuracoes","geral"),{permissoesCargo:I},{merge:!0}),Be.success(`Permisses do cargo ${npe[J]} atualizadas com sucesso!`)}catch(me){console.error("Erro ao salvar permisses:",me),Be.error("Erro ao salvar permisses")}finally{b(!1)}},R=async(J,me,ce)=>{b(!0);try{await f0(ri(_r,"users",J),{permissoesCustomizadas:ce?null:me,usarPermissoesCargo:ce},{merge:!0}),Be.success("Permisses do funcionrio atualizadas com sucesso!"),await j()}catch(he){console.error("Erro ao salvar permisses do funcionrio:",he),Be.error("Erro ao salvar permisses")}finally{b(!1)}},j=async()=>{try{n(!0);const me=(await fo(pi(_r,"users"))).docs.map(ce=>{var he;return{uid:ce.id,...ce.data(),createdAt:((he=ce.data().createdAt)==null?void 0:he.toDate())||new Date}});e(me)}catch(J){console.error("Erro ao carregar usurios:",J),Be.error("Erro ao carregar usurios")}finally{n(!1)}};O.useEffect(()=>{j(),Y()},[]);const V=async()=>{E(!0);try{const J=["clientes","vendas","produtos","funcionarios","fornecedores","bancos","categoriasProdutos","despesas","users"],me={};for(const Ue of J){const pe=await fo(pi(_r,Ue));me[Ue]=pe.docs.map(Me=>({id:Me.id,...Me.data()}))}const ce={metadata:{dataExportacao:new Date().toISOString(),versao:"1.0",sistema:"CrditoGestor"},dados:me},he=JSON.stringify(ce,null,2),_e=new Blob([he],{type:"application/json"}),ee=URL.createObjectURL(_e),je=document.createElement("a");je.href=ee,je.download=`backup_creditogestor_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(je),je.click(),document.body.removeChild(je),URL.revokeObjectURL(ee),Be.success("Backup realizado com sucesso!")}catch(J){console.error("Erro ao fazer backup:",J),Be.error("Erro ao fazer backup dos dados")}finally{E(!1)}},K=async J=>{var ce,he,_e;const me=(ce=J.target.files)==null?void 0:ce[0];if(me){S(!0);try{const ee=await me.text();let je;try{je=JSON.parse(ee)}catch{je=ne(ee)}let Ue=0;const pe=Array.isArray(je)?je:je.vendas||((he=je.dados)==null?void 0:he.vendas)||[];if(!Array.isArray(pe)||pe.length===0){Be.error("Nenhuma venda encontrada no arquivo");return}for(const Me of pe)try{const Ye={clienteId:Me.clienteId||Me.cliente_id||"",produtoId:Me.produtoId||Me.produto_id||"",funcionarioId:Me.funcionarioId||Me.funcionario_id||"",fornecedorId:Me.fornecedorId||Me.fornecedor_id||"",valorContrato:parseFloat(Me.valorContrato||Me.valor_contrato||Me.valor||0),prazo:parseInt(Me.prazo||0),comissao:parseFloat(Me.comissao||0),comissaoPercentual:parseFloat(Me.comissaoPercentual||Me.comissao_percentual||0),status:Me.status||"aprovada",criadoPor:Me.criadoPor||Me.criado_por||((_e=Ay.currentUser)==null?void 0:_e.uid)||"",createdAt:Me.createdAt?Wr.fromDate(new Date(Me.createdAt)):Wr.now()};await Hf(pi(_r,"vendas"),Ye),Ue++}catch(Ye){console.error("Erro ao importar venda:",Ye)}Be.success(`${Ue} vendas importadas com sucesso!`),J.target.value=""}catch(ee){console.error("Erro ao importar vendas:",ee),Be.error("Erro ao importar vendas. Verifique o formato do arquivo.")}finally{S(!1)}}},ne=J=>{const me=J.split(`
`).filter(_e=>_e.trim());if(me.length<2)return[];const ce=me[0].split(",").map(_e=>_e.trim()),he=[];for(let _e=1;_e<me.length;_e++){const ee=me[_e].split(","),je={};ce.forEach((Ue,pe)=>{var Me;je[Ue]=((Me=ee[pe])==null?void 0:Me.trim())||""}),he.push(je)}return he};return p.jsxs("div",{className:"space-y-6",children:[p.jsx(uu,{title:"Configuraes",description:"Personalize o sistema de acordo com suas necessidades"}),p.jsxs(rpe,{defaultValue:"empresa",className:"space-y-6",children:[p.jsxs(XG,{className:"grid w-full grid-cols-4 lg:grid-cols-7 h-auto p-1",children:[p.jsxs(yp,{value:"empresa",className:"gap-2 py-2",children:[p.jsx(XK,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden sm:inline",children:"Empresa"})]}),p.jsxs(yp,{value:"usuarios",className:"gap-2 py-2",children:[p.jsx(IO,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden sm:inline",children:"Usurios"})]}),p.jsxs(yp,{value:"permissoes",className:"gap-2 py-2",children:[p.jsx(sge,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden sm:inline",children:"Permisses"})]}),p.jsxs(yp,{value:"notificacoes",className:"gap-2 py-2",children:[p.jsx(rge,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden sm:inline",children:"Notificaes"})]}),p.jsxs(yp,{value:"seguranca",className:"gap-2 py-2",children:[p.jsx(cT,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden sm:inline",children:"Segurana"})]}),p.jsxs(yp,{value:"aparencia",className:"gap-2 py-2",children:[p.jsx(UDe,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden sm:inline",children:"Aparncia"})]}),p.jsxs(yp,{value:"dados",className:"gap-2 py-2",children:[p.jsx(rz,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden sm:inline",children:"Dados"})]})]}),p.jsx(xp,{value:"empresa",children:p.jsxs(Tr,{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Dados da Empresa"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(Xe,{children:"Razo Social"}),p.jsx(pt,{placeholder:"Nome da empresa",value:i.razaoSocial,onChange:J=>s({...i,razaoSocial:J.target.value})})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"CNPJ"}),p.jsx(pt,{placeholder:"00.000.000/0000-00",value:i.cnpj,onChange:J=>s({...i,cnpj:J.target.value})})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Telefone"}),p.jsx(pt,{placeholder:"(00) 0000-0000",value:i.telefone,onChange:J=>s({...i,telefone:J.target.value})})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(Xe,{children:"Endereo"}),p.jsx(pt,{placeholder:"Endereo completo",value:i.endereco,onChange:J=>s({...i,endereco:J.target.value})})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Cidade"}),p.jsx(pt,{placeholder:"Cidade",value:i.cidade,onChange:J=>s({...i,cidade:J.target.value})})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Estado"}),p.jsx(pt,{placeholder:"UF",value:i.estado,onChange:J=>s({...i,estado:J.target.value})})]})]}),p.jsx("div",{className:"flex justify-end mt-6",children:p.jsx(mt,{onClick:X,disabled:v,children:v?"Salvando...":"Salvar Alteraes"})})]})}),p.jsx(xp,{value:"usuarios",children:p.jsxs(Tr,{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Gerenciamento de Usurios"}),p.jsx("p",{className:"text-muted-foreground mb-6",children:"Configure os nveis de acesso e permisses dos usurios do sistema."}),r?p.jsxs("div",{className:"space-y-4",children:[p.jsx(mc,{className:"h-20 w-full"}),p.jsx(mc,{className:"h-20 w-full"}),p.jsx(mc,{className:"h-20 w-full"})]}):t.length===0?p.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum usurio cadastrado"}):p.jsx("div",{className:"space-y-4",children:t.map(J=>p.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:J.displayName}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:[J.email,"  ",npe[J.role]]})]}),p.jsx(azt,{usuario:J,onUpdate:j})]},J.uid))}),p.jsx("div",{className:"flex justify-end mt-6",children:p.jsx(szt,{onUserCreated:j})})]})}),p.jsx(xp,{value:"permissoes",children:p.jsxs(Tr,{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Gerenciamento de Permisses"}),p.jsx("p",{className:"text-muted-foreground mb-6",children:"Defina os nveis de acesso por funo ou customize permisses individuais por funcionrio."}),p.jsxs(rpe,{defaultValue:"porCargo",className:"w-full",children:[p.jsxs(XG,{className:"grid w-full grid-cols-2",children:[p.jsx(yp,{value:"porCargo",children:"Por Cargo"}),p.jsx(yp,{value:"porFuncionario",children:"Por Funcionrio"})]}),p.jsx(xp,{value:"porCargo",className:"space-y-4 mt-6",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Selecione o Cargo"}),p.jsxs(yn,{value:F,onValueChange:A,children:[p.jsx(pn,{className:"w-full",children:p.jsx(xn,{placeholder:"Escolha um cargo"})}),p.jsxs(mn,{children:[p.jsx($t,{value:"admin",children:"Administrador"}),p.jsx($t,{value:"gerente",children:"Gerente"}),p.jsx($t,{value:"agente",children:"Agente"}),p.jsx($t,{value:"atendente",children:"Atendente"})]})]})]}),F&&I[F]&&p.jsx(ozt,{cargo:F,permissoes:I[F],onChange:J=>{M({...I,[F]:J})},onSalvar:()=>ae(F),salvando:w})]})}),p.jsx(xp,{value:"porFuncionario",className:"space-y-4 mt-6",children:p.jsx(lzt,{usuarios:t,onSalvar:R,salvando:w})})]})]})}),p.jsx(xp,{value:"notificacoes",children:p.jsxs(Tr,{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Preferncias de Notificao"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Novas vendas"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Receber notificao quando uma venda for registrada"})]}),p.jsx(ih,{checked:a.novasVendas,onCheckedChange:J=>o({...a,novasVendas:J})})]}),p.jsx(qi,{}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Divergncias na conciliao"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Alertas sobre diferenas encontradas"})]}),p.jsx(ih,{checked:a.divergencias,onCheckedChange:J=>o({...a,divergencias:J})})]}),p.jsx(qi,{}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Relatrios semanais"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Resumo semanal por email"})]}),p.jsx(ih,{checked:a.relatoriosSemanais,onCheckedChange:J=>o({...a,relatoriosSemanais:J})})]}),p.jsx(qi,{}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Metas atingidas"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Notificar quando agentes atingirem metas"})]}),p.jsx(ih,{checked:a.metasAtingidas,onCheckedChange:J=>o({...a,metasAtingidas:J})})]})]}),p.jsx("div",{className:"flex justify-end mt-6",children:p.jsx(mt,{onClick:W,disabled:v,children:v?"Salvando...":"Salvar Preferncias"})})]})}),p.jsx(xp,{value:"seguranca",children:p.jsxs(Tr,{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Configuraes de Segurana"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Autenticao em dois fatores"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Adicione uma camada extra de segurana"})]}),p.jsx(ih,{checked:l.auth2FA,onCheckedChange:J=>c({...l,auth2FA:J})})]}),p.jsx(qi,{}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Timeout de sesso"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Desconectar aps perodo de inatividade"})]}),p.jsx(ih,{checked:l.timeoutSessao,onCheckedChange:J=>c({...l,timeoutSessao:J})})]}),p.jsx(qi,{}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Alterar Senha"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[p.jsx(pt,{type:"password",placeholder:"Senha atual",value:h,onChange:J=>f(J.target.value)}),p.jsx(pt,{type:"password",placeholder:"Nova senha",value:g,onChange:J=>m(J.target.value)})]}),p.jsx("div",{className:"flex gap-3 mt-4",children:p.jsx(mt,{variant:"outline",onClick:B,disabled:v||!g,children:v?"Alterando...":"Alterar Senha"})})]})]}),p.jsx("div",{className:"flex justify-end mt-6",children:p.jsx(mt,{onClick:G,disabled:v,children:v?"Salvando...":"Atualizar Segurana"})})]})}),p.jsx(xp,{value:"aparencia",children:p.jsxs(Tr,{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Personalizao Visual"}),p.jsx("p",{className:"text-muted-foreground mb-6",children:"Personalize a aparncia do sistema de acordo com a identidade da sua empresa."}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Modo Escuro"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Alternar entre tema claro e escuro"})]}),p.jsx(ih,{checked:u.modoEscuro,onCheckedChange:J=>d({...u,modoEscuro:J})})]}),p.jsx(qi,{}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Sidebar Compacta"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Manter menu lateral recolhido por padro"})]}),p.jsx(ih,{checked:u.sidebarCompacta,onCheckedChange:J=>d({...u,sidebarCompacta:J})})]})]}),p.jsx("div",{className:"flex justify-end mt-6",children:p.jsx(mt,{onClick:re,disabled:v,children:v?"Salvando...":"Salvar Aparncia"})})]})}),p.jsx(xp,{value:"dados",children:p.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[p.jsxs(Tr,{className:"p-6",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:p.jsx(MF,{className:"w-5 h-5 text-blue-600"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Categorias de Produtos"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Inicializar categorias padro"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[p.jsx("p",{className:"text-sm mb-2 font-medium",children:"Sero criadas as categorias:"}),p.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-4 list-disc",children:[p.jsx("li",{children:"Emprstimo Pessoal"}),p.jsx("li",{children:"Emprstimo Consignado"}),p.jsx("li",{children:"Portabilidade"}),p.jsx("li",{children:"FGTS"}),p.jsx("li",{children:"Troca Carto"}),p.jsx("li",{children:"Venda Digital"}),p.jsx("li",{children:"Refin da Portabilidade"}),p.jsx("li",{children:"REFIN"}),p.jsx("li",{children:"Saque Digital"})]})]}),p.jsx(mt,{onClick:U,disabled:C,className:"w-full gap-2",variant:"outline",children:C?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"animate-spin",children:""}),"Criando Categorias..."]}):p.jsxs(p.Fragment,{children:[p.jsx(MF,{className:"w-4 h-4"}),"Popular Categorias Padro"]})}),p.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Categorias j existentes no sero duplicadas"})]})]}),p.jsxs(Tr,{className:"p-6",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:p.jsx(d_,{className:"w-5 h-5 text-primary"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Backup de Dados"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Exportar todos os dados do sistema"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[p.jsx("p",{className:"text-sm mb-2",children:"O backup incluir:"}),p.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-4 list-disc",children:[p.jsx("li",{children:"Clientes"}),p.jsx("li",{children:"Vendas"}),p.jsx("li",{children:"Produtos"}),p.jsx("li",{children:"Funcionrios"}),p.jsx("li",{children:"Fornecedores"}),p.jsx("li",{children:"Bancos e Categorias"}),p.jsx("li",{children:"Despesas"}),p.jsx("li",{children:"Usurios"})]})]}),p.jsx(mt,{onClick:V,disabled:T,className:"w-full gap-2",children:T?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"animate-spin",children:""}),"Exportando..."]}):p.jsxs(p.Fragment,{children:[p.jsx(d_,{className:"w-4 h-4"}),"Exportar Backup (JSON)"]})}),p.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"O arquivo ser baixado no formato JSON"})]})]}),p.jsxs(Tr,{className:"p-6",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:p.jsx(fg,{className:"w-5 h-5 text-green-600"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Importar Vendas"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Importar vendas de arquivo externo"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[p.jsx("p",{className:"text-sm mb-2 font-medium",children:"Formatos aceitos:"}),p.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-4 list-disc",children:[p.jsx("li",{children:"JSON (backup completo ou vendas)"}),p.jsx("li",{children:"CSV (planilha de vendas)"})]}),p.jsxs("div",{className:"mt-3 pt-3 border-t",children:[p.jsx("p",{className:"text-sm mb-2 font-medium",children:"Campos necessrios (CSV):"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"clienteId, produtoId, funcionarioId, valorContrato, prazo, comissao, status"})]})]}),p.jsx("div",{className:"relative",children:p.jsx(pt,{type:"file",accept:".json,.csv",onChange:K,disabled:_,className:"cursor-pointer"})}),_&&p.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[p.jsx("span",{className:"animate-spin",children:""}),"Importando vendas..."]}),p.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-3",children:p.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-500",children:" As vendas sero adicionadas ao sistema. Certifique-se de que os IDs de clientes, produtos e funcionrios existem no banco de dados."})})]})]})]})})]})]})}const hzt=t=>{const e={admin:{label:"Administrador",variant:"default",icon:uge},gerente:{label:"Gerente",variant:"secondary",icon:Gw},agente:{label:"Agente",variant:"outline",icon:Gw},atendente:{label:"Atendente",variant:"outline",icon:Gw}};return e[t]||e.agente},fzt=[{key:"displayName",header:"Usurio",render:t=>{var e;return p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs(dx,{className:"w-9 h-9",children:[p.jsx(K8,{src:t.photoURL}),p.jsx(hx,{className:"bg-primary/10 text-primary text-xs",children:((e=t.displayName)==null?void 0:e.split(" ").map(r=>r[0]).join("").slice(0,2))||"U"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-sm",children:t.displayName}),p.jsx("p",{className:"text-xs text-muted-foreground",children:t.email})]})]})}},{key:"role",header:"Perfil",render:t=>{const e=hzt(t.role),r=e.icon;return p.jsxs(Ns,{variant:e.variant,className:"gap-1",children:[p.jsx(r,{className:"w-3 h-3"}),e.label]})}},{key:"createdAt",header:"Cadastro",render:t=>p.jsx("span",{className:"text-sm",children:t.createdAt?new Date(t.createdAt).toLocaleDateString("pt-BR"):"-"})},{key:"aprovado",header:"Aprovao",render:t=>p.jsx(Ns,{variant:t.aprovado?"default":"secondary",className:t.aprovado?"bg-success hover:bg-success/90":"bg-orange-500 hover:bg-orange-600",children:t.aprovado?p.jsxs(p.Fragment,{children:[p.jsx(ODe,{className:"w-3 h-3 mr-1"}),"Aprovado"]}):p.jsxs(p.Fragment,{children:[p.jsx(DF,{className:"w-3 h-3 mr-1"}),"Pendente"]})})},{key:"status",header:"Status",render:t=>p.jsx(Ns,{variant:t.status==="ativo"?"default":"destructive",className:t.status==="ativo"?"bg-success hover:bg-success/90":"",children:t.status==="ativo"?"Ativo":"Bloqueado"})}];function pzt(){var m;const[t,e]=O.useState([]),[r,n]=O.useState(!0),[i,s]=O.useState(null),[a,o]=O.useState("agente"),[l,c]=O.useState("ativo");O.useEffect(()=>{u()},[]);const u=async()=>{try{n(!0);const v=await oGe();e(v)}catch(v){console.error("Erro ao carregar usurios:",v),Be.error("Erro ao carregar usurios")}finally{n(!1)}},d=v=>{s(v),o(v.role),c(v.status||"ativo")},h=async()=>{if(i!=null&&i.id)try{a!==i.role&&await lGe(i.id,a),l!==i.status&&await Mie(i.id,l),Be.success("Usurio atualizado com sucesso!"),s(null),u()}catch(v){console.error("Erro ao atualizar usurio:",v),Be.error("Erro ao atualizar usurio")}},f=async v=>{if(!v.id)return;const x=v.status==="ativo"?"bloqueado":"ativo",w=x==="bloqueado"?"bloquear":"desbloquear";if(confirm(`Deseja realmente ${w} o usurio ${v.displayName}?`))try{await Mie(v.id,x),Be.success(`Usurio ${w==="bloquear"?"bloqueado":"desbloqueado"} com sucesso!`),u()}catch(b){console.error(`Erro ao ${w} usurio:`,b),Be.error(`Erro ao ${w} usurio`)}},g=async v=>{if(!v.id)return;const x=!v.aprovado,w=x?"aprovar":"reprovar";if(confirm(`Deseja realmente ${w} o cadastro de ${v.displayName}?`))try{await Ac(ri(_r,"users",v.id),{aprovado:x}),Be.success(`Cadastro ${x?"aprovado":"reprovado"} com sucesso!`),u()}catch(b){console.error(`Erro ao ${w} cadastro:`,b),Be.error(`Erro ao ${w} cadastro`)}};return p.jsxs("div",{children:[p.jsx(uu,{title:"Gerenciamento de Usurios",description:"Gerencie permisses e acessos dos usurios do sistema"}),p.jsx(lR,{columns:fzt,data:t,searchPlaceholder:"Buscar por nome ou email...",onEdit:d,onDelete:f,deleteLabel:v=>v.status==="ativo"?"Bloquear":"Desbloquear",customActions:[{label:v=>v.aprovado?"Reprovar Cadastro":"Aprovar Cadastro",onClick:g,className:v=>v.aprovado?"text-orange-600 focus:text-orange-600":"text-green-600 focus:text-green-600"}]}),p.jsx(oo,{open:!!i,onOpenChange:v=>!v&&s(null),children:p.jsxs($a,{className:"max-w-md",children:[p.jsxs(Va,{children:[p.jsx(Ua,{children:"Editar Permisses"}),p.jsx(Pm,{children:"Altere o perfil e status de acesso do usurio"})]}),p.jsxs("div",{className:"space-y-4 py-4",children:[p.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[p.jsxs(dx,{className:"w-12 h-12",children:[p.jsx(K8,{src:i==null?void 0:i.photoURL}),p.jsx(hx,{className:"bg-primary/10 text-primary",children:((m=i==null?void 0:i.displayName)==null?void 0:m.split(" ").map(v=>v[0]).join("").slice(0,2))||"U"})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"font-medium text-sm",children:i==null?void 0:i.displayName}),p.jsx("p",{className:"text-xs text-muted-foreground truncate",children:i==null?void 0:i.email})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"role",children:"Perfil de Acesso"}),p.jsxs(yn,{value:a,onValueChange:v=>o(v),children:[p.jsx(pn,{id:"role",children:p.jsx(xn,{})}),p.jsxs(mn,{children:[p.jsx($t,{value:"admin",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(uge,{className:"w-4 h-4"}),"Administrador"]})}),p.jsx($t,{value:"gerente",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Gw,{className:"w-4 h-4"}),"Gerente"]})}),p.jsx($t,{value:"agente",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Gw,{className:"w-4 h-4"}),"Agente"]})}),p.jsx($t,{value:"atendente",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Gw,{className:"w-4 h-4"}),"Atendente"]})})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"status",children:"Status da Conta"}),p.jsxs(yn,{value:l,onValueChange:v=>c(v),children:[p.jsx(pn,{id:"status",children:p.jsx(xn,{})}),p.jsxs(mn,{children:[p.jsx($t,{value:"ativo",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 bg-success rounded-full"}),"Ativo"]})}),p.jsx($t,{value:"bloqueado",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(cge,{className:"w-4 h-4 text-destructive"}),"Bloqueado"]})})]})]})]}),p.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg text-xs space-y-2",children:[p.jsx("p",{className:"font-medium",children:"Permisses do perfil selecionado:"}),a==="admin"&&p.jsx("p",{className:"text-muted-foreground",children:" Acesso completo a todas as funcionalidades"}),a==="gerente"&&p.jsx("p",{className:"text-muted-foreground",children:" Acesso a Produtos, Relatrios e Conciliao"}),(a==="agente"||a==="atendente")&&p.jsxs("p",{className:"text-muted-foreground",children:[" Sem acesso a Produtos, Relatrios e Conciliao",p.jsx("br",{})," Comisses ocultas em contratos"]})]})]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(mt,{variant:"outline",onClick:()=>s(null),children:"Cancelar"}),p.jsx(mt,{onClick:h,children:"Salvar Alteraes"})]})]})})]})}const mzt=[{ate:1518,aliquota:.075},{ate:2793.88,aliquota:.09},{ate:4190.83,aliquota:.12},{ate:8157.41,aliquota:.14}],ipe=[{ate:2259.2,aliquota:0,deducao:0},{ate:2826.65,aliquota:.075,deducao:169.44},{ate:3751.05,aliquota:.15,deducao:381.44},{ate:4664.68,aliquota:.225,deducao:662.77},{ate:1/0,aliquota:.275,deducao:896}],gzt=189.59;function vzt(t){let e=0,r=t,n=0;for(const i of mzt){if(r<=0)break;const s=Math.min(r,i.ate-n);e+=s*i.aliquota,r-=s,n=i.ate}return Number(e.toFixed(2))}function yzt(t,e,r=0){const n=r*gzt,i=t-e-n;if(i<=0)return 0;let s=ipe[0];for(const o of ipe)if(i<=o.ate){s=o;break}const a=i*s.aliquota-s.deducao;return Math.max(0,Number(a.toFixed(2)))}function xzt(t,e,r){if(!r)return 0;const n=t*.06;return Number(Math.min(n,e).toFixed(2))}function bzt(t){return Number((t*.08).toFixed(2))}function wzt(t,e,r=220){const i=t/r*1.5;return Number((e*i).toFixed(2))}function _zt(t,e,r=220){const i=t/r*2;return Number((e*i).toFixed(2))}function Szt(t,e,r=220){const n=t/r,i=e*(60/52.5),s=n*.2*i;return Number(s.toFixed(2))}function Azt(t,e,r){if(e===0)return 0;const n=t/e*r;return Number(n.toFixed(2))}function Ezt(t,e,r){if(r===0||e===0)return 0;const n=t/r;return Number((n*e).toFixed(2))}function Tzt(t){const e=t/12*1.3333333333333333;return Number(e.toFixed(2))}function Czt(t){const e=t/12;return Number(e.toFixed(2))}function kzt(t){const e=bzt(t),r=Tzt(t),n=Czt(t),i=e+r+n;return{fgts:e,provisaoFerias:r,provisao13Salario:n,total:Number(i.toFixed(2))}}function Pzt(t,e){return Number((t.total-e.total).toFixed(2))}function spe(t){const{funcionarioId:e,mesReferencia:r,salarioBase:n,horasExtras50:i=0,horasExtras100:s=0,horasAdicionalNoturno:a=0,comissoes:o=0,bonus:l=0,insalubridade:c=0,periculosidade:u=0,outrosProventos:d=0,valeRefeicao:h=0,planoDeSaude:f=0,outrosDescontos:g=0,optouVT:m=!0,custoVT:v=0,numeroDependentes:x=0,diasFaltas:w=0,diasUteis:b=22,diasDSR:_=8,horasMensais:S=220}=t,T=wzt(n,i,S),E=_zt(n,s,S),C=Szt(n,a,S),N=T+E+C,F=Azt(N,b,_),A={salarioBase:n,horasExtras50:T,horasExtras100:E,adicionalNoturno:C,dsr:F,comissoes:o,bonus:l,insalubridade:c,periculosidade:u,outros:d,total:0};A.total=Number((n+T+E+C+F+o+l+c+u+d).toFixed(2));const I=Ezt(n,w,b),M=A.total-I,U=vzt(M),Y=yzt(M,U,x),X=xzt(M,v,m),W={inss:U,irrf:Y,valeTransporte:X,valeRefeicao:h,planoDeSaude:f,faltas:I,outros:g,total:0};W.total=Number((U+Y+X+h+f+I+g).toFixed(2));const G=kzt(A.total),B=Pzt(A,W);return{funcionarioId:e,mesReferencia:r,salarioBruto:A.total,proventos:A,descontos:W,encargos:G,salarioLiquido:B,fgts:G.fgts,numeroDependentes:x,diasFaltas:w,horasExtras50:i,horasExtras100:s,horasAdicionalNoturno:a,status:"rascunho",criadoEm:new Date,atualizadoEm:new Date}}const qh={SALARIO_BASE:"1000",HORAS_EXTRAS_50:"1010",HORAS_EXTRAS_100:"1011",ADICIONAL_NOTURNO:"1020",DSR:"1030",COMISSOES:"1040",BONUS:"1050",INSALUBRIDADE:"1060",PERICULOSIDADE:"1070",INSS:"9001",IRRF:"9002",VALE_TRANSPORTE:"9010",VALE_REFEICAO:"9011",PLANO_SAUDE:"9012",FALTAS:"9020",FGTS:"9200",PROVISAO_FERIAS:"9201",PROVISAO_13_SALARIO:"9202"};function Nzt(t,e,r="1.0.0"){const n=[];return t.proventos.salarioBase>0&&n.push({codRubr:qh.SALARIO_BASE,ideTabRubr:"TABELA01",vrRubr:t.proventos.salarioBase,indApurIR:0}),t.proventos.horasExtras50>0&&n.push({codRubr:qh.HORAS_EXTRAS_50,ideTabRubr:"TABELA01",qtdRubr:t.informacoesAdicionais.horasExtras50,vrRubr:t.proventos.horasExtras50,indApurIR:0}),t.proventos.horasExtras100>0&&n.push({codRubr:qh.HORAS_EXTRAS_100,ideTabRubr:"TABELA01",qtdRubr:t.informacoesAdicionais.horasExtras100,vrRubr:t.proventos.horasExtras100,indApurIR:0}),t.proventos.adicionalNoturno>0&&n.push({codRubr:qh.ADICIONAL_NOTURNO,ideTabRubr:"TABELA01",qtdRubr:t.informacoesAdicionais.horasAdicionalNoturno,vrRubr:t.proventos.adicionalNoturno,indApurIR:0}),t.proventos.dsr>0&&n.push({codRubr:qh.DSR,ideTabRubr:"TABELA01",vrRubr:t.proventos.dsr,indApurIR:0}),t.proventos.comissoes>0&&n.push({codRubr:qh.COMISSOES,ideTabRubr:"TABELA01",vrRubr:t.proventos.comissoes,indApurIR:0}),t.descontos.inss>0&&n.push({codRubr:qh.INSS,ideTabRubr:"TABELA01",vrRubr:t.descontos.inss,indApurIR:0}),t.descontos.irrf>0&&n.push({codRubr:qh.IRRF,ideTabRubr:"TABELA01",vrRubr:t.descontos.irrf,indApurIR:0}),t.descontos.valeTransporte>0&&n.push({codRubr:qh.VALE_TRANSPORTE,ideTabRubr:"TABELA01",vrRubr:t.descontos.valeTransporte,indApurIR:0}),t.descontos.faltas>0&&n.push({codRubr:qh.FALTAS,ideTabRubr:"TABELA01",qtdRubr:t.informacoesAdicionais.diasFaltas,vrRubr:t.descontos.faltas,indApurIR:0}),t.encargos.fgts>0&&n.push({codRubr:qh.FGTS,ideTabRubr:"TABELA01",vrRubr:t.encargos.fgts,indApurIR:0}),{evtRemun:{ideEvento:{indRetif:1,indApuracao:1,perApur:t.mesReferencia,tpAmb:2,procEmi:1,verProc:r},ideEmpregador:{tpInsc:1,nrInsc:e},ideTrabalhador:{cpfTrab:t.funcionarioCPF,nmTrab:t.funcionarioNome,dtNascto:""},dmDev:[{ideDmDev:`${t.funcionarioId}-${t.mesReferencia}`,codCateg:101,infoPerApur:{ideEstabLot:[{tpInsc:1,nrInsc:e,codLotacao:"001",remunPerApur:{matricula:t.funcionarioId,itensRemun:n}}]}}]}}}function Izt(t,e){const r=t.map(n=>Nzt(n,e));return JSON.stringify(r,null,2)}function Ozt(){var jr;const[t,e]=O.useState([]),[r,n]=O.useState([]),[i,s]=O.useState([]),[a,o]=O.useState(!0),[l,c]=O.useState(new Date),[u,d]=O.useState(!1),[h,f]=O.useState(!1),[g,m]=O.useState(""),[v,x]=O.useState(0),[w,b]=O.useState(0),[_,S]=O.useState(0),[T,E]=O.useState(0),[C,N]=O.useState(0),[F,A]=O.useState(0),[I,M]=O.useState(22),[U,Y]=O.useState(8),[X,W]=O.useState(220),[G,B]=O.useState(0),[re,ae]=O.useState(0),[R,j]=O.useState(0),[V,K]=O.useState(0),[ne,J]=O.useState(0),[me,ce]=O.useState(0),[he,_e]=O.useState(0),[ee,je]=O.useState(0),[Ue,pe]=O.useState(0),[Me,Ye]=O.useState(0),[xt,Ke]=O.useState(!0),[be,Pe]=O.useState(0),[De,Je]=O.useState(!1),[it,rt]=O.useState(null);O.useState(!1),O.useState(""),O.useState(0),O.useState(new Date),O.useState(""),O.useEffect(()=>{st()},[l]);const st=async()=>{o(!0);try{const[Ne,Gt]=await Promise.all([fx(),cGe()]);e(Ne),s(Gt);const Ve=Pr(_a(l),"yyyy-MM"),Qt=Pr(Cm(l),"yyyy-MM"),Ht=kc(pi(_r,"folhaPagamento"),oN("mesReferencia",">=",Ve),oN("mesReferencia","<=",Qt)),ft=(await fo(Ht)).docs.map(ar=>{var tr,Sr,qr;return{id:ar.id,...ar.data(),criadoEm:(tr=ar.data().criadoEm)==null?void 0:tr.toDate(),atualizadoEm:(Sr=ar.data().atualizadoEm)==null?void 0:Sr.toDate(),dataPagamento:(qr=ar.data().dataPagamento)==null?void 0:qr.toDate()}});n(ft)}catch(Ne){console.error("Erro ao carregar dados:",Ne),Be.error("Erro ao carregar dados da folha de pagamento")}finally{o(!1)}},Dt=async()=>{if(!g){Be.error("Selecione um funcionrio");return}d(!0);try{const Ne=t.find(ft=>ft.id===g);if(!Ne){Be.error("Funcionrio no encontrado");return}const Gt=await r9(g),Ve=(Gt==null?void 0:Gt.salarioBase)||Ne.salarioBruto||Ne.salario||0;x(Ve);const Qt={funcionarioId:g,mesReferencia:Pr(l,"yyyy-MM"),salarioBase:Ve,horasExtras50:w,horasExtras100:_,horasAdicionalNoturno:T,comissoes:re,bonus:R,insalubridade:ne,periculosidade:me,outrosProventos:he,valeRefeicao:ee,planoDeSaude:Ue,outrosDescontos:Me,numeroDependentes:C||Ne.dependentes||0,diasFaltas:F,diasUteis:I,diasDSR:U,horasMensais:X,optouVT:xt,custoVT:be},Ht=spe(Qt),gt={funcionarioId:g,mesReferencia:Pr(l,"yyyy-MM"),salarioBruto:Ht.salarioBruto,proventos:Ht.proventos,descontos:Ht.descontos,salarioLiquido:Ht.salarioLiquido,fgts:Ht.fgts,encargos:Ht.encargos,status:"processada",criadoEm:new Date,atualizadoEm:new Date};await Hf(pi(_r,"folhaPagamento"),gt),Be.success("Folha de pagamento processada com sucesso!"),f(!1),kt(),st()}catch(Ne){console.error("Erro ao processar folha:",Ne),Be.error("Erro ao processar folha de pagamento")}finally{d(!1)}},kt=()=>{m(""),x(0),b(0),S(0),E(0),N(0),A(0),M(22),Y(8),W(220),ae(0),j(0),J(0),ce(0),_e(0),je(0),pe(0),Ye(0),Ke(!0),Pe(0)},Nt=async Ne=>{rt(Ne),m(Ne.funcionarioId);const Gt=await r9(Ne.funcionarioId),Ve=t.find(gt=>gt.id===Ne.funcionarioId),Qt=(Gt==null?void 0:Gt.salarioBase)||(Ve==null?void 0:Ve.salarioBruto)||(Ve==null?void 0:Ve.salario)||0;x(Qt);const Ht=Ne.proventos;b(Ht.horasExtras50||0),S(Ht.horasExtras100||0),E(Ne.proventos.adicionalNoturno||0),N(Ne.numeroDependentes||(Ve==null?void 0:Ve.dependentes)||0),A(Ne.diasFaltas||0),M(22),Y(8),W(220),ae(Ne.proventos.comissoes||0),j(Ne.proventos.bonus||0),J(Ne.proventos.insalubridade||0),ce(Ne.proventos.periculosidade||0),_e(Ne.proventos.outros||0),je(Ne.descontos.valeRefeicao||0),pe(Ne.descontos.planoDeSaude||0),Ye(Ne.descontos.outros||0),Pe(Ne.descontos.valeTransporte||0),Je(!0)},At=async()=>{if(it){d(!0);try{const Ne=t.find(Qt=>Qt.id===g);if(!Ne){Be.error("Funcionrio no encontrado");return}const Gt={funcionarioId:g,mesReferencia:Pr(l,"yyyy-MM"),salarioBase:v,horasExtras50:w,horasExtras100:_,horasAdicionalNoturno:T,comissoes:re,bonus:R,insalubridade:ne,periculosidade:me,outrosProventos:he,valeRefeicao:ee,planoDeSaude:Ue,outrosDescontos:Me,numeroDependentes:C||Ne.dependentes||0,diasFaltas:F,diasUteis:I,diasDSR:U,horasMensais:X,optouVT:xt,custoVT:be},Ve=spe(Gt);await Ac(ri(_r,"folhaPagamento",it.id),{salarioBruto:Ve.salarioBruto,proventos:Ve.proventos,descontos:Ve.descontos,salarioLiquido:Ve.salarioLiquido,fgts:Ve.fgts,atualizadoEm:new Date}),Be.success("Folha de pagamento atualizada com sucesso!"),Je(!1),rt(null),kt(),st()}catch(Ne){console.error("Erro ao atualizar folha:",Ne),Be.error("Erro ao atualizar folha de pagamento")}finally{d(!1)}}},Tt=async Ne=>{if(confirm("Tem certeza que deseja excluir esta folha de pagamento?"))try{await i2(ri(_r,"folhaPagamento",Ne)),Be.success("Folha de pagamento excluda com sucesso!"),st()}catch(Gt){console.error("Erro ao excluir folha:",Gt),Be.error("Erro ao excluir folha de pagamento")}},Ur=async Ne=>{try{await Ac(ri(_r,"folhaPagamento",Ne),{status:"paga",dataPagamento:new Date,atualizadoEm:new Date}),Be.success("Folha marcada como paga!"),st()}catch(Gt){console.error("Erro ao marcar como paga:",Gt),Be.error("Erro ao atualizar status")}},Yt=()=>{if(r.length===0){Be.error("Nenhuma folha disponvel para exportar");return}try{const Ne=r.map(gt=>{var ar,tr;const ft=t.find(Sr=>Sr.id===gt.funcionarioId);return{id:gt.id,funcionarioId:gt.funcionarioId,funcionarioNome:(ft==null?void 0:ft.nome)||"",funcionarioCPF:(ft==null?void 0:ft.cpf)||"",mesReferencia:gt.mesReferencia,salarioBase:gt.proventos.salarioBase,horasExtras50:gt.proventos.horasExtras50||0,horasExtras100:gt.proventos.horasExtras100||0,adicionalNoturno:gt.proventos.adicionalNoturno||0,dsr:gt.proventos.dsr||0,comissoes:gt.proventos.comissoes||0,bonus:gt.proventos.bonus||0,insalubridade:gt.proventos.insalubridade||0,periculosidade:gt.proventos.periculosidade||0,outrosProventos:gt.proventos.outros||0,inss:gt.descontos.inss,irrf:gt.descontos.irrf,valeTransporte:gt.descontos.valeTransporte,valeRefeicao:gt.descontos.valeRefeicao,planoDeSaude:gt.descontos.planoDeSaude,faltas:gt.descontos.faltas||0,outrosDescontos:gt.descontos.outros||0,fgts:gt.fgts,provisaoFerias:((ar=gt.encargos)==null?void 0:ar.provisaoFerias)||0,provisao13Salario:((tr=gt.encargos)==null?void 0:tr.provisao13Salario)||0,totalProventos:gt.proventos.total,totalDescontos:gt.descontos.total,salarioLiquido:gt.salarioLiquido,proventos:gt.proventos,descontos:gt.descontos,encargos:gt.encargos,informacoesAdicionais:gt.informacoesAdicionais||{},status:gt.status}}),Gt=Izt(Ne,"00000000000000"),Ve=new Blob([Gt],{type:"application/json"}),Qt=URL.createObjectURL(Ve),Ht=document.createElement("a");Ht.href=Qt,Ht.download=`esocial_${Pr(l,"yyyy-MM")}.json`,document.body.appendChild(Ht),Ht.click(),document.body.removeChild(Ht),URL.revokeObjectURL(Qt),Be.success("Arquivo eSocial exportado com sucesso!")}catch(Ne){console.error("Erro ao exportar eSocial:",Ne),Be.error("Erro ao exportar arquivo eSocial")}},sr=Ne=>{const Gt=t.find(St=>St.id===Ne.funcionarioId);if(!Gt){Be.error("Funcionrio no encontrado");return}const Ve=new wr,Qt=Pr(new Date(Ne.mesReferencia+"-01"),"MMMM/yyyy",{locale:Zr});Ve.setFontSize(11),Ve.setFont(void 0,"bold"),Ve.text("Nome empresa",15,15),Ve.setFontSize(8),Ve.setFont(void 0,"normal"),Ve.text("Endereo",15,20),Ve.text("CNPJ: 04.290.167/0001-95",15,24),Ve.setFontSize(12),Ve.setFont(void 0,"bold"),Ve.text("Recibo de Pagamento de Salrio",80,15),Ve.setFontSize(9),Ve.setFont(void 0,"normal"),Ve.text(`Ms de referncia: ${Qt}`,80,20),Ve.setFontSize(7),Ve.text("Recibo de Pagamento de Salrio",195,80,{angle:90});const Ht=30;Ve.setFontSize(8),Ve.setFont(void 0,"bold"),Ve.rect(15,Ht,20,6),Ve.text("Cdigo",17,Ht+4),Ve.rect(35,Ht,80,6),Ve.text("Nome do Funcionrio",37,Ht+4),Ve.rect(115,Ht,25,6),Ve.text("Admisso",117,Ht+4),Ve.rect(140,Ht,15,6),Ve.text("CBO",142,Ht+4),Ve.rect(155,Ht,40,6),Ve.text("Funo",157,Ht+4),Ve.setFont(void 0,"normal"),Ve.rect(15,Ht+6,20,6),Ve.text("cod. func",17,Ht+10),Ve.rect(35,Ht+6,80,6),Ve.text(Gt.nome.substring(0,40),37,Ht+10),Ve.rect(115,Ht+6,25,6),Ve.text("dt. adm",117,Ht+10),Ve.rect(140,Ht+6,15,6),Ve.text("cbo",142,Ht+10),Ve.rect(155,Ht+6,40,6),Ve.text(Gt.cargo.substring(0,20),157,Ht+10);const gt=Ht+18;Ve.setFont(void 0,"bold"),Ve.rect(15,gt,15,6),Ve.text("Cdigo",17,gt+4),Ve.rect(30,gt,80,6),Ve.text("Nome do Funcionrio",32,gt+4),Ve.rect(110,gt,20,6),Ve.text("Referncia",112,gt+4),Ve.rect(130,gt,30,6),Ve.text("Vencimentos",132,gt+4),Ve.rect(160,gt,30,6),Ve.text("Descontos",162,gt+4);let ft=gt+6;Ve.setFont(void 0,"normal");const ar=[],tr=Number(Ne.proventos.salarioBase)||0,Sr=Number(Ne.proventos.bonus)||0,qr=Ne.proventos,Nn=(Number(qr.horasExtras50)||0)+(Number(qr.horasExtras100)||0),Jt=Number(Ne.proventos.comissoes)||0,Ni=Number(Ne.proventos.adicionalNoturno)||0,li=Number(Ne.proventos.insalubridade)||0,Tn=Number(Ne.proventos.periculosidade)||0,Oe=Number(Ne.descontos.inss)||0,Lt=Number(Ne.descontos.valeTransporte)||0,It=Number(Ne.descontos.valeRefeicao)||0,se=Number(Ne.descontos.planoDeSaude)||0,de=Number(Ne.descontos.irrf)||0,ue=Number(Ne.descontos.outros)||0;tr>0&&ar.push({cod:"001",nome:"SALRIO",ref:"30",venc:tr,desc:0}),Sr>0&&ar.push({cod:"112",nome:"SALRIO FAMLIA",ref:"0",venc:Sr,desc:0}),Nn>0&&ar.push({cod:"",nome:"HORAS EXTRAS",ref:"",venc:Nn,desc:0}),Jt>0&&ar.push({cod:"",nome:"COMISSES",ref:"",venc:Jt,desc:0}),Ni>0&&ar.push({cod:"",nome:"ADICIONAL NOTURNO",ref:"",venc:Ni,desc:0}),li>0&&ar.push({cod:"",nome:"INSALUBRIDADE",ref:"",venc:li,desc:0}),Tn>0&&ar.push({cod:"",nome:"PERICULOSIDADE",ref:"",venc:Tn,desc:0}),Oe>0&&ar.push({cod:"108",nome:"INSS",ref:"0",venc:0,desc:Oe}),Lt>0&&ar.push({cod:"107",nome:"VALE TRANSPORTE",ref:"0",venc:0,desc:Lt}),It>0&&ar.push({cod:"187",nome:"ALIMENTAO",ref:"0",venc:0,desc:It}),se>0&&ar.push({cod:"",nome:"PLANO DE SADE",ref:"",venc:0,desc:se}),de>0&&ar.push({cod:"",nome:"IRRF",ref:"",venc:0,desc:de}),ue>0&&ar.push({cod:"106",nome:"DIFERENA SAL",ref:"",venc:0,desc:ue}),ar.forEach(St=>{Ve.rect(15,ft,15,5),Ve.text(St.cod,17,ft+3.5),Ve.rect(30,ft,80,5),Ve.text(St.nome,32,ft+3.5),Ve.rect(110,ft,20,5),Ve.text(St.ref,112,ft+3.5),Ve.rect(130,ft,30,5),St.venc>0&&Ve.text(St.venc.toFixed(2),132,ft+3.5),Ve.rect(160,ft,30,5),St.desc>0&&Ve.text(St.desc.toFixed(2),162,ft+3.5),ft+=5});const xe=12,Se=ar.length;if(Se<xe)for(let St=0;St<xe-Se;St++)Ve.rect(15,ft,15,5),Ve.rect(30,ft,80,5),Ve.rect(110,ft,20,5),Ve.rect(130,ft,30,5),Ve.rect(160,ft,30,5),ft+=5;ft+=5,Ve.setFont(void 0,"bold"),Ve.text("Total de Vencimentos",100,ft),Ve.text("Total de Descontos",132,ft),Ve.setFontSize(9);const Ee=Number(Ne.proventos.total)||0,qe=Number(Ne.descontos.total)||0;Ve.text(Ee.toFixed(2),100,ft+5),Ve.text(qe.toFixed(2),132,ft+5),ft+=12,Ve.setFontSize(10),Ve.text("Valor Lquido",70,ft),Ve.setFontSize(8),Ve.text("R$",95,ft),Ve.text(">",105,ft),Ve.setFontSize(11),Ve.setFont(void 0,"bold");const nt=Number(Ne.salarioLiquido)||0;Ve.text(nt.toFixed(2),120,ft),ft+=10,Ve.setFontSize(8),Ve.setFont(void 0,"normal");const He=Number(Ne.proventos.total)||0,Ge=He*.08,Ze=Number(Ne.proventos.salarioBase)||0,_t=Number(Ne.descontos.inss)||0;Ve.text(`Salrio Base: ${Ze.toFixed(2)}`,15,ft),Ve.text(`Salrio Contr. INSS: ${(He-_t).toFixed(2)}`,60,ft),Ve.text(`Base FGTS: ${He.toFixed(2)}`,110,ft),Ve.text(`FGTS do Ms: ${Ge.toFixed(2)}`,145,ft),Ve.text(`Base Calc.: ${He.toFixed(2)}`,175,ft),ft+=10,Ve.setFontSize(7),Ve.text(`Gerado em: ${Pr(new Date,"dd/MM/yyyy HH:mm",{locale:Zr})}`,105,ft,{align:"center"}),Ve.save(`recibo_pagamento_${Gt.nome.replace(/\s/g,"_")}_${Ne.mesReferencia}.pdf`),Be.success("Recibo de pagamento gerado com sucesso!")},Cr=r.reduce((Ne,Gt)=>Ne+Gt.salarioLiquido,0);return p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsx(uu,{title:"Folha de Pagamento",description:"Gesto de pagamentos e holerites dos funcionrios"}),p.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:p.jsx(Q0,{className:"h-6 w-6 text-primary"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Total da Folha"}),p.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",Cr.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}),p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/20 rounded-lg",children:p.jsx(ige,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Processadas"}),p.jsx("p",{className:"text-2xl font-bold",children:r.filter(Ne=>Ne.status==="processada"||Ne.status==="paga").length})]})]})}),p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{children:[p.jsx(Xe,{children:"Ms de Referncia"}),p.jsxs(Hg,{children:[p.jsx(Wg,{asChild:!0,children:p.jsxs(mt,{variant:"outline",className:"w-full justify-start mt-2",children:[p.jsx(My,{className:"mr-2 h-4 w-4"}),Pr(l,"MMMM yyyy",{locale:Zr})]})}),p.jsx(Nm,{className:"w-auto p-0",children:p.jsx(qg,{mode:"single",selected:l,onSelect:Ne=>Ne&&c(Ne),locale:Zr})})]})]})})]}),p.jsxs(Tr,{className:"p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Folhas do Ms"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(mt,{variant:"outline",onClick:Yt,disabled:r.length===0,children:[p.jsx(d_,{className:"mr-2 h-4 w-4"}),"Exportar eSocial"]}),p.jsxs(oo,{open:h,onOpenChange:f,children:[p.jsx(qB,{asChild:!0,children:p.jsxs(mt,{children:[p.jsx(oC,{className:"mr-2 h-4 w-4"}),"Processar Folha"]})}),p.jsxs($a,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[p.jsx(Va,{children:p.jsx(Ua,{children:"Processar Nova Folha de Pagamento"})}),p.jsxs("div",{className:"space-y-4 mt-4",children:[p.jsxs("div",{children:[p.jsx(Xe,{children:"Funcionrio"}),p.jsxs(yn,{value:g,onValueChange:async Ne=>{m(Ne);const Gt=await r9(Ne),Ve=t.find(Ht=>Ht.id===Ne),Qt=(Gt==null?void 0:Gt.salarioBase)||(Ve==null?void 0:Ve.salarioBruto)||(Ve==null?void 0:Ve.salario)||0;x(Qt)},children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Selecione o funcionrio"})}),p.jsx(mn,{children:t.map(Ne=>p.jsxs($t,{value:Ne.id,children:[Ne.nome," - ",Ne.cargo]},Ne.id))})]})]}),g&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[p.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:["Salrio Base Cadastrado: R$ ",v.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:"Este valor ser usado como salrio base e somado aos proventos adicionais."})]}),p.jsx(qi,{}),p.jsx("h4",{className:"font-semibold text-sm",children:"Horas Trabalhadas e Extras (2026)"}),p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx(Xe,{children:"HE 50% (horas)"}),p.jsx(pt,{type:"number",step:"0.01",value:w,onChange:Ne=>b(Number(Ne.target.value)),placeholder:"Ex: 10"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Dias teis"})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"HE 100% (horas)"}),p.jsx(pt,{type:"number",step:"0.01",value:_,onChange:Ne=>S(Number(Ne.target.value)),placeholder:"Ex: 5"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Domingos/feriados"})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Adicional Noturno (horas)"}),p.jsx(pt,{type:"number",step:"0.01",value:T,onChange:Ne=>E(Number(Ne.target.value)),placeholder:"Ex: 20"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"22h-5h (20%+reduo)"})]})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx(Xe,{children:"Dias teis"}),p.jsx(pt,{type:"number",value:I,onChange:Ne=>M(Number(Ne.target.value))})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Dias DSR"}),p.jsx(pt,{type:"number",value:U,onChange:Ne=>Y(Number(Ne.target.value))})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Horas Mensais"}),p.jsx(pt,{type:"number",value:X,onChange:Ne=>W(Number(Ne.target.value))})]})]}),p.jsx(qi,{}),p.jsx("h4",{className:"font-semibold text-sm",children:"Outros Proventos"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Xe,{children:"Comisses"}),p.jsx(pt,{type:"number",step:"0.01",value:re,onChange:Ne=>ae(Number(Ne.target.value))})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Bnus"}),p.jsx(pt,{type:"number",step:"0.01",value:R,onChange:Ne=>j(Number(Ne.target.value))})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Insalubridade"}),p.jsx(pt,{type:"number",step:"0.01",value:ne,onChange:Ne=>J(Number(Ne.target.value))})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Periculosidade"}),p.jsx(pt,{type:"number",step:"0.01",value:me,onChange:Ne=>ce(Number(Ne.target.value))})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Outros Proventos"}),p.jsx(pt,{type:"number",step:"0.01",value:he,onChange:Ne=>_e(Number(Ne.target.value))})]})]}),p.jsx(qi,{}),p.jsx("h4",{className:"font-semibold text-sm",children:"Descontos e Dependentes"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Xe,{children:"Nmero de Dependentes (IRRF)"}),p.jsx(pt,{type:"number",value:C,onChange:Ne=>N(Number(Ne.target.value)),placeholder:"0"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"R$ 189,59 por dependente"})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Dias de Faltas"}),p.jsx(pt,{type:"number",step:"0.5",value:F,onChange:Ne=>A(Number(Ne.target.value)),placeholder:"0"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Desconto proporcional"})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Vale Refeio"}),p.jsx(pt,{type:"number",step:"0.01",value:ee,onChange:Ne=>je(Number(Ne.target.value))})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Plano de Sade"}),p.jsx(pt,{type:"number",step:"0.01",value:Ue,onChange:Ne=>pe(Number(Ne.target.value))})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Custo Vale Transporte"}),p.jsx(pt,{type:"number",step:"0.01",value:be,onChange:Ne=>Pe(Number(Ne.target.value)),placeholder:"Ex: 250.00"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Desconto automtico 6%"})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Outros Descontos"}),p.jsx(pt,{type:"number",step:"0.01",value:Me,onChange:Ne=>Ye(Number(Ne.target.value))})]})]}),p.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[p.jsx(mt,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),p.jsx(mt,{onClick:Dt,disabled:u,children:u?"Processando...":"Processar Folha"})]})]})]})]})]})]})]}),p.jsx(oo,{open:De,onOpenChange:Je,children:p.jsxs($a,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[p.jsx(Va,{children:p.jsx(Ua,{children:"Editar Folha de Pagamento"})}),p.jsx("div",{className:"space-y-4 mt-4",children:it&&g&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx(Xe,{children:"Funcionrio"}),p.jsx(pt,{value:((jr=t.find(Ne=>Ne.id===g))==null?void 0:jr.nome)||"",disabled:!0})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Salrio Base (do Cadastro)"}),p.jsx(pt,{value:`R$ ${v.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,disabled:!0})]}),p.jsx(qi,{}),p.jsx("h4",{className:"font-semibold text-sm",children:"Proventos Adicionais"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Xe,{children:"Horas Extras"}),p.jsx(pt,{type:"number",step:"0.01",value:G,onChange:Ne=>B(Number(Ne.target.value))})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Comisses"}),p.jsx(pt,{type:"number",step:"0.01",value:re,onChange:Ne=>ae(Number(Ne.target.value))})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Bnus"}),p.jsx(pt,{type:"number",step:"0.01",value:R,onChange:Ne=>j(Number(Ne.target.value))})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Adicional Noturno"}),p.jsx(pt,{type:"number",step:"0.01",value:V,onChange:Ne=>K(Number(Ne.target.value))})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Insalubridade"}),p.jsx(pt,{type:"number",step:"0.01",value:ne,onChange:Ne=>J(Number(Ne.target.value))})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Periculosidade"}),p.jsx(pt,{type:"number",step:"0.01",value:me,onChange:Ne=>ce(Number(Ne.target.value))})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Outros Proventos"}),p.jsx(pt,{type:"number",step:"0.01",value:he,onChange:Ne=>_e(Number(Ne.target.value))})]})]}),p.jsx(qi,{}),p.jsx("h4",{className:"font-semibold text-sm",children:"Descontos Adicionais"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Xe,{children:"Vale Refeio"}),p.jsx(pt,{type:"number",step:"0.01",value:ee,onChange:Ne=>je(Number(Ne.target.value))})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Plano de Sade"}),p.jsx(pt,{type:"number",step:"0.01",value:Ue,onChange:Ne=>pe(Number(Ne.target.value))})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Custo Vale Transporte"}),p.jsx(pt,{type:"number",step:"0.01",value:be,onChange:Ne=>Pe(Number(Ne.target.value))})]}),p.jsxs("div",{children:[p.jsx(Xe,{children:"Outros Descontos"}),p.jsx(pt,{type:"number",step:"0.01",value:Me,onChange:Ne=>Ye(Number(Ne.target.value))})]})]}),p.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[p.jsx(mt,{variant:"outline",onClick:()=>{Je(!1),rt(null),kt()},children:"Cancelar"}),p.jsx(mt,{onClick:At,disabled:u,children:u?"Salvando...":"Salvar Alteraes"})]})]})})]})}),a?p.jsxs("div",{className:"space-y-4",children:[p.jsx(mc,{className:"h-12 w-full"}),p.jsx(mc,{className:"h-12 w-full"}),p.jsx(mc,{className:"h-12 w-full"})]}):r.length===0?p.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Nenhuma folha processada para este ms"}):p.jsxs(Ff,{children:[p.jsx(jf,{children:p.jsxs(di,{children:[p.jsx(Xt,{children:"Funcionrio"}),p.jsx(Xt,{children:"Cargo"}),p.jsx(Xt,{children:"Salrio Bruto"}),p.jsx(Xt,{children:"Descontos"}),p.jsx(Xt,{children:"Salrio Lquido"}),p.jsx(Xt,{children:"Status"}),p.jsx(Xt,{children:"Aes"})]})}),p.jsx(Lf,{children:r.map(Ne=>{const Gt=t.find(Ve=>Ve.id===Ne.funcionarioId);return p.jsxs(di,{children:[p.jsx(Vt,{className:"font-medium",children:Gt==null?void 0:Gt.nome}),p.jsx(Vt,{children:Gt==null?void 0:Gt.cargo}),p.jsxs(Vt,{children:["R$ ",Ne.salarioBruto.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsxs(Vt,{children:["R$ ",Ne.descontos.total.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsxs(Vt,{className:"font-semibold",children:["R$ ",Ne.salarioLiquido.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsx(Vt,{children:p.jsx(Ns,{variant:Ne.status==="paga"?"default":Ne.status==="processada"?"secondary":"outline",children:Ne.status==="paga"?"Paga":Ne.status==="processada"?"Processada":"Rascunho"})}),p.jsx(Vt,{children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx(mt,{size:"sm",variant:"outline",onClick:()=>sr(Ne),title:"Baixar Holerite",children:p.jsx(d_,{className:"h-4 w-4"})}),p.jsx(mt,{size:"sm",variant:"outline",onClick:()=>Nt(Ne),title:"Editar Lanamento",children:p.jsx(zDe,{className:"h-4 w-4"})}),p.jsx(mt,{size:"sm",variant:"outline",onClick:()=>Tt(Ne.id),title:"Excluir Lanamento",children:p.jsx(eY,{className:"h-4 w-4 text-red-500"})}),Ne.status==="processada"&&p.jsx(mt,{size:"sm",onClick:()=>Ur(Ne.id),children:"Marcar como Paga"})]})})]},Ne.id)})})]})]})]})}const Rzt=["Aluguel","gua","Energia","Telefone","Internet","Salrios","Impostos","Material de Escritrio","Marketing","Manuteno","Combustvel","Alimentao","Transporte","Seguros","Consultoria","Software/Licenas","Limpeza","Segurana","Outros"],Dzt=["Pago","Pendente","Atrasado"];function Mzt(){const{hasPermission:t}=Dm(),[e,r]=O.useState([]),[n,i]=O.useState([]),[s,a]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(null),[d,h]=O.useState(null),[f,g]=O.useState({descricao:"",categoria:"",valor:"",dataVencimento:new Date,dataPagamento:void 0,status:"Pendente",observacoes:""});O.useEffect(()=>{m()},[]);const m=async()=>{try{a(!0);const[A,I]=await Promise.all([Gbe(),fx()]);r(A);const Y=(await fo(pi(_r,"folhaPagamento"))).docs.map(X=>{var W,G,B;return{id:X.id,...X.data(),criadoEm:(W=X.data().criadoEm)==null?void 0:W.toDate(),atualizadoEm:(G=X.data().atualizadoEm)==null?void 0:G.toDate(),dataPagamento:(B=X.data().dataPagamento)==null?void 0:B.toDate()}}).map(X=>{const W=I.find(G=>G.id===X.funcionarioId);return{...X,funcionarioNome:(W==null?void 0:W.nome)||"Funcionrio no encontrado"}});i(Y)}catch(A){console.error("Erro ao carregar despesas:",A),Be.error("Erro ao carregar despesas")}finally{a(!1)}},v=()=>{g({descricao:"",categoria:"",valor:"",dataVencimento:new Date,dataPagamento:void 0,status:"Pendente",observacoes:""}),u(null)},x=A=>{A?(u(A),g({descricao:A.descricao,categoria:A.categoria,valor:A.valor.toString(),dataVencimento:new Date(A.dataVencimento),dataPagamento:A.dataPagamento?new Date(A.dataPagamento):void 0,status:A.status,observacoes:A.observacoes||""})):v(),l(!0)},w=()=>{l(!1),v()},b=async A=>{var I;if(A.preventDefault(),!f.descricao||!f.categoria||!f.valor){Be.error("Preencha todos os campos obrigatrios");return}try{const M={descricao:f.descricao,categoria:f.categoria,valor:parseFloat(f.valor),dataVencimento:f.dataVencimento.toISOString(),dataPagamento:(I=f.dataPagamento)==null?void 0:I.toISOString(),status:f.status,observacoes:f.observacoes};c?(await dGe(c.id,M),Be.success("Despesa atualizada com sucesso!")):(await uGe(M),Be.success("Despesa cadastrada com sucesso!")),w(),await m()}catch(M){console.error("Erro ao salvar despesa:",M),Be.error("Erro ao salvar despesa")}},_=async A=>{try{await hGe(A),Be.success("Despesa excluda com sucesso!"),h(null),await m()}catch(I){console.error("Erro ao excluir despesa:",I),Be.error("Erro ao excluir despesa")}},S=e.reduce((A,I)=>A+I.valor,0),T=e.filter(A=>A.status==="Pago").reduce((A,I)=>A+I.valor,0),E=e.filter(A=>A.status==="Pendente").reduce((A,I)=>A+I.valor,0),C=e.filter(A=>A.status==="Atrasado").reduce((A,I)=>A+I.valor,0),N=n.reduce((A,I)=>A+I.salarioLiquido,0),F=A=>{const I={Pago:"default",Pendente:"secondary",Atrasado:"destructive"};return p.jsx(Ns,{variant:I[A],children:A})};return t(["admin","gerente"])?p.jsxs("div",{className:"space-y-6",children:[p.jsx(uu,{title:"Gesto de Despesas",description:"Controle e organize todas as despesas da empresa"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total de Despesas"}),p.jsxs("h3",{className:"text-2xl font-bold mt-2",children:["R$ ",S.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),p.jsx(tM,{className:"w-8 h-8 text-red-600"})]})}),p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Folhas de Pagamento"}),p.jsxs("h3",{className:"text-2xl font-bold mt-2 text-blue-600",children:["R$ ",N.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),p.jsx(IO,{className:"w-8 h-8 text-blue-600"})]})}),p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pagas"}),p.jsxs("h3",{className:"text-2xl font-bold mt-2 text-green-600",children:["R$ ",T.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),p.jsx(n8,{className:"w-8 h-8 text-green-600"})]})}),p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pendentes"}),p.jsxs("h3",{className:"text-2xl font-bold mt-2 text-yellow-600",children:["R$ ",E.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),p.jsx(tM,{className:"w-8 h-8 text-yellow-600"})]})}),p.jsx(Tr,{className:"p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Atrasadas"}),p.jsxs("h3",{className:"text-2xl font-bold mt-2 text-red-600",children:["R$ ",C.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),p.jsx(tM,{className:"w-8 h-8 text-red-600"})]})})]}),p.jsxs(Tr,{children:[p.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Despesas Cadastradas"}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.length," ",e.length===1?"despesa":"despesas"," cadastradas"]})]}),p.jsxs(oo,{open:o,onOpenChange:l,children:[p.jsx(qB,{asChild:!0,children:p.jsxs(mt,{onClick:()=>x(),className:"gap-2",children:[p.jsx(oC,{className:"w-4 h-4"}),"Nova Despesa"]})}),p.jsxs($a,{className:"max-w-2xl",children:[p.jsxs(Va,{children:[p.jsx(Ua,{children:c?"Editar Despesa":"Nova Despesa"}),p.jsx(Pm,{children:c?"Atualize os dados da despesa":"Preencha os dados da nova despesa"})]}),p.jsxs("form",{onSubmit:b,children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[p.jsxs("div",{className:"col-span-2 space-y-2",children:[p.jsx(Xe,{htmlFor:"descricao",children:"Descrio *"}),p.jsx(pt,{id:"descricao",value:f.descricao,onChange:A=>g({...f,descricao:A.target.value}),placeholder:"Ex: Aluguel do escritrio",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"categoria",children:"Categoria *"}),p.jsxs(yn,{value:f.categoria,onValueChange:A=>g({...f,categoria:A}),required:!0,children:[p.jsx(pn,{children:p.jsx(xn,{placeholder:"Selecione..."})}),p.jsx(mn,{children:Rzt.map(A=>p.jsx($t,{value:A,children:A},A))})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"valor",children:"Valor *"}),p.jsx(pt,{id:"valor",type:"number",step:"0.01",min:"0",value:f.valor,onChange:A=>g({...f,valor:A.target.value}),placeholder:"0.00",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{children:"Data de Vencimento *"}),p.jsxs(Hg,{children:[p.jsx(Wg,{asChild:!0,children:p.jsxs(mt,{variant:"outline",className:Pt("w-full justify-start text-left font-normal",!f.dataVencimento&&"text-muted-foreground"),children:[p.jsx(My,{className:"mr-2 h-4 w-4"}),f.dataVencimento?Pr(f.dataVencimento,"dd/MM/yyyy",{locale:Zr}):p.jsx("span",{children:"Selecione..."})]})}),p.jsx(Nm,{className:"w-auto p-0",align:"start",children:p.jsx(qg,{mode:"single",selected:f.dataVencimento,onSelect:A=>A&&g({...f,dataVencimento:A}),locale:Zr})})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{children:"Data de Pagamento"}),p.jsxs(Hg,{children:[p.jsx(Wg,{asChild:!0,children:p.jsxs(mt,{variant:"outline",className:Pt("w-full justify-start text-left font-normal",!f.dataPagamento&&"text-muted-foreground"),children:[p.jsx(My,{className:"mr-2 h-4 w-4"}),f.dataPagamento?Pr(f.dataPagamento,"dd/MM/yyyy",{locale:Zr}):p.jsx("span",{children:"Selecione..."})]})}),p.jsx(Nm,{className:"w-auto p-0",align:"start",children:p.jsx(qg,{mode:"single",selected:f.dataPagamento,onSelect:A=>g({...f,dataPagamento:A}),locale:Zr})})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Xe,{htmlFor:"status",children:"Status *"}),p.jsxs(yn,{value:f.status,onValueChange:A=>g({...f,status:A}),required:!0,children:[p.jsx(pn,{children:p.jsx(xn,{})}),p.jsx(mn,{children:Dzt.map(A=>p.jsx($t,{value:A,children:A},A))})]})]}),p.jsxs("div",{className:"col-span-2 space-y-2",children:[p.jsx(Xe,{htmlFor:"observacoes",children:"Observaes"}),p.jsx(pt,{id:"observacoes",value:f.observacoes,onChange:A=>g({...f,observacoes:A.target.value}),placeholder:"Informaes adicionais..."})]})]}),p.jsxs(Zw,{children:[p.jsx(mt,{type:"button",variant:"outline",onClick:w,children:"Cancelar"}),p.jsx(mt,{type:"submit",children:c?"Atualizar":"Cadastrar"})]})]})]})]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs(Ff,{children:[p.jsx(jf,{children:p.jsxs(di,{children:[p.jsx(Xt,{children:"Descrio"}),p.jsx(Xt,{children:"Categoria"}),p.jsx(Xt,{children:"Valor"}),p.jsx(Xt,{children:"Vencimento"}),p.jsx(Xt,{children:"Pagamento"}),p.jsx(Xt,{children:"Status"}),p.jsx(Xt,{className:"text-right",children:"Aes"})]})}),p.jsx(Lf,{children:s?p.jsx(di,{children:p.jsx(Vt,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"Carregando despesas..."})}):e.length===0?p.jsx(di,{children:p.jsx(Vt,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"Nenhuma despesa cadastrada"})}):e.map(A=>p.jsxs(di,{children:[p.jsx(Vt,{className:"font-medium",children:A.descricao}),p.jsx(Vt,{children:A.categoria}),p.jsxs(Vt,{children:["R$ ",A.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsx(Vt,{children:Pr(new Date(A.dataVencimento),"dd/MM/yyyy",{locale:Zr})}),p.jsx(Vt,{children:A.dataPagamento?Pr(new Date(A.dataPagamento),"dd/MM/yyyy",{locale:Zr}):"-"}),p.jsx(Vt,{children:F(A.status)}),p.jsx(Vt,{className:"text-right",children:p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(mt,{variant:"ghost",size:"icon",onClick:()=>x(A),children:p.jsx(FF,{className:"w-4 h-4"})}),p.jsx(mt,{variant:"ghost",size:"icon",onClick:()=>h(A.id),children:p.jsx(eY,{className:"w-4 h-4 text-destructive"})})]})})]},A.id))})]})})]}),p.jsxs(Tr,{children:[p.jsx("div",{className:"p-6 border-b",children:p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Folhas de Pagamento"}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.length," ",n.length===1?"folha":"folhas"," geradas"]})]})}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs(Ff,{children:[p.jsx(jf,{children:p.jsxs(di,{children:[p.jsx(Xt,{children:"Funcionrio"}),p.jsx(Xt,{children:"Ms Referncia"}),p.jsx(Xt,{children:"Salrio Bruto"}),p.jsx(Xt,{children:"Descontos"}),p.jsx(Xt,{children:"Salrio Lquido"}),p.jsx(Xt,{children:"Status"}),p.jsx(Xt,{children:"Data Criao"})]})}),p.jsx(Lf,{children:s?p.jsx(di,{children:p.jsx(Vt,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"Carregando folhas de pagamento..."})}):n.length===0?p.jsx(di,{children:p.jsx(Vt,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"Nenhuma folha de pagamento gerada"})}):n.map(A=>p.jsxs(di,{children:[p.jsx(Vt,{className:"font-medium",children:A.funcionarioNome}),p.jsx(Vt,{children:Pr(_Ke(A.mesReferencia+"-01"),"MM/yyyy",{locale:Zr})}),p.jsxs(Vt,{children:["R$ ",A.salarioBruto.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsxs(Vt,{children:["R$ ",A.descontos.total.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsxs(Vt,{className:"font-semibold text-green-600",children:["R$ ",A.salarioLiquido.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),p.jsx(Vt,{children:p.jsx(Ns,{variant:A.status==="processada"?"default":"secondary",children:A.status})}),p.jsx(Vt,{children:A.criadoEm?Pr(A.criadoEm,"dd/MM/yyyy",{locale:Zr}):"-"})]},A.id))})]})})]}),p.jsx(dQ,{open:!!d,onOpenChange:()=>h(null),children:p.jsxs(ZB,{children:[p.jsxs(QB,{children:[p.jsx(e7,{children:"Confirmar Excluso"}),p.jsx(t7,{children:"Tem certeza que deseja excluir esta despesa? Esta ao no pode ser desfeita."})]}),p.jsxs(JB,{children:[p.jsx(n7,{children:"Cancelar"}),p.jsx(r7,{onClick:()=>d&&_(d),children:"Excluir"})]})]})})]}):p.jsxs("div",{className:"space-y-6",children:[p.jsx(uu,{title:"Despesas",description:"Acesso restrito"}),p.jsx(Tr,{className:"p-6",children:p.jsx("p",{className:"text-muted-foreground",children:"Voc no tem permisso para acessar esta pgina."})})]})}function Fzt(){const{signOut:t,user:e}=Dm();return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-primary/10 p-4",children:p.jsxs(Tr,{className:"max-w-md w-full p-8 text-center space-y-6",children:[p.jsx("div",{className:"flex justify-center",children:p.jsx("div",{className:"w-20 h-20 rounded-full bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center",children:p.jsx(DDe,{className:"w-10 h-10 text-orange-600 dark:text-orange-400"})})}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Cadastro Pendente"}),p.jsxs("p",{className:"text-muted-foreground",children:["Ol, ",p.jsx("span",{className:"font-semibold",children:e==null?void 0:e.displayName}),"!"]})]}),p.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2",children:[p.jsx("p",{className:"text-sm",children:"Seu cadastro est aguardando aprovao de um administrador ou diretor."}),p.jsx("p",{className:"text-sm font-medium",children:"Voc receber acesso ao sistema assim que seu cadastro for aprovado."})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"text-xs text-muted-foreground",children:[p.jsxs("p",{children:["Email cadastrado: ",p.jsx("span",{className:"font-medium",children:e==null?void 0:e.email})]}),p.jsxs("p",{children:["Funo atribuda: ",p.jsx("span",{className:"font-medium capitalize",children:e==null?void 0:e.role})]})]}),p.jsxs(mt,{variant:"outline",className:"w-full",onClick:t,children:[p.jsx(lge,{className:"mr-2 h-4 w-4"}),"Sair"]})]}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Se voc acredita que isso seja um erro, entre em contato com o administrador do sistema."})]})})}const jzt=()=>{const t=hC();return O.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),p.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Lzt=new mLe;function Bzt(){const{user:t,loading:e}=Dm();return e?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?t.aprovado?p.jsxs(o6e,{children:[p.jsx(Bc,{path:"/",element:p.jsx(Od,{children:p.jsx(Mx,{allowedRoles:["admin","gerente"],children:p.jsx(hwt,{})})})}),p.jsx(Bc,{path:"/clientes",element:p.jsx(Od,{children:p.jsx(c2t,{})})}),p.jsx(Bc,{path:"/fornecedores",element:p.jsx(Od,{children:p.jsx(p2t,{})})}),p.jsx(Bc,{path:"/produtos",element:p.jsx(Od,{children:p.jsx(Mx,{allowedRoles:["admin","gerente"],children:p.jsx(R2t,{})})})}),p.jsx(Bc,{path:"/funcionarios",element:p.jsx(Od,{children:p.jsx(B2t,{})})}),p.jsx(Bc,{path:"/folha-pagamento",element:p.jsx(Od,{children:p.jsx(Mx,{allowedRoles:["admin","gerente"],children:p.jsx(Ozt,{})})})}),p.jsx(Bc,{path:"/despesas",element:p.jsx(Od,{children:p.jsx(Mx,{allowedRoles:["admin","gerente"],children:p.jsx(Mzt,{})})})}),p.jsx(Bc,{path:"/pdv",element:p.jsx(Od,{children:p.jsx(CCt,{})})}),p.jsx(Bc,{path:"/relatorios",element:p.jsx(Od,{children:p.jsx(Mx,{allowedRoles:["admin","gerente"],children:p.jsx(Wqe,{children:p.jsx(I$t,{})})})})}),p.jsx(Bc,{path:"/conciliacao",element:p.jsx(Od,{children:p.jsx(Mx,{allowedRoles:["admin","gerente"],children:p.jsx(XUt,{})})})}),p.jsx(Bc,{path:"/usuarios",element:p.jsx(Od,{children:p.jsx(Mx,{allowedRoles:["admin"],children:p.jsx(pzt,{})})})}),p.jsx(Bc,{path:"/configuracoes",element:p.jsx(Od,{children:p.jsx(dzt,{})})}),p.jsx(Bc,{path:"*",element:p.jsx(jzt,{})})]}):p.jsx(Fzt,{}):p.jsx(zqe,{})}const $zt=()=>p.jsx(vLe,{client:Lzt,children:p.jsx(nHe,{children:p.jsxs(Wje,{children:[p.jsx(PMe,{}),p.jsx(oFe,{}),p.jsx(p6e,{basename:"/creditflow-manager",children:p.jsx(Bzt,{})})]})})});k0e(document.getElementById("root")).render(p.jsx($zt,{}));export{Ai as _,t3 as c,ki as g};
